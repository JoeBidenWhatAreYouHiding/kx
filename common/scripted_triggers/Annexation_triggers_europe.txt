
#Albania - annexation_ALB_CONQ
can_release_albania = {
	state = 44 #Scutari
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			has_country_flag = ALB_CONQ
			country_exists = ALB
		}
	}
}

#Alsace Lorraine - annexation_ALSACE_CONQ
can_release_alsace_lorraine = {
	OR = {
		state = 28 #Alsace-Lorraine
		state = 779 #Nancy
	}
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_france_first = yes
		should_release_germany_first = yes
		# Do Rhenish release first
		OR = {
			NOT = { owns_state = 51 } #Eastern Rhineland
			has_country_flag = WGR_CONQ
		}
		# Do Bavarian release first
		OR = {
			NOT = { owns_state = 52 } #Upper Bavaria
			has_country_flag = BAY_CONQ
		}
		OR = {
			is_french_tag = yes
			is_germany_or_splinter_tag = yes
			FRA = {
				OR = {
					owns_state = 779 #Nancy
					owns_state = 785 #Plateau Lorrain
				}
				ROOT_can_grant_land = yes
			}
			NFA = {
				OR = {
					owns_state = 779 #Nancy
					owns_state = 785 #Plateau Lorrain
				}
				ROOT_can_grant_land = yes
			}
			FRP = {
				OR = {
					owns_state = 779 #Nancy
					owns_state = 785 #Plateau Lorrain
				}
				ROOT_can_grant_land = yes
			}
			var:42.owner = { #Palatinate
				is_germany_or_splinter_tag = yes
				is_ally_with = ROOT
			}
			var:780.owner = { #Baden
				is_germany_or_splinter_tag = yes
				is_ally_with = ROOT
			}
		}
		NOT = { has_country_flag = ALSACE_CONQ }
	}
}


#Austria - annexation_AUS_CONQ
can_release_austria = {
	state = 4 #Vienna
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			has_country_flag = AUS_CONQ
			country_exists = AUS
		}
	}
}

#Austrian Littoral - annexation_AUS_LIT_CONQ
can_release_austrian_littoral = {
	state = 736 #Istria
	NOT = { is_claimed_by = ROOT }
	OR = {
		ITA = { is_ally_of_ROOT = yes }
		SIC = { is_ally_of_ROOT = yes }
		SRI = { is_ally_of_ROOT = yes }
		SRD = { is_ally_of_ROOT = yes }
		VNC = { is_ally_of_ROOT = yes }
		AUS = { is_ally_of_ROOT = yes }
		SLO = { is_ally_of_ROOT = yes }
		SER = {
			is_ally_of_ROOT = yes
			OR = {
				owns_state = 102 #Carniola
				owns_state = 103 #Lika
			}
		}
		CRO = {
			is_ally_of_ROOT = yes
			OR = {
				owns_state = 102 #Carniola
				owns_state = 103 #Lika
			}
		}
		var:759.owner = {
			is_italian_tag = yes
			ROOT_can_grant_land = yes
		}
	}
	ROOT = {
		# Do Austrian release first
		should_release_austria_first = yes
		# Do Slovenian release first
		OR = {
			country_exists = SLV
			has_country_flag = SLV_CONQ
			102 = { is_valid_annexation_state = no }
		}
		# Do Italian release first
		OR = {
			can_form_italy = no
			has_country_flag = ITA_CONQ
		}
		# Do Venice release first
		OR = {
			country_exists = VNC
			has_country_flag = VNC_CONQ
			NOT = {
				has_socialist_government = no
				SRI = { is_ally_of_ROOT = yes }
			}
			160 = { is_valid_annexation_state = no }
			can_form_italy = yes
		}
		NOT = {
			has_country_flag = AUS_LIT_CONQ
		}
	}
}

#Austrian Trentino - annexation_AUS_TRENT_CONQ
can_release_austrian_trentino = {
	OR = {
		state = 39 ##South Tyrol
		state = 783 #Trentino
	}
	NOT = { is_claimed_by = ROOT }
	OR = {
		AUS = { is_ally_of_ROOT = yes }
		var:159.owner = {
			is_italian_tag = yes
			ROOT_can_grant_land = yes
		}
	}
	ROOT = {
		# Do Austrian release first
		should_release_austria_first = yes
		# Do Italian release first
		OR = {
			can_form_italy = no
			has_country_flag = ITA_CONQ
		}
		# Do Venice release first
		OR = {
			country_exists = VNC
			has_country_flag = VNC_CONQ
			NOT = {
				has_socialist_government = no
				SRI = { is_ally_of_ROOT = yes }
			}
			160 = { is_valid_annexation_state = no }
			can_form_italy = yes
		}
		# Do Lombardy release first
		OR = {
			country_exists = LOM
			has_country_flag = LOM_CONQ
			NOT = {
				has_socialist_government = no
				NOT = { country_exists = SRI }
				SRI = { is_ally_of_ROOT = yes }
			}
			159 = { is_valid_annexation_state = no }
			can_form_italy = yes
		}
		NOT = {
			has_country_flag = AUS_TRENT_CONQ
		}
	}
}

#Basque - annexation_BAS_CONQ
can_release_basque_country = {
	state = 172 #Navarra
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_spain_first = yes
		NOT = {
			country_exists = BAS
			has_country_flag = BAS_CONQ
		}
	}
}

#Bavaria - annexation_BAY_CONQ
can_release_bavaria = {
	state = 52 #Lower Bavaria
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_germany_first = yes
		NOT = {
			is_germany_or_splinter_tag = yes
			country_exists = BAY
			has_country_flag = BAY_CONQ
		}
	}
}

#Belarus - annexation_WHR_CONQ
can_release_belarus = {
	state = 206 #Minsk
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_russia_first = yes
		NOT = {
			has_country_flag = WHR_CONQ
			country_exists = WHR
		}
	}
}

#Belgium - annexation_BEL_CONQ
can_release_belgium = {
	state = 6 #Flanders
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			tag = WLL
			has_country_flag = BEL_CONQ
			country_exists = BEL
			country_exists = FLN
		}
	}
}

#Bohemia - annexation_CZE_CONQ
can_release_bohemia = {
	state = 9 #Bohemia
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		# Do Austrian release first
		should_release_austria_first = yes
		NOT = {
			tag = AUS
			has_country_flag = CZE_CONQ
			country_exists = CZE
		}
	}
}

#Bosnia - annexation_BOS_CONQ
can_release_bosnia = {
	state = 104 #Bosnia
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_croatia_first = yes
		should_release_serbia_first = yes
		NOT = {
			tag = AUS
			country_exists = BOS
			has_country_flag = BOS_CONQ
		}
	}
}


#Bucovina - annexation_BUKOVINA_CONQ
can_release_bucovina = {
	OR = {
		state = 80 #Cernauti
		state = 713 #Suceava
	}
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_ukraine_first = yes
		should_release_poland_first = yes
		should_release_romania_first = yes
		# Do Galician releae first
		OR = {
			country_exists = GAL
			has_country_flag = GAL_CONQ
			NOT = {
				91 = { is_valid_annexation_state = yes } #Lemberg
				88 = { is_valid_annexation_state = yes } #Krakow
			}
		}
		OR = {
			tag = UKR
			tag = ROM
			tag = GAL
			tag = POL
			AND = {
				tag = AUS
				AUS_is_unified = yes
			}
			ROM = {
				ROOT_can_grant_land = yes
				owns_state = 79
			}
			POL = {
				ROOT_can_grant_land = yes
				OR = {
					AND = {
						owns_state = 89
						ROOT = { owns_state = 80 }
					}
					AND = {
						owns_state = 80
						ROOT = { owns_state = 713 }
					}
				}
			}
			UKR = {
				ROOT_can_grant_land = yes
				OR = {
					AND = {
						owns_state = 89
						ROOT = { owns_state = 80 }
					}
					AND = {
						owns_state = 80
						ROOT = { owns_state = 713 }
					}
				}
			}
			AUS = {
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
				OR = {
					AND = {
						owns_state = 89
						ROOT = { owns_state = 80 }
					}
					AND = {
						owns_state = 80
						ROOT = { owns_state = 713 }
					}
					AND = {
						owns_state = 713
						ROOT = { owns_state = 80 }
					}
					AND = {
						owns_state = 76
						ROOT = { owns_state = 713 }
					}
				}
			}
			GAL = {
				ROOT_can_grant_land = yes
				OR = {
					AND = {
						owns_state = 89
						ROOT = { owns_state = 80 }
					}
					AND = {
						owns_state = 80
						ROOT = { owns_state = 713 }
					}
				}
			}
		}
		NOT = {
			has_country_flag = BUKOVINA_CONQ
		}
	}
}

#Bulgaria - annexation_BUL_CONQ
can_release_bulgaria = {
	state = 48 #Sofia
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			country_exists = BUL
			has_country_flag = BUL_CONQ
			has_country_flag = SER_accepted_bulgaria_union
			AND = {
				tag = SER
				NOT = { has_country_flag = SER_ended_occupation_of_bulgaria }
			}
		}
	}
}

#Catalonia - annexation_CAT_CONQ
can_release_catalonia = {
	state = 165 #Catalonia
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_spain_first = yes
		NOT = {
			country_exists = CAT
			has_country_flag = CAT_CONQ
		}
	}
}

#Croatia - annexation_CRO_CONQ
can_release_croatia = {
	state = 109 #Posavina
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_austria_first = yes
		should_release_serbia_first = yes
		if = {
			limit = { tag = AUS }
			has_country_flag = CRO_release
			country_exists = HUN
		}
		NOT = {
			country_exists = CRO
			has_country_flag = CRO_CONQ
		}
	}
}

#Croatia - Austria Illyria split - annexation_CRO_AUS_CONQ
can_release_illyria_austria = {
	state = 109 #Posavina
	OR = {
		NOT = { is_claimed_by = ROOT }
		AND = {
			HUN = { is_subject_of = ROOT }
			109 = { is_owned_and_controlled_by = HUN }
		}
	}
	ROOT = {
		tag = AUS
		has_country_flag = CRO_release
		NOT = {
			has_country_flag = CRO_CONQ
			country_exists = CRO
		}
	}
}

#Constantinople - annexation_CONSTANTINOPLE_CONQ
can_release_constantinople = {
	OR = {
		state = 341 #Adrianople
		state = 773 #Constantinople
	}
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_turkey_first = yes
		should_release_greece_first = yes
		should_release_bulgaria_first = yes
		# do Aegean release first
		340 = { is_valid_annexation_state = no } #Bursa
		OR = {
			tag = TUR
			tag = OTT
			tag = BUL
			tag = GRE
			var:340.owner = { #Bursa
				OR = {
					tag = OTT
					tag = TUR
				}
				ROOT_can_grant_land = yes
			}
			GRE = { ROOT_can_grant_land = yes }
			BUL = { is_ally_of_ROOT = yes }
		}
		NOT = { has_country_flag = CONSTANTINOPLE_CONQ }
	}
}

#Corsica - annexation_CORSICA_CONQ
can_release_corsica = {
	state = 1 #Corsica
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		is_french_tag = yes
		NOT = {
			tag = SRD
			tag = SRI
			tag = ITA
			tag = TUS
			has_country_flag = CORSICA_CONQ
		}
	}
}

#Cyprus - annexation_CYP_CONQ
can_release_cyprus = {
	state = 183 #Cyprus
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_greece_first = yes
		should_release_turkey_first = yes
		NOT = {
			has_country_flag = CYP_CONQ
			country_exists = CYP
		}
	}
}

#Dalmatia - annexation_CRO_DALMATIA_CONQ
can_release_dalmatia = {
	state = 163 #Dalmatia
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_croatia_first = yes
		should_release_serbia_first = yes
		NOT = {
			has_country_flag = CRO_DALMATIA_CONQ
			AND = {
				tag = AUS
				has_country_flag = CRO_release
			}
		}
	}
}

#Dobrogea - annexation_DOBROGEA_CONQ
can_release_dobrogea = {
	OR = {
		state = 772 #Constanta
		state = 77 #Silistra
	}
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_bulgaria_first = yes
		should_release_romania_first = yes
		OR = {
			tag = ROM
			tag = BUL
			ROM = { is_ally_of_ROOT = yes }
			BUL = { is_ally_of_ROOT = yes }
		}
		NOT = {
			has_country_flag = DOBROGEA_CONQ
		}
	}
}

#Danish North Atlantic - annexation_ICE_CONQ
can_release_danish_north_atlantic = {
	state = 100 #Iceland
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		# Do Danish release first
		OR = {
			country_exists = DEN
			has_country_flag = DEN_CONQ
			37 = { is_valid_annexation_state = no } #Zealand
		}
		# Do Norwegian release first
		OR = {
			country_exists = NOR
			has_country_flag = NOR_CONQ
			110 = { is_valid_annexation_state = no } #Ostlandet
		}
		NOT = {
			tag = SCA
			has_country_flag = ICE_CONQ
			country_exists = ICE
		}
	}
}

#Denmark - annexation_DEN_CONQ
can_release_denmark = {
	state = 37 #Zealand
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			tag = SCA
			has_country_flag = DEN_CONQ
			country_exists = DEN
		}
	}
}

#Don Kuban - annexation_DKB_CONQ
can_release_don_kuban = {
	state = 218 #Yekaterinodar
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_russia_first = yes
		NOT = {
			has_country_flag = DKB_CONQ
			country_exists = DKB
		}
	}
}
#Don Kuban - annexation_KUB_CONQ
can_release_kuban = {
	state = 234 #Yekaterinodar
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_russia_first = yes
		NOT = {
			has_country_flag = KUB_CONQ
			country_exists = KUB
		}
	}
}
#Don Kuban - annexation_KLY_CONQ
can_release_kalmykia = {
	state = 237 #Yekaterinodar
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_russia_first = yes
		NOT = {
			has_country_flag = KLY_CONQ
			country_exists = KLY
		}
	}
}
#Don Kuban - annexation_MTR_CONQ
can_release_mountain = {
	state = 787 #Yekaterinodar
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_russia_first = yes
		NOT = {
			has_country_flag = MTR_CONQ
			country_exists = MTR
		}
	}
}

#Emilia - annexation_EMI_CONQ
can_release_emilia = {
	state = 1004 #Emilia
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		can_form_italy = no
		OR = {
			has_socialist_government = no
			SRI = { is_ally_of_ROOT = yes }
		}
		NOT = {
			country_exists = EMI
			has_country_flag = EMI_CONQ
			has_country_flag = SIC_empire
			# should do Fate of Piedmont instead
			AND = {
				158 = { is_valid_annexation_state = yes }
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
					SIC = { is_ally_of_ROOT = yes }
					SRD = { is_ally_of_ROOT = yes }
					AND = {
						has_socialist_government = yes
						NOT = { country_exists = SRI }
					}
					AND = {
						has_socialist_government = no
						NOT = { country_exists = SRD }
					}
					AND = {
						tag = SIC
						owns_state = 838
						NOT = { has_country_flag = SIC_empire }
						controls_all_owned_states = yes
						SRD = {
							exists = yes
							is_subject = no
							NOT = { has_war_with = ROOT }
							controls_all_owned_states = yes
						}
					}
					AND = {
						is_faction_leader = yes
						has_socialist_government = no
						838 = { is_valid_annexation_state = yes }
						SRD = {
							exists = yes
							is_subject = no
							NOT = { is_faction_leader = yes }
							controls_all_owned_states = yes
							has_socialist_government = no
							NOT = { has_war_with = ROOT }
							NOT = { has_country_flag = offered_piedmont_@ROOT }
						}
					}
				}
			}
			AND = {
				tag = SRD
				NOT = {
					has_completed_focus = SRD_kingdom_of_italy
					has_completed_focus = SRD_sardinia_piedmont
				}
			}
		}
	}
}

#England - annexation_ENG_CONQ
can_release_england = {
	state = 126 #London
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			has_country_flag = ENG_CONQ
			country_exists = ENG
			country_exists = GBR
			country_exists = GBP
		}
		if = {
			limit = { tag = GER }
			OR = {
				NOT = { has_global_flag = GER_stay_out_france_uk }
				NOT = { country_exists = ENT }
				has_war_with = ENT
			}
		}
	}
}

#Estonia - annexation_EST_CONQ
can_release_estonia = {
	state = 13 #Estonia
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_russia_first = yes
		should_release_latvia_first = yes
		NOT = {
			has_country_flag = EST_CONQ
			country_exists = EST
		}
	}
}

#Finland - annexation_FIN_CONQ
can_release_finland = {
	state = 840 #Nyland
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			tag = SCA
			has_country_flag = FIN_CONQ
			country_exists = FIN
		}
	}
}

#France - annexation_FRA_CONQ
can_release_france = {
	state = 16 #Paris
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			tag = NFA
			tag = OCC
			tag = BRI
			tag = GER
			country_exists = FRA
			country_exists = FRP
			has_country_flag = FRA_CONQ
			AND = {
				tag = SPR
				has_completed_focus = SPR_bourbon_throne
			}
		}
	}
}

#Galicia - annexation_GLC_CONQ
can_release_galicia = {
	state = 171 #Galicia
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_spain_first = yes
		NOT = {
			country_exists = GLC
			has_country_flag = GLC_CONQ
		}
	}
}

#Galicia and Lodomeria - annexation_GAL_CONQ
can_release_galicia_lodomeria = {
	OR = {
		state = 91 #Lwow
		state = 88 #Krakow
	}
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_austria_first = yes
		should_release_hungary_first = yes
		should_release_poland_first = yes
		should_release_ukraine_first = yes
		NOT = {
			has_country_flag = GAL_CONQ
			country_exists = GAL
		}
	}
}

#Germany - annexation_GER_CONQ
can_release_germany = {
	state = 64 #Berlin
	NOT = { is_claimed_by = ROOT }
	51 = { is_valid_annexation_state = yes } #Eastern Rheinland
	52 = { is_valid_annexation_state = yes } #Upper Bavaria
	59 = { is_valid_annexation_state = yes } #Hanover
	ROOT = {
		is_germany_or_splinter_tag = no
		NOT = {
			AND = {
				tag = BAT
				has_government = national_populist
			}
			country_exists = GER
			country_exists = GRU
			has_country_flag = GER_CONQ
		}
	}
}

#Greece - annexation_GRE_CONQ
can_release_greece = {
	state = 47 #Athens
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			has_country_flag = GRE_CONQ
			country_exists = GRE
		}
	}
}

#Hungary - annexation_HUN_CONQ
can_release_hungary = {
	state = 43 #Budapest
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_austria_first = yes
		NOT = {
			tag = AUS
			has_war_with = AUS
			country_exists = HUN
			has_country_flag = HUN_CONQ
		}
	}
}

#Hungary for Austria - annexation_HUN_AUS_CONQ
can_release_hungary_austria = {
	state = 43 #Budapest
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		tag = AUS
		NOT = {
			country_exists = HUN
			has_completed_focus = AUS_status_quo
			has_completed_focus = AUS_embrace_pluralism
			has_completed_focus = AUS_military_occupation
			has_country_flag = AUS_hungary_occupied
		}
		#release Tranylvania first
		OR = {
			country_exists = TRS
			has_country_flag = AUS_transylvania_occupied
			84 = { is_valid_annexation_state = no }
		}
		# release Slovakia first
		OR = {
			country_exists = SVK
			has_country_flag = AUS_slovakia_occupied
			70 = { is_valid_annexation_state = no }
		}
	}
}

#Ireland - annexation_IRE_CONQ
can_release_ireland = {
	state = 113 #Leinster
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		if = {
			limit = { tag = ENT }
			country_exists = GBR
		}
		NOT = {
			country_exists = IRE
			has_country_flag = IRE_CONQ
		}
	}
}

#Italy - annexation_ITA_CONQ
can_release_italy = {
	state = 2 #Rome
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		is_italian_tag = no
		can_form_italy = yes
		NOT = {
			has_country_flag = ITA_CONQ
		}
	}
}

#Keraferia - annexation_KERAF_CONQ
can_release_keraferia = {
	state = 1076 #Keraferia
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_bulgaria_first = yes
		should_release_greece_first = yes
		OR = {
			GRE = {
				OR = {
					owns_state = 768
					is_ally_of_ROOT = yes
				}
				ROOT_can_grant_land = yes
			}
			BUL = {
				owns_state = 731
				ROOT_can_grant_land = yes
			}
		}
		NOT = {
			has_country_flag = KRF_CONQ
		}
	}
}

#Kosovo - annexation_SER_KOSOVO_CONQ
can_release_kosovo = {
	state = 765 #Kosovo
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_serbia_first = yes
		# do Albanian release first
		OR = {
			country_exists = ALB
			has_country_flag = ALB_CONQ
			44 = { is_valid_annexation_state = no }
		}
		OR = {
			tag = SER
			tag = ALB
			SER = { is_ally_of_ROOT = yes }
			ALB = { is_ally_of_ROOT = yes }
			SER = { ROOT_can_grant_land = yes }
			ALB = { ROOT_can_grant_land = yes }
		}
		NOT = {
			has_country_flag = SER_KOSOVO_CONQ
		}
	}
}

#Latvia - annexation_LAT_CONQ
can_release_latvia = {
	OR = {
		state = 190 #Courland
		state = 1091 #Riga
	}
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_russia_first = yes
		NOT = {
			country_exists = LAT
			has_country_flag = LAT_CONQ
		}
	}
}

#Lithuania - annexation_LIT_CONQ
can_release_lithuania = {
	state = 11 #Kaunas
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_russia_first = yes
		should_release_latvia_first = yes
		NOT = {
			tag = BAT
			has_country_flag = LIT_CONQ
			country_exists = LIT
		}
	}
}

#Lombardy - annexation_LOM_CONQ
can_release_lombardy = {
	state = 159 #Lombardy
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		can_form_italy = no
		OR = {
			has_socialist_government = no
			NOT = { country_exists = SRI }
			SRI = { is_ally_of_ROOT = yes }
		}
		NOT = {
			country_exists = LOM
			has_country_flag = LOM_CONQ
			has_country_flag = SIC_empire
			has_country_flag = VNC_republican_revolt
			AND = {
				tag = SRD
				NOT = {
					has_completed_focus = SRD_kingdom_of_italy
					has_completed_focus = SRD_sardinia_piedmont
				}
			}
		}
	}
}

#Luxembourg - annexation_LUX_CONQ
can_release_luxembourg = {
	state = 8 #Luxembourg
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_france_first = yes
		should_release_germany_first = yes
		NOT = {
			country_exists = LUX
			has_country_flag = LUX_CONQ
		}
	}
}

#Macedonia - annexation_SER_MACED_CONQ
can_release_macedonia = {
	state = 106 #Macedonia
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_serbia_first = yes
		should_release_bulgaria_first = yes
		OR = {
			SER = { is_ally_of_ROOT = yes }
			BUL = { is_ally_of_ROOT = yes }
			SER = { ROOT_can_grant_land = yes }
			BUL = { ROOT_can_grant_land = yes }
		}
		NOT = {
			has_country_flag = SER_MACED_CONQ
		}
	}
}

#Malta - annexation_MLT_CONQ
can_release_malta = {
	state = 116 #Malta
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		is_italian_tag = no
		NOT = {
			has_country_flag = MLT_CONQ
			country_exists = MLT
			AND = {
				tag = CAN
				is_faction_leader = yes
				NOT = { country_exists = GBR }
			}
			AND = {
				tag = NFA
				is_in_faction_with = ENT
			}
		}
		if = {
			limit = { tag = GBR }
			has_country_flag = GBR_decolonize
		}
	}
}

#Montenegro - annexation_MNT_CONQ
can_release_montenegro = {
	state = 105 #Montenegro
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_croatia_first = yes
		should_release_serbia_first = yes
		NOT = {
			tag = SER
			has_country_flag = MNT_CONQ
			country_exists = MNT
		}
	}
}

#Netherlands - annexation_HOL_CONQ
can_release_netherlands = {
	state = 7 #Holland
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			country_exists = HOL
			has_country_flag = HOL_CONQ
		}
	}
}

#Nis - annexation_NIIS_CONQ
can_release_nis = {
	state = 767 #Nis
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_serbia_first = yes
		should_release_bulgaria_first = yes
		OR = {
			SER = { ROOT_can_grant_land = yes }
			BUL = {
				owns_state = 841
				ROOT_can_grant_land = yes
			}
		}
		NOT = {
			has_country_flag = NIS_CONQ
		}
	}
}

#Northern Epirus - annexation_GRE_EPIRUS_CONQ
can_release_northern_epirus = {
	state = 766 #Northern Epirus
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_greece_first = yes
		# do Albanian release first
		OR = {
			country_exists = ALB
			has_country_flag = ALB_CONQ
			44 = { is_valid_annexation_state = no }
		}
		OR = {
			tag = GRE
			tag = ALB
			GRE = { is_ally_of_ROOT = yes }
			ALB = { is_ally_of_ROOT = yes }
			GRE = {
				ROOT_can_grant_land = yes
				owns_state = 185 #Epirus
			}
			ALB = { ROOT_can_grant_land = yes }
		}
		NOT = {
			has_country_flag = GRE_EPIRUS_CONQ
		}
	}
}

#North German Federation - annexation_NGF_CONQ
can_release_hanover = {
	state = 59 #Hanover
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_germany_first = yes
		should_release_rhineland_first = yes
		should_release_prussia_first = yes
		NOT = {
			is_germany_or_splinter_tag = yes
			country_exists = NGF
			has_country_flag = NGF_CONQ
		}
	}
}

#Norway - annexation_NOR_CONQ
can_release_norway = {
	state = 110 #Ostlandet
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			tag = SCA
			has_country_flag = NOR_CONQ
			country_exists = NOR
		}
	}
}

#Occitania - annexation_OCC_CONQ
can_release_occitania = {
	state = 21 #Provence
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			is_in_faction_with = NFA
			16 = {
				is_owned_and_controlled_by = ROOT
				NOT = { is_claimed_by = ROOT }
			}
			controls_state = 16
			16 = {
				controller = {
					OR = {
						is_in_faction_with = ROOT
						is_subject_of = ROOT
					}
				}
			}
			tag = GER
			tag = FRA
			tag = RUS
			tag = OCC
			tag = FRP
			tag = BRI
			tag = NFA
			tag = CAR
			has_country_flag = OCC_CONQ
			country_exists = FRA
			country_exists = OCC
		}
	}
}

#Papal States - annexation_PAP_STATES_CONQ
can_release_papal_states = {
	OR = {
		state = 157 #Marche
		state = 161 #Romagna
		state = 764 #Viterbo
		state = 1005 #Umbria
	}
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		can_form_italy = no
		OR = {
			PAP = { is_ally_of_ROOT = yes }
			ITA = { is_ally_of_ROOT = yes }
			SRI = { is_ally_of_ROOT = yes }
			SIC = { is_ally_of_ROOT = yes }
			SRD = { is_ally_of_ROOT = yes }
			AND = {
				is_faction_leader = yes
				has_socialist_government = no
				count_triggers = {
					amount = 3
					764 = { is_valid_annexation_state = yes } #Viterbo
					1005 = { is_valid_annexation_state = yes } #Umbria
					157 = { is_valid_annexation_state = yes } #Marche
					161 = { is_valid_annexation_state = yes } #Romagna
				}
				PAP = {
					exists = yes
					is_subject = no
					NOT = { is_faction_leader = yes }
					controls_all_owned_states = yes
					has_socialist_government = no
					NOT = { has_war_with = ROOT }
					NOT = { has_country_flag = offered_papacy_@ROOT }
				}
			}
			AND = {
				is_faction_leader = yes
				has_socialist_government = no
				count_triggers = {
					amount = 3
					764 = { is_valid_annexation_state = yes } #Viterbo
					1005 = { is_valid_annexation_state = yes } #Umbria
					157 = { is_valid_annexation_state = yes } #Marche
					161 = { is_valid_annexation_state = yes } #Romagna
				}
				SIC = {
					exists = yes
					is_subject = no
					NOT = { is_faction_leader = yes }
					controls_all_owned_states = yes
					has_socialist_government = no
					NOT = { has_war_with = ROOT }
					NOT = { has_country_flag = offered_papacy_@ROOT }
				}
			}
		}
		NOT = {
			has_country_flag = PAP_STATES_CONQ
			has_country_flag = SIC_empire
			# should do Fate of Rome instead
			AND = {
				NOT = { country_exists = PAP }
				OR = {
					has_socialist_government = no
					SRI = { is_ally_of_ROOT = yes }
				}
				2 = { is_valid_annexation_state = yes }
			}
			# should do Fate of Piedmont instead
			AND = {
				158 = {
					is_owned_and_controlled_by = ROOT
					is_not_claim_or_core_of_ROOT = yes
				}
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
					SIC = { is_ally_of_ROOT = yes }
					SRD = { is_ally_of_ROOT = yes }
					AND = {
						has_socialist_government = yes
						NOT = { country_exists = SRI }
					}
					AND = {
						has_socialist_government = no
						NOT = { country_exists = SRD }
					}
					AND = {
						tag = SIC
						owns_state = 838
						NOT = { has_country_flag = SIC_empire }
						controls_all_owned_states = yes
						SRD = {
							exists = yes
							is_subject = no
							NOT = { has_war_with = ROOT }
							controls_all_owned_states = yes
						}
					}
					AND = {
						is_faction_leader = yes
						has_socialist_government = no
						838 = { is_valid_annexation_state = yes }
						SRD = {
							exists = yes
							is_subject = no
							NOT = { is_faction_leader = yes }
							controls_all_owned_states = yes
							has_socialist_government = no
							NOT = { has_war_with = ROOT }
							NOT = { has_country_flag = offered_piedmont_@ROOT }
						}
					}
				}
			}
			AND = {
				tag = SRD
				NOT = {
					has_completed_focus = SRD_kingdom_of_italy
					has_completed_focus = SRD_sardinia_piedmont
				}
			}
		}
	}
}


#Piedmont - annexation_PIEDMONT_CONQ
can_release_piedmont = {
	state = 158 #Turin
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		can_form_italy = no
		OR = {
			ITA = { is_ally_of_ROOT = yes }
			SRI = { is_ally_of_ROOT = yes }
			SIC = { is_ally_of_ROOT = yes }
			SRD = { is_ally_of_ROOT = yes }
			AND = {
				has_socialist_government = yes
				NOT = { country_exists = SRI }
			}
			AND = {
				has_socialist_government = no
				NOT = { country_exists = SRD }
			}
			AND = {
				tag = SIC
				owns_state = 838
				NOT = { has_country_flag = SIC_empire }
				controls_all_owned_states = yes
				SRD = {
					exists = yes
					is_subject = no
					NOT = { has_war_with = ROOT }
					controls_all_owned_states = yes
				}
			}
			AND = {
				is_faction_leader = yes
				has_socialist_government = no
				838 = { is_valid_annexation_state = yes }
				SRD = {
					exists = yes
					is_subject = no
					NOT = { is_faction_leader = yes }
					controls_all_owned_states = yes
					has_socialist_government = no
					NOT = { has_war_with = ROOT }
					NOT = { has_country_flag = offered_piedmont_@ROOT }
				}
			}
		}
		NOT = {
			has_country_flag = PIEDMONT_CONQ
			has_country_flag = SIC_empire
		}
	}
}

#Pirot - annexation_SER_PIROT_CONQ
can_release_pirot = {
	state = 841 #Pirot
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_serbia_first = yes
		should_release_bulgaria_first = yes
		# do Macedonia release first (for AUS)
		if = {
			limit = {
				tag = AUS
				is_faction_leader = yes
				BUL = {
					ROOT_can_grant_land = yes
					is_subject = no
					is_in_faction = no
				}
			}
			106 = { is_valid_annexation_state = no } #Macedonia
		}
		OR = {
			SER = { is_ally_of_ROOT = yes }
			BUL = { is_ally_of_ROOT = yes }
			SER = { ROOT_can_grant_land = yes }
			BUL = { ROOT_can_grant_land = yes }
		}
		NOT = {
			has_country_flag = SER_PIROT_CONQ
		}
	}
}

#Poland - annexation_POL_CONQ
can_release_poland = {
	state = 10 #Warsaw
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			tag = GAL
			has_country_flag = POL_CONQ
			country_exists = POL
		}
	}
}


#Portugal - annexation_POR_CONQ
can_release_portugal = {
	state = 112 #Lisbon
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_spain_first = yes
		NOT = {
			has_country_flag = POR_CONQ
			is_ally_with = POR
			country_exists = POR
		}
	}
}

#Prussia - annexation_DDR_CONQ
can_release_prussia = {
	OR = {
		state = 64 #Berlin
		state = 66 #Lower Silesia
	}
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_germany_first = yes
		should_release_poland_first = yes
		should_release_lithuania_first = yes
		NOT = {
			is_germany_or_splinter_tag = yes
			country_exists = DDR
			has_country_flag = DDR_CONQ
		}
	}
}

#Rhineland - annexation_WGR_CONQ
can_release_rhineland = {
	state = 51 #Eastern Rhineland
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_germany_first = yes
		NOT = {
			is_germany_or_splinter_tag = yes
			country_exists = WGR
			has_country_flag = WGR_CONQ
		}
	}
}

#Romania - annexation_ROM_CONQ
can_release_romania = {
	state = 46 #Muntenia
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			country_exists = ROM
			has_country_flag = ROM_CONQ
		}
	}
}

#Rome - annexation_PAP_CONQ
can_release_rome = {
	state = 2 #Rome
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		can_form_italy = no
		OR = {
			has_socialist_government = no
			SRI = { is_ally_of_ROOT = yes }
		}
		NOT = {
			tag = ITA
			tag = SRI
			tag = SIC
			tag = PAP
			country_exists = PAP
			has_country_flag = PAP_CONQ
			AND = {
				tag = SRD
				NOT = {
					has_completed_focus = SRD_kingdom_of_italy
					has_completed_focus = SRD_sardinia_piedmont
				}
			}
		}
	}
}

#Russia - annexation_RUS_CONQ
can_release_russia = {
	state = 219 #Moscow
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			has_country_flag = RUS_CONQ
			country_exists = RUS
			country_exists = SOV
		}
	}
}

#Salonica - annexation_SALONICA_CONQ
can_release_salonica = {
	OR = {
		state = 769 #Eastern Salonica
		state = 731 #Western Salonica
	}
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_bulgaria_first = yes
		should_release_greece_first = yes
		OR = {
			tag = GRE
			tag = BUL
			GRE = { is_ally_of_ROOT = yes }
			BUL = { is_ally_of_ROOT = yes }
			GRE = {
				owns_state = 1076 #Veria
				ROOT_can_grant_land = yes
			}
		}
		NOT = {
			has_country_flag = SALONICA_CONQ
		}
	}
}

#Sardinia - annexation_SRD_CONQ
can_release_sardinia = {
	state = 114 #Cagliari
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		can_form_italy = no
		OR = {
			has_socialist_government = no
			SRI = { is_ally_of_ROOT = yes }
		}
		NOT = {
			country_exists = SRD
			has_country_flag = SRD_CONQ
			has_country_flag = SIC_empire
			# should do Fate of Piedmont instead
			AND = {
				158 = { is_valid_annexation_state = yes }
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
					SIC = { is_ally_of_ROOT = yes }
					SRD = { is_ally_of_ROOT = yes }
					AND = {
						has_socialist_government = yes
						NOT = { country_exists = SRI }
					}
					AND = {
						has_socialist_government = no
						NOT = { country_exists = SRD }
					}
				}
			}
		}
	}
}


#Scotland - annexation_SCT_CONQ
can_release_scotland = {
	state = 121 #Lothian
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			tag = SCT
			tag = ENG
			tag = GBR
			tag = GBP
			tag = CAN
			has_country_flag = SCT_CONQ
			country_exists = SCT
		}
		# Do English release first
		OR = {
			country_exists = ENG
			country_exists = GBR
			country_exists = GBP
			has_country_flag = ENG_CONQ
			126 = { is_valid_annexation_state = no }
		}
		if = {
			limit = { tag = GER }
			OR = {
				NOT = { has_global_flag = GER_stay_out_france_uk }
				NOT = { country_exists = ENT }
				has_war_with = ENT
			}
		}
	}
}

#Serbia - annexation_SER_CONQ
can_release_serbia = {
	state = 107 #Belgrade
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		if = {
			limit = { tag = AUS }
			should_release_croatia_first = yes
		}
		NOT = {
			has_country_flag = SER_CONQ
			country_exists = SER
		}
	}
}

#Slovakia - annexation_SVK_CONQ
can_release_slovakia = {
	state = 70 #Western Slovakia
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_austria_first = yes
		should_release_hungary_first = yes
		should_release_czechia_first = yes
		NOT = {
			tag = AUS
			country_exists = SVK
			has_country_flag = SVK_CONQ
		}
	}
}

#Slovakia for Austria - annexation_SVK_AUS_CONQ
can_release_slovakia_austria = {
	state = 70 #Western Slovakia
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		tag = AUS
		NOT = {
			country_exists = SVK
			has_completed_focus = AUS_status_quo
			has_completed_focus = AUS_embrace_pluralism
			has_completed_focus = AUS_military_occupation
			has_country_flag = AUS_slovakia_occupied
		}
	}
}

#Slovenia - annexation_SLO_CONQ
can_release_slovenia = {
	state = 102 #Slovenia
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_croatia_first = yes
		should_release_serbia_first = yes
		should_release_austria_first = yes
		NOT = {
			has_cosmetic_tag = ILL
			has_country_flag = SLO_CONQ
			country_exists = SLO
		}
	}
}

#Southern Italy - annexation_SIC_CONQ
can_release_southern_italy = {
	state = 117 #Naples
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		can_form_italy = no
		OR = {
			AND = {
				has_socialist_government = yes
				NOT = { country_exists = SRI }
			}
			AND = {
				has_socialist_government = no
				NOT = { country_exists = SIC }
			}
			ITA = { is_ally_of_ROOT = yes }
			SRI = { is_ally_of_ROOT = yes }
			SIC = { is_ally_of_ROOT = yes }
			SRD = { is_ally_of_ROOT = yes }
		}
		NOT = {
			tag = ITA
			tag = SRI
			tag = SIC
			has_country_flag = SIC_CONQ
			AND = {
				tag = SRD
				NOT = {
					has_completed_focus = SRD_kingdom_of_italy
					has_completed_focus = SRD_sardinia_piedmont
				}
			}
		}
	}
}

#Spain - annexation_SPA_CONQ
can_release_spain = {
	state = 41 #Madrid
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		is_spanish_tag = no
		NOT = {
			tag = GLC
			tag = CAT
			tag = BAS
			has_country_flag = SPA_CONQ
			has_country_flag = SPRPOR_CONQ
			country_exists = SPR
			country_exists = CNT
			country_exists = CAR
		}
	}
}

#Sweden - annexation_SWE_CONQ
can_release_sweden = {
	state = 141 #Svealand
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			tag = SCA
			has_country_flag = SWE_CONQ
			country_exists = SWE
		}
	}
}

#Switzerland - annexation_SWI_CONQ
can_release_switzerland = {
	state = 3 #Swiss Plateau
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			has_country_flag = SWI_CONQ
			country_exists = SWI
		}
	}
}

#Transcarpathia - annexation_SVK_TRCARP_CONQ
can_release_transcarpathia = {
	state = 73 #Transcarpathia
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_hungary_first = yes
		should_release_czechia_first = yes
		# Do Slovakian release first
		OR = {
			country_exists = SVK
			has_country_flag = SVK_CONQ
			70 = { is_valid_annexation_state = no }
		}
		OR = {
			tag = HUN
			tag = CZE
			tag = SVK
			tag = GAL
			AUS = {
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
			}
			HUN = { is_ally_of_ROOT = yes }
			GAL = { is_ally_of_ROOT = yes }
			SVK = { is_ally_of_ROOT = yes }
			CZE = {
				is_ally_of_ROOT = yes
				owns_state = 71
			}
			AUS = {
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
				owns_state = 154
			}
		}
		NOT = {
			has_country_flag = SVK_TRCARP_CONQ
		}
	}
}

#Transylvania - annexation_TRS_CONQ
can_release_transylvania = {
	state = 84 #Transylvania
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_austria_first = yes
		should_release_hungary_first = yes
		should_release_romania_first = yes
		NOT = {
			tag = AUS
			country_exists = TRS
			has_country_flag = TRS_CONQ
		}
	}
}

#Transylvania for Austria - annexation_TRS_AUS_CONQ
can_release_transylvania_austria = {
	state = 84 #Transylvania
	NOT = { is_claimed_by = ROOT }
	is_core_of = TRS
	ROOT = {
		tag = AUS
		NOT = {
			country_exists = TRS
			has_completed_focus = AUS_status_quo
			has_completed_focus = AUS_embrace_pluralism
			has_completed_focus = AUS_military_occupation
			has_country_flag = AUS_transylvania_occupied
		}
	}
}

#Thessaloniki - annexation_THESS_CONQ
can_release_thessaloniki = {
	state = 989 #Chalcidike
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_bulgaria_first = yes
		should_release_greece_first = yes
		# Do Salonica release first
		OR = {
			has_country_flag = SALONICA_CONQ
			NOT = {
				731 = { is_valid_annexation_state = yes }
				769 = { is_valid_annexation_state = yes }
			}
		}
		OR = {
			tag = GRE
			tag = BUL
			BUL = {
				owns_state = 769
				ROOT_can_grant_land = yes
			}
			GRE = { ROOT_can_grant_land = yes }
		}
		NOT = {
			has_country_flag = THESSA_CONQ
		}
	}
}

#Tuscany - annexation_TUS_CONQ
can_release_tuscany = {
	state = 162 #Tuscany
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		can_form_italy = no
		OR = {
			has_socialist_government = no
			SRI = { is_ally_of_ROOT = yes }
		}
		NOT = {
			tag = ITA
			tag = SRI
			country_exists = TUS
			has_country_flag = TUS_CONQ
			has_country_flag = SIC_empire
			ITA = { has_country_leader = { ruling_only = yes name = "Pietro Ferdinando I" } }
			# should do Fate of Piedmont instead
			AND = {
				158 = { is_valid_annexation_state = yes }
				OR = {
					ITA = { is_ally_of_ROOT = yes }
					SRI = { is_ally_of_ROOT = yes }
					SIC = { is_ally_of_ROOT = yes }
					SRD = { is_ally_of_ROOT = yes }
					AND = {
						has_socialist_government = yes
						NOT = { country_exists = SRI }
					}
					AND = {
						has_socialist_government = no
						NOT = { country_exists = SRD }
					}
					AND = {
						tag = SIC
						owns_state = 838
						NOT = { has_country_flag = SIC_empire }
						controls_all_owned_states = yes
						SRD = {
							exists = yes
							is_subject = no
							NOT = { has_war_with = ROOT }
							controls_all_owned_states = yes
						}
					}
					AND = {
						is_faction_leader = yes
						has_socialist_government = no
						838 = { is_valid_annexation_state = yes }
						SRD = {
							exists = yes
							is_subject = no
							NOT = { is_faction_leader = yes }
							controls_all_owned_states = yes
							has_socialist_government = no
							NOT = { has_war_with = ROOT }
							NOT = { has_country_flag = offered_piedmont_@ROOT }
						}
					}
				}
			}
			AND = {
				tag = SRD
				NOT = {
					has_completed_focus = SRD_kingdom_of_italy
					has_completed_focus = SRD_sardinia_piedmont
				}
			}
		}
	}
}

#Ukraine - annexation_UKR_CONQ
can_release_ukraine = {
	state = 202 #Kiev
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_russia_first = yes
		NOT = {
			has_country_flag = UKR_CONQ
			country_exists = UKR
		}
	}
}

#Venice - annexation_VNC_CONQ
can_release_venice = {
	state = 160 #Venetia
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		can_form_italy = no
		OR = {
			has_socialist_government = no
			SRI = { is_ally_of_ROOT = yes }
		}
		NOT = {
			country_exists = VNC
			has_country_flag = VNC_CONQ
			has_country_flag = SIC_empire
			# should do Fate of Lombardy instead
			AND = {
				NOT = { country_exists = LOM }
				159 = { is_valid_annexation_state = yes }
			}
			AND = {
				tag = SRD
				NOT = {
					has_completed_focus = SRD_kingdom_of_italy
					has_completed_focus = SRD_sardinia_piedmont
				}
			}
		}
	}
}


#Vojvodina - annexation_VOJVODINA_CONQ
can_release_vojvodina = {
	state = 45 #Vojvodina
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_croatia_first = yes
		should_release_serbia_first = yes
		should_release_hungary_first = yes
		OR = {
			can_annex_vojvodina = yes
			HUN = { is_ally_of_ROOT = yes }
			AUS = {
				owns_state = 43 #Central Hungary
				AUS_is_unified = yes
				is_ally_of_ROOT = yes
			}
			var:794.owner = { #Syrmia
				OR = {
					tag = CRO
					tag = SER
				}
				ROOT_can_grant_land = yes
			}
		}
		NOT = { has_country_flag = VOJVODINA_CONQ }
	}
}

#Wales - annexation_WAL_CONQ
can_release_wales = {
	state = 122 #Wales
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		# Do English release first
		OR = {
			country_exists = ENG
			country_exists = GBR
			country_exists = GBP
			has_country_flag = ENG_CONQ
			126 = { is_valid_annexation_state = no }
		}
		NOT = {
			tag = ENG
			tag = GBR
			tag = GBP
			tag = CAN
			has_country_flag = WAL_CONQ
			country_exists = WAL
		}
		if = {
			limit = { tag = GER }
			OR = {
				NOT = { has_global_flag = GER_stay_out_france_uk }
				NOT = { country_exists = ENT }
				has_war_with = ENT
			}
		}
	}
}

#Wallonia - annexation_WLL_CONQ
can_release_wallonia = {
	state = 34 #Hainaut
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		NOT = {
			tag = BEL
			country_exists = WLL
			has_country_flag = WLL_CONQ
		}
		# do Belgian release first
		OR = {
			country_exists = BEL
			country_exists = FLN
			has_country_flag = BEL_CONQ
			6 = { is_valid_annexation_state = no }
		}
	}
}


#Western Thrace - annexation_THRACE_CONQ
can_release_western_thrace = {
	OR = {
		state = 184 #Western Thrace
		state = 1089 #Kardzhali
	}
	NOT = { is_claimed_by = ROOT }
	ROOT = {
		should_release_greece_first = yes
		should_release_bulgaria_first = yes
		# do Constantinople release first
		341 = { is_valid_annexation_state = no } #Adrianople
		773 = { is_valid_annexation_state = no } #Constantinople
		OR = {
			tag = GRE
			tag = BUL
			tag = OTT
			tag = TUR
			GRE = {
				ROOT_can_grant_land = yes
				OR = {
					owns_state = 769
					owns_state = 184
				}
			}
			BUL = { ROOT_can_grant_land = yes }
			OTT = { ROOT_can_grant_land = yes }
			TUR = { ROOT_can_grant_land = yes }
			AND = {
				SER = { is_ally_of_ROOT = yes }
				1089 = { is_claimed_by = SER }
			}
		}
		NOT = { has_country_flag = THRACE_CONQ }
	}
}

### SPECIAL TRIGGERS ###
should_release_austria_first = {
	OR = {
		country_exists = AUS
		has_country_flag = AUS_CONQ
		4 = { is_valid_annexation_state = no } #Lower Austria
	}
}

should_release_belarus_first = {
	OR = {
		country_exists = WHR
		has_country_flag = WHR_CONQ
		206 = { is_valid_annexation_state = no } #Minsk
	}
}

should_release_czechia_first = {
	OR = {
		country_exists = CZE
		has_country_flag = CZE_CONQ
		9 = { is_valid_annexation_state = no } #Bohemia
	}
}

should_release_bulgaria_first = {
	OR = {
		country_exists = BUL
		has_country_flag = BUL_CONQ
		has_country_flag = SER_accepted_bulgaria_union
		AND = {
			tag = SER
			NOT = { has_country_flag = SER_ended_occupation_of_bulgaria }
		}
		48 = { is_valid_annexation_state = no } #Sofia
	}
}

should_release_croatia_first = {
	OR = {
		country_exists = CRO
		has_country_flag = CRO_CONQ
		109 = { is_valid_annexation_state = no } #Posavina
	}
}

should_release_france_first = {
	OR = {
		if = {
			limit = { has_socialist_government = yes }
			country_exists = FRA
		}
		else_if = {
			limit = { is_ally_with = ENT }
			country_exists = NFA
			NOT = { is_ally_with = NFA }
		}
		else = {
			country_exists = FRP
		}
		has_country_flag = FRA_CONQ
		16 = { is_valid_annexation_state = no } #Ile-de-France
	}
}

should_release_germany_first = {
	OR = {
		is_germany_or_splinter_tag = yes
		country_exists = GER
		country_exists = GRU
		has_country_flag = GER_CONQ
		64 = { is_valid_annexation_state = no }
		51 = { is_valid_annexation_state = no }
		52 = { is_valid_annexation_state = no }
		59 = { is_valid_annexation_state = no }
	}
}

should_release_greece_first = {
	OR = {
		country_exists = GRE
		has_country_flag = GRE_CONQ
		47 = { is_valid_annexation_state = no } #Central Greece
	}
}

should_release_hungary_first = {
	OR = {
		country_exists = HUN
		has_country_flag = HUN_CONQ
		43 = { is_valid_annexation_state = no } #Central Hungary
	}
}

should_release_latvia_first = {
	OR = {
		tag = BAT
		country_exists = LAT
		has_country_flag = LAT_CONQ
		NOT = {
			190 = { is_valid_annexation_state = yes } #Courland
			1091 = { is_valid_annexation_state = yes } #Riga
		}
	}
}

should_release_lithuania_first = {
	OR = {
		country_exists = LIT
		has_country_flag = LIT_CONQ
		11 = { is_valid_annexation_state = no } #Kaunas
	}
}

should_release_poland_first = {
	OR = {
		country_exists = POL
		has_country_flag = POL_CONQ
		10 = { is_valid_annexation_state = no }
	}
}

should_release_prussia_first = {
	OR = {
		is_germany_or_splinter_tag = yes
		country_exists = DDR
		has_country_flag = DDR_CONQ
		NOT = {
			64 = { is_valid_annexation_state = yes } #Brandenburg
			66 = { is_valid_annexation_state = yes } #Lower Silesia
		}
	}
}

should_release_rhineland_first = {
	OR = {
		is_germany_or_splinter_tag = yes
		country_exists = WGR
		has_country_flag = WGR_CONQ
		51 = { is_valid_annexation_state = no } #Eastern Rhineland
	}
}

should_release_romania_first = {
	OR = {
		country_exists = ROM
		has_country_flag = ROM_CONQ
		46 = { is_valid_annexation_state = no } #Wallachia
	}
}

should_release_russia_first = {
	OR = {
		country_exists = RUS
		country_exists = SOV
		has_country_flag = RUS_CONQ
		219 = { is_valid_annexation_state = no } #Moscow
	}
}

should_release_spain_first = {
	OR = {
		country_exists = SPR
		country_exists = CNT
		country_exists = CAR
		has_country_flag = SPA_CONQ
		41 = { is_valid_annexation_state = no } #Madrid
	}
}

should_release_serbia_first = {
	OR = {
		country_exists = SER
		has_country_flag = SER_CONQ
		107 = { is_valid_annexation_state = no } #Belgrade
	}
}

should_release_ukraine_first = {
	OR = {
		country_exists = UKR
		has_country_flag = UKR_CONQ
		202 = { is_valid_annexation_state = no }
	}
}
