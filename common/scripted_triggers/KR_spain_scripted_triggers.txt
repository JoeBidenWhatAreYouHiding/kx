psoe_elected = {
	AND = {
		has_government = radical_socialist
		has_country_flag = SPR_had_election
		has_country_flag = SPR_flag_psoe_elected
	}
}
ir_elected = {
	AND = {
		has_government = social_democrat
		has_country_flag = SPR_had_election
		has_country_flag = SPR_flag_ir_elected
	}
}
ue_elected = {
	AND = {
		has_government = social_liberal
		has_country_flag = SPR_had_election
		has_country_flag = SPR_flag_ue_elected
	}
}
plm_elected = {
	AND = {
		has_government = market_liberal
		has_country_flag = SPR_had_election
		has_country_flag = SPR_flag_plm_elected
	}
}
dle_elected = {
	AND = {
		has_government = social_conservative
		has_country_flag = SPR_had_election
		has_country_flag = SPR_flag_dle_elected
	}
}
ap_elected = {
	AND = {
		has_government = authoritarian_democrat
		has_country_flag = SPR_had_election
		has_country_flag = SPR_flag_ap_elected
	}
}
black_monday_is_here = {
	AND = {
		has_global_flag = black_monday
		has_country_flag = SPR_flag_black_monday_is_here
	}
}
SPR_bop_finale_trigger = {
	#spanish_civil_war_will_happen_or_is_happening = no
	OR = {
		has_country_flag = SPR_bop_finale_without_allies
		has_country_flag = SPR_bop_finale_with_allies
	}
}
spanish_civil_war_will_happen_or_is_happening = {
	OR = {
		has_country_flag = SPR_civil_war_unavoidable
		has_global_flag = spanish_civil_war
	}
}
has_allied_with_anyone_republic = {
	OR = {
		has_country_flag = SPR_left_republic_intro
		has_country_flag = SPR_right_republic_intro
	}
}
has_allied_with_anyone_kingdom = {
	OR = {
		has_country_flag = SPR_left_kingdom_intro
		has_country_flag = SPR_center_kingdom_intro
		has_country_flag = SPR_right_kingdom_intro
	}
}
has_allied_with_anyone_kingdom_and_no_civil_war = {
	AND = {
		has_allied_with_anyone_kingdom = yes
		spanish_civil_war_will_happen_or_is_happening = no
	}
}
has_allied_with_anyone_republic_and_no_civil_war = {
	AND = {
		has_allied_with_anyone_republic = yes
		spanish_civil_war_will_happen_or_is_happening = no
	}
}
SPR_SCW_Joint_Focus_Progress_Check_Kingdom = {
	SPR = {
		AND = {
			OR = {
				focus_progress = {
					focus = SPR_CW_Joint_kingdom_national_unity
					progress > 0.0
				}
				focus_progress = {
					focus = SPR_CW_Joint_kingdom_german_help
					progress > 0.0
				}
				focus_progress = {
					focus = SPR_CW_Joint_kingdom_national_front
					progress > 0.0
				}
				focus_progress = {
					focus = SPR_CW_Joint_kingdom_austrian_help
					progress > 0.0
				}
				focus_progress = {
					focus = SPR_CW_Joint_kingdom_a_truly_popular_front
					progress > 0.0
				}
				AND = {
					focus_progress = {
						focus = SPR_CW_Joint_cnt_kingdom_win_the_people
						progress > 0.0
					}
					NOT = {
						CNT = {
							focus_progress = {
								focus = SPR_CW_Joint_cnt_kingdom_win_the_people
								progress > 0.0
							}
						}
					}
				}
				AND = {
					focus_progress = {
						focus = SPR_CW_Joint_car_kingdom_papal_support
						progress > 0.0
					}
					NOT = {
						CAR = {
							focus_progress = {
								focus = SPR_CW_Joint_car_kingdom_papal_support
								progress > 0.0
							}
						}
					}
				}
			}
			OR = {
				NOT = {
					focus_progress = {
						focus = SPR_CW_Joint_kingdom_national_unity
						progress > SPR_scw_focus_check_var
					}
				}
				NOT = {
					focus_progress = {
						focus = SPR_CW_Joint_kingdom_national_front
						progress > SPR_scw_focus_check_var
					}
				}
				NOT = {
					focus_progress = {
						focus = SPR_CW_Joint_kingdom_german_help
						progress > SPR_scw_focus_check_var
					}
				}
				NOT = {
					focus_progress = {
						focus = SPR_CW_Joint_kingdom_a_truly_popular_front
						progress > SPR_scw_focus_check_var
					}
				}
				NOT = {
					focus_progress = {
						focus = SPR_CW_Joint_kingdom_austrian_help
						progress > SPR_scw_focus_check_var
					}
				}
				NOT = {
					focus_progress = {
						focus = SPR_CW_Joint_cnt_kingdom_win_the_people
						progress > SPR_scw_focus_check_var
					}
				}
				NOT = {
					focus_progress = {
						focus = SPR_CW_Joint_car_kingdom_papal_support
						progress > SPR_scw_focus_check_var
					}
				}
				AND = {
					NOT = { has_completed_focus = SPR_CW_Joint_kingdom_national_unity }
					NOT = { has_completed_focus = SPR_CW_Joint_kingdom_german_help }
					NOT = { has_completed_focus = SPR_CW_Joint_kingdom_national_front }
					NOT = { has_completed_focus = SPR_CW_Joint_kingdom_a_truly_popular_front }
					NOT = { has_completed_focus = SPR_CW_Joint_kingdom_austrian_help }
					OR = {
						NOT = { has_completed_focus = SPR_CW_Joint_cnt_kingdom_win_the_people }
						CNT = { has_completed_focus = SPR_CW_Joint_cnt_kingdom_win_the_people }
					}
					OR = {
						NOT = { has_completed_focus = SPR_CW_Joint_car_kingdom_papal_support }
						CAR = { has_completed_focus = SPR_CW_Joint_car_kingdom_papal_support }
					}
				}
			}
		}
	}
}
SPR_SCW_Joint_Focus_Progress_Check_CNT = {
	CNT = {
		AND = {
			OR = {
				focus_progress = {
					focus = SPR_CW_Joint_cnt_deal_with_catalan_nationalists
					progress > 0.0
				}
				focus_progress = {
					focus = SPR_CW_Joint_cnt_reach_out_to_the_commune
					progress > 0.0
				}
				focus_progress = {
					focus = SPR_CW_Joint_cnt_maybe_federalism
					progress > 0.0
				}
				AND = {
					focus_progress = {
						focus = SPR_CW_Joint_cnt_kingdom_win_the_people
						progress > 0.0
					}
					NOT = {
						SPR = {
							focus_progress = {
								focus = SPR_CW_Joint_cnt_kingdom_win_the_people
								progress > 0.0
							}
						}
					}
				}
			}
			OR = {
				NOT = {
					focus_progress = {
						focus = SPR_CW_Joint_cnt_deal_with_catalan_nationalists
						progress > SPR_scw_focus_check_var
					}
				}
				NOT = {
					focus_progress = {
						focus = SPR_CW_Joint_cnt_reach_out_to_the_commune
						progress > SPR_scw_focus_check_var
					}
				}
				NOT = {
					focus_progress = {
						focus = SPR_CW_Joint_cnt_maybe_federalism
						progress > SPR_scw_focus_check_var
					}
				}
				NOT = {
					focus_progress = {
						focus = SPR_CW_Joint_cnt_kingdom_win_the_people
						progress > SPR_scw_focus_check_var
					}
				}
				AND = {
					NOT = { has_completed_focus = SPR_CW_Joint_cnt_deal_with_catalan_nationalists }
					NOT = { has_completed_focus = SPR_CW_Joint_cnt_reach_out_to_the_commune }
					NOT = { has_completed_focus = SPR_CW_Joint_cnt_maybe_federalism }
					OR = {
						NOT = { has_completed_focus = SPR_CW_Joint_cnt_kingdom_win_the_people }
						SPR = { has_completed_focus = SPR_CW_Joint_cnt_kingdom_win_the_people }
					}
				}
			}
		}
	}
}
SPR_SCW_Joint_Focus_Progress_Check_CAR = {
	CAR = {
		AND = {
			OR = {
				focus_progress = {
					focus = SPR_CW_Joint_car_mend_ideological_divides
					progress > 0.0
				}
				focus_progress = {
					focus = SPR_CW_Joint_car_seek_entente_support
					progress > 0.0
				}
				focus_progress = {
					focus = SPR_CW_Joint_car_unity_in_god
					progress > 0.0
				}
				AND = {
					focus_progress = {
						focus = SPR_CW_Joint_car_kingdom_papal_support
						progress > 0.0
					}
					NOT = {
						SPR = {
							focus_progress = {
								focus = SPR_CW_Joint_car_kingdom_papal_support
								progress > 0.0
							}
						}
					}
				}
			}
			OR = {
				NOT = {
					focus_progress = {
						focus = SPR_CW_Joint_car_mend_ideological_divides
						progress > SPR_scw_focus_check_var
					}
				}
				NOT = {
					focus_progress = {
						focus = SPR_CW_Joint_car_seek_entente_support
						progress > SPR_scw_focus_check_var
					}
				}
				NOT = {
					focus_progress = {
						focus = SPR_CW_Joint_car_unity_in_god
						progress > SPR_scw_focus_check_var
					}
				}
				NOT = {
					focus_progress = {
						focus = SPR_CW_Joint_car_kingdom_papal_support
						progress > SPR_scw_focus_check_var
					}
				}
				AND = {
					NOT = { has_completed_focus = SPR_CW_Joint_car_mend_ideological_divides }
					NOT = { has_completed_focus = SPR_CW_Joint_car_seek_entente_support }
					NOT = { has_completed_focus = SPR_CW_Joint_car_unity_in_god }
					OR = {
						NOT = { has_completed_focus = SPR_CW_Joint_car_kingdom_papal_support }
						SPR = { has_completed_focus = SPR_CW_Joint_car_kingdom_papal_support }
					}
				}
			}
		}
	}
}
SPR_SCW_ai_avoid_trigger = {
	OR = {
		has_game_rule = SPR_CIVIL_WAR_AVOIDED_SPR
		has_game_rule = SPR_CIVIL_WAR_AVOIDED_SPR_LEFT
		has_game_rule = SPR_CIVIL_WAR_AVOIDED_SPR_CENTER
		has_game_rule = SPR_CIVIL_WAR_AVOIDED_SPR_RIGHT
		has_game_rule = SPR_CIVIL_WAR_AVOIDED_CNT
		has_game_rule = SPR_CIVIL_WAR_AVOIDED_CAR
	}
}
SPR_SCW_ai_avoid_kingdom_trigger = {
	OR = {
		has_game_rule = SPR_CIVIL_WAR_AVOIDED_SPR
		has_game_rule = SPR_CIVIL_WAR_AVOIDED_SPR_LEFT
		has_game_rule = SPR_CIVIL_WAR_AVOIDED_SPR_CENTER
		has_game_rule = SPR_CIVIL_WAR_AVOIDED_SPR_RIGHT
	}
}
SPR_has_ever_finished_intro_tree_trigger = {
	OR = { 
		has_completed_focus = SPR_constitutionalism
		has_completed_focus = SPR_absolutism
	}
}