RUS_german_influence_is_low_enough = {
	custom_trigger_tooltip = {
		tooltip = RUS_german_influence_is_low_enough
		NOT = {
			has_idea = rus_riga_accords
			has_idea = rus_riga_accords_1
			has_idea = rus_riga_accords_2
			has_idea = rus_riga_accords_3
		}
	}
}
RUS_democratic_tree_visible = {
	OR = {
		has_country_flag = make_russia_plsr_nsp_democratic_tree_visible
		has_country_flag = make_russia_rsdrp_democratic_tree_visible
		has_country_flag = make_russia_psr_democratic_tree_visible
		has_country_flag = make_russia_liberal_conservative_democratic_tree_visible
		has_country_flag = make_russia_nrpr_democratic_tree_visible
		has_country_flag = make_russia_nsnp_democratic_tree_visible
	}
}

soviets_exist = {
	custom_trigger_tooltip = {
		tooltip = soviet_russia_restored
		any_country = {
			is_russian_tag_that_can_integrate = yes
			has_event_target = soviet_russia
			has_country_flag = soviet_russia_restored
			exists = yes
		}
	}
}
RUS_mikhail_tukhachevsky_in_power = {
	has_country_leader = {
		name = "Mikhail Tukhachevsky"
		ruling_only = yes
	}
}
RUS_mikhail_frunze_in_power = {
	has_country_leader = {
		name = "Mikhail Frunze"
		ruling_only = yes
	}
}
led_by_trm_crm_or_dkb = {
	custom_trigger_tooltip = {
		tooltip = led_by_trm_crm_or_dkb_tt
		OR = {
			has_country_leader = {
				name = "Dmitriy Ulyanov"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Vasily Blyukher"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Semyon Budyonny"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Sergey Syrtsov"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Anastas Mikoyan"
				ruling_only = yes
			}
			has_country_flag = SOV_was_puppeted
		}
	}
}
		
RUS_denikin_in_power = {
	has_country_leader = {
		name = "Anton Denikin"
		ruling_only = yes
	}
}

RUS_dmitriy_romanov_in_power = {
	has_country_leader = {
		name = "Dmitry Romanov"
		ruling_only = yes
	}
}

RUS_wrangel_in_power = {
	has_country_leader = {
		name = "Pyotr Wrangel"
		ruling_only = yes
	}
}
RUS_wrangel_tsar_in_power = {
	has_country_leader = {
		name = "Pyotr IV"
		ruling_only = yes
	}
	has_completed_focus = RUS_Black_Tsar
}

RUS_kornilov_in_power = {
	has_country_leader = {
		name = "Lavr Kornilov"
		ruling_only = yes
	}
}

RUS_savinkov_in_power = {
	has_country_leader = {
		name = "Boris Savinkov"
		ruling_only = yes
	}
}
RUS_savinkov_pm = {
	custom_trigger_tooltip = {
		tooltip = RUS_SAVI_HOG
		has_idea = RUS_Boris_V_Savinkov_hog_npo
	}
}
RUS_wrangel_in_power_pataut = {
	RUS_wrangel_in_power = yes
	has_government = paternal_autocrat
}
RUS_denikin_in_power_pataut = {
	RUS_denikin_in_power = yes
	has_government = paternal_autocrat
}
RUS_denikin_supreme_ruler = {
	RUS_denikin_in_power = yes
	has_country_leader_with_trait = supreme_ruler
}
RUS_drozdovsky_in_power = {
	has_country_leader = {
		name = "Mikhail Drozdovsky"
		ruling_only = yes
	}
}
RUS_natpops_in_power = {
	OR = {
		RUS_savinkov_in_power = yes
		RUS_gorgulov_in_power = yes
		RUS_abakumov_in_power = yes
		nsnp_in_power = yes
	}
}
RUS_gorgulov_in_power = {
	has_country_leader = {
		name = "Pavel Gorgulov"
		ruling_only = yes
	}
}
RUS_abakumov_in_power = {
	has_country_leader = {
		name = "Viktor Abakumov"
		ruling_only = yes
	}
}
RUS_is_absolute_monarchy = {
	RUS_russian_monarch = yes
	OR = {
		has_government = paternal_autocrat
		has_government = national_populist
		has_country_leader_ideology = absolute_monarchy_subtype
		has_country_leader_ideology = eurasianism_subtype
		has_country_leader_ideology = prussian_constitutionalism_subtype
	}
}
RUS_is_constitutional_monarchy = {
	RUS_russian_monarch = yes
	NOT = {
		has_government = paternal_autocrat
		has_government = national_populist
		has_country_leader_ideology = absolute_monarchy_subtype
		has_country_leader_ideology = eurasianism_subtype
		has_country_leader_ideology = prussian_constitutionalism_subtype
	}
}

RUS_russian_monarch = {
	custom_trigger_tooltip = {
		tooltip = RUS_russian_empire_returned
		OR = {
			has_country_leader = {
				name = "Kirill I"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Vladimir III"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Dmitry III"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Pavel II"
				ruling_only = yes
			}		
			has_country_leader = {
				name = "Pyotr IV"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Anastasia I"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Andrei I"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Vsevolod I"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Roman I"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Boris II"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Mikhail II"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Alexei II"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Nicholas II"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Felix I"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Sergius"
				ruling_only = yes
			}
			has_country_flag = MON_Sternberg_russian_empire
		}
	}
}
RUS_tsar_kirill = {
	has_country_leader = {
		name = "Kirill I"
		ruling_only = yes
	}
}

RUS_tsar_vladimir = {
	has_country_leader = {
		name = "Vladimir III"
		ruling_only = yes
	}
}

RUS_tsar_dmitriy = {
	has_country_leader = {
		name = "Dmitry III"
		ruling_only = yes
	}
}

RUS_tsar_wrangel = {
	has_country_leader = {
		name = "Pyetr IV"
		ruling_only = yes
	}
}

RUS_tsar_anastasia = {
	has_country_leader = {
		name = "Anastasia I"
		ruling_only = yes
	}
}

has_a_conservative_president = {
	OR = {
		has_country_leader = {
			name = "Dmitry Romanov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Pyotr Wrangel"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Nikolai Trubetzkoy"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Georgy Vernadsky"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Felix Yusupov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Pyotr Savitsky"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Ariadna Tyrkova-Williams"
			ruling_only = yes
		}
	}
}
has_a_liberal_president = {
	OR = {
		has_country_leader = {
			name = "Pavel Milyukov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Vasily Maklakov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Mikhail Tereschenko"
			ruling_only = yes
		}
		
	}
}
has_a_socialist_president = {
	OR = {
		has_country_leader = {
			name = "Solomon Lozovsky"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Alexander Shlyapnikov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Aleksey Rykov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Nikolay Bukharin"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Irakly Tsereteli"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Viktor Chernov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Nikolay Avksentiev"
			ruling_only = yes
		}
	}
}
RUS_cw_ongoing = {
	custom_trigger_tooltip = {
		tooltip = RUS_cw_ongoing_tt
		OR = {
			country_exists = RVA
			country_exists = RRF
			russian_civil_war = yes
			has_global_flag = RUS_cw_begun
		}
		NOT = { has_global_flag = RUS_cw_over }
	}
}
		

RUS_northern_zemstvo_state = {
	OR = {
		state = 263 #Novgorod
		state = 208 #Luga
		state = 244 #Volkhov
		state = 264 #Tikhvin
		state = 246 #Rzhev
		state = 755 #Toropets
		state = 210 #Velikiye Luki
		state = 880 #Dvinsk
		state = 247 #Tver
		state = 248 #Yarolavl
		state = 351 #Vologda
		state = 214 #Archangelsk
	}
}

RUS_southern_zemstvo_state = {
	OR = {
		state = 224 #Bryansk
		state = 243 #Roslavl
		state = 242 #Smolensk
		state = 205 #Kaluga
		state = 223 #Tula
		state = 222 #Orel
		state = 254 #Ryazan
		state = 258 #Lipetsk
		state = 240 #Belgorod
		state = 257 #Tambov
		state = 260 #Voronezh
	}
}

RUS_eastern_zemstvo_state = {
	OR = {
		state = 253 #Vladimir
		state = 255 #Penza
		state = 239 #Saratov
		state = 250 #Simbirsk
		state = 256 #Cheboksary
		state = 265 #Kamyshin
		state = 400 #Vyatka
		state = 399 #Izhevsk
		state = 249 #Kazan
		state = 251 #Samara
		state = 401 #Pokrovsk
		state = 236 #Astrakhan
	}
}

RUS_ural_zemstvo_state = {
	OR = {
		state = 572 #Chelyabinsk
		state = 573 #Zlatoust
		state = 582 #Orsk
		state = 398 #Perm
		state = 651 #Ufa
		state = 652 #Orenburg
		state = 583 #Kustanay
	}
}

RUS_siberian_zemstvo_state = {
	OR = {
		state = 570 #Novo-Nikolayevsk
		state = 573 #Omsk
		state = 582 #Tomsk
		state = 398 #Akmolinsk
		state = 651 #Pavlodar
		state = 652 #Tyumen
		state = 583 #Barnaul
		state = 568 #Krasnoyarsk
		state = 811 #Minusinsk
		state = 654 #Minusinsk
		state = 1293 #Minusinsk
	}
}

RUS_has_free_building_slots = {
	if = {
		limit = {
			ROOT = {
				OR = {
					has_country_flag = RUS_zemstvo_infrastructure
					has_country_flag = RUS_zemstvo_factory_and_infra
				}
			}
		}
		free_building_slots = {
			building = infrastructure
			size > 0
		}
	}
	if = {
		limit = {
			ROOT = {
				OR = {
					has_country_flag = RUS_zemstvo_factory
					has_country_flag = RUS_zemstvo_arms_factory
					has_country_flag = RUS_zemstvo_factory_and_infra
				}
			}
		}
		free_building_slots = {
			building = industrial_complex
			size > 0
			include_locked = yes
		}
	}
	if = {
		limit = {
			ROOT = { has_country_flag = RUS_zemstvo_two_factories }
		}
		free_building_slots = {
			building = industrial_complex
			size > 1
			include_locked = yes
		}
	}
}
RUS_choose_zemstvo_group = {
	if = {
		limit = {
			ROOT = { has_country_flag = RUS_northern_zemstva }
		}
		RUS_northern_zemstvo_state = yes
	}
	else_if = {
		limit = {
			ROOT = { has_country_flag = RUS_southern_zemstva }
		}
		RUS_southern_zemstvo_state = yes
	}
	else_if = {
		limit = {
			ROOT = { has_country_flag = RUS_eastern_zemstva }
		}
		RUS_eastern_zemstvo_state = yes
	}
	else_if = {
		limit = {
			ROOT = { has_country_flag = RUS_ural_zemstva }
		}
		RUS_ural_zemstvo_state = yes
	}
	else = {
		RUS_siberian_zemstvo_state = yes
	}
}
RUS_all_opposition_leaders_are_out = {
	if = {
		limit = {
			has_socialist_government = yes
		}
		OR = {
			has_country_flag = trubetzkoy_dead
			has_country_flag = trubetzkoy_arrested
			has_country_flag = trubetzkoy_escaped
		}
		
		OR = {
			has_country_flag = savitsky_dead
			has_country_flag = savitsky_arrested
			has_country_flag = savitsky_escaped
		}
		OR = {
			has_country_flag = vernadsky_dead
			has_country_flag = vernadsky_arrested
			has_country_flag = vernadsky_escaped
		}
		OR = {
			has_country_flag = chkheidze_dead
			has_country_flag = chkheidze_arrested
			has_country_flag = chkheidze_escaped
		}
		OR = {
			has_country_flag = shikhmatov_dead
			has_country_flag = shikhmatov_arrested
			has_country_flag = shikhmatov_escaped
		}
		OR = {
			has_country_flag = savinkov_dead
			has_country_flag = savinkov_arrested
			has_country_flag = savinkov_escaped
		}
	}
	else = {
		OR = {
			has_country_flag = mirskiy_dead
			has_country_flag = mirskiy_arrested
			has_country_flag = mirskiy_escaped
		}
		OR = {
			has_country_flag = spiridonova_dead
			has_country_flag = spiridonova_arrested
			has_country_flag = spiridonova_escaped
		}
		OR = {
			has_country_flag = trubetzkoy_dead
			has_country_flag = trubetzkoy_arrested
			has_country_flag = trubetzkoy_escaped
		}		
		OR = {
			has_country_flag = vernadsky_dead
			has_country_flag = vernadsky_arrested
			has_country_flag = vernadsky_escaped
		}
		OR = {
			has_country_flag = chkheidze_dead
			has_country_flag = chkheidze_arrested
			has_country_flag = chkheidze_escaped
		}
		OR = {
			has_country_flag = jakobson_dead
			has_country_flag = jakobson_arrested
			has_country_flag = jakobson_escaped
		}
	}
}
	
RUS_dont_attack_if_vulnerable_or_preparing = {
	OR = {
		enemies_strength_ratio > 0.4
		surrender_progress > 0.02
		has_country_flag = imminent_war
	}
}

RUS_dont_attack_if_target_is_stronger = {
	strength_ratio = { tag = ROOT ratio > 0.8 }
	OR = {
		enemies_strength_ratio < 1
		surrender_progress < 0.1
	}
}

RUS_dont_attack_if_overlord_is_stronger = {
	is_subject = yes
	overlord = {
		strength_ratio = { tag = ROOT ratio > 0.7 }
		OR = {
			enemies_strength_ratio < 1
			surrender_progress < 0.2
		}
	}
}

RUS_dont_attack_if_faction_is_stronger = {
	if = {
		limit = { ROOT = { has_war = yes } }
		is_in_faction = yes
		is_faction_leader = yes
		faction_leader = {
			is_actual_major = yes
			OR = {
				enemies_strength_ratio < 1.5
				surrender_progress < 0.3
			}
		}
	}
	else = {
		is_in_faction = yes
		faction_leader = {
			strength_ratio = { tag = ROOT ratio > 0.7 }
			OR = {
				enemies_strength_ratio < 1
				surrender_progress < 0.2
			}
		}
	}
}	

RUS_is_eurasia = { #Used for RUS scope!
	RUS = {
		OR = {
			has_cosmetic_tag = RUS_EUR
			has_cosmetic_tag = RUS_EUR_right
			has_cosmetic_tag = RUS_EUR_empire
			has_cosmetic_tag = RUS_EUR_left
			has_cosmetic_tag = RUS_EUR_alt
			has_country_leader = {
				name = "Dmitry Svyatopolk-Mirsky"
				ruling_only = yes
			}
			has_focus_tree = RUS_EURASIAN_UNION_FOCUS
		}
	}
}
RUS_has_eurasian_ministers = {
	RUS = {
		OR = {
			has_idea = RUS_Nikolay_S_Trubetskoy_hog_ade
			has_idea = RUS_Georgiy_V_Vernadskiy_for_ade
			has_idea = RUS_Nikolay_S_Trubetskoy_for_ade
			has_idea = RUS_Konstantin_A_Chkheidze_eco_ade
			has_idea = RUS_Pyetr_N_Savitskiy_sec_ade
		}
	}
}

RUS_can_be_integrated_by_eurasia = {
	OR = {
		RUS_has_eurasian_ministers = yes
		RUS_is_eurasia = yes
	}
}
germany_has_no_uncapitulated_allies_in_ee_or_caucasus = {
	custom_trigger_tooltip = {
		tooltip = germany_has_no_uncapitulated_allies_in_ee_or_caucasus_tt
		any_other_country = {
			AND = {
				OR = {
					tag = FIN
					tag = POL
					tag = EST
					tag = LIT
					tag = LAT
					tag = BAT
					tag = WHR
					original_tag = UKR
					tag = CRM
					tag = DKB
					tag = KLY
					tag = KUB
					tag = MTR
					tag = GEO
					tag = AZE
				}
				is_in_faction_with = GER
				OR = {
					exists = no
					has_capitulated = yes
				}
			}
		}
	}
}
RUS_at_least_two_of_three_are_captured = {
	custom_trigger_tooltip = {
		tooltip = RUS_at_least_two_of_three_are_captured_tt
		count_triggers = {
			amount = 2
			195 = { is_controlled_by_ROOT_or_ally = yes }
			219 = { is_controlled_by_ROOT_or_ally = yes }
			217 = { is_controlled_by_ROOT_or_ally = yes }
		}
	}
}
RUS_focus_blocked_for_non_decided_socialists = {
	if = {
		limit = {
			nsp_in_power = yes
		}
		OR = {
			has_completed_focus = RUS_Future_Of_The_Republic_2
			has_country_flag = RUS_decided_to_stay_democratic
			has_country_flag = soviet_russia_restored
		}
	}
	if = {
		limit = {
			has_country_flag = RUS_vi_congress_internationalists
			rsdrp_in_power = yes
		}
		OR = {
			has_completed_focus = RUS_Future_Of_The_Republic_mensh_2
			has_country_flag = RUS_decided_to_stay_democratic
			has_country_flag = soviet_russia_restored
		}
	}
	if = {
		limit = {
			OR = {
				lpsr_in_power = yes
				plsr_in_power = yes
			}
		}
		has_country_flag = soviet_russia_restored
	}
}
russia_is_democratic = {
	NOT = { 
		has_country_flag = RUS_duma_dissolved 
		has_country_flag = soviet_russia_restored
	}	
}

rus_senate_duma_conflict_available = {
	if = {
		limit = { has_a_nrpr_president = yes }
		NOT = { check_variable = { Duma_Party_Status^12 = 1 } }
		NOT = { check_variable = { Duma_Party_Status^12 = 2 } }
		NOT = { 
			OR = {
				AND = {
					psr_in_power = yes
					NOT = { has_country_flag = RUS_socdems_rpr }
				}
				has_idea = RUS_Boris_V_Savinkov_hog_npo
			}
		}
	}
	else_if = {
		limit = { has_a_vns_president = yes }
		NOT = { check_variable = { Duma_Party_Status^8 = 1 } }
		NOT = { check_variable = { Duma_Party_Status^8 = 2 } }
		OR = { 
			has_socialist_government = yes
			has_left_democratic_government = yes
			has_idea = RUS_Boris_V_Savinkov_hog_npo
		}
	}
	else_if = {
		limit = { has_a_ep_president = yes }
		NOT = { check_variable = { Duma_Party_Status^9 = 1 } }
		NOT = { check_variable = { Duma_Party_Status^9 = 2 } }			
		OR = { 
			has_socialist_government = yes
			has_liberal_government = yes
			has_idea = RUS_Boris_V_Savinkov_hog_npo
		}
	}
	else_if = {
		limit = { has_a_rkdp_president = yes }
		NOT = { check_variable = { Duma_Party_Status^7 = 1 } }
		NOT = { check_variable = { Duma_Party_Status^7 = 2 } }			
		OR = { 
			has_socialist_government = yes
			has_government = social_democrat
			has_government = authoritarian_democrat
			has_idea = RUS_Boris_V_Savinkov_hog_npo
			AND = {
				NOT = { has_country_flag = kdp_united } 
				lkdp_in_power = yes
			}
		}
	}	
	else_if = {
		limit = { has_a_pp_president = yes }
		NOT = { check_variable = { Duma_Party_Status^6 = 1 } }
		NOT = { check_variable = { Duma_Party_Status^6 = 2 } }			
		OR = { 
			has_socialist_government = yes
			has_government = social_democrat
			has_conservative_government = yes
			has_idea = RUS_Boris_V_Savinkov_hog_npo
			AND = {
				NOT = { has_country_flag = kdp_united } 
				lkdp_in_power = yes
			}
		}
	}	
	else_if = {
		limit = { has_a_lkdp_president = yes }
		NOT = { check_variable = { Duma_Party_Status^5 = 1 } }
		NOT = { check_variable = { Duma_Party_Status^5 = 2 } }			
		OR = { 
			has_socialist_government = yes
			rsdrp_in_power = yes
			has_conservative_government = yes
			has_idea = RUS_Boris_V_Savinkov_hog_npo
		}
	}
	else_if = {
		limit = { has_a_nsnp_president = yes }
		NOT = { check_variable = { Duma_Party_Status^11 = 1 } }
		NOT = { check_variable = { Duma_Party_Status^11 = 2 } }			
		OR = {
			has_socialist_government = yes
			has_left_democratic_government = yes
			has_idea = RUS_Boris_V_Savinkov_hog_npo
		}
	}	
	else_if = {
		limit = { has_a_psr_president = yes }
		NOT = { check_variable = { Duma_Party_Status^3 = 1 } }
		NOT = { check_variable = { Duma_Party_Status^3 = 2 } }			
		OR = { 
			has_conservative_government = yes
			has_idea = RUS_Boris_V_Savinkov_hog_npo
		}
	}
	else_if = {
		limit = { has_a_rsdrp_president = yes }
		NOT = { check_variable = { Duma_Party_Status^4 = 1 } }
		NOT = { check_variable = { Duma_Party_Status^4 = 2 } }			
		OR = {
			has_conservative_government = yes
			has_idea = RUS_Boris_V_Savinkov_hog_npo
		}
	}	
	else_if = {
		limit = { has_a_plsr_president = yes }
		NOT = { check_variable = { Duma_Party_Status^1 = 1 } }
		NOT = { check_variable = { Duma_Party_Status^1 = 2 } }			
		OR = {
			has_liberal_government = yes
			has_conservative_government = yes
			has_idea = RUS_Boris_V_Savinkov_hog_npo
		}
	}	
	else_if = {
		limit = { has_a_nsp_president = yes }
		NOT = { check_variable = { Duma_Party_Status^2 = 1 } }
		NOT = { check_variable = { Duma_Party_Status^2 = 2 } }			
		OR = { 
			has_liberal_government = yes
			has_conservative_government = yes
			has_idea = RUS_Boris_V_Savinkov_hog_npo
		}
	}
}
lpsr_in_power = {
	custom_trigger_tooltip = {
		tooltip = lpsr_in_power
		has_idea = RUS_Vladimir_K_Volsky_hog_rso			
	}
}
psr_in_power = {
	custom_trigger_tooltip = {
		tooltip = psr_in_power
		OR = {
			has_idea = RUS_Vladimir_M_Zenzinov_hog_sde
			has_idea = RUS_Vladimir_K_Volsky_hog_rso
			has_country_leader = {
				name = "Alexandr Kerensky"
				ruling_only = yes
			}
		}
		NOT = { has_completed_focus = RUS_President_Kerensky }	
	}
}
nsp_in_power = {
	custom_trigger_tooltip = {
		tooltip = nsp_in_power
		OR = {
			has_idea = RUS_Nikolay_I_Bukharin_hog_rso
			has_idea = RUS_Sergey_M_Kirov_hog_rso
			has_idea = RUS_Aleksey_Kosygin_hog_rso
			has_idea = RUS_Martemyan_Ryutin_hog_rso
			has_idea = RUS_Mikhail_Tomskiy_hog_rso
			has_idea = RUS_Lev_Kamenev_hog_rso
			has_idea = RUS_Aleksey_I_Rykov_hog_rso
			has_idea = RUS_Andrey_Zhdanov_hog_rso
			has_idea = RUS_Aleksey_Kuznetsov_hog_rso			
			has_idea = RUS_Aleksandr_Shlyapnikov_hog_syn			
		}
	}
}
plsr_in_power = {
	custom_trigger_tooltip = {
		tooltip = plsr_in_power
		has_idea = RUS_Maria_A_Spiridonova_hog_syn
	}
}
rsdrp_in_power = {
	custom_trigger_tooltip = {
		tooltip = rsdrp_in_power
		OR = {
			has_idea = RUS_Irakliy_G_Tsereteli_hog_sde
			has_idea = RUS_Rafail_Abramovich_hog_sde
			has_idea = RUS_Aleksandr_N_Potresov_hog_sde
		}
	}
}
rsdrp_left_in_power = {
	custom_trigger_tooltip = {
		tooltip = rsdrp_left_in_power
		OR = {
			#has_idea = RUS_Solomon_Lozovsky_hog_sde
			#has_idea = RUS_Fyodor_Dan_hog_sde
			AND = {
				has_idea = RUS_Rafail_Abramovich_hog_sde
				has_country_flag = RUS_Abramovich_left_menshevik
			}			
		}
	}
}
rsdrp_center_in_power = {
	custom_trigger_tooltip = {
		tooltip = rsdrp_center_in_power
		OR = {
			has_idea = RUS_Irakliy_G_Tsereteli_hog_sde
			AND = {
				has_idea = RUS_Rafail_Abramovich_hog_sde
				NOT = { has_country_flag = RUS_Abramovich_left_menshevik }
			}
		}
	}
}
rsdrp_right_in_power = {
	custom_trigger_tooltip = {
		tooltip = rsdrp_right_in_power
		OR = {
			has_idea = RUS_Aleksandr_N_Potresov_hog_sde
			#has_idea = RUS_Grigoriy_Aleksinskiy_hog_sde		
		}
	}
}
kdp_in_power = {
	custom_trigger_tooltip = {
		tooltip = kdp_in_power
		OR = {
			lkdp_in_power = yes
			pp_in_power = yes
			rkdp_in_power = yes
		}
	}
}
lkdp_in_power = {
	custom_trigger_tooltip = {
		tooltip = lkdp_in_power
		has_idea = RUS_Nikolay_V_Nekrasov_hog_sli
	}
}
kdp_milyukov_in_power = {
	custom_trigger_tooltip = {
		tooltip = kdp_milyukov_in_power
		has_idea = RUS_Pavel_N_Milyukov_hog_sli
	}
}
pp_in_power = {
	custom_trigger_tooltip = {
		tooltip = pp_in_power
		has_idea = RUS_Aleksandr_I_Konovalov_hog_mli
	}
}
rkdp_in_power = {
	custom_trigger_tooltip = {
		tooltip = rkdp_in_power
		has_idea = RUS_Vladimir_D_Nabokov_hog_mli
	}
}
nsnp_in_power = {
	custom_trigger_tooltip = {
		tooltip = nsnp_in_power
		has_idea = RUS_Viktor_M_Baydalakov_hog_npo
	}
}
vns_in_power = {
	custom_trigger_tooltip = {
		tooltip = vns_in_power
		OR = {
			has_idea = RUS_Felix_F_Yusupov_hog_sco
			has_idea = RUS_Georgiy_P_Ignatiev_hog_sco
			has_idea = RUS_Vasiliy_V_Shulgin_hog_sco
		}
	}
}
ep_in_power = {
	custom_trigger_tooltip = {
		tooltip = ep_in_power
		has_idea = RUS_Nikolay_S_Trubetskoy_hog_ade
	}
}
has_a_ep_president = {
	OR = {
		has_country_leader = {
			name = "Nikolai Trubetzkoy"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Ariadna Tyrkova-Williams"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Pyotr Savitsky"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Georgy Vernadsky"
			ruling_only = yes
		}
	}
}
has_a_vns_president = {
	OR = {
		has_country_leader = {
			name = "Dmitry Romanov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Felix Yusupov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Vasily Shulgin"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Anatoly Savenko"
			ruling_only = yes
		}
	}
}
has_a_nrpr_president = {
	OR = {
		has_country_leader = {
			name = "Dmitry Odinets"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Boris Savinkov"
			ruling_only = yes
		}
	}
}
has_a_nsnp_president = {
	OR = {
		has_country_leader = {
			name = "Viktor Baydalakov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Kirill Vergun"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Aleksandr Trushnovich"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Mikhail Georgievsky"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Boris Pryanishnikov"
			ruling_only = yes
		}
	}
}
has_a_rkdp_president = {
	OR = {
		has_country_leader = {
			name = "Nikolay Teslenko"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Vladimir Nabokov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Vasily Maklakov"
			ruling_only = yes
		}
	}
}
has_a_pp_president = {
		has_country_leader = {
		name = "Aleksandr Konovalov"
			ruling_only = yes
		}
	}
has_a_kdp_president = {
	OR = {
		has_country_leader = {
			name = "Pavel Milyukov"
			ruling_only = yes
		}
		AND = {
			OR = {
				has_a_lkdp_president = yes
				has_a_pp_president = yes
				has_a_rkdp_president = yes
			}
			has_country_flag = kdp_united
		}
	}
}
has_a_lkdp_president = {
	OR = {
		has_country_leader = {
			name = "Mikhail Tereschenko"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Nikolai Nekrasov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Dmitry Pletnyov"
			ruling_only = yes
		}
	}
}
has_a_psr_president = {
	OR = {
		has_country_leader = {
			name = "Nikolay Avksentiev"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Viktor Chernov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Nikolay Ivanov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Mikhail Likhach"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Mikhail Gendelman"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Vasily Arkhangelsky"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Lev Gershtein"
			ruling_only = yes
		}			
	}
}
has_a_rsdrp_president = {
	OR = {
		has_country_leader = {
			name = "Solomon Lozovsky"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Aleksandr Potresov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Irakly Tsereteli"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Kuzma Gvozdev"
			ruling_only = yes
		}			
	}
}
has_a_nsp_president = {
	OR = {
		SOV_shlyapnikov_in_power = yes
		SOV_rykov_in_power = yes
		SOV_bukharin_in_power = yes
		SOV_kirov_in_power = yes
	}
}
has_a_plsr_president = {
	OR = {
		has_country_leader = {
			name = "Boris Kamkov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Isaak Shteinberg"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Maria Spiridonova"
			ruling_only = yes
		}
	}
}
RUS_state_can_increase_pop = {
	if = {
		limit = {
			ROOT = { has_idea = RUS_Maria_A_Spiridonova_hog_syn }
		}
		check_variable = { THIS.RUS_state_plsr_final_pop < 0.55 }
	}
	if = {
		limit = {
			ROOT = { 
				OR = {
					has_idea = RUS_Nikolay_I_Bukharin_hog_rso
					has_idea = RUS_Sergey_M_Kirov_hog_rso
				}
			}
		}
		check_variable = { THIS.RUS_state_nsp_final_pop < 0.55 }
	}
	if = {
		limit = {
			ROOT = { 
				psr_in_power = yes
			}
		}
		check_variable = { THIS.RUS_state_psr_final_pop < 0.55 }
	}
	if = {
		limit = {
			ROOT = { 
				rsdrp_in_power = yes
			}
		}
		check_variable = { THIS.RUS_state_rsdrp_final_pop < 0.55 }
	}
	if = {
		limit = {
			ROOT = { 
				lkdp_in_power = yes
			}
		}
		check_variable = { THIS.RUS_state_lkdp_final_pop < 0.55 }
	}
	if = {
		limit = {
			ROOT = { 
				rkdp_in_power = yes
			}
		}
		check_variable = { THIS.RUS_state_rkdp_final_pop < 0.55 }
	}
	if = {
		limit = {
			ROOT = { 
				nsnp_in_power = yes
			}
		}
		check_variable = { THIS.RUS_state_nsnp_final_pop < 0.55 }
	}
	if = {
		limit = {
			ROOT = { 
				vns_in_power = yes
			}
		}
		check_variable = { THIS.RUS_state_vns_final_pop < 0.55 }
	}
	if = {
		limit = {
			ROOT = { 
				has_idea = RUS_Nikolay_S_Trubetskoy_hog_ade
			}
		}
		check_variable = { THIS.RUS_state_ep_final_pop < 0.55 }
	}
	if = {
		limit = {
			ROOT = { 
				has_idea = RUS_Boris_V_Savinkov_hog_npo
			}
		}
		check_variable = { THIS.RUS_state_nrpr_final_pop < 0.55 }
	}	
}
# requires a temp variable law_id
RUS_has_law_accepted = {
	custom_trigger_tooltip = {
		tooltip = RUS_has_law_accepted
		check_variable = { Duma_Bill_Status^law_id = 3 }
	}
}
RUS_has_law_blocked = {
	custom_trigger_tooltip = {
		tooltip = RUS_has_law_blocked
		check_variable = { Duma_Bill_Status^law_id = 4 }
	}
}
RUS_has_law_in_vote = {
	custom_trigger_tooltip = {
		tooltip = RUS_has_law_in_vote
		check_variable = { Duma_Bill_Status^law_id = 2 }
	}
}
is_general_rrf_state = {
	OR = {
		state = 257
		state = 255 #Penza
		state = 258
		state = 254 #Ryazan
		state = 223
		state = 205
		state = 222
		state = 1205
		state = 1204
		state = 1203
		state = 248
		state = 260
		state = 220 #Kursk
		state = 1229
		state = 821
		state = 224 #Bryansk
		state = 240 #Belgorod
		state = 242 #Smolensk
		state = 250 #Simbisrk
		state = 252 #Nizhny Novgorod
		state = 253 #Vladimir
		state = 256 #Cheboksary
		state = 263 #Novgorod
		state = 755 #Vitebsk
		state = 880 #Vitebsk
	}
}
is_core_rrf_state = {
	OR = {
		state = 257
		state = 258
		state = 254
		state = 223
		state = 205
		state = 224
		state = 220
		state = 821
		state = 1229
		state = 222
		state = 240
		state = 260
	}
}
RUS_siberian_insurgency_can_control_state = {
	if = {
		limit = {
			FROM = { 
				OR = {
					state = 566
					state = 567 
				}
			}
		}
		568 = { is_demilitarized_zone = no }
	}
	if = {
		limit = {
			FROM = { state = 571 }
		}
		403 = { 
			is_demilitarized_zone = no
		}
	}
	if = {
		limit = {
			FROM = { state = 570 }
		}
		571 = { 
			is_demilitarized_zone = no
		}
	}
	if = {
		limit = {
			FROM = { state = 568 }
		}
		570 = { 
			is_demilitarized_zone = no
		}
	}
}	
SOV_any_bolshevik_in_power = {
	custom_trigger_tooltip = {
		tooltip = RUS_Bolsheviks_or_NSP_power_tooltip
		OR = {
			SOV_hardliners_in_power = yes #Molotov, Kaganovich, Yagoda, Yezhov
			SOV_left_communists_in_power = yes #Zinoviev, Krestinsky, Radek, Blagonravov
			SOV_moderate_bolsheviks_in_power = yes #Sokolnikov, Kalinin, Kamenev
			SOV_workers_opposition_in_power = yes #Tomsky, Shlyapnikov, Kollontai
			SOV_bukharin_in_power = yes
			SOV_rykov_in_power = yes
			SOV_zhdanov_in_power = yes
			SOV_ryutin_in_power = yes
			SOV_kosygin_in_power = yes
			SOV_kuznetsov_in_power = yes
			SOV_kirov_in_power = yes
			SOV_lunacharsky_in_power = yes
			SOV_mayakovsky_in_power = yes
			SOV_gastev_in_power = yes
			RUS_mikhail_tukhachevsky_in_power = yes
			RUS_mikhail_frunze_in_power = yes
			SOV_zhukov_in_power = yes
			SOV_krupskaya_in_power = yes
			SOV_bogdanov_in_power = yes
			SOV_polyansky_in_power = yes
		}
	}
}
SOV_mayakovsky_in_power = {
	has_country_leader = {
		ruling_only = yes
		name = "Vladimir Mayakovsky"
	}
}
SOV_gastev_in_power = {
	has_country_leader = {
		ruling_only = yes
		name = "Aleksei Gastev"
	}
}
SOV_zhukov_in_power = {
	has_country_leader = {
		ruling_only = yes
		name = "Georgy Zhukov"
	}
}
SOV_krupskaya_in_power = {
	has_country_leader = {
		ruling_only = yes
		name = "Nadezhda Krupskaya"
	}
}
SOV_bogdanov_in_power = {
	has_country_leader = {
		ruling_only = yes
		name = "Aleksandr Bogdanov"
	}
}
SOV_polyansky_in_power = {
	has_country_leader = {
		ruling_only = yes
		name = "Valerian Polyansky"
	}
}

SOV_hardliners_in_power = {
	OR = {
		SOV_yezhov_in_power = yes
		SOV_molotov_in_power = yes
		SOV_yagoda_in_power = yes
		SOV_kaganovich_in_power = yes
	}
}
SOV_left_communists_in_power = {
	OR = {
		SOV_zinoviev_in_power = yes
		SOV_krestinsky_in_power = yes
		SOV_radek_in_power = yes
		SOV_blagonravov_in_power = yes
	}
}
SOV_moderate_bolsheviks_in_power = {
	OR = {
		SOV_sokolnikov_in_power = yes
		SOV_kamenev_in_power = yes
		has_country_leader = {
			ruling_only = yes
			name = "Congress of Soviets"
		}
	}
}
SOV_zinoviev_in_power = {
	has_country_leader = {
		ruling_only = yes
		name = "Grigory Zinoviev"
	}	
}
SOV_radek_in_power = {
	has_country_leader = {
		ruling_only = yes
		name = "Karl Radek"
	}	
}
SOV_lunacharsky_in_power = {
	has_country_leader = {
		ruling_only = yes
		name = "Anatoly Lunacharsky"
	}
}
SOV_kalinin_in_power = {	
	has_country_leader = {
		ruling_only = yes
		name = "Mikhail Kalinin"
	}	
}
SOV_yezhov_in_power = {
	has_country_leader = {
		name = "Nikolay Yezhov"
		ruling_only = yes
	}		
}
SOV_molotov_in_power = {	
	has_country_leader = {
		ruling_only = yes
		name = "Vyacheslav Molotov"
	}		
}
SOV_krestinsky_in_power = {	
	has_country_leader = {
		ruling_only = yes
		name = "Nikolay Krestinsky"
	}	
}
SOV_yagoda_in_power = {	
	has_country_leader = {
		ruling_only = yes
		name = "Genrikh Yagoda"
	}		
}
SOV_kaganovich_in_power = {	
	has_country_leader = {
		ruling_only = yes
		name = "Lazar Kaganovich"
	}		
}
SOV_blagonravov_in_power = {	
	has_country_leader = {
		ruling_only = yes
		name = "Georgy Blagonravov"
	}	
}
SOV_zhdanov_in_power = {
	has_country_leader = { ruling_only = yes name = "Andrei Zhdanov" }
}
SOV_kuznetsov_in_power = {
	has_country_leader = { ruling_only = yes name = "Aleksey Kuznetsov" }
}
SOV_kosygin_in_power = {
	has_country_leader = { ruling_only = yes name = "Aleksey Kosygin" }
}
SOV_ryutin_in_power = {
	has_country_leader = { ruling_only = yes name = "Martemyan Ryutin" }
}
SOV_kirov_in_power = {
	has_country_leader = { name = "Sergey Kirov" ruling_only = yes }
}
SOV_sokolnikov_in_power = {
	has_country_leader = { ruling_only = yes name = "Grigory Sokolnikov" }	
}
SOV_kamenev_in_power = {	
	has_country_leader = { ruling_only = yes name = "Lev Kamenev" }	
}
SOV_shlyapnikov_in_power = {
	has_country_leader = { name = "Aleksandr Shlyapnikov" ruling_only = yes }
}
SOV_kollontai_in_power = {	
	has_country_leader = { name = "Aleksandra Kollontai" ruling_only = yes }
}
SOV_tomsky_in_power = {	
	has_country_leader = { name = "Mikhail Tomsky" ruling_only = yes }
}
SOV_workers_opposition_in_power = {
	OR = {
		SOV_shlyapnikov_in_power = yes
		SOV_kollontai_in_power = yes
		SOV_tomsky_in_power = yes
	}
}
SOV_bukharin_in_power = {
	has_country_leader = { name = "Nikolay Bukharin" ruling_only = yes }
}
SOV_rykov_in_power = {
	has_country_leader = { name = "Aleksey Rykov" ruling_only = yes }
}
has_russian_unification_superevent = {
	OR = {
		has_idea = RUS_Nikolay_I_Bukharin_hog_rso
		has_country_leader = {
			name = "Maria Spiridonova"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Boris Kamkov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Isaak Shteinberg"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Vladimir Trutovsky"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Vladimir Karelin"
			ruling_only = yes
		}
		has_idea = RUS_Yakov_Fishman_hog_tot
		has_country_leader = {
			name = "Yakov Fishman"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Mikhail Tomsky"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Aleksandr Shlyapnikov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Aleksandra Kollontai"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Sergey Kirov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Aleksey Rykov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Andrei Zhdanov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Grigory Zinoviev"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Lev Kamenev"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Nikolay Yezhov"
			ruling_only = yes
		}
		has_idea = RUS_Georgy_Blagonravov_hog_tot
		has_idea = RUS_Genrikh_Yagoda_hog_tot
		has_idea = RUS_Nikolay_Krestinsky_hog_tot
		has_idea = RUS_Vyacheslav_Molotov_hog_tot
		has_completed_focus = SOV_Chairman_Mayakovsky
		has_completed_focus = SOV_Chairman_Gastev		
		has_country_leader = {
			name = "Anatoly Lunacharsky"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Grigory Sokolnikov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Mikhail Kalinin"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Georgy Zhukov"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Mikhail Frunze"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Mikhail Tukhachevsky"
			ruling_only = yes
		}
		has_idea = RUS_Rafail_Abramovich_hog_sde
		has_idea = RUS_Vladimir_K_Volsky_hog_rso
		has_completed_focus = SOV_Tsentrobalt_In_Control
		has_country_leader = {
			name = "Grigory Semyonov"
			ruling_only = yes
		}
		TRM_nra_in_power = yes
		AND = {
			tag = TRM
			OR = {
				has_democratic_government = yes
				has_country_leader = {
					ruling_only = yes
					name = "Aleksandr Kolchak"
				}
				RUS_russian_monarch = yes
				has_government = totalist
				has_government = national_populist
			}
		}
		nsnp_in_power = yes
		RUS_savinkov_in_power = yes
		has_cosmetic_tag = RUS_EUR
		has_cosmetic_tag = RUS_EUR_bolshevist
		has_cosmetic_tag = RUS_EUR_national_maximalist
		has_cosmetic_tag = RUS_EUR_empire
		RUS_russian_monarch = yes
		RUS_wrangel_in_power = yes
		RUS_wrangel_tsar_in_power = yes
		RUS_kornilov_in_power = yes
		has_idea = RUS_Vladimir_M_Zenzinov_hog_sde
		has_idea = RUS_Irakliy_G_Tsereteli_hog_sde
		has_government = market_liberal
		has_idea = RUS_Vladimir_D_Nabokov_hog_mli
		has_idea = RUS_Aleksandr_I_Konovalov_hog_mli
		has_government = social_liberal
		has_idea = RUS_Pavel_N_Milyukov_hog_sli
		has_idea = RUS_Nikolay_V_Nekrasov_hog_sli
		vns_in_power = yes
		has_country_leader = {
			name = "Alexandr Kerensky"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Pavel Gorgulov"
			ruling_only = yes
		}
		RUS_denikin_in_power = yes
		has_country_leader = {
			name = "Mikhail Drozdovsky"
			ruling_only = yes
		}
		has_country_leader = {
			name = "Viktor Abakumov"
			ruling_only = yes
		}
		AND = {
			tag = MON
			MON_sternberg_in_power = yes
		}
		AND = {
			tag = DKB
			OR = {
				has_socialist_government = no
				has_completed_focus = DKB_the_foreigners_coup
				has_completed_focus = DKB_KONR_in_Power
				has_socialist_government = yes
			}
		}
	}
}
is_possible_equal_soviet_republic_tag = {
	is_possible_soviet_republic_tag = yes
	is_subject = no
	exists = yes
}
is_possible_soviet_republic_tag = {
	OR = {
		original_tag = UKR
		original_tag = WHR
		original_tag = GEO
		original_tag = AZE
		original_tag = ARM
		original_tag = EST
		original_tag = LAT
		original_tag = LIT
		original_tag = BAT
		original_tag = UZB
		original_tag = KHI
		original_tag = MON
		original_tag = ABK
		original_tag = FIN
		original_tag = POL
		original_tag = EPR
		AND = {
			original_tag = BUL
			has_country_flag = SOV_bulgaria_16th_republic
		}
	}
}
is_possible_autonomous_soviet_republic_tag = {
	OR = {
		is_possible_soviet_republic_tag = yes
		original_tag = CRM
		original_tag = KAR
		original_tag = DKB
		original_tag = KLY
		original_tag = KUB
		original_tag = MTR
		original_tag = TRM
		original_tag = MOL
		original_tag = BRY
		original_tag = YAK
		original_tag = WSU
		original_tag = ALO
		original_tag = KYR
		original_tag = ORE
		original_tag = URL
		original_tag = BKN
		original_tag = TTR
		original_tag = TRK
	}
}
SOV_tomsky_leader = {
	check_variable = { SOV_tomsky_influence > SOV_rykov_influence }
	check_variable = { SOV_tomsky_influence > SOV_kirov_influence }
}
SOV_rykov_leader = {
	check_variable = { SOV_rykov_influence > SOV_tomsky_influence }
	check_variable = { SOV_rykov_influence > SOV_kirov_influence }
}
SOV_kirov_leader = {
	check_variable = { SOV_kirov_influence > SOV_tomsky_influence }
	check_variable = { SOV_kirov_influence > SOV_rykov_influence }
}
SOV_bukharin_leader = {
	set_temp_variable = { SOV_bukharin_influence_temp = SOV_bukharin_influence }
	add_to_temp_variable = { SOV_bukharin_influence_temp = SOV_kirov_influence }
	set_temp_variable = { SOV_rykov_influence_temp = SOV_rykov_influence }
	add_to_temp_variable = { SOV_rykov_influence_temp = SOV_tomsky_influence }
	
	check_variable = { SOV_bukharin_influence_temp > SOV_rykov_influence_temp }
}
# unit leader scope
RUS_is_cossack_leader = {
	OR = {
		has_trait = cossack_leader
		has_trait = RUS_ural_cossack
		has_trait = RUS_semirechye_cossack
		has_trait = RUS_don_cossack
		has_trait = RUS_lineytsy_cossack
		has_trait = RUS_kuban_cossack
		has_trait = RUS_far_eastern_cossack
		has_trait = RUS_astrakhan_cossack
		has_trait = RUS_terek_cossack
		has_trait = RUS_orenburg_cossack
	}
}

RUS_find_election_winner = {
	add_to_temp_array = { RUS_election_winner = Duma_Party_Seats^0 }
	add_to_temp_array = { RUS_election_winner = Duma_Party_Seats^1 }
	add_to_temp_array = { RUS_election_winner = Duma_Party_Seats^2 }
	add_to_temp_array = { RUS_election_winner = Duma_Party_Seats^3 }
	add_to_temp_array = { RUS_election_winner = Duma_Party_Seats^4 }
	add_to_temp_array = { RUS_election_winner = Duma_Party_Seats^5 }
	add_to_temp_array = { RUS_election_winner = Duma_Party_Seats^6 }
	add_to_temp_array = { RUS_election_winner = Duma_Party_Seats^7 }
	add_to_temp_array = { RUS_election_winner = Duma_Party_Seats^8 }
	add_to_temp_array = { RUS_election_winner = Duma_Party_Seats^9 }
	add_to_temp_array = { RUS_election_winner = Duma_Party_Seats^10 }
	add_to_temp_array = { RUS_election_winner = Duma_Party_Seats^11 }
	add_to_temp_array = { RUS_election_winner = Duma_Party_Seats^12 }
	find_highest_in_array = { array = RUS_election_winner }
}

RUS_wide_popular_front_victory_in_elections = {	
	has_country_flag = RUS_wide_popular_front_coalition
	OR = {
		RUS_nsp_victory_in_elections = yes
		RUS_rsdrp_victory_in_elections = yes
		RUS_psr_victory_in_elections = yes
	}
}
RUS_popular_front_victory_in_elections = {	
	has_country_flag = RUS_popular_front_coalition
	OR = {
		RUS_nsp_victory_in_elections = yes
		RUS_rsdrp_victory_in_elections = yes
	}
}
RUS_nsp_victory_in_elections = {
	RUS_find_election_winner = yes
	check_variable = { i = 2 }
}
RUS_psr_victory_in_elections = {
	RUS_find_election_winner = yes
	check_variable = { i = 3 }
}
RUS_rsdrp_victory_in_elections = {
	RUS_find_election_winner = yes
	check_variable = { i = 4 }
}
RUS_psr_rsdrp_victory_in_elections = {
	has_country_flag = RUS_psr_rsdrp_coalition
	OR = {
		RUS_psr_victory_in_elections = yes 
		RUS_rsdrp_victory_in_elections = yes 
	}
}
RUS_lkdp_victory_in_elections = {
	RUS_find_election_winner = yes
	check_variable = { i = 5 }
}
RUS_rrdo_victory_in_elections = {
	OR = {
		has_country_flag = RUS_psr_kdp_coalition
		has_country_flag = RUS_soclibs_rrdo
	}
	OR = {
		RUS_psr_victory_in_elections = yes
		RUS_lkdp_victory_in_elections = yes
	}
}
RUS_kdp_victory_in_elections = {
	RUS_lkdp_victory_in_elections = yes
	has_country_flag = kdp_united
}
RUS_pp_victory_in_elections = {
	RUS_find_election_winner = yes
	check_variable = { i = 6 }
}
RUS_rkdp_victory_in_elections = {
	RUS_find_election_winner = yes
	check_variable = { i = 7 }
}
RUS_dembloc_victory_in_elections = {
	has_country_flag = democratic_block_coalition
	OR = {
		RUS_psr_victory_in_elections = yes
		RUS_rsdrp_victory_in_elections = yes
		RUS_kdp_victory_in_elections = yes
	}
}
RUS_vns_victory_in_elections = {
	RUS_find_election_winner = yes
	check_variable = { i = 8 }
}
RUS_kdp_vns_victory_in_elections = {
	has_country_flag = RUS_kdp_vns_coalition
	OR = {
		RUS_kdp_victory_in_elections = yes
		RUS_vns_victory_in_elections = yes
	}
}
RUS_nsnp_victory_in_elections = {
	RUS_find_election_winner = yes
	check_variable = { i = 11 }
}
RUS_nrpr_victory_in_elections = {
	RUS_find_election_winner = yes
	check_variable = { i = 12 }
}

RUS_law_duma_level_deadline_trigger = {	
	if = {
		limit = { has_country_flag = RUS_LAW_CHANGING_CONSTITUTION }
		custom_trigger_tooltip = {
			tooltip = RUS_law_duma_level_deadline_trigger_1
			OR = {
				check_variable = { CurrentOverallSupport > two_thirds_duma_plus_one }
				check_variable = { CurrentOverallSupport = two_thirds_duma_plus_one }
			}
		}
	}
	else = {
		custom_trigger_tooltip = {
			tooltip = RUS_law_duma_level_deadline_trigger_2
			OR = {
				check_variable = { CurrentOverallSupport > half_duma_plus_one }
				check_variable = { CurrentOverallSupport = half_duma_plus_one }
			}
		}
	}
}
RUS_law_senate_level_deadline_trigger = {	
	if = {
		limit = {
			has_country_flag = RUS_LAW_CHANGING_CONSTITUTION
		}
		custom_trigger_tooltip = {
			tooltip = RUS_law_senate_level_deadline_trigger_1
			OR = {
				check_variable = { CurrentOverallSenateSupport > two_thirds_senate_plus_one }
				check_variable = { CurrentOverallSenateSupport = two_thirds_senate_plus_one }
			}
		}
	}
	else = {
		custom_trigger_tooltip = {
			tooltip = RUS_law_senate_level_deadline_trigger_2
				OR = {
				check_variable = { CurrentOverallSenateSupport > half_senate_plus_one }
				check_variable = { CurrentOverallSenateSupport = half_senate_plus_one }
			}
		}
	}
}
SOV_has_council_of_labor_and_defense = {
	custom_trigger_tooltip = {
		tooltip = SOV_has_council_of_labor_and_defense
		OR = {
			has_idea = SOV_council_of_labor_and_defense_1
			has_idea = SOV_council_of_labor_and_defense_1_rykov
			has_idea = SOV_council_of_labor_and_defense_2
			has_idea = SOV_council_of_labor_and_defense_3
			has_idea = SOV_council_of_labor_and_defense_4
			has_idea = SOV_council_of_labor_and_defense_5
			has_idea = SOV_council_of_labor_and_defense_6
		}
	}
}
SOV_left_communists_more_or_equal_80 = {
	custom_trigger_tooltip = {
		tooltip = SOV_left_communists_more_or_equal_80
		OR = {
			AND = {
				OR = {
					check_variable = { Politburo_Centre_Faction_display > 0.8 }
					check_variable = { Politburo_Centre_Faction_display = 0.8 }
				}
				NOT = { has_country_flag = SOV_zinovievite_bukharinist_bloc_exists }
			}
			AND = {
				OR = {
					check_variable = { Politburo_ZinBukh_Faction_display > 0.8 }
					check_variable = { Politburo_ZinBukh_Faction_display = 0.8 }
				}
				has_country_flag = SOV_zinovievite_bukharinist_bloc_exists
			}
		}
	}
}
SOV_left_communists_more_or_equal_65 = {
	custom_trigger_tooltip = {
		tooltip = SOV_left_communists_more_or_equal_65
		OR = {
			AND = {
				OR = {
					check_variable = { Politburo_Centre_Faction_display > 0.65 }
					check_variable = { Politburo_Centre_Faction_display = 0.65 }
				}
				NOT = { has_country_flag = SOV_zinovievite_bukharinist_bloc_exists }
			}
			AND = {
				OR = {
					check_variable = { Politburo_ZinBukh_Faction_display > 0.65 }
					check_variable = { Politburo_ZinBukh_Faction_display = 0.65 }
				}
				has_country_flag = SOV_zinovievite_bukharinist_bloc_exists
			}
		}
	}
}
SOV_left_communists_more_70 = {
	custom_trigger_tooltip = {
		tooltip = SOV_left_communists_more_70
		OR = {
			AND = {
				check_variable = { Politburo_Centre_Faction_display > 0.7 }
				NOT = { has_country_flag = SOV_zinovievite_bukharinist_bloc_exists }
			}
			AND = {
				check_variable = { Politburo_ZinBukh_Faction_display > 0.7 }
				has_country_flag = SOV_zinovievite_bukharinist_bloc_exists
			}
		}
	}
}
SOV_left_communists_more_50 = {
	custom_trigger_tooltip = {
		tooltip = SOV_left_communists_more_50
		OR = {
			AND = {
				check_variable = { Politburo_Centre_Faction_display > 0.5 }
				NOT = { has_country_flag = SOV_zinovievite_bukharinist_bloc_exists }
			}
			AND = {
				check_variable = { Politburo_ZinBukh_Faction_display > 0.5 }
				has_country_flag = SOV_zinovievite_bukharinist_bloc_exists
			}
		}
	}
}
SOV_hardliners_more_50 = {
	custom_trigger_tooltip = {
		tooltip = SOV_hardliners_more_50
		check_variable = { Politburo_Hardliner_Faction_display > 0.5 }
	}
}
SOV_hardliners_more_5 = {
	custom_trigger_tooltip = {
		tooltip = SOV_hardliners_more_5
		check_variable = { Politburo_Hardliner_Faction_display > 0.05 }
	}
}
SOV_zinoviev_constitution_adopted = {
	custom_trigger_tooltip = {
		tooltip = SOV_zinoviev_constitution_adopted
		OR = {
			has_idea = SOV_zinoviev_constitution_1
			has_idea = SOV_zinoviev_constitution_1_2
			has_idea = SOV_zinoviev_constitution_2
			has_idea = SOV_zinoviev_constitution_2_2
			has_idea = SOV_zinoviev_constitution_3
			has_idea = SOV_zinoviev_constitution_3_2
		}
	}
}