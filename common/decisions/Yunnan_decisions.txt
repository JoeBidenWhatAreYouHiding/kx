###############################
# Yunnan Decisions			  #
# By Drozdovite and Angry Bird#
###############################

### (pre)-civil war missions/decisions

YUN_SAVE_YOURSELF_TANG = {
	YUN_TANG_REACT_mission = {
		icon = generic_prepare_civil_war
		allowed = {
			tag = YUN
		}
		available = {
			has_country_flag = YUN_crisis_averted
		}
		visible = {
			tag = YUN
			has_country_leader = {
				name = "Tang Jiyao"
				ruling_only = yes
			}
		}
		cancel_trigger = {
			OR = {
				has_completed_focus = YUN_purge_high_command
				NOT = {
					has_country_leader = {
						name = "Tang Jiyao"
						ruling_only = yes
					}
				}
			}
		}
		activation = {
			always = no
		}
		fire_only_once = yes
		is_good = no
		days_mission_timeout = 150
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout YUN_TANG_REACT_mission"
			add_stability = -0.15
			add_war_support = -0.10
			add_political_power = -100
			country_event = yun.58
			set_country_flag = YUN_TT_time_has_run_out
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_TANG_REACT_mission"
			add_stability = 0.05
			add_political_power = 100
		}
	}
	YUN_TANG_gather_support_mission = {
		icon = generic_prepare_civil_war
		allowed = {
			tag = YUN
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = YUN_republican_support_CTT
				has_country_flag = {
					flag = YUN_republican_support
					value > 5
				}
			}
		}
		visible = {
			tag = YUN
			has_country_leader = {
				name = "Tang Jiyao"
				ruling_only = yes
			}
		}
		cancel_trigger = {
			NOT = {
				has_country_leader = {
					name = "Tang Jiyao"
					ruling_only = yes
				}
			}
		}
		activation = {
			always = no
		}
		fire_only_once = yes
		is_good = no
		days_mission_timeout = 150
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout YUN_TANG_gather_support_mission"
			add_stability = -0.15
			add_war_support = -0.10
			add_political_power = -100
			country_event = yun.70
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_TANG_gather_support_mission"
			add_stability = 0.05
			add_political_power = 100
			hidden_effect = {
				set_country_flag = YUN_position_secured
			}
		}
	}
}

### attempt to make decisons for puppting

YUN_TANG_TRINUTARY = {
	YUN_TANG_TIBET = {
		icon = generic_prepare_civil_war
		allowed = {
			tag = YUN
		}
		available = {
			has_country_flag  = YUN_tang_go_big_i_guess
			TIB = {
				exists = yes
			}
			NOT = {
				is_in_faction_with = TIB
			}
			NOT = {
				is_subject_of = YUN
			}
		}
		visible = {
			tag = YUN
			has_country_flag  = YUN_tang_go_big_i_guess
		}
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_TANG_gather_support_mission"
			TIB = {
			country_event = {
				id = yun_tanglarp.9
				days = 2
			}
			}
		}
	}

	YUN_TANG_MONGOLIA = {
		icon = generic_prepare_civil_war
		allowed = {
			tag = YUN
		}
		available = {
			has_country_flag  = YUN_tang_go_big_i_guess
			MON = {
				exists = yes
			}
			NOT = {
				is_in_faction_with = MON
			}
			NOT = {
				is_subject_of = YUN
			}
		}
		visible = {
			tag = YUN
			has_country_flag  = YUN_tang_go_big_i_guess
		}
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_TANG_gather_support_mission"
			MON = {
			country_event = {
				id = yun_tanglarp.9
				days = 2
			}
			}
		}
	}

	YUN_TANG_KUMMAL = {
		icon = generic_prepare_civil_war
		allowed = {
			tag = YUN
		}
		available = {
			has_country_flag  = YUN_tang_go_big_i_guess
			TAN = {
				exists = yes
			}
			NOT = {
				is_in_faction_with = TAN
			}
			NOT = {
				is_subject_of = YUN
			}
		}
		visible = {
			tag = YUN
			has_country_flag  = YUN_tang_go_big_i_guess
		}
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_TANG_gather_support_mission"
			TAN = {
			country_event = {
				id = yun_tanglarp.9
				days = 2
			}
			}
		}
	}

	YUN_TANG_EAST_TRKUSTAN = {
		icon = generic_prepare_civil_war
		allowed = {
			tag = YUN
		}
		available = {
			has_country_flag  = YUN_tang_go_big_i_guess
			ETS = {
				exists = yes
			}
			NOT = {
				is_in_faction_with = ETS
			}
			NOT = {
				is_subject_of = YUN
			}
		}
		visible = {
			tag = YUN
			has_country_flag  = YUN_tang_go_big_i_guess
		}
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_TANG_gather_support_mission"
			ETS = {
			country_event = {
				id = yun_tanglarp.9
				days = 2
			}
			}
		}
	}

	YUN_TANG_NORMAL_TRUKESTAN = {
		icon = generic_prepare_civil_war
		allowed = {
			tag = YUN
		}
		available = {
			has_country_flag  = YUN_tang_go_big_i_guess
			TRK = {
				exists = yes
			}
			NOT = {
				is_in_faction_with = TRK
			}
			NOT = {
				is_subject_of = YUN
			}
		}
		visible = {
			tag = YUN
			has_country_flag  = YUN_tang_go_big_i_guess
		}
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_TANG_gather_support_mission"
			TRK = {
			country_event = {
				id = yun_tanglarp.9
				days = 2
			}
			}
		}
	}

	YUN_TANG_KHANATE_CENTERAL_AISA= {
		icon = generic_prepare_civil_war
		allowed = {
			tag = YUN
		}
		available = {
			has_country_flag  = YUN_tang_go_big_i_guess
			UZB = {
				exists = yes
			}
			NOT = {
				is_in_faction_with = UZB
			}
			NOT = {
				is_subject_of = YUN
			}
		}
		visible = {
			tag = YUN
			has_country_flag  = YUN_tang_go_big_i_guess
		}
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_TANG_gather_support_mission"
			UZB = {
			country_event = {
				id = yun_tanglarp.9
				days = 2
			}
			}
		}
	}

	YUN_TANG_KOKLAND_BALLS = {
		icon = generic_prepare_civil_war
		allowed = {
			tag = YUN
		}
		available = {
			has_country_flag  = YUN_tang_go_big_i_guess
			KYR = {
				exists = yes
			}
			NOT = {
				is_in_faction_with = KYR
			}
			NOT = {
				is_subject_of = YUN
			}
		}
		visible = {
			tag = YUN
			has_country_flag  = YUN_tang_go_big_i_guess
		}
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_TANG_gather_support_mission"
			KYR = {
			country_event = {
				id = yun_tanglarp.9
				days = 2
			}
			}
		}
	}

	YUN_TANG_KAZHAKSTAN= {
		icon = generic_prepare_civil_war
		allowed = {
			tag = YUN
		}
		available = {
			has_country_flag  = YUN_tang_go_big_i_guess
			ALO = {
				exists = yes
			}
			NOT = {
				is_in_faction_with = ALO
			}
			NOT = {
				is_subject_of = YUN
			}
		}
		visible = {
			tag = YUN
			has_country_flag  = YUN_tang_go_big_i_guess
		}
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_TANG_gather_support_mission"
			ALO = {
			country_event = {
				id = yun_tanglarp.9
				days = 2
			}
			}
		}
	}

	YUN_TANG_KOREA = {
		icon = generic_prepare_civil_war
		allowed = {
			tag = YUN
		}
		available = {
			has_country_flag  = YUN_tang_go_big_i_guess
			KOR = {
				exists = yes
			}
			NOT = {
				is_in_faction_with = KOR
			}
			NOT = {
				is_subject_of = YUN
			}
		}
		visible = {
			tag = YUN
			has_country_flag  = YUN_tang_go_big_i_guess
		}
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_TANG_gather_support_mission"
			KOR = {
			country_event = {
				id = yun_tanglarp.9
				days = 2
			}
			}
		}
	}

	YUN_TANG_BURMA = {
		icon = generic_prepare_civil_war
		allowed = {
			tag = YUN
		}
		available = {
			has_country_flag  = YUN_tang_go_big_i_guess
			BRM = {
				exists = yes
			}
			NOT = {
				is_in_faction_with = BRM
			}
			NOT = {
				is_subject_of = YUN
			}
		}
		visible = {
			tag = YUN
			has_country_flag  = YUN_tang_go_big_i_guess
		}
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_TANG_gather_support_mission"
			BRM = {
			country_event = {
				id = yun_tanglarp.9
				days = 2
			}
			}
		}
	}

	YUN_TANG_SIAM = {
		icon = generic_prepare_civil_war
		allowed = {
			tag = YUN
		}
		available = {
			has_country_flag  = YUN_tang_go_big_i_guess
			SIA = {
				exists = yes
			}
			NOT = {
				is_in_faction_with = SIA
			}
			NOT = {
				is_subject_of = YUN
			}
		}
		visible = {
			tag = YUN
			has_country_flag  = YUN_tang_go_big_i_guess
		}
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_TANG_gather_support_mission"
			SIA = {
			country_event = {
				id = yun_tanglarp.9
				days = 2
			}
			}
		}
	}

	YUN_TANG_INDOCHINA = {
		icon = generic_prepare_civil_war
		allowed = {
			tag = YUN
		}
		available = {
			has_country_flag  = YUN_tang_go_big_i_guess
			INC = {
				exists = yes
			}
			NOT = {
				is_in_faction_with = INC
			}
			NOT = {
				is_subject_of = YUN
			}
		}
		visible = {
			tag = YUN
			has_country_flag  = YUN_tang_go_big_i_guess
		}
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_TANG_gather_support_mission"
			INC = {
			country_event = {
				id = yun_tanglarp.9
				days = 2
			}
			}
		}
	}
}

### decisions to buy equipment

YUN_Buying_artillery_decisions = {
	YUN_buying_arty_1 = {
		icon = GFX_decision_ger_military_buildup
		allowed = {
			tag = YUN
		}
		available = {
			has_tech = gw_artillery
			NOT = { has_tech = artillery1 }
		}
		visible = {
			NOT = {
				has_tech = artillery1
			}
		}
		cost = 50
		days_remove = 30
		days_re_enable = 60
		ai_will_do = {
			factor = 0
			modifier = {
				add = 100
				has_equipment = {
					artillery_equipment_1 < 0
				}
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_buying_arty_1"
			add_equipment_to_stockpile = {
				type = artillery_equipment_1
				amount = 100
				producer = YUN
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_buying_arty_1"
		}
	}
	YUN_buying_arty_2 = {
		icon = GFX_decision_ger_military_buildup
		allowed = {
			tag = YUN
		}
		available = {
			has_tech = artillery1
			NOT = { has_tech = artillery4 }
		}
		visible = {
			has_tech = artillery1
			NOT = {
				has_tech = artillery4
			}
		}
		cost = 50
		days_remove = 30
		days_re_enable = 60
		ai_will_do = {
			factor = 0
			modifier = {
				add = 100
				has_equipment = {
					artillery_equipment < 0
				}
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_buying_arty_2"
			add_equipment_to_stockpile = {
				type = artillery_equipment_2
				amount = 100
				producer = YUN
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_buying_arty_2"
		}
	}

	YUN_buying_arty_3 = {
		icon = GFX_decision_ger_military_buildup
		allowed = {
			tag = YUN
		}
		available = {
			has_tech = artillery4
		}
		visible = {
			has_tech = artillery4
		}
		cost = 50
		days_remove = 30
		days_re_enable = 60
		ai_will_do = {
			factor = 0
			modifier = {
				add = 100
				has_equipment = {
					artillery_equipment < 0
				}
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_buying_arty_3"
			add_equipment_to_stockpile = {
				type = artillery_equipment_3
				amount = 100
				producer = YUN
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_buying_arty_3"
		}
	}
}
YUN_Buying_fighters_decisions = {
	YUN_buying_fighters = {
		icon = GFX_decision_generic_air
		allowed = {
			tag = YUN
		}
		available = {
			has_tech = early_fighter
		}
		visible = {
			has_tech = early_fighter
			NOT = { has_tech = fighter1 }
		}
		cost = 50
		days_remove = 15
		days_re_enable = 60
		ai_will_do = {
			factor = 0
			modifier = {
				add = 100
				has_equipment = {
					fighter_equipment < 1
				}
			}
			##AI will start producing planes by themselves soon
			modifier = {
				add = -50
				YUN = { num_of_military_factories > 10 }
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_buying_fighters"
			add_equipment_to_stockpile = {
				type = fighter_equipment_0
				amount = 25
				producer = YUN
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_buying_fighters"

		}
	}
	YUN_buying_fighters2 = {
		icon = GFX_decision_generic_air
		allowed = {
			tag = YUN
		}
		available = {
			has_tech = fighter1
		}
		visible = {
			has_tech = fighter1
		}
		cost = 50
		days_remove = 15
		days_re_enable = 60
		ai_will_do = {
			base = 50
			modifier = {
				factor = 2
				has_equipment = {
					fighter_equipment < 1
				}
			}
			##AI will start producing planes by themselves soon
			modifier = {
				add = -50
				YUN = { num_of_military_factories > 10 }
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_buying_fighters"
			add_equipment_to_stockpile = {
				type = fighter_equipment_1
				amount = 25
				producer = YUN
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_buying_fighters"

		}
	}
}

### Sending guns to Indochina

YUN_helping_indochinese_revolt = {
	YUN_Help_Indochina_with_guns = {
		icon = GFX_decision_generic_air
		allowed = {
			tag = YUN
		}
		custom_cost_trigger = {
			has_equipment = { infantry_equipment > 1999 }
		}
		custom_cost_text = 2000_infantry_equipment_1
		days_remove = 15
		days_re_enable = 180
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_equipment = { infantry_equipment < 2000 }
			}
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_Help_Indochina_with_guns"
			send_equipment = { target = INC type = infantry_equipment amount = 2000 }
			INC = {
				country_event = { id = yun.101 }
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_Help_Indochina_with_guns"
			add_opinion_modifier = {
				target = INC modifier = YUN_helped_us_in_our_revolt
			}
			reverse_add_opinion_modifier = {
				target = INC modifier = YUN_helped_us_in_our_revolt
			}
		}
	}
}

### decisions to integrate non-chinese states

YUN_integrating_areas = {
	YUN_begin_integrating_kachin = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 701
		}
		days_remove = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 30
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_begin_integrating_kachin"
			701 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.30
					}
				}
			}
			country_event = { id = yun.300 days = 3 }
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_begin_integrating_kachin"

		}
	}
	YUN_status_of_the_kachin_people = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 701
		}
		days_remove = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 30
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_status_of_the_kachin_people"
			701 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.30
					}
				}
			}
			set_country_flag = YUN_integration_2
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_status_of_the_kachin_people"

		}
	}
	YUN_legislative_measures_to_appease_the_kachin = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 701
		}
		available = {
			has_country_flag = YUN_integration_2
		}
		days_remove = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 30
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_legislative_measures_to_appease_the_kachin"
			701 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.30
					}
				}
			}
			set_country_flag = YUN_integration_3
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_legislative_measures_to_appease_the_kachin"

		}
	}
	YUN_investments_in_kachin = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 701
		}
		available = {
			has_country_flag = YUN_integration_3
			num_of_civilian_factories_available_for_projects > 2
		}
		days_remove = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 30
		modifier = {
			civilian_factory_use = 3
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_investments_in_kachin"
			701 = {
				add_core_of = YUN
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_investments_in_kachin"

		}
	}
	YUN_integrating_wa_states_and_kokang = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 72
		}
		days_remove = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 30
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_integrating_wa_states_and_kokang"
			72 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			country_event = { id = yun.304 days = 3 }
			set_country_flag = YUN_integration_shan_1
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_integrating_wa_states_and_kokang"

		}
	}
	YUN_integrating_hsenwi = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 72
		}
		available = {
			has_country_flag = YUN_integration_shan_1
		}
		days_remove = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 25
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_integrating_hsenwi"
			72 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			country_event = { id = yun.305 days = 3 }
			set_country_flag = YUN_integration_shan_2
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_integrating_hsenwi"

		}
	}
	YUN_integrating_mongmit_taupeng = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 72
		}
		available = {
			has_country_flag = YUN_integration_shan_2
		}
		days_remove = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 25
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_integrating_mongmit_taupeng"
			72 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			country_event = { id = yun.306 days = 3 }
			set_country_flag = YUN_integration_shan_3
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_integrating_mongmit_taupeng"

		}
	}
	YUN_integrating_hsipaw = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 72
		}
		available = {
			has_country_flag = YUN_integration_shan_3
		}
		days_remove = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 25
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_integrating_hsipaw"
			72 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			country_event = { id = yun.307 days = 3 }
			set_country_flag = YUN_integration_shan_4
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_integrating_hsipaw"

		}
	}
	YUN_integrating_mongpan_and_mawkmai = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 72
		}
		available = {
			has_country_flag = YUN_integration_shan_4
		}
		days_remove = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 25
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_integrating_mongpan_and_mawkmai"
			72 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			country_event = { id = yun.308 days = 3 }
			set_country_flag = YUN_integration_shan_5
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_integrating_mongpan_and_mawkmai"

		}
	}
	YUN_integrating_pinlaung_and_the_southwest = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 72
		}
		available = {
			has_country_flag = YUN_integration_shan_5
		}
		days_remove = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 25
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_integrating_pinlaung_and_the_southwest"
			72 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			#country_event = { id = yun.309 days = 3 }
			set_country_flag = YUN_integration_shan_6
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_integrating_pinlaung_and_the_southwest"

		}
	}
	YUN_integrate_hsatung_and_the_south = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 72
		}
		available = {
			has_country_flag = YUN_integration_shan_6
		}
		days_remove = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 25
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_integrate_hsatung_and_the_south"
			72 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			set_country_flag = YUN_integration_shan_7
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_integrate_hsatung_and_the_south"

		}
	}
	YUN_integrate_Mongmau_and_mehsakun = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 72
		}
		available = {
			has_country_flag = YUN_integration_shan_7
		}
		days_remove = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 25
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_integrate_Mongmau_and_mehsakun"
			72 = {
				add_core_of = YUN
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_integrate_Mongmau_and_mehsakun"

		}
	}
	YUN_integrate_all_the_states_starting_with_mo = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 756
		}
		available = {
			72 = {
				is_core_of = YUN
			}
		}
		days_remove = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 25
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_integrate_all_the_states_starting_with_mo"
			756 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.5
					}
				}
			}
			set_country_flag = YUN_integration_southern_shan
			clr_country_flag = YUN_integration_shan_7
			clr_country_flag = YUN_integration_shan_6
			clr_country_flag = YUN_integration_shan_5
			clr_country_flag = YUN_integration_shan_4
			clr_country_flag = YUN_integration_shan_3
			clr_country_flag = YUN_integration_shan_2
			clr_country_flag = YUN_integration_shan_1
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_integrate_all_the_states_starting_with_mo"

		}
	}
	YUN_invest_in_the_northern_shan_states = {
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 72
		}
		available = {
			AND = {
				72 = {
					is_core_of = YUN
				}
				num_of_civilian_factories_available_for_projects > 2
			}
		}
		modifier = {
			civilian_factory_use = 3
		}
		days_remove = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 25
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_invest_in_the_northern_shan_states"
			72 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_invest_in_the_northern_shan_states"

		}
	}
	YUN_invest_in_the_southern_shan_states = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 756
		}
		available = {
			AND = {
				756 = {
					is_core_of = YUN
				}
				has_country_flag = YUN_integration_southern_shan
				num_of_civilian_factories_available_for_projects > 2
			}
		}

		modifier = {
			civilian_factory_use = 3
		}

		cost = 30
		days_remove = 15
		fire_only_once = yes

		ai_will_do = {
			factor = 20
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_invest_in_the_southern_shan_states"
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_invest_in_the_southern_shan_states"
			756 = {
				add_core_of = YUN
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			clr_country_flag = YUN_integration_southern_shan
		}
	}
}

###decisions to colonize Kachin

YUN_colonizing_areas = {
	#Kachin
	YUN_begin_colonize_kachin = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 701
		}
		days_remove = 60
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 50
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_begin_colonize_kachin"
			701 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			country_event = { id = yun.300 days = 3 }
			set_country_flag = YUN_KAC_colonization1
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_begin_colonize_kachin"

		}
	}
	YUN_status_of_the_kachin_people_colonization = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			YUN = { owns_state = 701 }
		}
		available = {
			has_country_flag = YUN_KAC_colonization1
		}
		days_remove = 60
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 50
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_status_of_the_kachin_people_colonization"
			701 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			set_country_flag = YUN_KAC_colonization2
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_status_of_the_kachin_people_colonization"

		}
	}
	YUN_legislative_measures_to_sideline_the_kachin = {
		icon = GFX_decision_generic_flags
		allowed = {
			original_tag = YUN
		}
		visible = {
			owns_state = 701
		}
		available = {
			has_country_flag = YUN_KAC_colonization2
		}
		days_remove = 15
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 30
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_legislative_measures_to_sideline_the_kachin"
			701 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			set_country_flag = YUN_KAC_colonization_3
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_legislative_measures_to_sideline_the_kachin"

		}
	}
	YUN_finalize_colonize_in_kachin = {
		icon = GFX_decision_generic_flags
		allowed = {
			original_tag = YUN
		}
		visible = {
			owns_state = 701
		}
		available = {
			has_country_flag = YUN_KAC_colonization_3
		}
		days_remove = 60
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 50
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_finalize_colonize_in_kachin"
			701 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			clr_country_flag = YUN_KAC_colonization1
			clr_country_flag = YUN_KAC_colonization2
			clr_country_flag = YUN_KAC_colonization_3
			set_country_flag = YUN_Kachin_revolt
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_finalize_colonize_in_kachin"

		}
	}
	#Shan States
	YUN_colonize_wa_states_and_kokang = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 72
		}
		days_remove = 45
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 30
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_colonize_wa_states_and_kokang"
			72 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			country_event = { id = yun.304 days = 3 }
			set_country_flag = YUN_colonization_shan_1
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_colonize_wa_states_and_kokang"

		}
	}
	YUN_colonize_hsenwi = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 72
		}
		available = {
			has_country_flag = YUN_colonization_shan_1
		}
		days_remove = 45
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 30
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_colonize_hsenwi"
			72 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			country_event = { id = yun.305 days = 3 }
			set_country_flag = YUN_colonization_shan_2
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_colonize_hsenwi"

		}
	}
	YUN_colonize_mongmit_taupeng = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 72
		}
		available = {
			has_country_flag = YUN_colonization_shan_2
		}
		days_remove = 45
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 30
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_colonize_mongmit_taupeng"
			72 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			country_event = { id = yun.306 days = 3 }
			set_country_flag = YUN_colonization_shan_3
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_colonize_mongmit_taupeng"

		}
	}
	YUN_colonize_hsipaw = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 72
		}
		available = {
			has_country_flag = YUN_colonization_shan_3
		}
		days_remove = 45
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 30
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_colonize_hsipaw"
			72 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			country_event = { id = yun.307 days = 3 }
			set_country_flag = YUN_colonization_shan_4
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_colonize_hsipaw"

		}
	}

	YUN_colonize_mongpan_and_mawkmai = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 72
		}
		available = {
			has_country_flag = YUN_colonization_shan_4
		}
		days_remove = 45
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 30
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_colonize_mongpan_and_mawkmai"
			72 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			country_event = { id = yun.308 days = 3 }
			set_country_flag = YUN_colonization_shan_5
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_colonize_mongpan_and_mawkmai"

		}
	}
	YUN_colonize_pinlaung_and_the_southwest = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 72
		}
		available = {
			has_country_flag = YUN_colonization_shan_5
		}
		days_remove = 45
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 30
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_colonize_pinlaung_and_the_southwest"
			72 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			set_country_flag = YUN_colonization_shan_6
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_colonize_pinlaung_and_the_southwest"

		}
	}
	YUN_colonize_hsatung_and_the_south = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 72
		}
		available = {
			has_country_flag = YUN_colonization_shan_6
		}
		days_remove = 45
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 30
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_colonize_hsatung_and_the_south"
			72 = {
				add_state_modifier = {
					modifier = {
						local_non_core_manpower = 0.10
					}
				}
			}
			set_country_flag = YUN_colonization_shan_7
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_colonize_hsatung_and_the_south"

		}
	}
	YUN_colonize_Mongmau_and_mehsakun = {
		icon = GFX_decision_generic_flags
		allowed = {
			tag = YUN
		}
		visible = {
			owns_state = 72
		}
		available = {
			has_country_flag = YUN_colonization_shan_7
		}
		days_remove = 45
		fire_only_once = yes
		ai_will_do = {
			factor = 20
		}
		cost = 30
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_colonize_Mongmau_and_mehsakun"
			72 = {
				add_core_of = YUN
			}
			clr_country_flag = YUN_integration_shan_7
			clr_country_flag = YUN_integration_shan_6
			clr_country_flag = YUN_integration_shan_5
			clr_country_flag = YUN_integration_shan_4
			clr_country_flag = YUN_integration_shan_3
			clr_country_flag = YUN_integration_shan_2
			clr_country_flag = YUN_integration_shan_1
			set_country_flag = YUN_Shan_revolt_set
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_colonize_Mongmau_and_mehsakun"

		}
	}
}



### Expansion decisions for Right-KMT/Socdems

YUN_expansion_starts = {
	YUN_attack_liangguang = {
		icon = generic_ignite_civil_war

		available = {
			controls_all_owned_states = yes
		}

		visible = {
			has_completed_focus = YUN_Secure_South_China
			can_declare_war_on = FROM
			is_subject = no
			OR = {
				AND = {
					is_ruled_by_left_kmt = yes
					FROM = { is_ruled_by_right_kmt = yes }
				}
				AND = {
					is_ruled_by_right_kmt = yes
					FROM = { is_ruled_by_left_kmt = yes }
				}
				## Li Zongren is being sassy 
				AND = {
					is_ruled_by_right_kmt = yes
					AND = {
						FROM = { is_ruled_by_right_kmt = yes }
						FROM = { is_subject = no }
					}
				}
				FROM = { is_ruled_by_kmt = no }
			}
		}

		targets = { GXC }
		target_root_trigger = {
			has_completed_focus = YUN_Secure_South_China
		}
		target_trigger = {
			can_declare_war_on = FROM
			OR = {
				AND = {
					is_ruled_by_left_kmt = yes
					FROM = { is_ruled_by_right_kmt = yes }
				}
				AND = {
					is_ruled_by_right_kmt = yes
					FROM = { is_ruled_by_left_kmt = yes }
				}
				## Li Zongren is being sassy 
				AND = {
					is_ruled_by_right_kmt = yes
					AND = {
						FROM = { is_ruled_by_right_kmt = yes }
						FROM = { is_subject = no }
					}
				}
				FROM = { is_ruled_by_kmt = no }
			}
		}

		fire_only_once = yes
		days_remove = 20
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes
		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_attack_liangguang target: [From.GetName]"
			set_country_flag = { flag = imminent_war days = 25 value = 1 }
			FROM = {
				country_event = yun.52
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_attack_liangguang target: [From.GetName]"
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 0.5 }
			}
			modifier = {
				factor = 0
				FROM = {
					is_subject = yes
					overlord = {
						strength_ratio = { tag = ROOT ratio > 0.8 }
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					is_in_faction = yes
					any_allied_country = {
						strength_ratio = { tag = ROOT ratio > 0.8 }
					}
				}
			}
			modifier = {
				factor = 0
				is_in_faction = no
				strength_ratio = { tag = FROM ratio < 1.0 }
				FROM = {
					OR = {
						has_war = no
						surrender_progress < 0.25
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					NOT = {
						is_neighbor_of = ROOT
						any_neighbor_country = {
							is_in_faction_with = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0
				has_country_flag = imminent_war
			}
		}
	}
	YUN_second_round_against_Sichuan = {
		name = YUN_attack_country
		icon = generic_ignite_civil_war

		available = {
			controls_all_owned_states = yes
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
			OR = {
				has_completed_focus = YUN_Ultimatium_To_Sichuan2
				has_completed_focus = YUN_go_after_Sichuan
			}
		}

		targets = { SZC }
		target_root_trigger = {
			OR = {
				has_completed_focus = YUN_Ultimatium_To_Sichuan2
				has_completed_focus = YUN_go_after_Sichuan
			}
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		fire_only_once = yes
		days_remove = 60
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes
		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_second_round_against_Sichuan target: [From.GetName]"
			set_country_flag = { flag = imminent_war days = 65 value = 1 }
			FROM = {
				country_event = yun.52
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_second_round_against_Sichuan target: [From.GetName]"
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 0.33 }
			}
			modifier = {
				factor = 0
				is_in_faction = no
				strength_ratio = { tag = FROM ratio < 1.0 }
				FROM = {
					OR = {
						has_war = no
						surrender_progress < 0.25
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					NOT = {
						is_neighbor_of = ROOT
						any_neighbor_country = {
							is_in_faction_with = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0
				has_country_flag = imminent_war
			}
		}
	}
	YUN_Hunnan_clique_part_2 = {
		name = YUN_attack_country
		icon = generic_ignite_civil_war

		available = {
			controls_all_owned_states = yes
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
			OR = {
				has_completed_focus = YUN_go_after_Hunan
				has_completed_focus = YUN_Enter_Yangtze_River2
			}
		}

		targets = { HNN }
		target_root_trigger = {
			OR = {
				has_completed_focus = YUN_go_after_Hunan
				has_completed_focus = YUN_Enter_Yangtze_River2
			}
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		fire_only_once = yes
		days_remove = 60
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes
		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_Hunnan_clique_part_2 target: [From.GetName]"
			set_country_flag = { flag = imminent_war days = 65 value = 1 }
			FROM = {
				country_event = yun.52
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_Hunnan_clique_part_2 target: [From.GetName]"
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 0.33 }
			}
			modifier = {
				factor = 0
				is_in_faction = no
				strength_ratio = { tag = FROM ratio < 1.0 }
				FROM = {
					OR = {
						has_war = no
						surrender_progress < 0.25
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					NOT = {
						is_neighbor_of = ROOT
						any_neighbor_country = {
							is_in_faction_with = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0
				has_country_flag = imminent_war
			}
		}
	}
	YUN_get_the_nanjing_clique = {
		name = YUN_attack_country
		icon = generic_ignite_civil_war

		available = {
			controls_all_owned_states = yes
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
			has_completed_focus = YUN_Secure_Coastal_China
		}

		targets = { LEP }
		target_root_trigger = {
			has_completed_focus = YUN_Secure_Coastal_China
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		fire_only_once = yes
		days_remove = 60
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes
		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_get_the_nanjing_clique target: [From.GetName]"
			set_country_flag = { flag = imminent_war days = 65 value = 1 }
			FROM = {
				country_event = yun.52
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_get_the_nanjing_clique target: [From.GetName]"
			set_country_flag = YUN_taking_nanjing
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 0.33 }
			}
			modifier = {
				factor = 0
				is_in_faction = no
				strength_ratio = { tag = FROM ratio < 1.0 }
				FROM = {
					OR = {
						has_war = no
						surrender_progress < 0.25
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					NOT = {
						is_neighbor_of = ROOT
						any_neighbor_country = {
							is_in_faction_with = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0
				has_country_flag = imminent_war
			}
		}
	}
	YUN_get_the_anhui_clique = {
		name = YUN_attack_country
		icon = generic_ignite_civil_war

		available = {
			controls_all_owned_states = yes
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
			has_completed_focus = YUN_Secure_Coastal_China
		}

		targets = { ANQ }
		target_root_trigger = {
			has_completed_focus = YUN_Secure_Coastal_China
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		fire_only_once = yes
		days_remove = 60
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes
		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_get_the_anhui_clique target: [From.GetName]"
			set_country_flag = { flag = imminent_war days = 65 value = 1 }
			FROM = {
				country_event = yun.52
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_get_the_anhui_clique target: [From.GetName]"
			set_country_flag = YUN_taking_the_anqing_clique
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 0.33 }
			}
			modifier = {
				factor = 0
				is_in_faction = no
				strength_ratio = { tag = FROM ratio < 1.0 }
				FROM = {
					OR = {
						has_war = no
						surrender_progress < 0.25
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					NOT = {
						is_neighbor_of = ROOT
						any_neighbor_country = {
							is_in_faction_with = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0
				has_country_flag = imminent_war
			}
		}
	}
	YUN_kill_shandong = {
		name = YUN_attack_country
		icon = generic_ignite_civil_war

		available = {
			controls_all_owned_states = yes
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
			has_completed_focus = YUN_Secure_Coastal_China
		}

		targets = { SQI }
		target_root_trigger = {
			has_completed_focus = YUN_Secure_Coastal_China
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		fire_only_once = yes
		days_remove = 60
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes
		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_kill_shandong target: [From.GetName]"
			set_country_flag = { flag = imminent_war days = 65 value = 1 }
			FROM = {
				country_event = yun.52
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_kill_shandong target: [From.GetName]"
			set_country_flag = YUN_taking_shandong
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 0.33 }
			}
			modifier = {
				factor = 0
				is_in_faction = no
				strength_ratio = { tag = FROM ratio < 1.0 }
				FROM = {
					OR = {
						has_war = no
						surrender_progress < 0.25
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					NOT = {
						is_neighbor_of = ROOT
						any_neighbor_country = {
							is_in_faction_with = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0
				has_country_flag = imminent_war
			}
		}
	}
	YUN_kill_shanxi = {
		name = YUN_attack_country
		icon = generic_ignite_civil_war

		available = {
			controls_all_owned_states = yes
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
			has_completed_focus = YUN_secure_western_china
		}

		targets = { SHX }
		target_root_trigger = {
			has_completed_focus = YUN_secure_western_china
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		fire_only_once = yes
		days_remove = 60
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes
		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_kill_shanxi target: [From.GetName]"
			set_country_flag = { flag = imminent_war days = 65 value = 1 }
			FROM = {
				country_event = yun.52
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_kill_shanxi target: [From.GetName]"
			set_country_flag = YUN_taking_shanxi
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 0.33 }
			}
			modifier = {
				factor = 0
				is_in_faction = no
				strength_ratio = { tag = FROM ratio < 1.0 }
				FROM = {
					OR = {
						has_war = no
						surrender_progress < 0.25
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					NOT = {
						is_neighbor_of = ROOT
						any_neighbor_country = {
							is_in_faction_with = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0
				has_country_flag = imminent_war
			}
		}
	}
	YUN_kill_ma_clique = {
		name = YUN_attack_country
		icon = generic_ignite_civil_war

		available = {
			controls_all_owned_states = yes
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
			has_completed_focus = YUN_secure_western_china
		}

		targets = { XSM }
		target_root_trigger = {
			has_completed_focus = YUN_secure_western_china
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		fire_only_once = yes
		days_remove = 60
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes
		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_kill_ma_clique target: [From.GetName]"
			set_country_flag = { flag = imminent_war days = 65 value = 1 }
			FROM = {
				country_event = yun.52
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_kill_ma_clique target: [From.GetName]"
			set_country_flag = YUN_taking_ma_clique
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 0.33 }
			}
			modifier = {
				factor = 0
				is_in_faction = no
				strength_ratio = { tag = FROM ratio < 1.0 }
				FROM = {
					OR = {
						has_war = no
						surrender_progress < 0.25
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					NOT = {
						is_neighbor_of = ROOT
						any_neighbor_country = {
							is_in_faction_with = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0
				has_country_flag = imminent_war
			}
		}
	}
	YUN_kill_Tibet = {
		name = YUN_attack_country
		icon = generic_ignite_civil_war

		available = {
			controls_all_owned_states = yes
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
			has_completed_focus = YUN_secure_western_china
		}

		targets = { TIB }
		target_root_trigger = {
			has_completed_focus = YUN_secure_western_china
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		fire_only_once = yes
		days_remove = 60
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes
		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_kill_Tibet target: [From.GetName]"
			set_country_flag = { flag = imminent_war days = 65 value = 1 }
			FROM = {
				country_event = yun.52
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_kill_Tibet target: [From.GetName]"
			set_country_flag = YUN_taking_Tibet
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 0.33 }
			}
			modifier = {
				factor = 0
				is_in_faction = no
				strength_ratio = { tag = FROM ratio < 1.0 }
				FROM = {
					OR = {
						has_war = no
						surrender_progress < 0.25
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					NOT = {
						is_neighbor_of = ROOT
						any_neighbor_country = {
							is_in_faction_with = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0
				has_country_flag = imminent_war
			}
		}
	}
	YUN_kill_Sinkiang = {
		name = YUN_attack_country
		icon = generic_ignite_civil_war

		available = {
			controls_all_owned_states = yes
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
			has_completed_focus = YUN_secure_western_china
		}

		targets = { SIK ETS TAN }
		target_root_trigger = {
			has_completed_focus = YUN_secure_western_china
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		fire_only_once = yes
		days_remove = 60
		cancel_if_not_visible = yes
		war_with_target_on_remove = yes
		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_kill_Sinkiang target: [From.GetName]"
			set_country_flag = { flag = imminent_war days = 65 value = 1 }
			FROM = {
				country_event = yun.52
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_kill_Sinkiang target: [From.GetName]"
			set_country_flag = YUN_taking_sinkiang
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 0.33 }
			}
			modifier = {
				factor = 0
				is_in_faction = no
				strength_ratio = { tag = FROM ratio < 1.0 }
				FROM = {
					OR = {
						has_war = no
						surrender_progress < 0.25
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					NOT = {
						is_neighbor_of = ROOT
						any_neighbor_country = {
							is_in_faction_with = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0
				has_country_flag = imminent_war
			}
		}
	}
}


### repetitive resource decisions
YUN_expansion_of_the_mining_industries = {
	YUN_dali_aluminium_expansion = {
		#icon = unknown
		allowed = {
			tag = YUN
		}
		available = {
			owns_state = 816 #Dali
		}
		visible = {
			has_completed_focus = YUN_Frontier_Mining
		}
		fire_only_once = no
		days_remove = 60
		days_re_enable = 240
		cost = 50

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_dali_aluminium_expansion"
			816 = { #Dali
				add_resource = {
					type = steel
					amount = 1
				}
			}
		}
	}

	YUN_kunming_bauxite_refining = {
		#icon = unknown
		allowed = {
			tag = YUN
		}
		available = {
			owns_state = 325 #Kunming
		}
		visible = {
			has_completed_focus = YUN_Frontier_Mining
		}
		fire_only_once = no
		days_remove = 60
		days_re_enable = 240
		cost = 50

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_kunming_bauxite_refining"
			325 = { #Kunming
				add_resource = {
					type = aluminium
					amount = 1
				}
			}
		}
	}

	YUN_kunming_tungsten_prospecting = {
		#icon = unknown
		allowed = {
			tag = YUN
		}
		available = {
			owns_state = 325 #Kunming
		}
		visible = {
			has_completed_focus = YUN_Frontier_Mining
		}
		fire_only_once = no
		days_remove = 60
		days_re_enable = 240
		cost = 50

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_kunming_tungsten_prospecting"
			325 = { #Kunming
				add_resource = {
					type = tungsten
					amount = 1
				}
			}
		}
	}

	YUN_guixi_chromimum_depostits = {
		#icon = unknown
		allowed = {
			tag = YUN
		}
		available = {
			owns_state = 1051 #Guixi
		}
		visible = {
			has_completed_focus = YUN_Frontier_Mining
		}
		fire_only_once = no
		days_remove = 90
		days_re_enable = 240
		cost = 50

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_guixi_chromimum_depostits"
			1051 = { #Kunming
				add_resource = {
					type = chromium
					amount = 1
				}
			}
		}
	}
}

### Faction joining as Tang 
YUN_faction_joining_stuff = {
	YUN_align_with_zhili = {
		icon = generic_agreement

		available = {
			has_war = no
		}
		visible = {
			is_in_faction = no
			is_subject = no
			has_government = paternal_autocrat
			has_country_leader = {
				name = "Tang Jiyao"
				ruling_only = yes
			}
			QIE = {
				exists = yes
				is_faction_leader = yes
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_align_with_zhili"
			if = {
				limit = {
					NOT = {
						has_country_leader = {
							name = "Puyi"
							ruling_only = yes
						}
					}
				}
				QIE = {
					country_event = yun.508
				}
				else = {
					hidden_effect = {
						country_event = yun.42
					}
					custom_effect_tooltip = YUN_try_to_become_monarchist
				}
			}
		}
	}
	YUN_align_with_liangguang_NPA = {
		icon = generic_agreement

		available = {
			has_war = no
		}
		visible = {
			is_in_faction = no
			is_subject = no
			has_government = paternal_autocrat
			GXC = {
				exists = yes
				NOT = { has_completed_focus = GXC_Initiate_United_Provinces }
				is_faction_leader = yes
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_align_with_liangguang_NPA"
			GXC = {
				country_event = yun.510
			}
		}
	}
	YUN_align_with_sichuan_npa = {
		icon = generic_agreement

		available = {
			has_war = no
		}
		visible = {
			is_in_faction = no
			is_subject = no
			has_government = paternal_autocrat
			SZC = {
				exists = yes
				has_government = paternal_autocrat
				is_faction_leader = yes
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_align_with_sichuan_npa"
			SZC = {
				country_event = yun.512
			}
		}
	}
	YUN_align_with_fengtian = {
		icon = generic_agreement

		available = {
			has_war = no
		}
		visible = {
			is_in_faction = no
			is_subject = no
			has_government = paternal_autocrat
			FNG = {
				exists = yes
				is_faction_leader = yes
				has_government = authoritarian_democrat
			}
		}

		fire_only_once = yes

		cost = 25

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_align_with_fengtian"
			FNG = {
				country_event = yun.514
			}
		}
	}
}

## Integrating SZC and GXC as R-KMT RoC
YUN_ally_integration = {
	YUN_Integrate_Faction_Members = {
		icon = infiltrate_state

		visible = {
			has_cosmetic_tag = YUN_CHI_ROC
			is_faction_leader = yes
			is_neighbor_of = FROM
			FROM = {
				exists = yes
				OR = {
					tag = TAN
					is_han_chinese_tag = yes
				}
			}
		}

		target_array = ROOT.faction_members
		target_root_trigger = {
			has_cosmetic_tag = YUN_CHI_ROC
			is_faction_leader = yes
		}
		target_trigger = {
			is_neighbor_of = FROM
			FROM = {
				OR = {
					tag = TAN
					is_han_chinese_tag = yes
				}
			}
		}

		cost = 40
		days_remove = 60
		fire_only_once = yes

		modifier = {
			political_power_cost = 0.1
			production_factory_max_efficiency_factor  = -0.05
		}

		ai_will_do = {
			factor = 1000
			modifier = {
				factor = 0
				has_country_flag = YUN_integration_underway
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision YUN_Integrate_Faction_Members target: [From.GetName]"
			set_country_flag = { flag = YUN_integration_underway days = 60 value = 1 }
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove YUN_Integrate_Faction_Members target: [From.GetName]"
			FROM = { country_event = fengtian.284 }
		}
	}
}
