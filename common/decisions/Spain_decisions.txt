# Spain decisions

political_actions = {
	
	SPR_iberian_flag_picker = {
		
		cost = 0
		fire_only_once = no
		icon = generic_flags
		
		priority = 1
		
		available = {
			tag = SPR
		}
		
		visible = {
			tag = SPR
			has_country_flag = SPR_iberian_union
			has_country_flag = SPR_iberia_allow_flag_picker_decision
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_iberian_flag_picker"
			country_event = sprd.1137
		}
	}

	CAR_assassinate_juan = {
		icon = generic_prepare_civil_war

		allowed = {
			tag = CAR
		}

		available = {
			FROM = {
				has_country_leader = { name = "Alfonso XIII" }
			}
		}

		targets = { SPR }
		target_trigger = {
			has_war_with = FROM
		}

		visible = {
			has_war_with = FROM
		}

		fire_only_once = yes

		cost = 20
		days_remove = 60

		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CAR_assassinate_juan target: [From.GetName]"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CAR_assassinate_juan target: [From.GetName]"
			country_event = sprc.306
		}
	}
	CAR_centro_syndicalist_war = {
		icon = generic_ignite_civil_war

		allowed = {
			original_tag = CAR
		}

		available = {
			ROOT = { controls_all_owned_states = yes }
			has_completed_focus = CAR_conquer_centro
			has_country_flag = CAR_centro_wars_unlocked
			FROM = {
				NOT = {
					is_in_faction_with = CAR
					has_war_together_with = CAR
				}
				has_socialist_government = yes
			}
		}

		visible = {
			date > 1939.1.1
			has_completed_focus = CAR_new_reconquista
			is_subject = no
			FROM = {
				NOT = {
					has_war_with = CAR
					is_subject_of = CAR
				}
				OR = {
					owns_state = 316 #Costa Rica
					owns_state = 304 #Panama
					owns_state = 317 #Nicaragua
					owns_state = 842 #Honduras
					owns_state = 314 #El Salvador
					owns_state = 313 #Guatemala
				}
				has_socialist_government = yes
			}
		}

		target_root_trigger = {
			has_completed_focus = CAR_conquer_centro
		}

		target_trigger = {
			FROM = {
				NOT = {
					has_war_with = CAR
					is_subject_of = CAR
				}
				OR = {
					owns_state = 316 #Costa Rica
					owns_state = 304 #Panama
					owns_state = 317 #Nicaragua
					owns_state = 842 #Honduras
					owns_state = 314 #El Salvador
					owns_state = 313 #Guatemala
				}
			}
		}

		cancel_trigger = {
			FROM = {
				OR = {
					has_war_with = CAR
					is_subject_of = CAR
					NOT = {
						owns_state = 316 #Costa Rica
						owns_state = 304 #Panama
						owns_state = 317 #Nicaragua
						owns_state = 842 #Honduras
						owns_state = 314 #El Salvador
						owns_state = 313 #Guatemala
					}
				}
			}
		}

		fire_only_once = yes
		days_remove = 60
		war_with_target_on_remove = yes

		cost = 60

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CAR_centro_syndicalist_war target: [From.GetName]"
			add_war_support = 0.01
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CAR_centro_syndicalist_war target: [From.GetName]"
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 0.33 }
			}
			modifier = {
				factor = 0
				is_in_faction = no
				strength_ratio = { tag = FROM ratio < 1.0 }
				FROM = {
					OR = {
						has_war = no
						surrender_progress < 0.25
					}
				}
			}
		}
	}
}

SPR_intro_politics = {
	
	SPR_bop_opposing_side_does_something_mission = {
		icon = generic_ignite_civil_war
		activation = {
			always = no
		}
		available = {
			always = no
		}
		cancel_trigger = {
			OR = {
				hidden_trigger = {
					NOT = {
						has_power_balance = {
							id = SPR_burning_house_of_cards
						}
					}
				}
				has_global_flag = spanish_civil_war
			}
		}
		is_good = no
		priority = 10
		days_mission_timeout = SPR_opposing_side_progress_time_var
		selectable_mission = no
		complete_effect = {}
		timeout_effect = {
			custom_effect_tooltip = SPR_bop_opposing_side_does_something_mission_tt
			hidden_effect = {
				if = {
					limit = {
						check_variable = { SPR_opposing_side_progress_var > 3 }
					}
					activate_mission = SPR_bop_opposing_side_does_something_mission_final
					set_country_flag = SPR_avoiding_scw_extended
					mark_focus_tree_layout_dirty = yes
				}
				else = {
					add_to_variable = { SPR_opposing_side_progress_var = 1 }
					subtract_from_variable = { SPR_opposing_side_progress_time_var = 5 }
					activate_mission = SPR_bop_opposing_side_does_something_mission
				}
				country_event = {
					id = sprd.1191
					hours = 1
				}
			}
		}
	}
	
	SPR_bop_opposing_side_does_something_mission_final = {
		icon = generic_ignite_civil_war
		activation = {
			always = no
		}
		available = {
			always = no
		}
		cancel_trigger = {
			hidden_trigger = {
				OR = {
					NOT = {
						has_power_balance = {
							id = SPR_burning_house_of_cards
						}
					}
					has_global_flag = spanish_civil_war
				}
			}
		}
		is_good = no
		days_mission_timeout = 100
		selectable_mission = no
		priority = 100
		complete_effect = {}
		timeout_effect = {
			custom_effect_tooltip = SPR_bop_opposing_side_does_something_mission_final_tt
			hidden_effect = {
				country_event = {
					id = sprc.7
					days = 1
				}
			}
		}
	}
	
	SPR_organize_strike = {
		icon = generic_political_rally
		
		cost = 30
		fire_only_once = no
		days_remove = 28
		
		available = {
			has_completed_focus = SPR_Favor_Unions
		}
		visible = {
			is_power_balance_side_active = {
				id = SPR_burning_house_of_cards
				side = SPR_leftcenter_side
			}
		}
		allowed = {}
		modifier = {
			authoritarian_democrat_drift = 0.01
			power_balance_daily = -0.001
			stability_weekly = 0.01
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_organize_strike"
			add_power_balance_value = {
				id = SPR_burning_house_of_cards
				value = -0.03
			}
			if = {
				limit = {
					has_active_mission = SPR_bop_opposing_side_does_something_mission_final
				}
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission_final
					days = 35
				}
			}
			else = {
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission
					days = 35
				}
			}
		}
		ai_will_do = {
			base = 10
			modifier = {
				add = 90
				check_variable = { SPR_opposing_side_progress_var > 1 }
			}
		}
	}
	
	SPR_PSOE_talks = {
		icon = generic_agreement
		
		cost = 20
		fire_only_once = yes
		days_remove = 7
		
		available = {
			has_completed_focus = SPR_Favor_Unions
		}
		
		visible = {
			is_power_balance_side_active = {
				id = SPR_burning_house_of_cards
				side = SPR_leftcenter_side
			}
		}
		allowed = {}
		priority = 5
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_PSOE_talks"
			country_event = {
				id = sprd.501
				days = 1
			}
			if = {
				limit = {
					has_active_mission = SPR_bop_opposing_side_does_something_mission_final
				}
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission_final
					days = 14
				}
			}
			else = {
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission
					days = 14
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	
	SPR_CNT_FAI_talks = {
		icon = generic_agreement
		
		cost = 80
		fire_only_once = yes
		days_remove = 14
		priority = 7
		available = {
			AND = {
				OR = {
					AND = {
						is_power_balance_side_active = {
							id = SPR_burning_house_of_cards
							side = SPR_leftcenter_side
						}
						has_completed_focus = SPR_Promote_Leftist_Unity
					}
					AND = {
						is_power_balance_side_active = {
							id = SPR_burning_house_of_cards
							side = SPR_center_side
						}
						has_completed_focus = SPR_Deals_With_The_CNTFAI
					}
				}
			}
		}
		visible = {
			is_in_coalition_with_syndicalist = no
			OR = {
				is_power_balance_side_active = {
					id = SPR_burning_house_of_cards
					side = SPR_leftcenter_side
				}
				is_power_balance_side_active = {
					id = SPR_burning_house_of_cards
					side = SPR_center_side
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_CNT_FAI_talks"
			country_event = {
				id = sprd.1186
				days = 1
			}
			custom_effect_tooltip = SPR_CNT_FAI_talks_yes_tt
			hidden_effect = {
				if = {
					limit = {
						has_active_mission = SPR_bop_opposing_side_does_something_mission_final
					}
					if = {
						limit = {
							has_active_mission = SPR_bop_opposing_side_does_something_mission_final
						}
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission_final
							days = 21
						}
					}
					else = {
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission
							days = 21
						}
					}
				}
			}
			effect_tooltip = {
				if = {
					limit = {
						has_country_flag = SPR_left_kingdom_intro
					}
					add_synd_to_coalition = yes
					add_political_power = 100
					add_stability = 0.025
					add_popularity = {
						ideology = totalist
						popularity = 0.02
					}
					add_popularity = {
						ideology = syndicalist
						popularity = 0.075
					}
					add_popularity = {
						ideology = radical_socialist
						popularity = 0.02
					}
					add_popularity = {
						ideology = authoritarian_democrat
						popularity = -0.05
					}
					add_power_balance_value = {
						id = SPR_burning_house_of_cards
						value = -0.15
					}
				}
				else = {
					add_political_power = 150
					add_stability = 0.05
					add_popularity = {
						ideology = syndicalist
						popularity = 0.075
					}
					add_popularity = {
						ideology = radical_socialist
						popularity = 0.05
					}
					add_power_balance_value = {
						id = SPR_burning_house_of_cards
						value = -0.1
					}
				}
			}
			custom_effect_tooltip = SPR_CNT_FAI_talks_no_tt
			effect_tooltip = {
				if = {
					limit = {
						has_country_flag = SPR_left_kingdom_intro
					}
					add_political_power = -100
					add_stability = -0.05
					add_popularity = {
						ideology = totalist
						popularity = 0.01
					}
					add_popularity = {
						ideology = syndicalist
						popularity = 0.02
					}
					add_popularity = {
						ideology = radical_socialist
						popularity = -0.025
					}
					add_popularity = {
						ideology = authoritarian_democrat
						popularity = -0.075
					}
					add_popularity = {
						ideology = paternal_autocrat
						popularity = 0.1
					}
					add_popularity = {
						ideology = national_populist
						popularity = 0.025
					}
					add_power_balance_value = {
						id = SPR_burning_house_of_cards
						value = 0.1
					}
				}
				else = {
					add_political_power = -50
					add_stability = -0.02
					add_popularity = {
						ideology = syndicalist
						popularity = 0.05
					}
					add_popularity = {
						ideology = radical_socialist
						popularity = 0.02
					}
					add_power_balance_value = {
						id = SPR_burning_house_of_cards
						value = 0.1
					}
				}
			}
		}
		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				SPR_SCW_ai_avoid_trigger = yes
				is_in_coalition_with_social_democrat = no
			}
			modifier = {
				add = 500
				SPR_SCW_ai_avoid_trigger = yes
				is_in_coalition_with_social_democrat = yes
			}
		}
	}
	SPR_distance_from_the_CNT_FAI = {
		icon = generic_civil_support
		
		cost = 60
		fire_only_once = no
		days_remove = 14
		
		available = {
			is_in_coalition_with_syndicalist = yes
		}
		visible = {
			is_power_balance_side_active = {
				id = SPR_burning_house_of_cards
				side = SPR_leftcenter_side
			}
			is_in_coalition_with_syndicalist = yes
		}
		allowed = {}
		modifier = {
			authoritarian_democrat_drift = 0.02
			syndicalist_drift = -0.05
			radical_socialist_drift = 0.02
			social_democrat_drift = 0.01
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_distance_from_the_CNT_FAI"
			add_stability = 0.01
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.05
			}
		}
		ai_will_do = {
			base = 5
			modifier = {
				factor = 0
				SPR_SCW_ai_avoid_trigger = yes
			}
		}
	}
	SPR_promote_moderate_CNTFAI = {
		icon = generic_civil_support
		
		cost = 50
		fire_only_once = no
		days_remove = 42
		
		available = {
			is_in_coalition_with_syndicalist = yes
		}
		visible = {
			is_power_balance_side_active = {
				id = SPR_burning_house_of_cards
				side = SPR_leftcenter_side
			}
			is_in_coalition_with_syndicalist = yes
		}
		modifier = {
			authoritarian_democrat_drift = -0.01
			syndicalist_drift = -0.02
			radical_socialist_drift = 0.03
			social_democrat_drift = 0.02
			power_balance_daily = -0.001
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_promote_moderate_CNTFAI"
			add_stability = 0.03
			add_power_balance_value = {
				id = SPR_burning_house_of_cards
				value = -0.01
			}
		}
		ai_will_do = {
			base = 90
			modifier = {
				add = 10
				check_variable = { SPR_opposing_side_progress_var > 2 }
			}
		}
	}
	SPR_buy_time = {
		icon = give_cash
		
		cost = 10
		fire_only_once = no
		days_remove = 21
		priority = 3
		visible = {
			has_power_balance = {
				id = SPR_burning_house_of_cards
			}
		}
		allowed = {}
		modifier = {
			power_balance_daily = -0.001
			authoritarian_democrat_drift = 0.01
			political_power_factor = 0.1
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_buy_time"
			set_temp_variable = { political_power_add_amount = party_popularity_100@authoritarian_democrat }
			if = {
				limit = {
					is_in_coalition_with_market_liberal = yes
				}
				add_to_temp_variable = { political_power_add_amount = party_popularity_100@market_liberal }
				random_list = {
					50 = {
						if = {
							limit = {
								NOT = { has_country_flag = SPR_center_kingdom_intro }
							}
							if = {
								limit = {
									has_active_mission = SPR_bop_opposing_side_does_something_mission_final
								}
								add_days_mission_timeout = {
									mission = SPR_bop_opposing_side_does_something_mission_final
									days = 35
								}
							}
							else_if = {
								limit = {
									has_active_mission = SPR_bop_opposing_side_does_something_mission
								}
								add_days_mission_timeout = {
									mission = SPR_bop_opposing_side_does_something_mission
									days = 35
								}
							}
						}
						else = {
							if = {
								limit = {
									has_active_mission = SPR_bop_opposing_side_does_something_mission_final
								}
								add_days_mission_timeout = {
									mission = SPR_bop_opposing_side_does_something_mission_final
									days = 28
								}
							}
							else_if = {
								limit = {
									has_active_mission = SPR_bop_opposing_side_does_something_mission
								}
								add_days_mission_timeout = {
									mission = SPR_bop_opposing_side_does_something_mission
									days = 28
								}
							}
						}
					}
					50 = {
						if = {
							limit = {
								NOT = { has_country_flag = SPR_center_kingdom_intro }
							}
							if = {
								limit = {
									has_active_mission = SPR_bop_opposing_side_does_something_mission_final
								}
								add_days_mission_timeout = {
									mission = SPR_bop_opposing_side_does_something_mission_final
									days = 21
								}
							}
							else_if = {
								limit = {
									has_active_mission = SPR_bop_opposing_side_does_something_mission
								}
								add_days_mission_timeout = {
									mission = SPR_bop_opposing_side_does_something_mission
									days = 21
								}
							}
						}
						else = {
							if = {
								limit = {
									has_active_mission = SPR_bop_opposing_side_does_something_mission_final
								}
								add_days_mission_timeout = {
									mission = SPR_bop_opposing_side_does_something_mission_final
									days = 14
								}
							}
							else_if = {
								limit = {
									has_active_mission = SPR_bop_opposing_side_does_something_mission
								}
								add_days_mission_timeout = {
									mission = SPR_bop_opposing_side_does_something_mission
									days = 14
								}
							}
						}
					}
				}
			}
			else = {
				random_list = {
					50 = {
						if = {
							limit = {
								NOT = { has_country_flag = SPR_center_kingdom_intro }
							}
							if = {
								limit = {
									has_active_mission = SPR_bop_opposing_side_does_something_mission_final
								}
								add_days_mission_timeout = {
									mission = SPR_bop_opposing_side_does_something_mission_final
									days = 35
								}
							}
							else_if = {
								limit = {
									has_active_mission = SPR_bop_opposing_side_does_something_mission
								}
								add_days_mission_timeout = {
									mission = SPR_bop_opposing_side_does_something_mission
									days = 35
								}
							}
						}
						else = {
							if = {
								limit = {
									has_active_mission = SPR_bop_opposing_side_does_something_mission_final
								}
								add_days_mission_timeout = {
									mission = SPR_bop_opposing_side_does_something_mission_final
									days = 14
								}
							}
							else_if = {
								limit = {
									has_active_mission = SPR_bop_opposing_side_does_something_mission
								}
								add_days_mission_timeout = {
									mission = SPR_bop_opposing_side_does_something_mission
									days = 14
								}
							}
						}
					}
					50 = {
						if = {
							limit = {
								NOT = { has_country_flag = SPR_center_kingdom_intro }
							}
							if = {
								limit = {
									has_active_mission = SPR_bop_opposing_side_does_something_mission_final
								}
								add_days_mission_timeout = {
									mission = SPR_bop_opposing_side_does_something_mission_final
									days = 14
								}
							}
							else_if = {
								limit = {
									has_active_mission = SPR_bop_opposing_side_does_something_mission
								}
								add_days_mission_timeout = {
									mission = SPR_bop_opposing_side_does_something_mission
									days = 14
								}
							}
						}
						else = {
							if = {
								limit = {
									has_active_mission = SPR_bop_opposing_side_does_something_mission_final
								}
								add_days_mission_timeout = {
									mission = SPR_bop_opposing_side_does_something_mission_final
									days = 7
								}
							}
							else_if = {
								limit = {
									has_active_mission = SPR_bop_opposing_side_does_something_mission
								}
								add_days_mission_timeout = {
									mission = SPR_bop_opposing_side_does_something_mission
									days = 7
								}
							}
						}
					}
				}
			}
			if = {
				limit = {
					check_variable = { political_power_add_amount > 0.99 }
				}
				add_popularity = {
					ideology = authoritarian_democrat
					popularity = 0.01
				}
				add_political_power = political_power_add_amount
			}
			else = {
				add_popularity = {
					ideology = authoritarian_democrat
					popularity = 0.03
				}
			}
		}
		ai_will_do = {
			base = 90
			modifier = {
				add = 10
				SPR_SCW_ai_avoid_trigger = yes
			}
		}
	}
	SPR_AP_unity = {
		icon = scales
		
		cost = 35
		fire_only_once = no
		days_remove = 28
		
		available = {
			OR = {
				has_completed_focus = SPR_Favor_Unions
				has_completed_focus = SPR_Promises_Of_Stability
				has_completed_focus = SPR_Compromise_After_Compromise
			}
		}
		visible = {
			has_power_balance = {
				id = SPR_burning_house_of_cards
			}
		}
		allowed = {}
		modifier = {
			authoritarian_democrat_drift = 0.05
			power_balance_daily = -0.001
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_AP_unity"
			add_power_balance_value = {
				id = SPR_burning_house_of_cards
				value = -0.03
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.05
			}
			if = {
				limit = {
					NOT = { has_country_flag = SPR_center_kingdom_intro }
				}
				if = {
					limit = {
						has_active_mission = SPR_bop_opposing_side_does_something_mission_final
					}
					add_days_mission_timeout = {
						mission = SPR_bop_opposing_side_does_something_mission_final
						days = 35
					}
				}
				else_if = {
					limit = {
						has_active_mission = SPR_bop_opposing_side_does_something_mission
					}
					add_days_mission_timeout = {
						mission = SPR_bop_opposing_side_does_something_mission
						days = 35
					}
				}
			}
			else = {
				random_list = {
					50 = {
						if = {
							limit = {
								has_active_mission = SPR_bop_opposing_side_does_something_mission_final
							}
							add_days_mission_timeout = {
								mission = SPR_bop_opposing_side_does_something_mission_final
								days = 35
							}
						}
						else_if = {
							limit = {
								has_active_mission = SPR_bop_opposing_side_does_something_mission
							}
							add_days_mission_timeout = {
								mission = SPR_bop_opposing_side_does_something_mission
								days = 35
							}
						}
					}
					50 = {
						if = {
							limit = {
								has_active_mission = SPR_bop_opposing_side_does_something_mission_final
							}
							add_days_mission_timeout = {
								mission = SPR_bop_opposing_side_does_something_mission_final
								days = 28
							}
						}
						else_if = {
							limit = {
								has_active_mission = SPR_bop_opposing_side_does_something_mission
							}
							add_days_mission_timeout = {
								mission = SPR_bop_opposing_side_does_something_mission
								days = 28
							}
						}
					}
				}
			}
		}
		ai_will_do = {
			base = 30
			modifier = {
				add = 70
				SPR_SCW_ai_avoid_trigger = yes
			}
		}
	}
	SPR_things_are_going_very_bad = {
		icon = generic_ignite_civil_war
		
		cost = 0
		days_remove = 7
		days_re_enable = 30
		
		available = {
			has_power_balance = {
				id = SPR_burning_house_of_cards
			}
		}
		visible = {
			power_balance_value  = {
				id = SPR_burning_house_of_cards
				value > 0.4
			}
		}
		modifier = {
			political_power_factor = 0.5
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_things_are_going_very_bad"
			if = {
				limit = {
					has_active_mission = SPR_bop_opposing_side_does_something_mission
				}
				random_list = {
					50 = {
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission
							days = -14
						}
					}
					50 = {
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission
							days = 14
						}
					}
				}
			}
			else_if = {
				limit = {
					has_active_mission = SPR_bop_opposing_side_does_something_mission_final
				}
				random_list = {
					40 = {
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission_final
							days = -7
						}
					}
					60 = {
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission_final
							days = 14
						}
					}
				}
			}
			random_list = {
				25 = {
					add_political_power = -15
					add_stability = -0.01
				}
				25 = {
					add_political_power = 15
					add_stability = 0.01
				}
				25 = {
					add_political_power = 30
					add_stability = 0.02
				}
				25 = {
					add_political_power = 45
					add_stability = 0.03
				}
			}
			random_list = {
				33 = {
					add_power_balance_value = {
						id = SPR_burning_house_of_cards
						value = -0.05
					}
					hidden_effect = {
						add_popularity = {
							ideology = totalist
							popularity = -0.05
						}
						add_popularity = {
							ideology = syndicalist
							popularity = -0.05
						}
						add_popularity = {
							ideology = paternal_autocrat
							popularity = -0.05
						}
						add_popularity = {
							ideology = national_populist
							popularity = -0.05
						}
					}
				}
				33 = {
					add_power_balance_value = {
						id = SPR_burning_house_of_cards
						value = -0.03
					}
					hidden_effect = {
						add_popularity = {
							ideology = totalist
							popularity = -0.03
						}
						add_popularity = {
							ideology = syndicalist
							popularity = -0.03
						}
						add_popularity = {
							ideology = paternal_autocrat
							popularity = -0.03
						}
						add_popularity = {
							ideology = national_populist
							popularity = -0.03
						}
					}
				}
				33 = {
					add_power_balance_value = {
						id = SPR_burning_house_of_cards
						value = 0.03
					}
					hidden_effect = {
						add_popularity = {
							ideology = totalist
							popularity = 0.01
						}
						add_popularity = {
							ideology = syndicalist
							popularity = 0.01
						}
						add_popularity = {
							ideology = paternal_autocrat
							popularity = 0.01
						}
						add_popularity = {
							ideology = national_populist
							popularity = 0.01
						}
					}
				}
			}
		}
	}
	SPR_political_moves = {
		icon = generic_political_discourse
		
		cost = 50
		days_remove = 50
		
		available = {
			has_completed_focus = SPR_Compromise_After_Compromise
		}
		visible = {
			is_power_balance_side_active = {
				id = SPR_burning_house_of_cards
				side = SPR_center_side
			}
		}
		allowed = {}
		modifier = {
			authoritarian_democrat_drift = 0.03
			power_balance_daily = -0.002
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_political_moves"
			add_popularity = {
				ideology = syndicalist
				popularity = -0.03
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.06
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = -0.03
			}
			add_power_balance_value = {
				id = SPR_burning_house_of_cards
				value = -0.03
			}
			random_list = {
				50 = {
					if = {
						limit = {
							has_active_mission = SPR_bop_opposing_side_does_something_mission_final
						}
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission_final
							days = 56
						}
					}
					else = {
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission
							days = 56
						}
					}
				}
				30 = {
					if = {
						limit = {
							has_active_mission = SPR_bop_opposing_side_does_something_mission_final
						}
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission_final
							days = 49
						}
					}
					else = {
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission
							days = 49
						}
					}
				}
				20 = {
					if = {
						limit = {
							has_active_mission = SPR_bop_opposing_side_does_something_mission_final
						}
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission_final
							days = 35
						}
					}
					else = {
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission
							days = 35
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	SPR_seek_german_support = {
		icon = ger_flag
		
		cost = 60
		fire_only_once = yes
		days_remove = 14
		
		available = {
			has_completed_focus = SPR_Promises_Of_Stability
		}
		visible = {
			is_power_balance_side_active = {
				id = SPR_burning_house_of_cards
				side = SPR_center_side
			}
		}
		allowed = {}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_seek_german_support"
			GER = {
				country_event = {
					id = sprd.1200
					days = 3
				}
			}
		}
		ai_will_do = {
			base = 40
			modifier = {
				add = 60
				SPR_SCW_ai_avoid_trigger = yes
			}
		}
	}
	SPR_talk_with_UMN = {
		icon = generic_agreement
		
		cost = 80
		fire_only_once = yes
		days_remove = 14
		priority = 3
		
		available = {
			OR = {
				has_completed_focus = SPR_Carlist_Truce
				has_completed_focus = SPR_Religious_Pleas
			}
		}
		visible = {
			OR = {
				is_power_balance_side_active = {
					id = SPR_burning_house_of_cards
					side = SPR_center_side
				}
				is_power_balance_side_active = {
					id = SPR_burning_house_of_cards
					side = SPR_rightcenter_side
				}
			}
		}
		allowed = {}
		modifier = {
			authoritarian_democrat_drift = -0.03
			paternal_autocrat_drift = 0.03
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_talk_with_UMN"
			country_event = sprd.505
			if = {
				limit = {
					has_active_mission = SPR_bop_opposing_side_does_something_mission_final
				}
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission_final
					days = 21
				}
			}
			else = {
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission
					days = 21
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	SPR_talk_with_DLE = {
		icon = generic_agreement
		
		cost = 20
		fire_only_once = yes
		days_remove = 14
		priority = 3
		visible = {
			OR = {
				has_completed_focus = SPR_The_Ability_Of_The_Workers
				is_power_balance_side_active = {
					id = SPR_burning_house_of_cards
					side = SPR_rightcenter_side
				}
			}
		}
		allowed = {}
		modifier = {
			authoritarian_democrat_drift = -0.03
			social_conservative_drift = 0.03
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_talk_with_DLE"
			country_event = sprd.500
			if = {
				limit = {
					has_active_mission = SPR_bop_opposing_side_does_something_mission_final
				}
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission_final
					days = 21
				}
			}
			else = {
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission
					days = 21
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	SPR_talk_with_PRR = {
		icon = generic_agreement
		
		cost = 20
		fire_only_once = yes
		days_remove = 14
		priority = 3
		visible = {
			OR = {
				is_power_balance_side_active = {
					id = SPR_burning_house_of_cards
					side = SPR_center_side
				}
				is_power_balance_side_active = {
					id = SPR_burning_house_of_cards
					side = SPR_rightcenter_side
				}
			}
		}
		allowed = {}
		modifier = {
			authoritarian_democrat_drift = -0.03
			market_liberal_drift = 0.03
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_talk_with_PRR"
			country_event = sprd.499
			if = {
				limit = {
					has_active_mission = SPR_bop_opposing_side_does_something_mission_final
				}
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission_final
					days = 21
				}
			}
			else = {
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission
					days = 21
				}
			}
			custom_effect_tooltip = SPR_marlib_buff_bribe_for_time_tt
		}
		ai_will_do = {
			factor = 100
		}
	}
	SPR_talk_with_UR = {
		icon = generic_agreement
		
		cost = 20
		fire_only_once = yes
		days_remove = 14
		priority = 3
		visible = {
			OR = {
				has_completed_focus = SPR_Olive_Branch_To_The_Right
				is_power_balance_side_active = {
					id = SPR_burning_house_of_cards
					side = SPR_center_side
				}
			}
		}
		allowed = {}
		modifier = {
			authoritarian_democrat_drift = -0.03
			social_liberal_drift = 0.03
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_talk_with_UR"
			country_event = sprd.502
			if = {
				limit = {
					has_active_mission = SPR_bop_opposing_side_does_something_mission_final
				}
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission_final
					days = 21
				}
			}
			else = {
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission
					days = 21
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	SPR_crack_down_on_the_left = {
		icon = hand_grab
		
		cost = 40
		fire_only_once = no
		days_remove = 30
		
		available = {}
		visible = {
			OR = {
				is_power_balance_side_active = {
					id = SPR_burning_house_of_cards
					side = SPR_rightcenter_side
				}
				is_power_balance_side_active = {
					id = SPR_burning_house_of_cards
					side = SPR_center_side
				}
			}
		}
		allowed = {}
		modifier = {
			totalist_drift = -0.03
			syndicalist_drift = -0.05
			radical_socialist_drift = -0.02
			social_democrat_drift = -0.01
			authoritarian_democrat_drift = 0.03
			power_balance_daily = -0.002
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_crack_down_on_the_left"
			add_power_balance_value = {
				id = SPR_burning_house_of_cards
				value = -0.03
			}
			if = {
				limit = {
					syndicalist > 0.1
				}
				add_popularity = {
					ideology = syndicalist
					popularity = -0.05
				}
			}
			if = {
				limit = {
					has_active_mission = SPR_bop_opposing_side_does_something_mission_final
				}
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission_final
					days = 42
				}
			}
			else = {
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission
					days = 42
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	SPR_crack_down_on_the_right = {
		icon = hand_grab
		
		cost = 40
		fire_only_once = no
		days_remove = 35
		
		visible = {
			OR = {
				is_power_balance_side_active = {
					id = SPR_burning_house_of_cards
					side = SPR_leftcenter_side
				}
				is_power_balance_side_active = {
					id = SPR_burning_house_of_cards
					side = SPR_center_side
				}
			}
		}
		modifier = {
			authoritarian_democrat_drift = 0.05
			paternal_autocrat_drift = -0.05
			national_populist_drift = -0.07
			power_balance_daily = -0.002
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_crack_down_on_the_right"
			add_power_balance_value = {
				id = SPR_burning_house_of_cards
				value = -0.03
			}
			if = {
				limit = {
					paternal_autocrat > 0.1
				}
				add_popularity = {
					ideology = paternal_autocrat
					popularity = -0.05
				}
			}
			if = {
				limit = {
					has_active_mission = SPR_bop_opposing_side_does_something_mission_final
				}
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission_final
					days = 42
				}
			}
			else = {
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission
					days = 42
				}
			}
		}
		ai_will_do = {
			base = 25
			modifier = {
				add = 75
				SPR_SCW_ai_avoid_trigger = yes
			}
		}
	}
	SPR_raid_leftist_offices = {
		icon = generic_ignite_civil_war
		
		cost = 65
		fire_only_once = no
		days_remove = 14
		
		available = {
			has_completed_focus = SPR_Promises_Of_Stability
		}
		visible = {
			OR = {
				is_power_balance_side_active = {
					id = SPR_burning_house_of_cards
					side = SPR_rightcenter_side
				}
				is_power_balance_side_active = {
					id = SPR_burning_house_of_cards
					side = SPR_center_side
				}
			}
		}
		allowed = {}
		modifier = {
			totalist_drift = -0.05
			syndicalist_drift = -0.1
			radical_socialist_drift = -0.08
			social_democrat_drift = -0.05
			authoritarian_democrat_drift = 0.08
			power_balance_daily = -0.005
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_raid_leftist_offices"
			if = {
				limit = {
					check_variable = { SPR.num_of_cnt_states_cleared < 2 }
				}
				random_state = {
					limit = {
						is_owned_by = SPR
						has_state_flag = is_cnt_state
						NOT = { state = 165 } #Catalonia
						NOT = { state = 1313 } #Andorra
						any_neighbor_state = {
							is_owned_by = SPR
							NOT = { has_state_flag = is_car_state }
							NOT = { has_state_flag = is_cnt_state }
						}
					}
					custom_effect_tooltip = will_end_cnt_state
					hidden_effect = {
						clr_state_flag = is_cnt_state
						add_to_variable = { SPR.num_of_cnt_states_cleared = 1 }
					}
				}
			}
			add_power_balance_value = {
				id = SPR_burning_house_of_cards
				value = -0.03
			}
			random_list = {
				33 = {
					add_stability = -0.01
					add_popularity = {
						ideology = syndicalist
						popularity = -0.02
					}
					add_popularity = {
						ideology = totalist
						popularity = -0.05
					}
					if = {
						limit = {
							has_active_mission = SPR_bop_opposing_side_does_something_mission_final
						}
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission_final
							days = 21
						}
					}
					else = {
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission
							days = 21
						}
					}
				}
				33 = {
					add_power_balance_value = {
						id = SPR_burning_house_of_cards
						value = -0.03
					}
					add_stability = 0.02
					add_popularity = {
						ideology = syndicalist
						popularity = -0.05
					}
					add_popularity = {
						ideology = totalist
						popularity = -0.07
					}
					if = {
						limit = {
							has_active_mission = SPR_bop_opposing_side_does_something_mission_final
						}
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission_final
							days = 28
						}
					}
					else = {
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission
							days = 28
						}
					}
				}
				33 = {
					add_power_balance_value = {
						id = SPR_burning_house_of_cards
						value = -0.05
					}
					add_stability = 0.05
					add_popularity = {
						ideology = syndicalist
						popularity = -0.07
					}
					add_popularity = {
						ideology = totalist
						popularity = -0.1
					}
					if = {
						limit = {
							has_active_mission = SPR_bop_opposing_side_does_something_mission_final
						}
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission_final
							days = 35
						}
					}
					else = {
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission
							days = 35
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	SPR_raid_rightist_offices = {
		icon = generic_ignite_civil_war
		
		cost = 65
		fire_only_once = no
		days_remove = 14
		
		available = {
			is_in_coalition_with_social_conservative = yes
		}
		visible = {
			OR = {
				is_power_balance_side_active = {
					id = SPR_burning_house_of_cards
					side = SPR_leftcenter_side
				}
				is_power_balance_side_active = {
					id = SPR_burning_house_of_cards
					side = SPR_center_side
				}
			}
		}
		allowed = {}
		modifier = {
			paternal_autocrat_drift = -0.08
			national_populist_drift = -0.08
			authoritarian_democrat_drift = 0.08
			power_balance_daily = -0.005
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_raid_rightist_offices"
			if = {
				limit = {
					check_variable = { SPR.num_of_car_states_cleared < 3 }
				}
				random_state = {
					limit = {
						is_owned_by = SPR
						has_state_flag = is_car_state
						NOT = { state = 172 } #Navarra
						any_neighbor_state = {
							is_owned_by = SPR
							NOT = { has_state_flag = is_car_state }
							NOT = { has_state_flag = is_cnt_state }
						}
					}
					custom_effect_tooltip = will_end_car_state
					hidden_effect = {
						clr_state_flag = is_car_state
						add_to_variable = { SPR.num_of_car_states_cleared = 1 }
					}
				}
			}
			add_power_balance_value = {
				id = SPR_burning_house_of_cards
				value = -0.03
			}
			random_list = {
				33 = {
					add_stability = -0.01
					add_popularity = {
						ideology = paternal_autocrat
						popularity = -0.02
					}
					add_popularity = {
						ideology = national_populist
						popularity = -0.05
					}
					if = {
						limit = {
							has_active_mission = SPR_bop_opposing_side_does_something_mission_final
						}
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission_final
							days = 21
						}
					}
					else = {
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission
							days = 21
						}
					}
				}
				33 = {
					add_power_balance_value = {
						id = SPR_burning_house_of_cards
						value = -0.03
					}
					add_stability = 0.02
					add_popularity = {
						ideology = paternal_autocrat
						popularity = -0.05
					}
					add_popularity = {
						ideology = national_populist
						popularity = -0.07
					}
					if = {
						limit = {
							has_active_mission = SPR_bop_opposing_side_does_something_mission_final
						}
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission_final
							days = 28
						}
					}
					else = {
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission
							days = 28
						}
					}
				}
				33 = {
					add_power_balance_value = {
						id = SPR_burning_house_of_cards
						value = -0.05
					}
					add_stability = 0.05
					add_popularity = {
						ideology = paternal_autocrat
						popularity = -0.07
					}
					add_popularity = {
						ideology = national_populist
						popularity = -0.1
					}
					if = {
						limit = {
							has_active_mission = SPR_bop_opposing_side_does_something_mission_final
						}
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission_final
							days = 35
						}
					}
					else = {
						add_days_mission_timeout = {
							mission = SPR_bop_opposing_side_does_something_mission
							days = 35
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	SPR_more_police = {
		icon = generic_arrest
		
		cost = 45
		fire_only_once = no
		days_remove = 14
		
		available = {
			has_completed_focus = SPR_Increase_Police_Funding
		}
		visible = {
			OR = {
				is_power_balance_side_active = {
					id = SPR_burning_house_of_cards
					side = SPR_rightcenter_side
				}
			}
		}
		allowed = {}
		modifier = {
			stability_weekly = 0.025
			power_balance_daily = -0.001
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_more_police"
			add_power_balance_value = {
				id = SPR_burning_house_of_cards
				value = -0.01
			}
			add_stability = 0.02
			add_popularity = {
				ideology = totalist
				popularity = -0.03
			}
			add_popularity = {
				ideology = syndicalist
				popularity = -0.02
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = -0.01
			}
			add_popularity = {
				ideology = national_populist
			 	popularity = -0.02
			}
			if = {
				limit = {
					has_active_mission = SPR_bop_opposing_side_does_something_mission_final
				}
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission_final
					days = 21
				}
			}
			else = {
				add_days_mission_timeout = {
					mission = SPR_bop_opposing_side_does_something_mission
					days = 21
				}
			}
		}
		ai_will_do = {
			base = 75
			modifier = {
				add = 25
				SPR_SCW_ai_avoid_trigger = yes
			}
		}
	}
}
SPR_attack_radicals_decisions = {
	SPR_show_cnt_states_to_attack = {
		icon = infiltrate_state
		state_target = any_owned_state
		visible = {
			SPR_bop_finale_trigger = yes
		}
		target_root_trigger = {
			always = yes
		}
		target_array = SPR.owned_states
		target_trigger = {
			FROM = {
				has_state_flag = is_cnt_state
				NOT = { state = 165 } #Catalonia
				NOT = { state = 1313 } #Andorra
			}
		}
		available = {
			FROM = {
				any_neighbor_state = {
					custom_trigger_tooltip = {
						tooltip = SPR_is_controlled_by_gov_tt
						is_owned_by = SPR
						NOT = { has_state_flag = is_car_state }
						NOT = { has_state_flag = is_cnt_state }
					}
				}
			}
		}
		on_map_mode = map_and_decisions_view
		custom_cost_trigger = {
			has_equipment = { infantry_equipment > 249 }
			has_equipment = { support_equipment > 9 }
			has_manpower > 299
		}
		custom_cost_text = SPR_SCW_decision_cost_300_manpower_250_infa_10_support
		priority = 10
		fire_only_once = no
		days_remove = 14
		modifier = {
			stability_weekly = 0.015
			authoritarian_democrat_drift = 0.01
			syndicalist_drift = -0.01
			totalist_drift = -0.02
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = spanish_civil_war
				spanish_civil_war_will_happen_or_is_happening = yes
			}
		}
		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -250
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = -10
				}
				add_manpower = -300
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_show_cnt_states_to_attack"
			ROOT = {
				hidden_effect = {
					add_to_variable = { SPR.num_of_cnt_states_cleared = 1 }
				}
				if = {
					limit = {
						NOT = { has_country_flag = SPR_left_kingdom_intro }
					}
					add_stability = 0.01
					add_popularity = {
						ideology = totalist
						popularity = -0.02
					}
					add_popularity = {
						ideology = syndicalist
						popularity = -0.01
					}
					add_popularity = {
						ideology = radical_socialist
						popularity = -0.01
					}
				}
				else = {
					add_political_power = -5
					add_popularity = {
						ideology = totalist
						popularity = -0.01
					}
					add_popularity = {
						ideology = syndicalist
						popularity = -0.01
					}
				}
				random_list = {
					33 = {
						army_experience = 2
						add_equipment_to_stockpile = {
							type = infantry_equipment
							amount = 150
						}
					}
					33 = {
						army_experience = 2
						add_equipment_to_stockpile = {
							type = support_equipment
							amount = 15
						}
					}
					33 = {
						army_experience = 5
						add_equipment_to_stockpile = {
							type = infantry_equipment
							amount = 200
						}
						add_equipment_to_stockpile = {
							type = support_equipment
							amount = 20
						}
					}
				}
			}
			FROM = {
				clr_state_flag = is_cnt_state
				set_demilitarized_zone = no
			}
		}
	}
	SPR_show_car_states_to_attack = {
		icon = infiltrate_state
		state_target = any_owned_state
		visible = {
			SPR_bop_finale_trigger = yes
		}
		target_root_trigger = {
			tag = SPR
		}
		target_array = SPR.owned_controlled_states
		target_trigger = {
			FROM = {
				has_state_flag = is_car_state
				NOT = { state = 172 } #Navarra
			}
		}
		available = {
			FROM = {
				any_neighbor_state = {
					custom_trigger_tooltip = {
						tooltip = SPR_is_controlled_by_gov_tt
						is_owned_by = SPR
						NOT = { has_state_flag = is_car_state }
						NOT = { has_state_flag = is_cnt_state }
					}
				}
			}
		}
		on_map_mode = map_and_decisions_view
		custom_cost_trigger = {
			has_equipment = { infantry_equipment > 249 }
			has_equipment = { support_equipment > 9 }
			has_manpower > 299
		}
		custom_cost_text = SPR_SCW_decision_cost_300_manpower_250_infa_10_support
		priority = 10
		fire_only_once = no
		days_remove = 14
		modifier = {
			stability_weekly = 0.015
			authoritarian_democrat_drift = 0.01
			paternal_autocrat_drift = -0.01
			national_populist_drift = -0.02
		}
		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -250
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = -10
				}
				add_manpower = -300
			}
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = spanish_civil_war
				spanish_civil_war_will_happen_or_is_happening = yes
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_show_car_states_to_attack"
			ROOT = {
				hidden_effect = {
					add_to_variable = { SPR.num_of_car_states_cleared = 1 }
				}
				if = {
					limit = {
						NOT = { has_country_flag = SPR_right_kingdom_intro }
					}
					add_stability = 0.01
					add_popularity = {
						ideology = paternal_autocrat
						popularity = -0.01
					}
					add_popularity = {
						ideology = national_populist
						popularity = -0.02
					}
				}
				else = {
					add_political_power = -5
					add_popularity = {
						ideology = national_populist
						popularity = -0.01
					}
				}
				random_list = {
					33 = {
						army_experience = 2
						add_equipment_to_stockpile = {
							type = infantry_equipment
							amount = 150
						}
					}
					33 = {
						army_experience = 2
						add_equipment_to_stockpile = {
							type = support_equipment
							amount = 15
						}
					}
					33 = {
						army_experience = 5
						add_equipment_to_stockpile = {
							type = infantry_equipment
							amount = 200
						}
						add_equipment_to_stockpile = {
							type = support_equipment
							amount = 20
						}
					}
				}
			}
			FROM = {
				clr_state_flag = is_car_state
				set_demilitarized_zone = no
			}
		}
	}
	SPR_show_cnt_states_to_attack_anarchist_capital = {
		icon = generic_ignite_civil_war
		state_target = any_owned_state
		visible = {
			SPR_bop_finale_trigger = yes
			check_variable = { SPR.num_of_cnt_states_cleared > SPR.num_of_total_cnt_states_at_start }
		}
		target_root_trigger = {
			tag = SPR
		}
		targets = { state = 165 } #Catalonia, Andorra handled with the effect to not have decision appear for Andorra on the map
		on_map_mode = map_and_decisions_view
		custom_cost_trigger = {
			has_equipment = { infantry_equipment > 499 }
			has_manpower > 499
		}
		custom_cost_text = SPR_SCW_decision_cost_500_manpower_500_infa
		priority = 12
		fire_only_once = yes
		days_remove = 28
		modifier = {
			stability_weekly = 0.013
			authoritarian_democrat_drift = 0.02
			syndicalist_drift = -0.02
			totalist_drift = -0.04
		}
		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -500
				}
				add_manpower = -500
			}
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = spanish_civil_war
				spanish_civil_war_will_happen_or_is_happening = yes
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_show_cnt_states_to_attack_anarchist_capital"
			ROOT = {
				set_country_flag = SPR_all_cnt_states_cleared
				if = {
					limit = {
						has_country_flag = SPR_all_car_states_cleared
					}
					complete_national_focus = SPR_Prepare_Elections
				}
				if = {
					limit = {
						NOT = { has_country_flag = SPR_left_kingdom_intro }
					}
					add_stability = 0.07
					add_popularity = {
						ideology = totalist
						popularity = -0.04
					}
					add_popularity = {
						ideology = syndicalist
						popularity = -0.06
					}
					add_popularity = {
						ideology = radical_socialist
						popularity = -0.03
					}
				}
				else = {
					add_political_power = -30
					add_stability = 0.05
					add_popularity = {
						ideology = totalist
						popularity = -0.04
					}
					add_popularity = {
						ideology = syndicalist
						popularity = -0.03
					}
				}
			}
			FROM = {
				clr_state_flag = is_cnt_state
				set_demilitarized_zone = no
			}
			1313 = { #Andorra
				if = {
					limit = {
						has_state_flag = is_cnt_state
					}
					clr_state_flag = is_cnt_state
					set_demilitarized_zone = no
				}
			}
		}
	}
	SPR_show_car_states_to_attack_carlist_capital = {
		icon = generic_ignite_civil_war
		state_target = any_owned_state
		visible = {
			SPR_bop_finale_trigger = yes
			check_variable = { SPR.num_of_car_states_cleared > SPR.num_of_total_car_states_at_start }
		}
		target_root_trigger = {
			tag = SPR
		}
		targets = { 172 } #Navarra
		on_map_mode = map_and_decisions_view
		custom_cost_trigger = {
			has_equipment = { infantry_equipment > 499 }
			has_manpower > 499
		}
		custom_cost_text = SPR_SCW_decision_cost_500_manpower_500_infa
		priority = 12
		fire_only_once = yes
		days_remove = 28
		modifier = {
			stability_weekly = 0.013
			authoritarian_democrat_drift = 0.02
			paternal_autocrat_drift = -0.02
			national_populist_drift = -0.04
		}
		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -500
				}
				add_manpower = -500
			}
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = spanish_civil_war
				spanish_civil_war_will_happen_or_is_happening = yes
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_show_car_states_to_attack_carlist_capital"
			ROOT = {
				set_country_flag = SPR_all_car_states_cleared
				if = {
					limit = {
						has_country_flag = SPR_all_cnt_states_cleared
					}
					complete_national_focus = SPR_Prepare_Elections
				}
				if = {
					limit = {
						NOT = { has_country_flag = SPR_right_kingdom_intro }
					}
					add_stability = 0.07
					add_popularity = {
						ideology = paternal_autocrat
						popularity = -0.06
					}
					add_popularity = {
						ideology = national_populist
						popularity = -0.03
					}
				}
				else = {
					add_stability = 0.05
					add_popularity = {
						ideology = paternal_autocrat
						popularity = -0.03
					}
					add_popularity = {
						ideology = national_populist
						popularity = -0.04
					}
				}
			}
			FROM = {
				clr_state_flag = is_car_state
				set_demilitarized_zone = no
			}
		}
	}
	SPR_get_equipment_decision = {
		icon = ger_military_buildup
		cost = 10
		fire_only_once = no
		days_remove = 14
		
		visible = {
			SPR_bop_finale_trigger = yes
		}
		
		modifier = {
			stability_weekly = -0.02
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_get_equipment_decision"
			random_owned_state = {
				limit = {
					arms_factory > 0
					is_demilitarized_zone = no
					is_core_of = SPR
				}
				random_list = {
					33 = {
						damage_building = {
							type = arms_factory
							damage = 0.3
						}
					}
					33 = {
						damage_building = {
							type = arms_factory
							damage = 0.5
						}
					}
					33 = {
						damage_building = {
							type = arms_factory
							damage = 0.7
						}
					}
				}
			}
			random_list = {
				33 = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 75
					}
				}
				33 = {
					add_equipment_to_stockpile = {
						type = support_equipment
						amount = 10
					}
				}
				33 = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 100
					}
					add_equipment_to_stockpile = {
						type = support_equipment
						amount = 15
					}
				}
			}
		}
	}
}

SPR_civil_war_decisions = {
	SPR_civil_war_countdown = {
		icon = generic_prepare_civil_war
		activation = {
			always = no
		}
		available = {
			always = no
		}
		cancel_trigger = {
			has_global_flag = spanish_civil_war
		}
		is_good = no
		days_mission_timeout = 30
		selectable_mission = no
		priority = 10
		complete_effect = {}
		war_with_on_timeout = CNT
		war_with_on_timeout = CAR
		timeout_effect = {
			custom_effect_tooltip = SPR_civil_war_countdown_tt
			hidden_effect = {
				if = {
					limit = {
						OR = {
							CNT = { exists = yes }
							CAR = { exists = yes }
						}
					}
					country_event = sprc.9
				}
				if = {
					limit = {
						CNT = { exists = yes }
					}
					CNT_setup_effect = yes
				}
				if = {
					limit = {
						CAR = { exists = yes }
					}
					CAR_setup_effect = yes
				}
			}
		}
	}
	SPR_civil_war_prelude_countdown = {
		icon = generic_prepare_civil_war
		activation = {
			always = no
		}
		available = {
			always = no
		}
		cancel_trigger = {
			has_global_flag = spanish_civil_war
		}
		is_good = no
		days_mission_timeout = civil_war_prelude_countdown_length_var
		selectable_mission = no
		priority = 10
		complete_effect = {}
		timeout_effect = {
			custom_effect_tooltip = SPR_civil_war_prelude_countdown_tt
			hidden_effect = {
				country_event = sprc.7
			}
		}
	}
	SPR_SCW_give_selected_side_infantry = {
		icon = ger_military_buildup
		custom_cost_trigger = {
			has_equipment = { infantry_equipment > 250 }
		}
		custom_cost_text = SPR_SCW_decision_cost_250_infa
		days_remove = 21
		fire_only_once = no
		available = { hidden_trigger = { has_allied_with_anyone_republic_and_no_civil_war = yes } }
		visible = {
			has_allied_with_anyone_republic_and_no_civil_war = yes
		}
		complete_effect = {
			if = {
				limit = {
					has_country_flag = SPR_left_republic_intro
				}
				CNT = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 250
					}
				}
				hidden_effect = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = -250
					}
				}
			}
			if = {
				limit = {
					has_country_flag = SPR_right_republic_intro
				}
				CAR = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = 250
					}
				}
				hidden_effect = {
					add_equipment_to_stockpile = {
						type = infantry_equipment
						amount = -250
					}
				}
			}
		}
	}
	SPR_SCW_give_selected_side_at = {
		icon = artillery
		custom_cost_trigger = {
			has_equipment = { artillery_equipment > 100 }
		}
		custom_cost_text = SPR_SCW_decision_cost_100_at
		days_remove = 14
		fire_only_once = no
		available = { hidden_trigger = { has_allied_with_anyone_republic_and_no_civil_war = yes } }
		visible = {
			has_allied_with_anyone_republic_and_no_civil_war = yes
		}
		complete_effect = {
			if = {
				limit = {
					has_country_flag = SPR_left_republic_intro
				}
				CNT = {
					add_equipment_to_stockpile = {
						type = artillery_equipment
						amount = 100
					}
				}
				hidden_effect = {
					add_equipment_to_stockpile = {
						type = artillery_equipment
						amount = -100
					}
				}
			}
			if = {
				limit = {
					has_country_flag = SPR_right_republic_intro
				}
				CAR = {
					add_equipment_to_stockpile = {
						type = artillery_equipment
						amount = 100
					}
				}
				hidden_effect = {
					add_equipment_to_stockpile = {
						type = artillery_equipment
						amount = -100
					}
				}
			}
		}
	}
	SPR_SCW_take_government_state = {
		icon = infiltrate_state
		state_target = any_owned_state
		visible = {
			has_allied_with_anyone_republic_and_no_civil_war = yes
		}
		target_root_trigger = {
			tag = SPR
		}
		target_array = SPR.owned_controlled_states
		target_trigger = {
			FROM = {
				NOT = { has_state_flag = is_car_state }
				NOT = { has_state_flag = is_cnt_state }
				NOT = { state = 41 }
				NOT = { state = 1342 }
				is_on_continent = europe
				any_neighbor_state = {
					if = {
						limit = {
							SPR = {
								has_country_flag = SPR_left_republic_intro
							}
						}
						has_state_flag = is_cnt_state
					}
					if = {
						limit = {
							SPR = {
								has_country_flag = SPR_right_republic_intro
							}
						}
						has_state_flag = is_car_state
					}
				}
			}
		}
		available = {
			custom_override_tooltip = {
				tooltip = SPR_amount_of_gov_states_takeable_tt
				not_tooltip = SPR_amount_of_gov_states_takeable_tt_NOT
				check_variable = { SPR.amount_of_gov_states_takeable > 0 }
			}
			FROM = {
				custom_override_tooltip = {
					tooltip = is_gov_state
					any_neighbor_state = {
						OR = {
							has_state_flag = is_car_state
							has_state_flag = is_cnt_state
						}
						is_owned_by = SPR
					}
				}
			}
		}
		on_map_mode = map_and_decisions_view
		cost = 50
		days_remove = 14
		complete_effect = {
			subtract_from_variable = { SPR.amount_of_gov_states_takeable = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_SCW_take_government_state"
			add_to_variable = { SPR.num_of_total_cnt_states_at_start = 1 }
			if = {
				limit = {
					has_country_flag = SPR_left_republic_intro
				}
				FROM = {
					set_state_flag = is_cnt_state
				}
			}
			if = {
				limit = {
					has_country_flag = SPR_right_republic_intro
				}
				FROM = {
					set_state_flag = is_car_state
				}
			}
			add_stability = -0.02
		}
		highlight_states = {
			highlight_state_targets = {
				NOT = { has_state_flag = is_car_state }
				NOT = { has_state_flag = is_cnt_state }
				NOT = { state = 41 }
				NOT = { state = 1342 }
				is_on_continent = europe
				any_neighbor_state = {
					if = {
						limit = {
							SPR = {
								has_country_flag = SPR_left_republic_intro
							}
						}
						has_state_flag = is_cnt_state
					}
					if = {
						limit = {
							SPR = {
								has_country_flag = SPR_right_republic_intro
							}
						}
						has_state_flag = is_car_state
					}
				}
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}
	}
	SPR_SCW_raid_army_supplies = {
		cost = 20
		available = { hidden_trigger = { has_allied_with_anyone_republic_and_no_civil_war = yes } }
		days_remove = 7
		visible = {
			has_completed_focus = SPR_Fight_Fire_With_Fire
			has_allied_with_anyone_republic_and_no_civil_war = yes
			check_variable = { SPR.num_of_car_states_cleared < SPR.num_of_total_car_states_at_start }
			check_variable = { SPR.num_of_cnt_states_cleared < SPR.num_of_total_cnt_states_at_start }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_SCW_raid_army_supplies"
			random_list = {
				70 = {
					if = {
						limit = {
							has_country_flag = SPR_left_republic_intro
						}
						CNT = {
							add_equipment_to_stockpile = {
								type = infantry_equipment
								amount = 250
							}
							add_equipment_to_stockpile = {
								type = artillery_equipment
								amount = 100
							}
						}
						hidden_effect = {
							add_equipment_to_stockpile = {
								type = infantry_equipment
								amount = -250
							}
							add_equipment_to_stockpile = {
								type = artillery_equipment
								amount = -100
							}
						}
					}
					if = {
						limit = {
							has_country_flag = SPR_right_republic_intro
						}
						CAR = {
							add_equipment_to_stockpile = {
								type = infantry_equipment
								amount = 250
							}
							add_equipment_to_stockpile = {
								type = artillery_equipment
								amount = 100
							}
						}
						hidden_effect = {
							add_equipment_to_stockpile = {
								type = infantry_equipment
								amount = -250
							}
							add_equipment_to_stockpile = {
								type = artillery_equipment
								amount = -100
							}
						}
					}
				}
				30 = {
					if = {
						limit = {
							has_country_flag = SPR_left_republic_intro
						}
						custom_effect_tooltip = will_end_random_cnt_state
						hidden_effect = {
							add_to_variable = { SPR.num_of_cnt_states_cleared = 1 }
							random_owned_state = {
								limit = {
									has_state_flag = is_cnt_state
									OR = {
										any_neighbor_state = {
											is_owned_by = SPR
											NOT = { has_state_flag = is_cnt_state }
											NOT = { has_state_flag = is_car_state }
										}
										AND = {
											is_owned_by = SPR
											is_one_state_island = yes
										}
									}
									NOT = { state = 165 }
									NOT = { state = 1313 }
								}
								clr_state_flag = is_cnt_state
							}
						}
					}
					if = {
						limit = {
							has_country_flag = SPR_right_republic_intro
						}
						custom_effect_tooltip = will_end_random_car_state
						hidden_effect = {
							add_to_variable = { SPR.num_of_car_states_cleared = 1 }
							random_owned_state = {
								limit = {
									has_state_flag = is_car_state
									OR = {
										any_neighbor_state = {
											is_owned_by = SPR
											NOT = { has_state_flag = is_cnt_state }
											NOT = { has_state_flag = is_car_state }
										}
										AND = {
											is_owned_by = SPR
											is_one_state_island = yes
										}
									}
									NOT = { state = 172 }
								}
								clr_state_flag = is_car_state
							}
						}
					}
				}
			}
		}
	}
	SCW_attack_opposing_side_buildings = {
		icon = generic_military
		target_root_trigger = {
			OR = {
				tag = SPR
				tag = CNT
				tag = CAR
			}
		}
		priority = 10
		days_remove = 21
		custom_cost_trigger = {
			has_equipment = { infantry_equipment > 499 }
			has_manpower > 499
		}
		custom_cost_text = SPR_SCW_decision_cost_500_manpower_500_infa
		available = { always = yes }
		visible = {
			is_spanish_civil_war_tag = yes
			has_war = yes
		}
		targets = { SPR CNT CAR }
		target_trigger = {
			FROM = {
				NOT = { tag = ROOT }
				any_owned_state = {
					limit = {
						arms_factory > 0
					}
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -500
				}
				add_manpower = -500
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SCW_attack_opposing_side_buildings"
			FROM = {
				random_owned_state = {
					limit = {
						arms_factory > 0
						is_owned_by = FROM
					}
					random_list = {
						33 = {
							damage_building = {
								type = arms_factory
								damage = 0.5
							}
						}
						33 = {
							damage_building = {
								type = arms_factory
								damage = 0.75
							}
						}
						33 = {
							damage_building = {
								type = arms_factory
								damage = 1
							}
						}
					}
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	SCW_build_mil = {
		icon = ger_military_buildup
		cost = 75
		days_remove = 30
		priority = 9
		available = {
			any_owned_state = { is_fully_controlled_by = ROOT }
		}
		visible = {
			hidden_trigger = {
				is_spanish_civil_war_tag = yes
				has_war = yes
				any_owned_state = { is_fully_controlled_by = ROOT }
				check_variable = { ROOT.SCW_Amount_Of_Mils_Built_Via_Decision < 5 }
			}
		}
		cancel_if_not_visible = yes
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SCW_build_mil"
			random_owned_controlled_state = {
				prioritize = { 41 165 1344 }
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			hidden_effect = {
				add_to_variable = { ROOT.SCW_Amount_Of_Mils_Built_Via_Decision = 1 }
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	SCW_desperate_measures = {
		priority = 8
		cost = 20
		days_re_enable = 180
		available = {
			surrender_progress > 0.3
		}
		visible = {
			is_spanish_civil_war_tag = yes
			has_war = yes
		}
		complete_effect = {
			add_timed_idea = {
				idea = SPR_desperate_measures_idea
				days = 120
			}
		}
	}
}

SCW_military_decisions = {
	SCW_raise_militas = {
		icon = generic_military
		state_target = yes
		target_trigger = {
			FROM = {
				is_core_of = ROOT
				is_owned_by = ROOT
				NOT = {
					state = 118
					state = 1313
					state = 1316
				}
			}
		}
		target_root_trigger = {
			OR = {
				tag = SPR
				tag = CAR
				tag = CNT
			}
		}
		cost = 15
		days_remove = 21
		fire_only_once = yes
		available = {
			FROM = {
				is_fully_controlled_by = ROOT
			}
		}
		cancel_trigger = {
			FROM = {
				NOT = { is_fully_controlled_by = ROOT }
			}
		}
		visible = {
			is_spanish_civil_war_tag = yes
			has_war = yes
		}
		cancel_effect = {
			add_stability = -0.02
			army_experience = -5
		}
		remove_effect = {
			if = {
				limit = {
					has_template = "Milicia de Emergencia"
				}
			}
			else = {
				division_template = {
					name = "Milicia de Emergencia"
					is_locked = yes
					template_counter = 0
					regiments = {
						infantry = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
					}
					priority = 5
				}
			}
			FROM = {
				create_unit = {
					division = "name = \"Milicia de Emergencia\" division_template = \"Milicia de Emergencia\" start_experience_factor = 0.1"
					owner = ROOT
					id = 15
					count = 2
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
}

SPR_foreign_decisions = {
	SPR_save_portugal = {
		
		cost = 15
		fire_only_once = yes
		days_remove = 7
		
		priority = 10

		available = {
			hidden_trigger = {
				POR = {
					has_war = yes
					has_war_with = INT
					NOT = { has_war_with = SPR }
					OR = {
						NOT = { has_full_control_of_state = 180 }
						NOT = { has_full_control_of_state = 181 }
						NOT = { has_full_control_of_state = 112 }
						NOT = { has_full_control_of_state = 179 }
					}
				}
			}
		}
		
		visible = {
			POR = {
				has_war = yes
				has_war_with = INT
				NOT = { has_war_with = SPR }
				OR = {
					NOT = { has_full_control_of_state = 180 }
					NOT = { has_full_control_of_state = 181 }
					NOT = { has_full_control_of_state = 112 }
					NOT = { has_full_control_of_state = 179 }
				}
			}
		}
		
		war_with_on_remove = INT
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_save_portugal"
			add_to_war = {
				targeted_alliance = POR
				enemy = INT
				hostility_reason = asked_to_join
			}
			if = {
				limit = {
					is_in_faction = no
					POR = {
						is_in_faction_with = GER
					}
				}
				GER = {
					country_event = sprd.30
				}
			}
			if = {
				limit = {
					is_in_faction = no
					POR = {
						is_in_faction_with = ENT
					}
				}
				ENT = {
					country_event = sprd.31
				}
			}
		}
	}
	SPR_buy_west_timor = {
		cost = 50
		fire_only_once = yes
		days_remove = 7
		
		priority = 1
		
		available = {
			always = yes
		}
		
		visible = {
			has_completed_focus = SPR_trade_focus
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_buy_west_timor"
			country_event = sprf.18
		}
	}
	SPR_propose_iberia = {
		cost = 10
		fire_only_once = yes
		days_remove = 7
		
		priority = 1
		
		available = {
			tag = SPR
		}
		
		visible = {
			tag = SPR
			is_in_faction_with = POR
			NOT = { has_country_flag = SPR_iberian_union }
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_propose_iberia"
			country_event = sprd.1133
		}
	}
	SPR_core_spanish_morocco = {
		cost = 30
		fire_only_once = yes
		days_remove = 7
		
		priority = 1
		
		available = {
			always = yes
		}
		
		visible = {
			has_completed_focus = SPR_focus_on_africa
			every_state = {
				limit = {
					OR = {
						state = 290
						state = 1318
					}
				}
				NOT = { is_core_of = SPR }
			}
		}
		
		highlight_states = {
			highlight_state_targets = {
				state = 290
				state = 1318
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_core_spanish_morocco"
			every_owned_state = {
				limit = {
					OR = {
						state = 290
						state = 1318
					}
				}
				add_dynamic_modifier = { modifier = SPR_morocco_modifier }
				add_core_of = SPR
			}
		}
	}
	SPR_core_spanish_sahara = {
		cost = 20
		fire_only_once = yes
		days_remove = 7
		
		priority = 1
		
		available = {
			always = yes
		}
		
		visible = {
			has_completed_focus = SPR_focus_on_africa
		}
		
		highlight_states = {
			highlight_state_targets = {
				state = 699
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_core_spanish_sahara"
			every_owned_state = {
				limit = {
					OR = {
						state = 699
					}
				}
				add_dynamic_modifier = { modifier = SPR_sahara_modifier }
				add_core_of = SPR
			}
		}
	}
	SPR_core_equatorial_guinea = {
		cost = 10
		fire_only_once = yes
		days_remove = 7
		
		priority = 1
		
		available = {
			always = yes
		}
		
		visible = {
			has_completed_focus = SPR_focus_on_africa
		}
		
		highlight_states = {
			highlight_state_targets = {
				state = 297
				state = 1335
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_core_equatorial_guinea"
			every_owned_state = {
				limit = {
					OR = {
						state = 297
						state = 1335
					}
				}
				add_dynamic_modifier = { modifier = SPR_rio_muni_modifier }
				add_core_of = SPR
			}
		}
	}
	SPR_core_angola = {
		cost = 40
		fire_only_once = yes
		days_remove = 7
		
		priority = 1
		
		available = {
			always = yes
		}
		
		visible = {
			has_completed_focus = SPR_focus_on_africa
			has_country_flag = SPR_iberian_union
		}
		
		highlight_states = {
			highlight_states_trigger = {
				every_owned_state = {
					limit = {
						is_core_of = ANG
					}
				}
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_core_angola"
			every_owned_state = {
				limit = {
					is_core_of = ANG
				}
				add_dynamic_modifier = { modifier = SPR_iberia_angola_modifier }
				add_core_of = SPR
			}
		}
	}
	SPR_core_mozambique = {
		cost = 40
		fire_only_once = yes
		days_remove = 7
		
		priority = 1
		
		available = {
			always = yes
		}
		
		visible = {
			has_completed_focus = SPR_focus_on_africa
			has_country_flag = SPR_iberian_union
		}
		
		highlight_states = {
			highlight_states_trigger = {
				every_owned_state = {
					limit = {
						is_core_of = MZB
					}
				}
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_core_mozambique"
			every_owned_state = {
				limit = {
					is_core_of = MZB
				}
				add_dynamic_modifier = { modifier = SPR_iberia_mozambique_modifier }
				add_core_of = SPR
			}
		}
	}
	SPR_invite_into_soi = {
		target_root_trigger = {
			tag = SPR
		}
		visible = {
			OR = {
				SPR_psoe_elected_flag = yes
				SPR_ps_elected_flag = yes
			}
			is_subject = no
			is_faction_leader = yes
			has_country_flag = SPR_SOI_Flag
		}
		fire_only_once = yes
		targets_dynamic = yes
		target_trigger = {
			FROM = {
				is_subject = no
				is_faction_leader = no
				is_in_faction = no
				NOT = {
					tag = CAL
					tag = BHC
					AND = {
						has_government = totalist
						NOT = {
							has_monbol_government = yes
							has_country_leader_ideology = tot_reformed_natsynd_subtype
						}
					}
					has_government = national_populist
				}
				OR = {
					has_country_leader_ideology = liberalized_syndicalism_subtype
					has_country_leader_ideology = libertarian_possibilism_subtype
					has_country_leader_ideology = democratic_syndicalism_subtype
					has_country_leader_ideology = tot_reformed_natsynd_subtype
					AND = {
						has_democratic_socialist_government = yes
						NOT = {
							has_government = syndicalist
						}
					}
					has_left_democratic_government = yes
					has_monbol_government = yes
				}
			}
		}
		cost = 15
		complete_effect = {
			FROM = {
				country_event = {
					id = sprf.9
					days = 3
					random_days = 3
				}
			}
		}
	}
	SPR_invite_into_intergralist_entente = {
		target_root_trigger = {
			tag = SPR
		}
		visible = {
			has_country_flag = SPR_integralist_entente
			is_faction_leader = yes
			is_subject = no
		}
		targets = { NFA POR BRA IRE BEL WLL MAG VIN ALA MAL MEX NFL NOR SWE SER SIC FIN PRU KOG }
		target_trigger = {
			FROM = {
				SPR_can_join_intr_entente_trigger = yes
			}
		}
		cost = 25
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_invite_into_intergralist_entente"
			FROM = {
				country_event = {
					id = sprd.1302
					days = 2
					random_days = 3
				}
			}
		}
	}
	SPR_protect_south_american_nation = {
		target_root_trigger = {
			tag = SPR
		}
		visible = {
			has_country_flag = SPR_radical_entente_protect_south_america
			is_subject = no
			FROM = {
				NOT = {
					has_war_with = ROOT
				}
			}
			FROM = {
				every_enemy_country = {
					limit = {
						NOT = {
							has_war_with = ROOT
						}
					}
				}
			}
		}
		targets_dynamic = yes
		target_trigger = {
			FROM = {
				has_idea = SPR_Protect_Latin_America_Idea
				has_defensive_war = yes
				NOT = {
					has_war_with = ROOT
					is_subject_of = ROOT
				}
			}
		}
		cancel_trigger = {
			hidden_trigger = {
				FROM = {
					OR = {
						has_socialist_government = yes
						has_government = paternal_autocrat
						has_government = national_populist
						has_war_with = ROOT
						is_subject_of = ROOT
						exists = no
					}
				}
			}
		}
		cost = 10
		days_remove = 14
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SPR_protect_south_american_nation"
			FROM = {
				every_enemy_country = {
					limit = {
						has_offensive_war_with = FROM
						NOT = { has_war_with = ROOT }
					}
					ROOT = {
						add_to_war = {
							targeted_alliance = FROM
							enemy = PREV
						}
					}
				}
			}
		}
	}
	SPR_kill_natpop_and_pataut_south_americans = {
		target_root_trigger = {
			tag = SPR
		}
		visible = {
			has_country_flag = SPR_radical_entente_protect_south_america
			is_subject = no
			FROM = {
				NOT = {
					has_war_with = ROOT
				}
			}
		}
		target_trigger = {
			FROM = {
				AND = {
					OR = {
						has_government = paternal_autocrat
						has_government = national_populist
					}
					is_in_south_america = yes
					is_subject = no
					NOT = { has_idea = SPR_Protect_Latin_America_Idea }
				}
			}
		}
		cancel_trigger = {
			hidden_trigger = {
				FROM = {
					OR = {
						NOT = { has_government = paternal_autocrat }
						NOT = { has_government = national_populist }
						has_war_with = ROOT
						exists = no
					}
				}
			}
		}
		cost = 25
		days_remove = 14
		fire_only_once = yes
		will_lead_to_war_with = FROM
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SPR_kill_natpop_and_pataut_south_americans"
			ROOT = {
				declare_war_on = FROM
			}
		}
	}
}
SPR_separatist_revolts = {
	SPR_battle_royale_countdown = {
		activation = {
			always = no
		}
		available = {
			always = no
		}
		cancel_trigger = {
			hidden_trigger = {
				has_country_flag = SPR_separatist_revolt_flag
			}
			if = {
				limit = {
					has_country_flag = GLC_in_separatist_revolt
				}
				GLC = { exists = no }
			}
			if = {
				limit = {
					has_country_flag = CAT_in_separatist_revolt
				}
				CAT = { exists = no }
			}
			if = {
				limit = {
					has_country_flag = BAS_in_separatist_revolt
				}
				BAS = { exists = no }
			}
			if = {
				limit = {
					has_country_flag = RIF_in_separatist_revolt
				}
				RIF = { exists = no }
			}
		}
		is_good = no
		days_mission_timeout = 200
		selectable_mission = no
		priority = 100
		complete_effect = {}
		cancel_effect = {
			SPR = {
				country_event = sprd.115
			}
		}
		timeout_effect = {
			SPR = {
				country_event = sprd.114
			}
		}
	}
}