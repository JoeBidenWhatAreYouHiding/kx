###########################
# Greece Decisions
###########################
# By Rylock
###########################

political_actions = {

	GRE_leave_balkan_pact = {
		icon = generic_agreement

		allowed = {
			original_tag = GRE
		}

		available = {
			has_war = no
			is_subject = no
		}

		visible = {
			is_in_faction_with = SER
			SER = { is_faction_leader = yes }
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_leave_balkan_pact"
			leave_faction = yes
			SER = {
				remove_opinion_modifier = { target = ROOT modifier = Belgrade_Pact_joined_yay }
				country_event = gre.13
			}
			if = {
				limit = {
					has_country_flag = SER_occupation_of_bulgaria
					any_owned_state = {
						is_not_claim_or_core_of_ROOT = yes
						is_core_of = BUL
					}
				}
				every_owned_state = {
					limit = {
						is_not_claim_or_core_of_ROOT = yes
						is_core_of = BUL
					}
					SER = {
						transfer_state = PREV
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				date < 1938.6.1
				OR = {
					NOT = { owns_state = 731 } #Western Macedonia
					NOT = { owns_state = 769 } #Eastern Macedonia
					NOT = { owns_state = 184 } #Western Thrace
				}
			}
			modifier = {
				factor = 0
				has_completed_focus = GRE_new_expansionism
			}
			modifier = {
				factor = 0
				NOT = {
					has_completed_focus = GRE_diplomacy_focus
					has_cosmetic_tag = GRE_kingdom
					has_government = national_populist
				}
			}
		}
	}

	GRE_join_internationale = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = GRE
		}

		available = {
			is_subject = no
			is_in_faction = no
			OR = {
				has_war = no
				custom_trigger_tooltip = {
					tooltip = GRE_same_wars_as_intl
					has_war = yes
					OR = {
						any_enemy_country = { has_war_with = FRA }
						any_enemy_country = { has_war_with = ENG }
					}
				}
			}
		}

		visible = {
			has_socialist_government = yes
			OR = {
				FRA = {
					has_socialist_government = yes
					is_faction_leader = yes
					NOT = { has_war_with = GRE }
				}
				ENG = {
					has_socialist_government = yes
					is_faction_leader = yes
					NOT = { has_war_with = GRE }
				}
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					FRA = {
						has_socialist_government = yes
						is_faction_leader = yes
						has_war = yes
						surrender_progress > 0.20
					}
					ENG = {
						has_socialist_government = yes
						is_faction_leader = yes
						has_war = yes
						surrender_progress > 0.20
					}
				}
			}
			modifier = {
				factor = 0
				has_government = radical_socialist
				NOT = {
					any_enemy_country = { has_war_with = FRA }
					any_enemy_country = { has_war_with = ENG }
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_NEUTRALITY
					}
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_RUSSIA
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_join_internationale"
			if = {
				limit = {
					ENG = {
						has_socialist_government = yes
						is_faction_leader = yes
					}
				}
				ENG = { country_event = gre.14 }
				else = {
					FRA = { country_event = gre.14 }
				}
			}
		}
	}

	GRE_join_entente = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = GRE
		}

		available = {
			date > 1938.1.1
			is_subject = no
			is_in_faction = no
			OR = {
				custom_trigger_tooltip = {
					tooltip = GRE_is_kingdom
					has_cosmetic_tag = GRE_kingdom
				}
				custom_trigger_tooltip = {
					tooltip = GRE_same_wars_as_entente
					has_war = yes
					any_enemy_country = { has_war_with = ENT }
				}
				custom_trigger_tooltip = {
					tooltip = GRE_neighbor_part_of_intl
					any_neighbor_country = {
						OR = {
							is_in_faction_with = FRA
							is_in_faction_with = ENG
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = GRE_turks_part_of_faction
					TUR = {
						is_in_faction = yes
						NOT = { is_in_faction_with = ENT }
						any_owned_state = { is_claim_or_core_of_ROOT = yes }
					}
				}
				custom_trigger_tooltip = {
					tooltip = GRE_bul_part_of_faction
					BUL = {
						is_in_faction = yes
						NOT = { is_in_faction_with = ENT }
						any_owned_state = { is_claim_or_core_of_ROOT = yes }
					}
				}
			}
			OR = {
				has_war = no
				custom_trigger_tooltip = {
					tooltip = GRE_same_wars_as_entente
					has_war = yes
					any_enemy_country = { has_war_with = ENT }
				}
			}
		}

		visible = {
			NOT = { has_socialist_government = yes }
			ENT = {
				is_faction_leader = yes
				NOT = { has_war_with = GRE }
				NOT = { has_country_flag = GRE_ejected_from_faction }
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				date < 1938.1.1
			}
			modifier = {
				factor = 0
				any_neighbor_country = { is_in_faction_with = GER }
				ENT = { has_war_with = GER }
			}
			modifier = {
				factor = 0
				any_neighbor_country = { is_in_faction_with = AUS }
				ENT = { has_war_with = AUS }
			}
			modifier = {
				factor = 0
				ENT = {
					is_faction_leader = yes
					has_war = yes
					surrender_progress > 0.20
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_NEUTRALITY
					}
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_REICHSPAKT
					}
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_AUSTRIA
					}
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_RUSSIA
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_join_entente"
			ENT = {
				country_event = gre.14
			}
		}
	}

	GRE_join_reichspakt = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = GRE
		}

		available = {
			date > 1938.1.1
			is_subject = no
			is_in_faction = no
			NOT = { has_idea = GRE_german_sanctions }
			custom_trigger_tooltip = {
				tooltip = GRE_germany_not_still_upset
				GER = {
					NOT = {
						has_opinion_modifier = GRE_stole_industry1
						has_opinion_modifier = GRE_stole_industry2
					}
				}
			}
			OR = {
				has_government = paternal_autocrat
				has_idea = GRE_foreign_industry_GER1
				has_idea = GRE_foreign_industry_GER2
				has_idea = GRE_foreign_industry_GER3
				custom_trigger_tooltip = {
					tooltip = GRE_same_wars_as_germany
					has_war = yes
					any_enemy_country = { has_war_with = GER }
				}
				custom_trigger_tooltip = {
					tooltip = GRE_neighbor_part_of_intl
					any_neighbor_country = {
						OR = {
							is_in_faction_with = FRA
							is_in_faction_with = ENG
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = GRE_turks_part_of_faction
					TUR = {
						is_in_faction = yes
						NOT = { is_in_faction_with = GER }
						any_owned_state = { is_claim_or_core_of_ROOT = yes }
					}
				}
				custom_trigger_tooltip = {
					tooltip = GRE_bul_part_of_faction
					BUL = {
						is_in_faction = yes
						NOT = { is_in_faction_with = GER }
						any_owned_state = { is_claim_or_core_of_ROOT = yes }
					}
				}
			}
			OR = {
				has_war = no
				custom_trigger_tooltip = {
					tooltip = GRE_same_wars_as_germany
					has_war = yes
					any_enemy_country = { has_war_with = GER }
				}
			}
		}

		visible = {
			NOT = { has_socialist_government = yes }
			GER = {
				is_faction_leader = yes
				NOT = { has_country_flag = GRE_ejected_from_faction }
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_cosmetic_tag = GRE_kingdom
				NOT = { has_government = paternal_autocrat }
			}
			modifier = {
				factor = 0
				GER = {
					has_war = yes
					surrender_progress > 0.20
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_NEUTRALITY
					}
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_AUSTRIA
					}
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_ENTENTE
					}
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_RUSSIA
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_join_reichspakt"
			GER = { country_event = gre.14 }
		}
	}
	
	GRE_join_russia = {
		icon = generic_prepare_civil_war
		allowed = { original_tag = GRE }
		available = {
			date > 1938.1.1
			is_subject = no
			is_in_faction = no
			OR = {
				custom_trigger_tooltip = {
					tooltip = GRE_same_wars_as_russia
					has_war = yes
					any_enemy_country = { has_war_with = RUS }
				}
				custom_trigger_tooltip = {
					tooltip = GRE_turks_part_of_faction
					TUR = {
						is_in_faction = yes
						NOT = { is_in_faction_with = RUS }
						any_owned_state = { is_claim_or_core_of_ROOT = yes }
					}
				}
				custom_trigger_tooltip = {
					tooltip = GRE_bul_part_of_faction
					BUL = {
						is_in_faction = yes
						NOT = { is_in_faction_with = GER }
						any_owned_state = { is_claim_or_core_of_ROOT = yes }
					}
				}
			}
			OR = {
				has_war = no
				custom_trigger_tooltip = {
					tooltip = GRE_same_wars_as_russia
					has_war = yes
					any_enemy_country = { has_war_with = RUS }
				}
			}
		}

		visible = {
			OR = {
				RUS = { has_same_government_as_ROOT = yes }
				AND = {
					has_socialist_government = no
					RUS = { has_socialist_government = no }
				}
			}
			RUS = {
				is_faction_leader = yes
				NOT = { has_country_flag = GRE_ejected_from_faction }
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				RUS = {
					has_war = yes
					surrender_progress > 0.20
				}
			}
			modifier = {
				factor = 1.2
				has_idea = GRE_german_sanctions
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_NEUTRALITY
					}
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_AUSTRIA
					}
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_ENTENTE
					}
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_REICHSPAKT
					}
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_INTERNATIONALE
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_join_reichspakt"
			if = {
				limit = {
					RUS = { exists = no }
					TRM = { is_faction_leader = yes }
				}
				TRM = { country_event = gre.14 }
			}
			else = { RUS = { country_event = gre.14 } }
		}
	}
	
	GRE_join_italy = {
		icon = generic_prepare_civil_war
		allowed = { original_tag = GRE }
		available = {
			date > 1938.1.1
			is_subject = no
			is_in_faction = no
			if = {
				limit = {
					ITA = { exists = no }
					SRI = {
						has_country_flag = ITA_activate_italian_bloc_decisions
						is_faction_leader = yes
						exists = yes
						has_government = paternal_autocrat
					}
				}
				OR = {
					custom_trigger_tooltip = {
						tooltip = GRE_same_wars_as_italy
						has_war = yes
						any_enemy_country = { has_war_with = SRI }
					}
					custom_trigger_tooltip = {
						tooltip = GRE_turks_part_of_faction
						TUR = {
							is_in_faction = yes
							NOT = { is_in_faction_with = SRI }
							any_owned_state = { is_claim_or_core_of_ROOT = yes }
						}
					}
					custom_trigger_tooltip = {
						tooltip = GRE_bul_part_of_faction
						BUL = {
							is_in_faction = yes
							NOT = { is_in_faction_with = SRI }
							any_owned_state = { is_claim_or_core_of_ROOT = yes }
						}
					}
				}
				OR = {
					has_war = no
					custom_trigger_tooltip = {
						tooltip = GRE_same_wars_as_italy
						has_war = yes
						any_enemy_country = { has_war_with = SRI }
					}
				}
			}
			else = {
				OR = {
					custom_trigger_tooltip = {
						tooltip = GRE_same_wars_as_italy
						has_war = yes
						any_enemy_country = { has_war_with = ITA }
					}
					custom_trigger_tooltip = {
						tooltip = GRE_turks_part_of_faction
						TUR = {
							is_in_faction = yes
							NOT = { is_in_faction_with = ENT }
							any_owned_state = { is_claim_or_core_of_ROOT = yes }
						}
					}
					custom_trigger_tooltip = {
						tooltip = GRE_bul_part_of_faction
						BUL = {
							is_in_faction = yes
							NOT = { is_in_faction_with = ITA }
							any_owned_state = { is_claim_or_core_of_ROOT = yes }
						}
					}
				}
				OR = {
					has_war = no
					custom_trigger_tooltip = {
						tooltip = GRE_same_wars_as_italy
						has_war = yes
						any_enemy_country = { has_war_with = ITA }
					}
				}
			}
		}

		visible = {
			has_socialist_government = no
			OR = {
				ITA = {
					is_faction_leader = yes
					NOT = { has_country_flag = GRE_ejected_from_faction }
				}
				SRI = {
					has_country_flag = ITA_activate_italian_bloc_decisions
					is_faction_leader = yes
					has_government = paternal_autocrat
				}
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					AND = {
						SRI = { has_socialist_government = yes }
						ITA = {
							has_war = yes
							surrender_progress > 0.30
						}
					}
					AND = {
						ITA = { exists = no }
						SRI = {
							has_war = yes
							surrender_progress > 0.30
						}
					}
				}
			}
			modifier = {
				factor = 1.2
				has_idea = GRE_german_sanctions
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_NEUTRALITY
					}
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_AUSTRIA
					}
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_ENTENTE
					}
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_REICHSPAKT
					}
					has_game_rule = {
						rule = GRE_foreign_policy
						option = GRE_FOREIGN_POLICY_RUSSIA
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_join_reichspakt"
			if = {
				limit = {
					ITA = { exists = no }
					SRI = {
						has_country_flag = ITA_activate_italian_bloc_decisions
						is_faction_leader = yes
						exists = yes
						has_government = paternal_autocrat
					}
				}
				SRI = { country_event = gre.14 }
			}
			else = { ITA = { country_event = gre.14 } }
		}
	}

	GRE_nationalize_german_industry = {
		icon = generic_industry

		allowed = { original_tag = GRE }

		available = {
			custom_trigger_tooltip = {
				tooltip = GRE_no_black_monday_effect
				NOT = {
					has_idea = GRE_black_monday_1
					has_idea = GRE_black_monday_2
					has_idea = GRE_black_monday_3
				}
			}
		}

		visible = {
			OR = {
				has_idea = GRE_foreign_industry_GER1
				has_idea = GRE_foreign_industry_GER2
				has_idea = GRE_foreign_industry_GER3
			}
			has_completed_focus = GRE_foreign_industry_question
			has_democratic_government = yes
		}

		fire_only_once = yes

		cost = 200

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				has_government = market_liberal
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_nationalize_german_industry"
			if = {
				limit = { has_idea = GRE_foreign_industry_GER1 }
				remove_ideas = GRE_foreign_industry_GER1
			}
			else_if = {
				limit = { has_idea = GRE_foreign_industry_GER2 }
				remove_ideas = GRE_foreign_industry_GER2
			}
			else = {
				remove_ideas = GRE_foreign_industry_GER3
			}
		}
	}

	GRE_nationalize_austrian_industry = {
		icon = generic_industry

		allowed = {
			original_tag = GRE
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = GRE_no_black_monday_effect
				NOT = {
					has_idea = GRE_black_monday_1
					has_idea = GRE_black_monday_2
					has_idea = GRE_black_monday_3
				}
			}
		}

		visible = {
			OR = {
				has_idea = GRE_foreign_industry_AUS1
				has_idea = GRE_foreign_industry_AUS2
				has_idea = GRE_foreign_industry_AUS3
			}
			has_completed_focus = GRE_foreign_industry_question
			has_democratic_government = yes
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				has_government = market_liberal
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_nationalize_austrian_industry"
			if = {
				limit = { has_idea = GRE_foreign_industry_AUS1 }
				remove_ideas = GRE_foreign_industry_AUS1
			}
			else_if = {
				limit = { has_idea = GRE_foreign_industry_AUS2 }
				remove_ideas = GRE_foreign_industry_AUS2
			}
			else = {
				remove_ideas = GRE_foreign_industry_AUS3
			}
		}
	}

	GRE_balkans_mission = {
		icon = generic_agreement

		allowed = {
			original_tag = GRE
		}

		available = {
			controls_all_owned_states = yes
			NOT = { has_country_flag = GRE_recent_mission }
			custom_trigger_tooltip = {
				tooltip = GRE_no_black_monday_effect
				NOT = {
					has_idea = GRE_black_monday_1
					has_idea = GRE_black_monday_2
					has_idea = GRE_black_monday_3
				}
			}
		}

		visible = {
			has_completed_focus = GRE_balkans_trade
			FROM = {
				exists = yes
				is_subject = no
				OR = {
					AND = {
						has_socialist_government = yes
						ROOT = { has_socialist_government = yes }
					}
					AND = {
						NOT = { has_socialist_government = yes }
						ROOT = { NOT = { has_socialist_government = yes } }
					}
				}
				controls_all_owned_states = yes
				NOT = {
					has_war_with = ROOT
					has_country_flag = GRE_sent_mission
				}
			}
		}

		targets = { BOS BUL ALB CRO SER HUN MNT ROM RRM SLO TRS }

		target_root_trigger = {
			has_completed_focus = GRE_balkans_trade
		}

		target_trigger = {
			FROM = {
				is_subject = no
				OR = {
					AND = {
						has_socialist_government = yes
						ROOT = { has_socialist_government = yes }
					}
					AND = {
						NOT = { has_socialist_government = yes }
						ROOT = { NOT = { has_socialist_government = yes } }
					}
				}
				controls_all_owned_states = yes
				NOT = {
					has_war_with = ROOT
					has_country_flag = GRE_sent_mission
				}
			}
		}

		days_remove = 90

		fire_only_once = no

		cost = 50

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_balkans_mission target: [From.GetName]"
			set_country_flag = GRE_recent_mission
			FROM = {
				set_country_flag = GRE_sent_mission
				country_event = gre.213
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_balkans_mission target: [From.GetName]"
			clr_country_flag = GRE_recent_mission
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 20
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 0
				FROM = { any_owned_state = { is_claim_or_core_of_ROOT = yes } }
			}
		}
	}
}

GRE_regaining_greece = {

	GRE_megali_war = {
		icon = generic_ignite_civil_war

		allowed = {
			original_tag = GRE
		}

		available = {
			ROOT = {
				controls_all_owned_states = yes
			}
			can_declare_war_on = FROM
		}

		visible = {
			is_subject = no
			NOT = { has_country_flag = GRE_megali_war_@FROM }
			FROM = {
				NOT = {
					has_war_with = GRE
					is_subject_of = GRE
					is_in_faction_with = GRE
				}
				any_owned_state = {
					is_claim_or_core_of_ROOT = yes
				}
			}
		}

		target_root_trigger = {
			has_country_flag = GRE_may_start_megali
		}

		targets = { TUR BUL ALB SER AUS HUN ROM RRM }

		target_trigger = {
			FROM = {
				NOT = {
					has_war_with = GRE
					is_subject_of = GRE
					is_in_faction_with = GRE
				}
				any_owned_state = {
					is_claim_or_core_of_ROOT = yes
				}
			}
		}

		cancel_trigger = {
			FROM = {
				OR = {
					has_war_with = GRE
					is_subject_of = GRE
					is_in_faction_with = GRE
					NOT = {
						any_owned_state = {
							is_claim_or_core_of_ROOT = yes
						}
					}
				}
			}
		}

		fire_only_once = yes
		days_remove = 30
		war_with_target_on_remove = yes

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_megali_war target: [From.GetName]"
			add_war_support = 0.10
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_megali_war target: [From.GetName]"
			set_country_flag = GRE_megali_war_@FROM
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0.1
				NOT = {
					tag = TUR
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_war = yes
					strength_ratio = { tag = FROM ratio < 0.75 }
					# neither of us is in a faction and FROM is stronger
					AND = {
						FROM = {
							is_in_faction = no
							is_subject = no
						}
						is_in_faction = no
						strength_ratio = { tag = FROM ratio < 1.0 }
					}
					# they're in a faction which is not at war
					FROM = {
						OR = {
							is_in_faction = yes
							is_subject = yes
						}
						has_war = no
					}
					# they're in a faction which is at war but not with a major and not losing
					FROM = {
						is_in_faction = yes
						has_war = yes
						NOT = {
							any_enemy_country = {
								is_actual_major = yes
							}
							surrender_progress > 0.10
							any_allied_country = {
								is_faction_leader = yes
								surrender_progress > 0.20
							}
						}
					}
				}
			}
		}
	}

	GRE_megali_make_peace = {
		icon = generic_ignite_civil_war

		allowed = {
			original_tag = GRE
		}

		available = {
			ROOT = { controls_all_owned_states = yes }
			if = {
				limit = {
					has_country_flag = GRE_chose_megali
					FROM = {
						is_subject = no
						OR = {
							tag = TUR
							tag = TUR
						}
					}
				}
				FROM = {
					surrender_progress > 0.65
				}
			}
			else_if = {
				limit = { FROM = { is_subject = yes } }
				FROM = {
					has_capitulated = yes
					if = {
						limit = { overlord = { same_continent_as_ROOT = yes } }
						overlord = { surrender_progress > 0.20 }
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						is_faction_leader = yes
						NOT = {
							any_owned_state = { is_claim_or_core_of_ROOT = yes }
						}
					}
				}
				FROM = {
					custom_trigger_tooltip = {
						tooltip = GRE_allies_capitulated
						NOT = {
							any_allied_country = {
								any_owned_state = { is_claim_or_core_of_ROOT = yes }
								NOT = { has_capitulated = yes }
							}
						}
					}
				}
			}
			else = {
				FROM = { surrender_progress > 0.50 }
			}
			custom_trigger_tooltip = {
				tooltip = GRE_controls_claimed_states
				FROM = {
					NOT = {
						any_owned_state = {
							is_claim_or_core_of_ROOT = yes
							is_actual_island_state = no
							NOT = { is_controlled_by_ROOT_or_ally = yes }
						}
					}
				}
			}
		}

		visible = {
			is_subject = no
			NOT = { has_country_flag = GRE_megali_peace_@FROM }
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
			FROM = {
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
				OR = {
					is_subject = no
					overlord = {
						NOT = {
							any_owned_state = {
								is_claim_or_core_of_ROOT = yes
							}
						}
					}
				}
				has_war_with = ROOT
				OR = {
					any_owned_state = { is_claim_or_core_of_ROOT = yes }
					AND = {
						is_faction_leader = yes
						any_allied_country = {
							any_owned_state = { is_claim_or_core_of_ROOT = yes }
						}
					}
				}
			}
		}

		target_array = enemies

		target_root_trigger = {
			has_war = yes
		}

		target_trigger = {
			FROM = {
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
				OR = {
					is_subject = no
					overlord = {
						NOT = {
							any_owned_state = {
								is_claim_or_core_of_ROOT = yes
							}
						}
					}
				}
				has_war_with = ROOT
				OR = {
					any_owned_state = { is_claim_or_core_of_ROOT = yes }
					AND = {
						is_faction_leader = yes
						any_allied_country = {
							any_owned_state = { is_claim_or_core_of_ROOT = yes }
						}
					}
				}
			}
		}

		fire_only_once = no

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_megali_make_peace target: [From.GetName]"
			set_country_flag = GRE_megali_peace_@FROM
			FROM = {
				if = {
					limit = { is_subject = yes }
					overlord = { country_event = gre.254 }
				}
				else = {
					country_event = gre.254
				}
			}
		}

		ai_will_do = {
			factor = 20
		}
	}

	GRE_core_home_lands = {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = FROM } }
		allowed = { tag = GRE }
		
		available = {
			ROOT = { has_stability > 0 }
			FROM = {
				is_fully_controlled_by = ROOT
				if = {
					limit = {
						NOT = { state = 164 } #Dodecanese
					}
					any_neighbor_state = {
						is_owned_and_controlled_by = ROOT
						is_core_of = ROOT
					}
				}
			}
		}

		visible = {
			FROM = {
				is_owned_and_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		cost = 50
		days_remove = 120
		fire_only_once = yes
		
		state_target = yes
		targets = { 164 184 769 }
		target_trigger = {
			FROM = {
				is_owned_and_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled GRE_core_home_lands target: [From.GetName]"
			add_political_power = 25
			add_stability = 0.02
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_core_home_lands target: [From.GetName]"
			add_stability = -0.02
			FROM = { add_resistance = 40 }
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_core_home_lands target: [From.GetName]"
			add_stability = 0.01
			FROM = {
				add_resistance = -40
				if = {
					limit = { is_claimed_by = ROOT }
					remove_claim_by = ROOT
				}
				add_core_of = ROOT
			}
		}
		
		ai_will_do = {
			factor = 100
		}
	}
	
	GRE_core_turkish_lands = {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = FROM } }
		allowed = { tag = GRE }
		
		available = {
			ROOT = { has_stability > 0 }
			FROM = {
				is_fully_controlled_by = ROOT
				if = {
					limit = {
						NOT = { state = 183 } #Cyprus
					}
					any_neighbor_state = {
						is_owned_and_controlled_by = ROOT
						is_core_of = ROOT
					}
				}
			}
		}

		visible = {
			FROM = {
				is_owned_and_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		cost = 100
		days_remove = 180
		fire_only_once = yes
		
		state_target = yes
		targets = { 183 341 766 773 1225 }
		target_trigger = {
			FROM = {
				is_owned_and_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled GRE_core_home_lands target: [From.GetName]"
			add_political_power = 50
			add_stability = 0.04
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_core_home_lands target: [From.GetName]"
			add_stability = -0.04
			FROM = { add_resistance = 40 }
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_core_home_lands target: [From.GetName]"
			add_stability = 0.02
			FROM = {
				add_resistance = -40
				if = {
					limit = { is_claimed_by = ROOT }
					remove_claim_by = ROOT
				}
				add_core_of = ROOT
			}
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	GRE_core_africa = {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = 451 } }
		
		available = {
			owns_state = 451
			owns_state = 663
			owns_state = 450
			owns_state = 448
			owns_state = 665
			owns_state = 458
			owns_state = 116
		}

		visible = {
			has_completed_focus = GRE_byz_unity
		}
		
		allowed = {
			tag = GRE
		}
		
		cost = 175
		days_remove = 180
		fire_only_once = yes
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled GRE_core_home_lands target: [From.GetName]"
			add_political_power = 50
			add_stability = 0.04
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_core_home_lands target: [From.GetName]"
			add_stability = -0.08
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_core_home_lands target: [From.GetName]"
			add_stability = 0.02
			add_state_core = 451
			add_state_core = 663
			add_state_core = 450
			add_state_core = 448
			add_state_core = 665
			add_state_core = 458
			add_state_core = 116
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	GRE_core_italy = {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = 2 } }
		
		available = {
			owns_state = 2
			owns_state = 117
			owns_state = 742
			owns_state = 837
			owns_state = 1006
			owns_state = 156
			owns_state = 115
		}

		visible = {
			has_completed_focus = GRE_byz_unity
		}
		
		allowed = {
			tag = GRE
		}
		
		cost = 175
		days_remove = 180
		fire_only_once = yes
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled GRE_core_home_lands target: [From.GetName]"
			add_political_power = 50
			add_stability = 0.04
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_core_home_lands target: [From.GetName]"
			add_stability = -0.08
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_core_home_lands target: [From.GetName]"
			add_stability = 0.02
			add_state_core = 2
			add_state_core = 117
			add_state_core = 742
			add_state_core = 837
			add_state_core = 1006
			add_state_core = 156
			add_state_core = 115
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	GRE_core_balkans = {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = 163 } }
		
		available = {
			owns_state = 1089
			owns_state = 211
			owns_state = 771
			owns_state = 77
			owns_state = 772
			owns_state = 770
			owns_state = 1090
			owns_state = 212
			owns_state = 48
			owns_state = 106
			owns_state = 766
			owns_state = 44
			owns_state = 841
			owns_state = 765
			owns_state = 767
			owns_state = 108
			owns_state = 107
			owns_state = 105
			owns_state = 163
			owns_state = 104
			owns_state = 103
			owns_state = 1143
			owns_state = 1270
			owns_state = 1206
		}

		visible = {
			has_completed_focus = GRE_byz_unity
		}
		
		allowed = {
			tag = GRE
		}
		
		cost = 175
		days_remove = 180
		fire_only_once = yes
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled GRE_core_home_lands target: [From.GetName]"
			add_political_power = 50
			add_stability = 0.04
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_core_home_lands target: [From.GetName]"
			add_stability = -0.08
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_core_home_lands target: [From.GetName]"
			add_stability = 0.02
			add_state_core = 1089
			add_state_core = 211
			add_state_core = 771
			add_state_core = 77
			add_state_core = 772
			add_state_core = 770
			add_state_core = 1090
			add_state_core = 212
			add_state_core = 48
			add_state_core = 106
			add_state_core = 766
			add_state_core = 44
			add_state_core = 841
			add_state_core = 765
			add_state_core = 767
			add_state_core = 108
			add_state_core = 107
			add_state_core = 105
			add_state_core = 163
			add_state_core = 104
			add_state_core = 103
			add_state_core = 1143
			add_state_core = 1270
			add_state_core = 1206
		}
		
		ai_will_do = {
			factor = 10
		}
	}
	GRE_core_middle_est = {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = 554 } }
		
		available = {
			owns_state = 346
			owns_state = 680
			owns_state = 344
			owns_state = 677
			owns_state = 995
			owns_state = 554
			owns_state = 553
			owns_state = 455
			owns_state = 992
			owns_state = 454
			owns_state = 753
			owns_state = 446
			owns_state = 447
			owns_state = 452
			owns_state = 552
			owns_state = 1008
			owns_state = 457
			owns_state = 456
		}

		visible = {
			has_completed_focus = GRE_byz_unity
		}
		
		allowed = {
			tag = GRE
		}
		
		cost = 175
		days_remove = 180
		fire_only_once = yes
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled GRE_core_home_lands target: [From.GetName]"
			add_political_power = 50
			add_stability = 0.04
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_core_home_lands target: [From.GetName]"
			add_stability = -0.08
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_core_home_lands target: [From.GetName]"
			add_stability = 0.02
					add_state_core = 346
					add_state_core = 680
					add_state_core = 344
					add_state_core = 677
					add_state_core = 995
					add_state_core = 554
					add_state_core = 553
					add_state_core = 455
					add_state_core = 992
					add_state_core = 454
					add_state_core = 753
					add_state_core = 446
					add_state_core = 447
					add_state_core = 452
					add_state_core = 552
					add_state_core = 1008
					add_state_core = 457
					add_state_core = 456
		}
		
		ai_will_do = {
			factor = 10
		}
	}

	GRE_core_west = {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = 16 } }
		
		available = {
			owns_state = 460
			owns_state = 459
			owns_state = 805
			owns_state = 461
			owns_state = 290
			owns_state = 114
			owns_state = 1002
			owns_state = 1
			owns_state = 177
			owns_state = 179
			owns_state = 112
			owns_state = 181
			owns_state = 180
			owns_state = 171
			owns_state = 793
			owns_state = 174
			owns_state = 951
			owns_state = 170
			owns_state = 1316
			owns_state = 169
			owns_state = 118
			owns_state = 173
			owns_state = 795
			owns_state = 175
			owns_state = 41
			owns_state = 176
			owns_state = 172
			owns_state = 940
			owns_state = 166
			owns_state = 167
			owns_state = 168
			owns_state = 165
			owns_state = 1313
			owns_state = 1144
			owns_state = 1100
			owns_state = 736
			owns_state = 1103
			owns_state = 1101
			owns_state = 102
			owns_state = 1104
			owns_state = 1272
			owns_state = 835
			owns_state = 153
			owns_state = 942
			owns_state = 1235
			owns_state = 39
			owns_state = 759
			owns_state = 783
			owns_state = 160
			owns_state = 151
			owns_state = 761
			owns_state = 3
			owns_state = 760
			owns_state = 943
			owns_state = 764
			owns_state = 1005
			owns_state = 157
			owns_state = 1236
			owns_state = 162
			owns_state = 161
			owns_state = 1004
			owns_state = 159
			owns_state = 838
			owns_state = 158
			owns_state = 1003
			owns_state = 762
			owns_state = 21
			owns_state = 763
			owns_state = 735
			owns_state = 20
			owns_state = 32
			owns_state = 26
			owns_state = 25
			owns_state = 23
			owns_state = 19
			owns_state = 984
			owns_state = 31
			owns_state = 817
			owns_state = 22
			owns_state = 983
			owns_state = 14
			owns_state = 30
			owns_state = 33
			owns_state = 27
			owns_state = 785
			owns_state = 18
			owns_state = 16
			owns_state = 15
			owns_state = 24
			owns_state = 980
			owns_state = 17
			owns_state = 1315
			owns_state = 1317
			owns_state = 122
			owns_state = 32
			owns_state = 26
			owns_state = 25
			owns_state = 23
			owns_state = 19
			owns_state = 984
			owns_state = 31
			owns_state = 817
			owns_state = 22
			owns_state = 983
			owns_state = 14
			owns_state = 30
			owns_state = 33
			owns_state = 27
			owns_state = 785
			owns_state = 18
			owns_state = 16
			owns_state = 15
			owns_state = 24
			owns_state = 980
			owns_state = 17
			owns_state = 1315
			owns_state = 1317
			owns_state = 122
			owns_state = 123
			owns_state = 127
			owns_state = 338
			owns_state = 126
			owns_state = 125
			owns_state = 129
			owns_state = 128
			owns_state = 132
			owns_state = 130
			owns_state = 131
		}

		visible = {
			has_completed_focus = GRE_byz_unity
			has_country_flag = BYZ_rome_larp_shit_full
		}
		
		allowed = {
			tag = GRE
		}
		
		cost = 175
		days_remove = 180
		fire_only_once = yes
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled GRE_core_home_lands target: [From.GetName]"
			add_political_power = 50
			add_stability = 0.04
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_core_home_lands target: [From.GetName]"
			add_stability = -0.08
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_core_home_lands target: [From.GetName]"
			set_cosmetic_tag = GRE_byzantium_rome
			add_stability = 0.02
			add_state_core = 460
			add_state_core = 459
			add_state_core = 805
			add_state_core = 461
			add_state_core = 290
			add_state_core = 114
			add_state_core = 1002
			add_state_core = 1
			add_state_core = 177
			add_state_core = 179
			add_state_core = 112
			add_state_core = 181
			add_state_core = 180
			add_state_core = 171
			add_state_core = 793
			add_state_core = 174
			add_state_core = 951
			add_state_core = 170
			add_state_core = 1316
			add_state_core = 169
			add_state_core = 118
			add_state_core = 173
			add_state_core = 795
			add_state_core = 175
			add_state_core = 41
			add_state_core = 176
			add_state_core = 172
			add_state_core = 940
			add_state_core = 166
			add_state_core = 167
			add_state_core = 168
			add_state_core = 165
			add_state_core = 1313
			add_state_core = 1144
			add_state_core = 1100
			add_state_core = 736
			add_state_core = 1103
			add_state_core = 1101
			add_state_core = 102
			add_state_core = 1104
			add_state_core = 1272
			add_state_core = 835
			add_state_core = 153
			add_state_core = 942
			add_state_core = 1235
			add_state_core = 39
			add_state_core = 759
			add_state_core = 783
			add_state_core = 160
			add_state_core = 151
			add_state_core = 761
			add_state_core = 3
			add_state_core = 760
			add_state_core = 943
			add_state_core = 764
			add_state_core = 1005
			add_state_core = 157
			add_state_core = 1236
			add_state_core = 162
			add_state_core = 161
			add_state_core = 1004
			add_state_core = 159
			add_state_core = 838
			add_state_core = 158
			add_state_core = 1003
			add_state_core = 762
			add_state_core = 21
			add_state_core = 763
			add_state_core = 735
			add_state_core = 20
			add_state_core = 32
			add_state_core = 26
			add_state_core = 25
			add_state_core = 23
			add_state_core = 19
			add_state_core = 984
			add_state_core = 31
			add_state_core = 817
			add_state_core = 22
			add_state_core = 983
			add_state_core = 14
			add_state_core = 30
			add_state_core = 33
			add_state_core = 27
			add_state_core = 785
			add_state_core = 18
			add_state_core = 16
			add_state_core = 15
			add_state_core = 24
			add_state_core = 980
			add_state_core = 17
			add_state_core = 1315
			add_state_core = 1317
			add_state_core = 122
			add_state_core = 32
			add_state_core = 26
			add_state_core = 25
			add_state_core = 23
			add_state_core = 19
			add_state_core = 984
			add_state_core = 31
			add_state_core = 817
			add_state_core = 22
			add_state_core = 983
			add_state_core = 14
			add_state_core = 30
			add_state_core = 33
			add_state_core = 27
			add_state_core = 785
			add_state_core = 18
			add_state_core = 16
			add_state_core = 15
			add_state_core = 24
			add_state_core = 980
			add_state_core = 17
			add_state_core = 1315
			add_state_core = 1317
			add_state_core = 122
			add_state_core = 123
			add_state_core = 127
			add_state_core = 338
			add_state_core = 126
			add_state_core = 125
			add_state_core = 129
			add_state_core = 128
			add_state_core = 132
			add_state_core = 130
			add_state_core = 131
		}
		
		ai_will_do = {
			factor = 10
		}
	}
}

###dioceses
GRE_byz_dioceses = {
	GRE_diocese_africa= {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = 451 } }
		
		available = {
			owns_state = 451
			owns_state = 663
			owns_state = 450
			owns_state = 448
			owns_state = 665
			owns_state = 458
			owns_state = 116
			owns_state = 1009
		}

		visible = {
			has_completed_focus = GRE_byz_establish_dioceses
		}
		
		allowed = {
			tag = GRE
		}
		
		cost = 50
		days_remove = 0
		fire_only_once = yes
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled GRE_core_home_lands target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_core_home_lands target: [From.GetName]"
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_core_home_lands target: [From.GetName]"
			add_stability = 0.02
			release_puppet = TRP
			TRP = {
			add_state_core = 451
			add_state_core = 663
			add_state_core = 450
			add_state_core = 448
			add_state_core = 665
			add_state_core = 458
			add_state_core = 116
			add_state_core = 1009
			}
			TRP = {
				every_core_state = {
				limit = {
				OR = {
						is_owned_by = GRE
						is_owned_by = TRP
							}
						}
				set_state_owner_to = TRP
				}
				transfer_state = 1009
				set_cosmetic_tag = TRP_diocese
			}
		}

		
		ai_will_do = {
			factor = 10
		}
	}

	GRE_diocese_balkans = {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = 163 } }
		
		available = {
			owns_state = 1089
			owns_state = 211
			owns_state = 771
			owns_state = 77
			owns_state = 772
			owns_state = 770
			owns_state = 1090
			owns_state = 212
			owns_state = 48
			owns_state = 106
			owns_state = 766
			owns_state = 44
			owns_state = 841
			owns_state = 765
			owns_state = 767
			owns_state = 108
			owns_state = 107
			owns_state = 105
			owns_state = 163
			owns_state = 104
			owns_state = 103
			owns_state = 1143
			owns_state = 1270
			owns_state = 1206
		}

		visible = {
			has_completed_focus = GRE_byz_establish_dioceses
		}
		
		allowed = {
			tag = GRE
		}
		
		cost = 50
		days_remove = 0
		fire_only_once = yes
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled GRE_core_home_lands target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_core_home_lands target: [From.GetName]"
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_core_home_lands target: [From.GetName]"
			add_stability = 0.02
			release_puppet = SER
			SER = {
			add_state_core = 1089
			add_state_core = 211
			add_state_core = 771
			add_state_core = 77
			add_state_core = 772
			add_state_core = 770
			add_state_core = 1090
			add_state_core = 212
			add_state_core = 48
			add_state_core = 106
			add_state_core = 766
			add_state_core = 44
			add_state_core = 841
			add_state_core = 765
			add_state_core = 767
			add_state_core = 108
			add_state_core = 107
			add_state_core = 105
			add_state_core = 163
			add_state_core = 104
			add_state_core = 103
			add_state_core = 1142
			add_state_core = 1145
			add_state_core = 1141
			add_state_core = 1143
			add_state_core = 1270
			add_state_core = 1206
			}
			SER = {
				every_core_state = {
				limit = {
				OR = {
						is_owned_by = GRE
						is_owned_by = SER
							}
						}
				set_state_owner_to = SER
				}
				transfer_state = 1145
				transfer_state = 1141
				transfer_state = 1142
				transfer_state = 103
				transfer_state = 1143
			    transfer_state = 1270
			    transfer_state = 1206
				set_cosmetic_tag = SER_diocese
			}
			}
		
		ai_will_do = {
			factor = 10
		}
	}
	GRE_diocese_italy = {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = 2 } }
		
		available = {
			owns_state = 2
			owns_state = 117
			owns_state = 742
			owns_state = 837
			owns_state = 1006
			owns_state = 156
			owns_state = 115
		}

		visible = {
			has_completed_focus = GRE_byz_establish_dioceses
		}
		
		allowed = {
			tag = GRE
		}
		
		cost = 50
		days_remove = 0
		fire_only_once = yes
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled GRE_core_home_lands target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_core_home_lands target: [From.GetName]"
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_core_home_lands target: [From.GetName]"
			add_stability = 0.02
			release_puppet = ITA
			ITA = {
				add_state_core = 2
			add_state_core = 117
			add_state_core = 742
			add_state_core = 837
			add_state_core = 1006
			add_state_core = 156
			add_state_core = 115
			}
			ITA = {
				every_core_state = {
					limit = {
					OR = {
						is_owned_by = GRE
						is_owned_by = ITA
							}
						}
				set_state_owner_to = ITA
				}
				set_cosmetic_tag = ITA_diocese
			}
			}
		
		ai_will_do = {
			factor = 10
		}
	}

	GRE_diocese_me = {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = 554 } }
		
		available = {
			owns_state = 680
			owns_state = 677
			owns_state = 995
			owns_state = 554
			owns_state = 553
			owns_state = 455
			owns_state = 992
			owns_state = 454
			owns_state = 753
			owns_state = 446
			owns_state = 447
			owns_state = 452
		}

		visible = {
			has_completed_focus = GRE_byz_establish_dioceses
		}
		
		allowed = {
			tag = GRE
		}
		
		cost = 50
		days_remove = 0
		fire_only_once = yes
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled GRE_core_home_lands target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_core_home_lands target: [From.GetName]"
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_core_home_lands target: [From.GetName]"
			add_stability = 0.02
			release_puppet = EGY
			EGY = {
				add_state_core = 680
				add_state_core = 677
				add_state_core = 995
				add_state_core = 554
				add_state_core = 553
				add_state_core = 455
				add_state_core = 992
				add_state_core = 454
				add_state_core = 753
				add_state_core = 446
				add_state_core = 447
				add_state_core = 452
				add_state_core = 552
				add_state_core = 1008
				add_state_core = 457	
				add_state_core = 456
			}
			EGY = {
				every_core_state = {
				limit = {
				OR = {
						is_owned_by = GRE
						is_owned_by = EGY
							}
						}
				set_state_owner_to = EGY
				}
				set_cosmetic_tag = EGY_diocese
			}
			}
		
		ai_will_do = {
			factor = 10
		}
	}

	GRE_exarchate_latin = {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = 16 } }
		
		available = {
			owns_state = 460
			owns_state = 459
			owns_state = 805
			owns_state = 461
			owns_state = 290
			owns_state = 114
			owns_state = 1002
			owns_state = 1
			owns_state = 177
			owns_state = 179
			owns_state = 112
			owns_state = 181
			owns_state = 180
			owns_state = 171
			owns_state = 793
			owns_state = 174
			owns_state = 951
			owns_state = 170
			owns_state = 1316
			owns_state = 169
			owns_state = 118
			owns_state = 173
			owns_state = 795
			owns_state = 175
			owns_state = 41
			owns_state = 176
			owns_state = 172
			owns_state = 940
			owns_state = 166
			owns_state = 167
			owns_state = 168
			owns_state = 165
			owns_state = 1313
			owns_state = 1144
			owns_state = 1100
			owns_state = 736
			owns_state = 1103
			owns_state = 1101
			owns_state = 102
			owns_state = 1104
			owns_state = 1272
			owns_state = 835
			owns_state = 153
			owns_state = 942
			owns_state = 1235
			owns_state = 39
			owns_state = 759
			owns_state = 783
			owns_state = 160
			owns_state = 151
			owns_state = 761
			owns_state = 3
			owns_state = 760
			owns_state = 943
			owns_state = 764
			owns_state = 1005
			owns_state = 157
			owns_state = 1236
			owns_state = 162
			owns_state = 161
			owns_state = 1004
			owns_state = 159
			owns_state = 838
			owns_state = 158
			owns_state = 1003
			owns_state = 762
			owns_state = 21
			owns_state = 763
			owns_state = 735
			owns_state = 20
			owns_state = 32
			owns_state = 26
			owns_state = 25
			owns_state = 23
			owns_state = 19
			owns_state = 984
			owns_state = 31
			owns_state = 817
			owns_state = 22
			owns_state = 983
			owns_state = 14
			owns_state = 30
			owns_state = 33
			owns_state = 27
			owns_state = 785
			owns_state = 18
			owns_state = 16
			owns_state = 15
			owns_state = 24
			owns_state = 980
			owns_state = 17
			owns_state = 1315
			owns_state = 1317
			owns_state = 122
			owns_state = 32
			owns_state = 26
			owns_state = 25
			owns_state = 23
			owns_state = 19
			owns_state = 984
			owns_state = 31
			owns_state = 817
			owns_state = 22
			owns_state = 983
			owns_state = 14
			owns_state = 30
			owns_state = 33
			owns_state = 27
			owns_state = 785
			owns_state = 18
			owns_state = 16
			owns_state = 15
			owns_state = 24
			owns_state = 980
			owns_state = 17
			owns_state = 1315
			owns_state = 1317
			owns_state = 122
			owns_state = 123
			owns_state = 127
			owns_state = 338
			owns_state = 126
			owns_state = 125
			owns_state = 129
			owns_state = 128
			owns_state = 132
			owns_state = 130
			owns_state = 131
		}

		visible = {
			has_completed_focus = GRE_byz_establish_dioceses
			has_country_flag = BYZ_rome_larp_shit_full
		}
		
		allowed = {
			tag = GRE
		}
		
		cost = 50
		days_remove = 0
		fire_only_once = yes
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled GRE_core_home_lands target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_core_home_lands target: [From.GetName]"
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_core_home_lands target: [From.GetName]"
			add_stability = 0.02
			release_puppet = FRP
			FRP = {
				add_state_core = 460
				add_state_core = 459
				add_state_core = 805
				add_state_core = 461
				add_state_core = 290
				add_state_core = 114
				add_state_core = 1002
				add_state_core = 1
				add_state_core = 177
				add_state_core = 179
				add_state_core = 112
				add_state_core = 181
				add_state_core = 180
				add_state_core = 171
				add_state_core = 793
				add_state_core = 174
				add_state_core = 951
				add_state_core = 170
				add_state_core = 1316
				add_state_core = 169
				add_state_core = 118
				add_state_core = 173
				add_state_core = 795
				add_state_core = 175
				add_state_core = 41
				add_state_core = 176
				add_state_core = 172
				add_state_core = 940
				add_state_core = 166
				add_state_core = 167
				add_state_core = 168
				add_state_core = 165
				add_state_core = 1313
				add_state_core = 1144
				add_state_core = 1100
				add_state_core = 736
				add_state_core = 1103
				add_state_core = 1101
				add_state_core = 102
				add_state_core = 1104
				add_state_core = 1272
				add_state_core = 835
				add_state_core = 153
				add_state_core = 942
				add_state_core = 1235
				add_state_core = 39
				add_state_core = 759
				add_state_core = 783
				add_state_core = 160
				add_state_core = 151
				add_state_core = 761
				add_state_core = 3
				add_state_core = 760
				add_state_core = 943
				add_state_core = 764
				add_state_core = 1005
				add_state_core = 157
				add_state_core = 1236
				add_state_core = 162
				add_state_core = 161
				add_state_core = 1004
				add_state_core = 159
				add_state_core = 838
				add_state_core = 158
				add_state_core = 1003
				add_state_core = 762
				add_state_core = 21
				add_state_core = 763
				add_state_core = 735
				add_state_core = 20
				add_state_core = 32
				add_state_core = 26
				add_state_core = 25
				add_state_core = 23
				add_state_core = 19
				add_state_core = 984
				add_state_core = 31
				add_state_core = 817
				add_state_core = 22
				add_state_core = 983
				add_state_core = 14
				add_state_core = 30
				add_state_core = 33
				add_state_core = 27
				add_state_core = 785
				add_state_core = 18
				add_state_core = 16
				add_state_core = 15
				add_state_core = 24
				add_state_core = 980
				add_state_core = 17
				add_state_core = 1315
				add_state_core = 1317
				add_state_core = 122
				add_state_core = 32
				add_state_core = 26
				add_state_core = 25
				add_state_core = 23
				add_state_core = 19
				add_state_core = 984
				add_state_core = 31
				add_state_core = 817
				add_state_core = 22
				add_state_core = 983
				add_state_core = 14
				add_state_core = 30
				add_state_core = 33
				add_state_core = 27
				add_state_core = 785
				add_state_core = 18
				add_state_core = 16
				add_state_core = 15
				add_state_core = 24
				add_state_core = 980
				add_state_core = 17
				add_state_core = 1315
				add_state_core = 1317
				add_state_core = 122
				add_state_core = 123
				add_state_core = 127
				add_state_core = 338
				add_state_core = 126
				add_state_core = 125
				add_state_core = 129
				add_state_core = 128
				add_state_core = 132
				add_state_core = 130
				add_state_core = 131
			}
			FRP = {
				every_core_state = {
				limit = {
				OR = {
						is_owned_by = GRE
						is_owned_by = FRP
							}
						}
				set_state_owner_to = FRP
				}
				set_cosmetic_tag = FRP_exarchate
			}
			}
		
		ai_will_do = {
			factor = 10
		}
	}
}

###Ship_building
naval_decisions = {
	GRE_shipbuilding_program_1 = {
		icon = generic_naval

		allowed = {
			original_tag = GRE
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = GRE_no_black_monday_effect
				NOT = {
					has_idea = GRE_black_monday_1
					has_idea = GRE_black_monday_2
					has_idea = GRE_black_monday_3
				}
			}
			47 = { is_owned_and_controlled_by = GRE }
		}

		visible = {
			has_completed_focus = GRE_purchase_ships
		}

		cancel_trigger = {
			NOT = { controls_state = 47 }
		}

		fire_only_once = yes
		days_remove = 90
		cost = 100

		modifier = {
			industrial_capacity_dockyard = -0.90
			consumer_goods_factor = 0.10
			political_power_cost = 0.20
		}

		ai_will_do = {
			factor = 40
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_shipbuilding_program_1"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_shipbuilding_program_1"
			set_country_flag = GRE_ships_done_1
			unlock_decision_tooltip = GRE_deploy_new_ships
		}
	}

	GRE_shipbuilding_program_2 = {
		icon = generic_naval

		allowed = {
			original_tag = GRE
		}

		available = {
			47 = { is_owned_and_controlled_by = GRE }
		}

		visible = {
			has_completed_focus = GRE_purchase_ships
			has_country_flag = GRE_ships_done_1
		}

		cancel_trigger = {
			NOT = { controls_state = 47 }
		}

		fire_only_once = yes
		days_remove = 120
		cost = 100

		modifier = {
			industrial_capacity_dockyard = -0.90
			consumer_goods_factor = 0.10
			political_power_cost = 0.20
		}

		ai_will_do = {
			factor = 40
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_shipbuilding_program_2"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_shipbuilding_program_2"
			set_country_flag = GRE_ships_done_2
			unlock_decision_tooltip = GRE_deploy_new_ships
		}
	}

	GRE_shipbuilding_program_3 = {
		icon = generic_naval

		allowed = {
			original_tag = GRE
		}

		available = {
			47 = { is_owned_and_controlled_by = GRE }
		}

		visible = {
			has_completed_focus = GRE_purchase_ships
			has_country_flag = GRE_ships_done_2
		}

		cancel_trigger = {
			NOT = { controls_state = 47 }
		}

		fire_only_once = yes
		days_remove = 120
		cost = 150

		modifier = {
			industrial_capacity_dockyard = -0.90
			consumer_goods_factor = 0.10
			political_power_cost = 0.20
		}

		ai_will_do = {
			factor = 40
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_shipbuilding_program_3"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRE_shipbuilding_program_3"
			set_country_flag = GRE_ships_done_3
			unlock_decision_tooltip = GRE_deploy_new_ships
		}
	}

	GRE_deploy_new_ships = {
		icon = generic_naval

		allowed = {
			original_tag = GRE
		}

		available = {
			47 = { is_owned_and_controlled_by = GRE }
			has_manpower > 5000
		}

		visible = {
			OR = {
				AND = {
					has_country_flag = GRE_ships_done_1
					NOT = { has_country_flag = GRE_ships_deployed_1 }
				}
				AND = {
					has_country_flag = GRE_ships_done_2
					NOT = { has_country_flag = GRE_ships_deployed_2 }
				}
				AND = {
					has_country_flag = GRE_ships_done_3
					NOT = { has_country_flag = GRE_ships_deployed_3 }
				}
			}
		}

		fire_only_once = no
		cost = 0

		ai_will_do = {
			factor = 40
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRE_deploy_new_ships"
			if = {
				limit = {
					has_country_flag = GRE_ships_done_1
					NOT = { has_country_flag = GRE_ships_deployed_1 }
				}
				set_country_flag = GRE_ships_deployed_1
				custom_effect_tooltip = GRE_ten_destroyers
				hidden_effect = { load_oob = "GRE_ships_2" }
			}
			if = {
				limit = {
					has_country_flag = GRE_ships_done_2
					NOT = { has_country_flag = GRE_ships_deployed_2 }
				}
				set_country_flag = GRE_ships_deployed_2
				custom_effect_tooltip = GRE_four_cruisers
				hidden_effect = { load_oob = "GRE_ships_3" }
			}
			if = {
				limit = {
					has_country_flag = GRE_ships_done_3
					NOT = { has_country_flag = GRE_ships_deployed_3 }
				}
				set_country_flag = GRE_ships_deployed_3

				custom_effect_tooltip = GRE_gets_battleship
				hidden_effect = {
					load_oob = "GRE_ships_5"
				}
			}
		}
	}
}
