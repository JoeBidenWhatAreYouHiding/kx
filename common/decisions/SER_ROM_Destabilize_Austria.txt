SER_serb_uprising = {
	
	SER_fund_paramilitaries = {
		custom_cost_trigger = {
			command_power > 10
			has_equipment = {
				infantry_equipment > 399
			}
		}
		custom_cost_text = SKS_agitate_paramilitary
		icon = GFX_decision_generic_prepare_civil_war
		days_re_enable = 40
		state_target = yes
		on_map_mode = map_only
		target_trigger = {
			FROM = {
				owner = {
					AUS_is_constituent = yes
					is_in_faction_with = AUS
				}
				is_core_of = SKS
				NOT = {
					has_dynamic_modifier = {
						modifier = CRO_chetnik_presence
					}
				}
				resistance > 30
			}
		}
		visible = {
			OR = {
				tag = SER
				tag = MNT
			}
			NOT = {
				is_in_faction_with = AUS
			}
			check_variable = {
				var = SKS.subject_revolt_progress
				value = 0.60
				compare = greater_than_or_equals
			}
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
			command_power > 10
			has_equipment = {
				infantry_equipment > 399
			}
		}
		fixed_random_seed = no
		days_remove = 20
		remove_effect = {
			random_list = {
				15 = {
					modifier = {
						set_temp_variable = { revolt = SKS.subject_revolt_progress }
						multiply_temp_variable = { revolt = 2.75 }
						factor = revolt
						always = yes
					}
					modifier = {
						set_temp_variable = { opps = FROM.success_value_opp }
						multiply_temp_variable = { opps = 25 }
						add = opps
						always = yes
					}
					FROM = {
						AUS_change_minority_paramilitary_serbian = yes
					}
					set_variable = {
						var = FROM.success_value_opp
						value = 0
					}
					hidden_effect = {
						scoped_sound_effect = "AUS_paramilitary_pacified"
						FROM = {
							state_event = {
								id = sksbts.0
								days = 60
							}
						}
						if = {
							limit = {
								SKS = {
									NOT = {
										has_country_flag = BP_5BW_met
									}
								}
							}
							SKS = {
								save_global_event_target_as = BP_meetant
								set_country_flag = BP_5BW_meeting
							}
							SER = {
								country_event = {
									id = botdepact.1
								}
							}
						}
					}
					if = {
						limit = {
							FROM = {
								has_resistance = yes
							}
						}
						FROM = { add_resistance = 3 }
					}
				}
				85 = {
					add_to_variable = {
						var = FROM.success_value_opp
						value = 1
					}
					custom_effect_tooltip = SKS_more_likely_to_succeed
					army_experience = -5
					add_political_power = -15
					hidden_effect = {
						scoped_sound_effect = "AUS_paramilitary_fail"
					}
					if = {
						limit = {
							FROM = {
								has_resistance = yes
							}
						}
						FROM = { add_resistance = 3 }
					}
				}
			}
		}
		ai_will_do = {
			factor = 3
		}
	}
	
	SER_entrench_paramilitary_ties = {
		cost = 50
		custom_cost_text = SKS_agitate_paramilitary
		icon = GFX_decision_generic_nationalism
		days_re_enable = 25
		state_target = yes
		on_map_mode = map_only
		target_trigger = {
			FROM = {
				owner = {
					has_country_flag = CONST_proper
					is_in_faction_with = AUS
				}
				is_core_of = SKS
				has_dynamic_modifier = {
					modifier = CRO_chetnik_presence
				}
				NOT = {
					has_state_flag = entrenched_paramilitary
				}
				has_state_flag = can_be_entrenched
			}
		}
		visible = {
			OR = {
				tag = SER
				tag = MNT
			}
			NOT = {
				is_in_faction_with = AUS
			}
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
		}
		complete_effect = {
			custom_effect_tooltip = entrench_paramilitary
			FROM = {
				set_state_flag = entrenched_paramilitary
			}
		}
		ai_will_do = {
			factor = 3
		}
	}
	
	SER_dismantle_austrian_auxiliaries = {
		cost = 30
		icon = GFX_decision_generic_freedom
		days_re_enable = 25
		state_target = yes
		on_map_mode = map_only
		days_remove = 20
		target_trigger = {
			FROM = {
				owner = {
					has_country_flag = CONST_proper
					is_in_faction_with = AUS
				}
				is_core_of = SKS
				has_dynamic_modifier = {
					modifier = CRO_chetnik_presence
				}
				check_variable = {
					var = FROM.success_value_supp
					value = 1
					compare = greater_than_or_equals
				}
			}
		}
		visible = {
			OR = {
				tag = SER
				tag = MNT
			}
			NOT = {
				is_in_faction_with = AUS
			}
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
		}
		complete_effect = {
			custom_effect_tooltip = BOTDE_AUS_more_fail
			subtract_from_variable = {
				var = FROM.success_value_supp
				value = 1
			}
			add_to_variable = {
				SER_target_lands_resistance_garrison = 0.075
			}
		}
		ai_will_do = {
			factor = 3
		}
	}
}

SER_serb_uprising = {
	SER_seek_chetnik_ties = {
		ai_hint_pp_cost = 50
		custom_cost_text = PP_50_infantry_equipment_500
		custom_cost_trigger = {
			has_political_power > 49.99
			has_equipment = { infantry_equipment > 499 }
		}
		
		icon = GFX_decision_generic_flags
		fire_only_once = yes
		days_remove = 25
		visible = {
			tag = SER
			NOT = {
				is_in_faction_with = AUS
				has_country_flag = SER_funded_seppies
			}
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SER_seek_chetnik_ties"
			hidden_effect = {
				add_political_power = -50
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -500
				}
			}
			if = {
				limit = {
					is_ai = yes
				}
				MNT = {
					set_country_flag = BOTDE_revolt_hold
				}
				BOS = {
					set_country_flag = BOTDE_revolt_hold
				}
				SKS = {
					set_country_flag = BOTDE_revolt_hold
				}
			}
		}
		remove_effect = {
			set_country_flag = SER_funded_seppies
			add_to_variable = { SER.revolt = 1 } #1
			for_each_scope_loop = {
				array = global.SER_target_states
				tooltip = SER_occupied_territories_tt
				#hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_state_flag = SER_resistance_crap_done
							}
						}
						if = {
							limit = {
								is_core_of = SKS
							}
							force_enable_resistance = { occupier = var:THIS.owner occupied = SKS }
							if = {
								limit = {
									has_active_resistance = no
								}
								start_resistance = SKS
							}
						}
						if = {
							limit = {
								is_core_of = BOS
								NOT = {
									is_core_of = SKS
								}
							}
							force_enable_resistance = { occupier = var:THIS.owner occupied = BOS }
							if = {
								limit = {
									has_active_resistance = no
								}
								start_resistance = BOS
							}
						}
						add_dynamic_modifier = { modifier = SER_target_lands_resistance }
						set_variable = { SER_target_lands_resistance_target = 0 }
						set_variable = { SER_target_lands_resistance_activity = 0 }
						set_variable = { SER_target_lands_resistance_garrison = 0 }
						#owner = {
						#	if = {
						#		limit = {
						#			NOT = { has_country_flag = SER_receives_oopsiedaisy }
						#		}
						#		country_event = bdeausint.whateverman
						#		set_country_flag = { flag = SER_receives_oopsiedaisy days = 2 value = 1 }
						#	}
						#}
					}
					set_state_flag = SER_resistance_crap_done
				#}
			}
			BOS = {
				THIS_add_five_collapse = yes
			}
			SKS = {
				THIS_add_five_collapse = yes
			}
			
			hidden_effect = {
				AUS = {
					country_event = {
						id = bdeausfor.90
						days = 7
						random = 144
					}
				}
				if = {
					limit = {
						CRO = {
							is_in_faction_with = AUS
						}
					}
					CRO = {
						country_event = {
							id = bdeausfor.90
							days = 7
							random = 144
						}
					}
				}
			}
			if = {
				limit = {
					is_ai = yes
				}
				SKS = {
					set_country_flag = BOTDE_ready_held_revolt
				}
				BOS = {
					set_country_flag = BOTDE_ready_held_revolt
				}
				MNT = {
					set_country_flag = BOTDE_ready_held_revolt
				}
			}
		}
		ai_will_do = {
			factor = 500
		}
	}
	
	SER_investigate_the_fiume_connection = {
		ai_hint_pp_cost = 20
		custom_cost_text = PP_20_NAVXP
		custom_cost_trigger = {
			has_political_power > 19.99
			has_navy_experience > 19.99
		}
		
		icon = GFX_decision_generic_naval_base
		fire_only_once = yes
		days_remove = 45
		visible = {
			tag = SER
			NOT = {
				is_in_faction_with = AUS
			}
			any_owned_state = {
				is_coastal = yes
			}
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
			always = no
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SER_seek_chetnik_ties"
			hidden_effect = {
				add_political_power = -20
				navy_experience = -20
			}
		}
		remove_effect = {
			#Event for FIU
		}
		ai_will_do = {
			factor = 3
		}
	}
	
	SER_supplement_panslav_attitude = {
		cost = 30
		
		icon = GFX_decision_trumpet
		fire_only_once = no
		days_remove = 15
		days_re_enable = 10
		visible = {
			tag = SER
			NOT = {
				is_in_faction_with = AUS
			}
			has_country_flag = SER_funded_seppies
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SER_supplement_panslav_attitude"
		}
		remove_effect = {
			for_each_scope_loop = {
				array = global.SER_srpska_states
				tooltip = SER_srpska_resistance_effect_tooltip
				add_to_variable = {
					var = SER_target_lands_resistance_target
					value = 0.075
					tooltip = SER_srpska_resistance_target_tooltip
				}
			}
			for_each_scope_loop = {
				array = global.SER_bosnia_states
				tooltip = SER_bosnia_resistance_effect_tooltip
				add_to_variable = {
					var = SER_target_lands_resistance_target
					value = 0.075
					tooltip = SER_bosnia_resistance_target_tooltip
				}
			}
		}
		ai_will_do = {
			factor = 50
		}
	}
	
	SER_litter_leaflets = {
		ai_hint_pp_cost = 40
		cost = 25
		
		icon = GFX_decision_eng_trade_unions_support
		fire_only_once = no
		days_remove = 12
		days_re_enable = 20
		visible = {
			tag = SER
			NOT = {
				is_in_faction_with = AUS
			}
			has_country_flag = SER_funded_seppies
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SER_supplement_panslav_attitude"
		}
		remove_effect = {
			SKS = {
				THIS_add_three_collapse = yes
			}
			BOS = {
				THIS_add_three_collapse = yes
			}
			for_each_scope_loop = {
				array = global.SER_srpska_states
				tooltip = SER_srpska_resistance_effect_tooltip
				add_to_variable = {
					SER_target_lands_resistance_activity = 0.05
					tooltip = SER_srpska_resistance_activity_tooltip_5
				}
				add_compliance = -3
			}
			for_each_scope_loop = {
				array = global.SER_bosnia_states
				tooltip = SER_bosnia_resistance_effect_tooltip
				add_to_variable = {
					SER_target_lands_resistance_activity = 0.03
					tooltip = SER_bosnia_resistance_activity_tooltip_3
				}
				add_compliance = -3
			}
		}
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 100
				any_state = {
					AUS_state_is_owned_by_aus_or_subjects = yes
					compliance > 30
				}
			}
		}
	}
	
	SER_reach_out_to_chetnik_contacts = {
		ai_hint_pp_cost = 40
		custom_cost_text = cp_15_pp_20
		custom_cost_trigger = {
			has_political_power > 19.99
			command_power > 14.99
		}
		
		icon = GFX_decision_radar
		fire_only_once = no
		days_remove = 25
		days_re_enable = 45
		visible = {
			tag = SER
			NOT = {
				is_in_faction_with = AUS
			}
			has_country_flag = SER_funded_seppies
			has_dlc = "La Resistance"
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
			has_country_flag = SER_funded_seppies
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SER_supplement_panslav_attitude"
			hidden_effect = {
				add_political_power = -20
				add_command_power = -15
			}
		}
		remove_effect = {
			add_decryption = {
				target = AUS
				ratio = 0.12
			}
			add_decryption = {
				target = CRO
				ratio = 0.12
			}
			for_each_scope_loop = {
				array = global.SER_srpska_states
				tooltip = SER_srpska_resistance_effect_tooltip
				add_to_variable = {
					SER_target_lands_factory_sabotage = 0.025
					tooltip = SER_factory_sabotage_025
				}
				add_compliance = -3
			}
			for_each_scope_loop = {
				array = global.SER_bosnia_states
				tooltip = SER_bosnia_resistance_effect_tooltip
				add_to_variable = {
					SER_target_lands_factory_sabotage = 0.025
					tooltip = SER_factory_sabotage_025
				}
				add_compliance = -3
			}
		}
		ai_will_do = {
			factor = 3
		}
	}
	
	SER_coordinate_covert_attacks = {
		ai_hint_pp_cost = 40
		custom_cost_text = 10_resistance_in_state_300_infeq
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 299
			}
		}
		target_trigger = {
			FROM = {
				has_dynamic_modifier = {
					modifier = CRO_chetnik_presence
				}
				resistance > 50
				OR = {
					arms_factory > 0
					industrial_complex > 0
				}
			}
		}
		on_map_mode = map_and_decisions_view 
		state_target = yes
		icon = GFX_decision_radio
		fire_only_once = no
		days_remove = 30
		days_re_enable = 30
		visible = {
			tag = SER
			NOT = {
				is_in_faction_with = AUS
			}
			has_country_flag = SER_funded_seppies
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
			has_country_flag = SER_funded_seppies
			FROM =  {
				resistance > 50
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SER_supplement_panslav_attitude"
			FROM = {
				add_resistance = -4
			}
			hidden_effect = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -300
				}
			}
		}
		fixed_random_seed = no
		remove_effect = {
			FROM = {
				if = {
					limit = {
						FROM = {
							arms_factory > 0
							industrial_complex > 0
						}
					}
					random_list = {
						50 = {
							damage_building = {
								type = arms_factory
								damage = 0.75
							}
						}
						50 = {
							damage_building = {
								type = industrial_complex
								damage = 0.75
							}
						}
					}
					else_if = {
						limit = {
							arms_factory > 0
						}
						damage_building = {
							type = arms_factory
							damage = 0.75
						}
						else_if = {
							limit = {
								industrial_complex > 0
							}
							damage_building = {
								type = industrial_complex
								damage = 0.75
							}
							
						}
					}
				}
			}
			if = {
				limit = {
					divisions_in_state = {
						size > 1
						state = FROM
					}
				}
				damage_units = {
					org_damage = 0.30
					str_damage = 0.10
					state = FROM
					ratio = yes
					army = yes
				}
			}
		}
		ai_will_do = {
			factor = 3
		}
	}
	
	SER_agitate_SKS = {
		cost = 15
		icon = GFX_decision_generic_nationalism
		days_re_enable = 12
		visible = {
			tag = SER
			NOT = {
				is_in_faction_with = AUS
				country_exists = SKS
			}
			has_country_flag = SER_funded_seppies
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
			has_country_flag = SER_funded_seppies
		}
		complete_effect = {
			SKS = {
				THIS_add_ten_collapse = yes
				BOTDE_minority_test_for_revolt_extra = yes
			}
			for_each_scope_loop = {
				array = global.SER_srpska_states
				add_compliance = -6
			}
		}
		ai_will_do = {
			factor = 3
		}
	}
	
	SER_agitate_BOS = {
		cost = 15
		icon = GFX_decision_generic_nationalism
		days_re_enable = 12
		visible = {
			tag = SER
			NOT = {
				is_in_faction_with = AUS
				country_exists = BOS
			}
			has_country_flag = SER_funded_seppies
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
			has_country_flag = SER_funded_seppies
		}
		complete_effect = {
			BOS = {
				THIS_add_ten_collapse = yes
				BOTDE_minority_test_for_revolt_extra = yes
			}
			for_each_scope_loop = {
				array = global.SER_bosnia_states
				add_compliance = -6
			}
		}
		ai_will_do = {
			factor = 3
		}
	}
	
	SER_agitate_MNT = {
		cost = 15
		icon = GFX_decision_generic_nationalism
		days_re_enable = 12
		visible = {
			tag = SER
			NOT = {
				is_in_faction_with = AUS
				country_exists = MNT
			}
			has_country_flag = SER_funded_seppies
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
			has_country_flag = SER_funded_seppies
		}
		complete_effect = {
			MNT = {
				THIS_add_five_collapse = yes
				BOTDE_minority_test_for_revolt_extra = yes
			}
		}
		ai_will_do = {
			factor = 3
		}
	}
	
	SER_train_rebels = {
		custom_cost_text = 15_resistance_1k_gun_15_armyxp
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 999
			}
			has_army_experience > 15
		}
		icon = GFX_decision_ger_military_buildup
		days_re_enable = 20
		days_remove = 20
		visible = {
			OR = {
				tag = SER
				tag = MNT
			}
			NOT = {
				is_in_faction_with = AUS
			}
		}
		target_trigger = {
			FROM = {
				OR = {
					tag = AUS
					tag = CRO
					tag = HUN
				}
				any_owned_state = {
					is_core_of = SKS
					NOT = {
						has_state_flag = BOTDE_resistance_recruited
					}
					resistance > 0.5
				}
				has_dynamic_modifier = {
					modifier = CRO_chetnik_presence
				}
			}
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
			SKS = {
				any_core_state = {
					resistance > 50
					has_dynamic_modifier = {
						modifier = CRO_chetnik_presence
					}					
				}
				custom_trigger_tooltip = {
					tooltip = revolt_50
					check_variable = {
						var = THIS.subject_revolt_progress
						value = 0.5
						compare = greater_than_or_equals
					}
				}
				
			}
			has_army_experience > 15
		}
		complete_effect = {
			army_experience = -15
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
		}
		remove_effect = {
			custom_effect_tooltip = SKS_extra_revolt_division
			SKS = {
				random_core_state = {
					limit = {
						resistance > 50
						has_dynamic_modifier = {
							modifier = CRO_chetnik_presence
						}
						NOT = {
							has_state_flag = BOTDE_resistance_recruited
						}
					}
					add_resistance = -10
					set_state_flag = BOTDE_resistance_recruited
				}
				THIS_add_three_collapse = yes
			}
			add_to_variable = {
				var = SER.extra_divs
				value = 1
			}
			custom_effect_tooltip = extra_div_turns_serb_more_training
		}
		ai_will_do = {
			factor = 3
		}
	}
	
	
	
	
	
	
	
	######################
	#### AI-only decisions
	######################
	
	
	
	
	SER_start_revolt_mission_MNT = { #AI-only decision to start minority revolts
		icon = GFX_decision_generic_ignite_civil_war
		war_with_on_timeout = AUS
		war_with_on_timeout = CRO
		available = {
			MNT = {
					has_country_flag = BOTDE_ready_held_revolt
					NOT = {
						has_country_flag = BOTDE_imminent_minority_revolt_owner
						has_global_flag = BPTROLL_revolt_incoming
					}
					exists = no
				}
		}
		visible = {
			is_ai = yes
		}
		complete_effect = {
			set_global_flag = no_4_months
			SER = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = SER_revolt_mission
			}
			AUS = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = AUS_SER_revolt_mission
			}
			CRO = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = AUS_SER_revolt_mission
			}
			MNT = {
				set_country_flag = BPTROLL_revolt_start
				save_global_event_target_as = BOTDE_backer_revolt_tag
				set_global_flag = BPTROLL_revolt_incoming
			}
		}
		ai_will_do = {
			factor = 3000
		}
	}
	
	SER_start_revolt_mission_BOS = { #AI-only decision to start minority revolts
		icon = GFX_decision_generic_ignite_civil_war
		war_with_on_timeout = AUS
		war_with_on_timeout = CRO
		available = {
			BOS = {
					has_country_flag = BOTDE_ready_held_revolt
					NOT = {
						has_country_flag = BOTDE_imminent_minority_revolt_owner
						has_global_flag = BPTROLL_revolt_incoming
					}
					exists = no
				}
		}
		visible = {
			is_ai = yes
		}
		complete_effect = {
			set_global_flag = no_4_months
			SER = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = SER_revolt_mission
			}
			AUS = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = AUS_SER_revolt_mission
			}
			CRO = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = AUS_SER_revolt_mission
			}
			BOS = {
				set_country_flag = BPTROLL_revolt_start
				save_global_event_target_as = BOTDE_backer_revolt_tag
				set_global_flag = BPTROLL_revolt_incoming
			}
		}
		ai_will_do = {
			factor = 3000
		}
	}
	
	SER_start_revolt_mission_SKS = { #AI-only decision to start minority revolts
		icon = GFX_decision_generic_ignite_civil_war
		war_with_on_timeout = AUS
		war_with_on_timeout = CRO
		available = {
			SKS = {
				has_country_flag = BOTDE_ready_held_revolt
				NOT = {
					has_country_flag = BOTDE_imminent_minority_revolt_owner
					has_global_flag = BPTROLL_revolt_incoming
				}
				exists = no
			}
		}
		visible = {
			is_ai = yes
		}
		complete_effect = {
			set_global_flag = no_4_months
			SER = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = SER_revolt_mission
			}
			AUS = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = AUS_SER_revolt_mission
			}
			CRO = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = AUS_SER_revolt_mission
			}
			SKS = {
				set_country_flag = BPTROLL_revolt_start
				save_global_event_target_as = BOTDE_backer_revolt_tag
				set_global_flag = BPTROLL_revolt_incoming
			}
		}
		ai_will_do = {
			factor = 3000
		}
	}
	
	SER_revolt_mission = {
		days_mission_timeout = 60
		activation = {
			always = no
		}
		icon = GFX_decision_generic_ignite_civil_war
		war_with_on_timeout = AUS
		war_with_on_timeout = CRO
		available = {
			always = no
		}
		timeout_effect = {
			event_target:BOTDE_backer_revolt_tag = {
				set_country_flag = BOTDE_imminent_minority_revolt
				capital_scope = {
					owner = {
						set_country_flag = BOTDE_imminent_minority_revolt_owner
					}
				}
				do_minority_revolt_setup = yes
				clr_country_flag = BPTROLL_revolt_start
				get_current_government_type = yes
				ROOT = {
					puppet = PREV
					declare_war_on = {
						target = RVO
						type = annex_everything
					}
					PREV = {
						declare_war_on = {
							target = RVO
							type = annex_everything
						}
					}
					if = {
						limit = {
							NOT = {
								has_idea = BOTDE_delenda_est
							}
						}
						hidden_effect = { add_timed_idea = { idea = BOTDE_delenda_est days = 240 } }
					}
				}
				restore_previous_government_type = yes
				SKS_revolt_units_SER = yes
				while_loop_effect = {
					limit = {
						check_variable = {
							var = THIS.extra_divs
							value = 0
							compare = greater_than
						}
					}
					THIS = {
						if = {
							limit = {
								has_template = "Chetnik Detachment"
							}
							else = {
								division_template = {
									name = "Chetnik Detachment"
									regiments = {
										infantry = { x = 0 y = 0 }
										infantry = { x = 0 y = 1 }
										infantry = { x = 0 y = 2 }
										infantry = { x = 1 y = 0 }
										infantry = { x = 1 y = 1 }
										infantry = { x = 1 y = 2 }
										infantry = { x = 2 y = 0 }
										infantry = { x = 2 y = 1 }
										infantry = { x = 2 y = 2 }
									}
									is_locked = yes
									support = {
										engineer = { x = 0 y = 0 }
										logistics_company = { x = 0 y = 1 }
									}
								}
							}
							capital_scope = {
								create_unit = { 
									division = "name = \"Četnički Odred\" division_template = \"Chetnik Detachment\" start_experience_factor = 0.65" 
									owner = PREV
									allow_spawning_on_enemy_provs = yes
								}
							}
						}
					}
					subtract_from_variable = {
						var = THIS.extra_divs
						value = 1
					}
				}
				if = {
					limit = {
						NOT = {
							has_idea = BOTDE_delenda_est
						}
					}
					hidden_effect = { add_timed_idea = { idea = BOTDE_delenda_est days = 240 } }
				}
			}
			clear_global_event_target = BOTDE_backer_revolt_tag
			clr_global_flag = BPTROLL_revolt_incoming
			hidden_effect = {
				every_country = {
					limit = {
						OR = {
							tag = SER
							tag = AUS
							is_in_faction_with = SER
							is_in_faction_with = AUS
						}
					}
					country_event = {
						id = bdeausfor.101
						days = 2
						random = 48
					}
				}
			}
			if = { #If Romania is an AI, figure out its balance of power and start some revolts to help out Serbian player
				limit = {					
					SER = { 
						is_ai = no 
						is_in_faction_with = ROM 
					}
				}
				hidden_effect = {
					ROM_help_serb_player_revolt = yes
				}
			}
		}
		ai_will_do = {
			factor = 3
		}
	}
	
	SER_activate_chetniks = {
		icon = GFX_decision_SWI_consolidate_council_power
		fire_only_once = yes
		visible = {
			tag = SER
			NOT = {
				is_in_faction_with = AUS
			}
			has_war_with = AUS
			has_variable = THIS.extra_divs
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
		}
		complete_effect = {
			
			while_loop_effect = {
				limit = {
					check_variable = {
						var = SER.extra_divs
						value = 0
						compare = greater_than
					}
				}
				SER = {
					if = {
						limit = {
							has_template = "Chetnik Detachment"
						}
						else = {
							division_template = {
								name = "Chetnik Detachment"
								regiments = {
									infantry = { x = 0 y = 0 }
									infantry = { x = 0 y = 1 }
									infantry = { x = 0 y = 2 }
									infantry = { x = 1 y = 0 }
									infantry = { x = 1 y = 1 }
									infantry = { x = 1 y = 2 }
									infantry = { x = 2 y = 0 }
									infantry = { x = 2 y = 1 }
									infantry = { x = 2 y = 2 }
								}
								is_locked = yes
								support = {
									engineer = { x = 0 y = 0 }
									logistics_company = { x = 0 y = 1 }
								}
							}
						}
						capital_scope = {
							create_unit = { 
								division = "name = \"Četnički Odred\" division_template = \"Chetnik Detachment\" start_experience_factor = 0.75" 
								owner = PREV
								allow_spawning_on_enemy_provs = yes
							}
						}
					}
				}
				subtract_from_variable = {
					var = SER.extra_divs
					value = 1
				}
			}
			hidden_effect = {
				scoped_sound_effect = "BOTDE_troops_spawn"
				set_country_flag = SER_chetniks_deployed
			}
		}

	}
	
	SER_standardize_chetniks = {
		icon = GFX_decision_generic_reorganize_irregulars
		fire_only_once = yes
		visible = {
			tag = SER
			has_country_flag = SER_chetniks_deployed
		}
		available = {
			has_war = no
		}
		complete_effect = {
			set_division_template_lock = {
				division_template = "Chetnik Detachment"
				is_locked = no
			}
		}
	}
	
	SER_intervene_in_revolt = { #SER needs one too
		icon = GFX_decision_generic_form_nation
		on_map_mode = map_and_decisions_view
		target_trigger = {
			FROM = {
				OR = {
					tag = BOS
					tag = MNT
					tag = SKS
				}
				has_war_with = AUS
				has_country_flag = BOTDE_in_revolt
			}
		}
		visible = {
			tag = SER
			NOT = {
				is_in_faction_with = AUS
				is_in_faction_with = FROM
			}
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
				has_war_with = AUS
			}
			
		}
		fixed_random_seed = no
		days_remove = 20
		complete_effect = {
			FROM = {
				country_event = {
					id = botdepact.10
					days = 1
				}
			}
		}
		ai_will_do = {
			factor = 10000
		}
	}
	
}










ROM_romanian_uprising = {

	
	ROM_seek_transylvanian_ties = {
		ai_hint_pp_cost = 50
		custom_cost_text = PP_50_infantry_equipment_500
		custom_cost_trigger = {
			has_political_power > 49.99
			has_equipment = { infantry_equipment > 499 }
		}
		
		icon = GFX_decision_generic_nationalism
		fire_only_once = yes
		days_remove = 45
		visible = {
			tag = ROM
			NOT = {
				is_in_faction_with = AUS
			}
			OR = {
				owns_state = 772
				owns_state = 77
			}
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
			OR = {
				owns_state = 772
				owns_state = 77
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ROM_seek_transylvanian_ties"
			hidden_effect = {
				add_political_power = -50
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -500
				}
			}
		}
		remove_effect = {
			set_country_flag = ROM_funded_seppies
			add_to_variable = { ROM.revolt = 1 } #1
			for_each_scope_loop = {
				array = global.ROM_target_states
				tooltip = ROM_occupied_territories_tt
				hidden_effect = {
					if = {
						limit = {
							NOT = {
								has_state_flag = ROM_resistance_crap_done
							}
						}
						if = {
							limit = {
								is_core_of = TRS
								NOT = {
									is_core_of = BAN
									is_core_of = BUK
								}
							}
							force_enable_resistance = { occupier = var:THIS.owner occupied = TRS }
							if = {
								limit = {
									has_active_resistance = no
								}
								start_resistance = TRS
							}
						}
						if = {
							limit = {
								is_core_of = BAN
							}
							force_enable_resistance = { occupier = var:THIS.owner occupied = BAN }
							if = {
								limit = {
									has_active_resistance = no
								}
								start_resistance = BAN
							}
						}
						if = {
							limit = {
								is_core_of = BUK
							}
							force_enable_resistance = { occupier = var:THIS.owner occupied = BUK }
							if = {
								limit = {
									has_active_resistance = no
								}
								start_resistance = BUK
							}
						}
						add_dynamic_modifier = { modifier = ROM_target_lands_resistance }
						set_variable = { ROM_transylvanian_resistance_target = 0.15 }
						set_variable = { ROM_transylvanian_resistance_activity = 0.15 }
						set_variable = { ROM_transylvanian_resistance_garrison = 0.15 }
						#owner = {
						#	if = {
						#		limit = {
						#			NOT = { has_country_flag = ROM_receives_oopsiedaisy }
						#		}
						#		country_event = bdeausint.whateverman
						#		set_country_flag = { flag = ROM_receives_oopsiedaisy days = 2 value = 1 }
						#	}
						#}
					}
					set_state_flag = ROM_resistance_crap_done
				}
			}
			BAN = {
				THIS_add_five_collapse = yes
			}
			BUK = {
				THIS_add_five_collapse = yes
			}
			TRS = {
				THIS_add_five_collapse = yes
			}
			hidden_effect = {
				AUS = {
					country_event = {
						id = bdeausfor.89
						days = 7
						random = 144
					}
				}
				if = {
					limit = {
						HUN = {
							is_in_faction_with = AUS
						}
					}
					HUN = {
						country_event = {
							id = bdeausfor.89
							days = 7
							random = 144
						}
						country_event = {
							id = bdeausfor.87
							days = 45
							random = 720
						}
					}
				}
				if = {
					limit = {
						GAL = {
							is_in_faction_with = AUS
							owns_state = 80
						}
					}
					GAL = {
						country_event = {
							id = bdeausfor.89
							days = 7
							random = 144
						}
					}
				}
			}
			if = {
				limit = {
					is_ai = yes
				}
				TRS = {
					set_country_flag = BOTDE_ready_held_revolt
				}
				BAN = {
					set_country_flag = BOTDE_ready_held_revolt
				}
				BUK = {
					set_country_flag = BOTDE_ready_held_revolt
				}
			}
		}
		ai_will_do = {
			factor = 500
		}
	}
	
	ROM_influence_bukovina = {
		ai_hint_pp_cost = 25
		cost = 20
		available = {
			custom_trigger_tooltip = {
				tooltip = ROM_5king
				power_balance_value = {
					id = ROM_great_game_bop
					value < 0.01
				}
			}
		}
		icon = GFX_decision_bukovina_lady
		fire_only_once = no
		days_remove = 15
		visible = {
			tag = ROM
			NOT = {
				is_in_faction_with = AUS
			}
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
			has_country_flag = ROM_funded_seppies
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ROM_influence_bukovina"
			hidden_effect = {
				
			}
		}
		remove_effect = {
			BUK = {
				THIS_add_eight_collapse = yes
				BOTDE_minority_test_for_revolt_extra = yes
				#add_to_variable = {
				#	var = THIS.romanian_loyalty_value
				#}
			}
			for_each_scope_loop = {
				array = global.ROM_bukovina_states
				tooltip = ROM_bukovina_resistance_effect_tooltip
				add_to_variable = {
					var = ROM_transylvanian_resistance_target
					value = 0.05
					tooltip = ROM_resistance_target_5
				}
			}
		}
		ai_will_do = {
			factor = 300
		}
	}
	
	ROM_influence_banat = {
		ai_hint_pp_cost = 25
		cost = 20
		available = {
			custom_trigger_tooltip = {
				tooltip = ROM_5king
				power_balance_value = {
					id = ROM_great_game_bop
					value < 0.01
				}
			}
		}
		icon = GFX_decision_banat_lady
		fire_only_once = no
		days_remove = 15
		visible = {
			tag = ROM
			NOT = {
				is_in_faction_with = AUS
			}
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
			has_country_flag = ROM_funded_seppies
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ROM_influence_bukovina"
			hidden_effect = {
				
			}
		}
		remove_effect = {
			BAN = {
				THIS_add_eight_collapse = yes
				BOTDE_minority_test_for_revolt_extra = yes
				#add_to_variable = {
				#	var = THIS.romanian_loyalty_value
				#}
			}
			for_each_scope_loop = {
				array = global.ROM_banat_states
				tooltip = ROM_banat_resistance_effect_tooltip
				add_to_variable = {
					var = ROM_transylvanian_resistance_target
					value = 0.05
					tooltip = ROM_resistance_target_5
				}
			}
		}
		ai_will_do = {
			factor = 300
		}
	}
	
	ROM_influence_transylvania = {
		ai_hint_pp_cost = 25
		cost = 20
		available = {
			custom_trigger_tooltip = {
				tooltip = ROM_5cap
				power_balance_value = {
					id = ROM_great_game_bop
					value > 0.01
				}
			}
		}
		icon = GFX_decision_transylvania_lady
		fire_only_once = no
		days_remove = 15
		visible = {
			tag = ROM
			NOT = {
				is_in_faction_with = AUS
			}
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
			has_country_flag = ROM_funded_seppies
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ROM_influence_bukovina"
			hidden_effect = {
				
			}
		}
		remove_effect = {
			TRS = {
				THIS_add_five_collapse = yes
				BOTDE_minority_test_for_revolt_extra = yes
				#add_to_variable = {
				#	var = THIS.romanian_loyalty_value
				#}
			}
			for_each_scope_loop = {
				array = global.ROM_transylvania_states
				tooltip = ROM_transylvania_resistance_effect_tooltip
				add_to_variable = {
					var = ROM_transylvanian_resistance_target
					value = 0.075
					tooltip = ROM_resistance_target_75
				}
			}
		}
		ai_will_do = {
			factor = 300
		}
	}
	
	ROM_denounce_magyarization = {
		cost = 30
		
		icon = GFX_decision_generic_speech
		fire_only_once = no
		days_remove = 15
		visible = {
			tag = ROM
			NOT = {
				is_in_faction_with = AUS
			}
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
			has_country_flag = ROM_funded_seppies
		}
		remove_effect = {
			for_each_scope_loop = {
				array = global.ROM_target_states
				tooltip = ROM_occupied_territories_tt
				add_to_variable = {
					ROM_target_lands_resistance_activity = 0.75
					tooltip = SER_srpska_resistance_activity_tooltip_75
				}
				add_compliance = -3
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	######################
	#### AI-only decisions
	######################
	
	
	
	
	ROM_start_revolt_mission_BUK = { #AI-only decision to start minority revolts
		icon = GFX_decision_generic_ignite_civil_war
		war_with_on_timeout = AUS
		war_with_on_timeout = GAL
		available = {
			BUK = {
				has_country_flag = BOTDE_ready_held_revolt
				NOT = {
					has_country_flag = BOTDE_imminent_minority_revolt_owner
					has_global_flag = BPTROLL_revolt_incoming
				}
				exists = no
			}
		}
		visible = {
			#is_ai = yes
		}
		complete_effect = {
			set_global_flag = no_4_months
			ROM = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = ROM_revolt_mission
			}
			AUS = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = AUS_ROM_revolt_mission
			}
			GAL = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = AUS_ROM_revolt_mission
			}
			BUK = {
				set_country_flag = BPTROLL_revolt_start
				save_global_event_target_as = BOTDE_backer_revolt_tag
				set_global_flag = BPTROLL_revolt_incoming
			}
			if = {
				limit = {
					ROM = {
						is_ai = yes
					}
				}
				BUK = {
					THIS_add_ten_collapse = yes
					set_variable_to_random = {
						var = THIS.extra_divs
						max = 3
						integer = yes
					}
				}
			}
		}
		ai_will_do = {
			factor = 3000
		}
	}
	
	ROM_start_revolt_mission_TRS = { #AI-only decision to start minority revolts
		icon = GFX_decision_generic_ignite_civil_war
		war_with_on_timeout = AUS
		war_with_on_timeout = HUN
		available = {
			TRS = {
				has_country_flag = BOTDE_ready_held_revolt
				NOT = {
					has_country_flag = BOTDE_imminent_minority_revolt_owner
					has_global_flag = BPTROLL_revolt_incoming
				}
				exists = no
			}
		}
		visible = {
			#is_ai = yes
		}
		complete_effect = {
			set_global_flag = no_4_months
			ROM = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = ROM_revolt_mission
			}
			AUS = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = AUS_ROM_revolt_mission
			}
			HUN = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = AUS_ROM_revolt_mission
			}
			TRS = {
				set_country_flag = BPTROLL_revolt_start
				save_global_event_target_as = BOTDE_backer_revolt_tag
				set_global_flag = BPTROLL_revolt_incoming
			}
			
			if = {
				limit = {
					ROM = {
						is_ai = yes
					}
				}
				TRS = {
					THIS_add_ten_collapse = yes
					set_variable_to_random = {
						var = THIS.extra_divs
						max = 3
						integer = yes
					}
				}
			}
		}
		ai_will_do = {
			factor = 3000
		}
	}
	
	ROM_start_revolt_mission_BAN = { #AI-only decision to start minority revolts
		icon = GFX_decision_generic_ignite_civil_war
		war_with_on_timeout = AUS
		war_with_on_timeout = CRO
		available = {
			BAN = {
				has_country_flag = BOTDE_ready_held_revolt
				NOT = {
					has_country_flag = BOTDE_imminent_minority_revolt_owner
					has_global_flag = BPTROLL_revolt_incoming
				}
				exists = no
			}
		}
		visible = {
			#is_ai = yes
		}
		complete_effect = {
			set_global_flag = no_4_months
			ROM = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = ROM_revolt_mission
			}
			AUS = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = AUS_ROM_revolt_mission
			}
			CRO = {
				scoped_sound_effect = "BOTDE_incoming_backer_revolt"
				activate_mission = AUS_ROM_revolt_mission
			}
			BAN = {
				set_country_flag = BPTROLL_revolt_start
				save_global_event_target_as = BOTDE_backer_revolt_tag
				set_global_flag = BPTROLL_revolt_incoming
			}
			if = {
				limit = {
					ROM = {
						is_ai = yes
					}
				}
				BAN = {
					THIS_add_ten_collapse = yes
					set_variable_to_random = {
						var = THIS.extra_divs
						max = 3
						integer = yes
					}
				}
			}
		}
		ai_will_do = {
			factor = 3000
		}
	}

	
	ROM_revolt_mission = {
		days_mission_timeout = 30
		activation = {
			always = no
		}
		icon = GFX_decision_revolt
		war_with_on_timeout = AUS
		war_with_on_timeout = HUN
		war_with_on_timeout = GAL
		available = {
			always = no
		}
		timeout_effect = {
			event_target:BOTDE_backer_revolt_tag = {
				set_country_flag = BOTDE_imminent_minority_revolt_owner
				capital_scope = {
					owner = {
						set_country_flag = BOTDE_imminent_minority_revolt_owner
					}
				}
				do_minority_revolt_setup = yes
				clr_country_flag = BPTROLL_revolt_start
				get_current_government_type = yes
				ROOT = {
					puppet = PREV
					declare_war_on = {
						target = HUN
						type = annex_everything
					}
					if = {
						limit = {
							NOT = {
								has_idea = BOTDE_delenda_est
							}
						}
						add_timed_idea = { idea = BOTDE_delenda_est days = 240 }
					}
				}
				
				declare_war_on = {
					target = HUN
					type = annex_everything
				}
				restore_previous_government_type = yes
				hidden_effect = {
					if = {
						limit = {
							tag = BAN
						}
						add_popularity = {
							ideology = national_populist
							popularity = 0.15
						}
						set_politics = {
							ruling_party = national_populist
						}
						set_cosmetic_tag = BAN_indrazneti
						BAN_revolt_units_ROM = yes
						add_timed_idea = { idea = BOTDE_delenda_est days = 240 }
					}
					if = {
						limit = {
							tag = BUK
						}
						add_popularity = {
							ideology = national_populist
							popularity = 0.15
						}
						set_politics = {
							ruling_party = national_populist
						}
						BUK_revolt_units_ROM = yes
						add_timed_idea = { idea = BOTDE_delenda_est days = 240 }
					}
					if = {
						limit = {
							tag = TRS
						}
						add_popularity = {
							ideology = national_populist
							popularity = 0.15
						}
						set_politics = {
							ruling_party = national_populist
						}
						TRS_revolt_units_ROM = yes
						add_timed_idea = { idea = BOTDE_delenda_est days = 240 }
					}
					every_country = {
						limit = {
							OR = {
								tag = ROM
								tag = AUS
								is_in_faction_with = ROM
								is_in_faction_with = AUS
							}
						}
						country_event = {
							id = bdeausfor.101
							days = 2
							random = 48
						}
					}
				}
			}
			clear_global_event_target = BOTDE_backer_revolt_tag
			clr_global_flag = BPTROLL_revolt_incoming
			
		}
		ai_will_do = {
			factor = 3
		}
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	ROM_train_rebels = {
		custom_cost_text = 15_resistance_1k_gun_15_armyxp
		custom_cost_trigger = {
			has_equipment = {
				infantry_equipment > 999
			}
			has_army_experience > 15
		}
		icon = GFX_decision_ger_military_buildup
		days_re_enable = 25
		days_remove = 25
		visible = {
			tag = ROM
			NOT = {
				is_in_faction_with = AUS
			}
		}
		state_target = yes
		target_trigger = {
			FROM = {
				owner = {
					OR = {
						tag = AUS
						tag = HUN
						tag = GAL
					}
				}
				#any_owned_state = {
					OR = {
						AND = {
							OR = {
								is_claimed_by = TRS
								is_core_of = TRS
							}
							has_dynamic_modifier = {
								modifier = HUN_cross_brotherhood_presence
							}
						}
						
						AND = {
							OR = {
								is_claimed_by = BAN
								is_core_of = BAN
							}
							has_dynamic_modifier = {
								modifier = HUN_indrazneti_presence
							}
						}
						
						AND = {
							OR = {
								is_claimed_by = BUK
								is_core_of = BUK
							}
							has_dynamic_modifier = {
								modifier = GAL_lancieri_presence
							}
						}
					}
					NOT = {
						has_state_flag = BOTDE_resistance_recruited
					}
					resistance > 0.5
				#}
			}
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
			OR = {
				TRS = {
					custom_trigger_tooltip = {
						tooltip = TRS_revolt_req
						check_variable = {
							var = THIS.subject_revolt_progress
							value = 0.5
							compare = greater_than_or_equals
						}
					}
					hidden_trigger = {
						any_core_state = {
							resistance > 50
							has_dynamic_modifier = {
								modifier = HUN_cross_brotherhood_presence
							}
						}
					}
				}
				
				BAN = {
					custom_trigger_tooltip = {
						tooltip = BAN_revolt_req
						check_variable = {
							var = THIS.subject_revolt_progress
							value = 0.5
							compare = greater_than_or_equals
						}
					}
					hidden_trigger = {
						any_core_state = {
							resistance > 50
							has_dynamic_modifier = {
								modifier = HUN_indrazneti_presence
							}
						}
					}
				}
				
				BUK = {
					custom_trigger_tooltip = {
						tooltip = BUK_revolt_req
						check_variable = {
							var = THIS.subject_revolt_progress
							value = 0.5
							compare = greater_than_or_equals
						}
					}
					hidden_trigger = {
						any_core_state = {
							resistance > 50
							has_dynamic_modifier = {
								modifier = GAL_lancieri_presence
							}
						}
					}
				}
			}
			has_army_experience > 15
		}
		complete_effect = {
			army_experience = -15
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -1000
			}
		}
		remove_effect = {
			custom_effect_tooltip = ROM_extra_revolt_division
			if = {
				limit = {
					TRS = {
						is_claim_or_core_of_PREV = yes
					}
					NOT = {
						BAN = {
							is_claim_or_core_of_PREV = yes
						}
					}
				}
				TRS = {
					random_core_state = {
						limit = {
							resistance > 50
							has_dynamic_modifier = {
								modifier = HUN_cross_brotherhood_presence
							}
							NOT = {
								has_state_flag = BOTDE_resistance_recruited
							}
						}
						add_resistance = -10
					}
					THIS_add_three_collapse = yes
				}
			}
			
			if = {
				limit = {
					BAN = {
						is_claim_or_core_of_PREV = yes
					}
				}
				BAN = {
					random_core_state = {
						limit = {
							resistance > 50
							has_dynamic_modifier = {
								modifier = HUN_indrazneti_presence
							}
							NOT = {
								has_state_flag = BOTDE_resistance_recruited
							}
						}
						add_resistance = -10
					}
					THIS_add_three_collapse = yes
				}
			}
			
			if = {
				limit = {
					BUK = {
						is_claim_or_core_of_PREV = yes
					}
				}
				BUK = {
					random_core_state = {
						limit = {
							resistance > 50
							has_dynamic_modifier = {
								modifier = GAL_lancieri_presence
							}
							NOT = {
								has_state_flag = BOTDE_resistance_recruited
							}
						}
						add_resistance = -10
					}
					THIS_add_three_collapse = yes
				}
			}
			FROM = { set_state_flag = BOTDE_resistance_recruited }
			add_to_variable = {
				var = ROM.extra_divs
				value = 1
			}
			custom_effect_tooltip = extra_div_turns_serb_more_training
		}
		ai_will_do = {
			factor = 50
		}
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	ROM_fund_paramilitaries_TRS = {
		custom_cost_trigger = {
			command_power > 10
			has_equipment = {
				infantry_equipment > 399
			}
		}
		custom_cost_text = 5_resistance_400_gun_10_cp
		icon = GFX_decision_fdc
		days_re_enable = 40
		state_target = yes
		on_map_mode = map_only
		target_trigger = {
			FROM = {
				owner = {
					AUS_is_constituent = yes
					is_in_faction_with = AUS
				}
				is_core_of = TRS
				NOT = {
					is_core_of = BAN
					has_dynamic_modifier = {
						modifier = HUN_cross_brotherhood_presence
					}
				}
				resistance > 30
			}
		}
		visible = {
			OR = {
				tag = ROM
				tag = RRM
			}
			NOT = {
				is_in_faction_with = AUS
			}
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
			custom_trigger_tooltip = {
				tooltip = TRS_para_req_focus
				check_variable = {
					var = TRS.subject_revolt_progress
					value = 0.60
					compare = greater_than_or_equals
				}
			}
			command_power > 10
			has_equipment = {
				infantry_equipment > 399
			}
			has_country_flag = ROM_funded_seppies
		}
		fixed_random_seed = no
		days_remove = 20
		remove_effect = {
			random_list = {
				35 = {
					modifier = {
						set_temp_variable = { revolt = TRS.subject_revolt_progress }
						multiply_temp_variable = { revolt = 2.75 }
						factor = revolt
						always = yes
					}
					modifier = {
						set_temp_variable = { opps = FROM.success_value_opp }
						multiply_temp_variable = { opps = 25 }
						add = opps
						always = yes
					}
					modifier = {
						power_balance_value = {
							id = ROM_great_game_bop
							value > -0.01
						}
						add = 12
					}
					modifier = {
						is_power_balance_in_range  = {
							id = ROM_great_game_bop
							range > ROM_bop_king_influence_3
						}
						add = 18
					}
					FROM = {
						AUS_change_minority_paramilitary_transylvanian = yes
					}
					set_variable = {
						var = FROM.success_value_opp
						value = 0
					}
					hidden_effect = {
						scoped_sound_effect = "AUS_paramilitary_pacified"
						FROM = {
							state_event = {
								id = sksbts.0
								days = 45
							}
						}
						if = {
							limit = {
								TRS = {
									NOT = {
										has_country_flag = BP_5BW_met
									}
								}
							}
							TRS = {
								save_global_event_target_as = BP_meetant
								set_country_flag = BP_5BW_meeting
							}
							ROM = {
								country_event = {
									id = botdepact.1
								}
							}
						}
					}
					FROM = { add_resistance = -5 }
				}
				65 = {
					add_to_variable = {
						var = FROM.success_value_opp
						value = 1
					}
					custom_effect_tooltip = SKS_more_likely_to_succeed
					army_experience = -5
					add_political_power = -15
					hidden_effect = {
						scoped_sound_effect = "AUS_paramilitary_fail"
					}
					FROM = { add_resistance = -5 }
				}
			}
		}
		ai_will_do = {
			factor = 3
		}
	}
	
	ROM_fund_paramilitaries_BAN = {
		custom_cost_trigger = {
			command_power > 10
			has_equipment = {
				infantry_equipment > 399
			}
		}
		custom_cost_text = 5_resistance_400_gun_10_cp
		icon = GFX_decision_indrazneti
		days_re_enable = 40
		state_target = yes
		on_map_mode = map_only
		target_trigger = {
			FROM = {
				owner = {
					AUS_is_constituent = yes
					is_in_faction_with = AUS
				}
				is_core_of = BAN
				NOT = {
					has_dynamic_modifier = {
						modifier = HUN_indrazneti_presence
					}
				}
				resistance > 30
			}
		}
		visible = {
			OR = {
				tag = ROM
				tag = RRM
			}
			NOT = {
				is_in_faction_with = AUS
			}
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
			command_power > 10
			has_equipment = {
				infantry_equipment > 399
			}
			has_country_flag = ROM_funded_seppies
			custom_trigger_tooltip = {
				tooltip = BAN_para_req_focus
				check_variable = {
					var = BAN.subject_revolt_progress
					value = 0.60
					compare = greater_than_or_equals
				}
			}
		}
		fixed_random_seed = no
		days_remove = 20
		remove_effect = {
			random_list = {
				35 = {
					modifier = {
						set_temp_variable = { revolt = BAN.subject_revolt_progress }
						multiply_temp_variable = { revolt = 2.75 }
						factor = revolt
						always = yes
					}
					modifier = {
						set_temp_variable = { opps = FROM.success_value_opp }
						multiply_temp_variable = { opps = 25 }
						add = opps
						always = yes
					}
					modifier = {
						power_balance_value = {
							id = ROM_great_game_bop
							value < 0.01
						}
						add = 12
					}
					modifier = {
						is_power_balance_in_range  = {
							id = ROM_great_game_bop
							range < ROM_bop_king_influence_3
						}
						add = 18
					}
					FROM = {
						AUS_change_minority_paramilitary_banatian = yes
					}
					set_variable = {
						var = FROM.success_value_opp
						value = 0
					}
					hidden_effect = {
						scoped_sound_effect = "AUS_paramilitary_pacified"
						FROM = {
							state_event = {
								id = sksbts.0
								days = 45
							}
						}
						if = {
							limit = {
								BAN = {
									NOT = {
										has_country_flag = BP_5BW_met
									}
								}
							}
							BAN = {
								save_global_event_target_as = BP_meetant
								set_country_flag = BP_5BW_meeting
							}
							ROM = {
								country_event = {
									id = botdepact.1
								}
							}
						}
					}
					FROM = { add_resistance = -5 }
				}
				65 = {
					add_to_variable = {
						var = FROM.success_value_opp
						value = 1
					}
					custom_effect_tooltip = SKS_more_likely_to_succeed
					army_experience = -5
					add_political_power = -15
					hidden_effect = {
						scoped_sound_effect = "AUS_paramilitary_fail"
					}
					FROM = { add_resistance = -5 }
				}
			}
		}
		ai_will_do = {
			factor = 3
		}
	}
	
	ROM_fund_paramilitaries_BUK = {
		custom_cost_trigger = {
			command_power > 10
			has_equipment = {
				infantry_equipment > 399
			}
		}
		custom_cost_text = 5_resistance_400_gun_10_cp
		icon = GFX_decision_lancieri
		days_re_enable = 40
		state_target = yes
		on_map_mode = map_only
		target_trigger = {
			FROM = {
				owner = {
					AUS_is_constituent = yes
					is_in_faction_with = AUS
				}
				is_core_of = BUK
				NOT = {
					has_dynamic_modifier = {
						modifier = GAL_lancieri_presence
					}
				}
				resistance > 30
			}
		}
		visible = {
			OR = {
				tag = ROM
				tag = RRM
			}
			NOT = {
				is_in_faction_with = AUS
			}
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
			}
			command_power > 10
			has_equipment = {
				infantry_equipment > 399
			}
			has_country_flag = ROM_funded_seppies
			custom_trigger_tooltip = {
				tooltip = BUK_para_req_focus
				check_variable = {
					var = BUK.subject_revolt_progress
					value = 0.60
					compare = greater_than_or_equals
				}
			}
		}
		fixed_random_seed = no
		days_remove = 20
		remove_effect = {
			random_list = {
				35 = {
					modifier = {
						set_temp_variable = { revolt = BUK.subject_revolt_progress }
						multiply_temp_variable = { revolt = 2.75 }
						factor = revolt
						always = yes
					}
					modifier = {
						set_temp_variable = { opps = FROM.success_value_opp }
						multiply_temp_variable = { opps = 25 }
						add = opps
						always = yes
					}
					modifier = {
						power_balance_value = {
							id = ROM_great_game_bop
							value < 0.01
						}
						add = 12
					}
					modifier = {
						is_power_balance_in_range  = {
							id = ROM_great_game_bop
							range < ROM_bop_king_influence_3
						}
						add = 18
					}
					FROM = {
						AUS_change_minority_paramilitary_bukovinian = yes
					}
					set_variable = {
						var = FROM.success_value_opp
						value = 0
					}
					hidden_effect = {
						scoped_sound_effect = "AUS_paramilitary_pacified"
						FROM = {
							state_event = {
								id = sksbts.0
								days = 45
							}
						}
						if = {
							limit = {
								BUK = {
									NOT = {
										has_country_flag = BP_5BW_met
									}
								}
							}
							BUK = {
								save_global_event_target_as = BP_meetant
								set_country_flag = BP_5BW_meeting
							}
							ROM = {
								country_event = {
									id = botdepact.1
								}
							}
						}
					}
					FROM = { add_resistance = -5 }
				}
				65 = {
					add_to_variable = {
						var = FROM.success_value_opp
						value = 1
					}
					custom_effect_tooltip = SKS_more_likely_to_succeed
					army_experience = -5
					add_political_power = -15
					hidden_effect = {
						scoped_sound_effect = "AUS_paramilitary_fail"
					}
					FROM = { add_resistance = -5 }
				}
			}
		}
		ai_will_do = {
			factor = 3
		}
	}
	
	ROM_intervene_in_revolt = { #Maybe make this a "Stand down, Austria, or else!"
		icon = GFX_decision_generic_form_nation
		target_trigger = {
			FROM = {
				OR = {
					tag = BUK
					tag = BAN
					tag = TRS
				}
				has_war_with = AUS
				has_country_flag = BOTDE_in_revolt
			}
		}
		visible = {
			OR = {
				tag = ROM
				tag = RRM
			}
			NOT = {
				is_in_faction_with = AUS
				is_in_faction_with = FROM
			}
		}
		available = {
			NOT = {
				has_global_flag = no_backers_allowed
				has_war_with = AUS
			}
			
		}
		fixed_random_seed = no
		complete_effect = {
			FROM = {
				country_event = {
					id = botdepact.10
					days = 1
				}
			}
		}
		ai_will_do = {
			factor = 3
		}
	}
	
}

political_actions = {

	SER_peace_ITA_for_MNT = {
		cost = 20
		icon = GFX_decision_generic_agreement
		fire_only_once = yes
		visible = {
			tag = SER
			has_war_with = MNT
			MNT = {
				is_in_faction_with = ITA
			}
		}
		available = {
			tag = SER
			has_war_with = MNT
			controls_state = 105
			MNT = {
				is_in_faction_with = ITA
				is_ai = no
				has_capitulated = yes
			}
			
		}
		complete_effect = {
			ITA = {
				country_event = {
					id = botdepact.8
				}
			}
		}
	}

	SER_annex_subject = {
		cost = 60
		icon = GFX_decision_generic_form_nation
		fire_only_once = yes
		days_remove = 60
		visible = {
			tag = SER
			OR = {
				SKS = {
					is_subject_of = SER
				}
				BOS = {
					is_subject_of = SER
				}
			}
		}
		target_trigger = {
			FROM = {
				is_subject_of = ROOT
				OR = {
					tag = BOS
					tag = SKS	
				}
			}
		}
		available = {
			has_war = no
		}
		remove_effect = {
			annex_country = {
				target = FROM
				transfer_troops = yes
			}
		}
	}

	ROM_annex_subject = {
		cost = 60
		icon = GFX_decision_generic_form_nation
		fire_only_once = yes
		days_remove = 60
		visible = {
			tag = ROM
			OR = {
				TRS = {
					is_subject_of = ROM
				}
				BUK = {
					is_subject_of = ROM
				}
				BAN = {
					is_subject_of = ROM
				}
			}
		}
		target_trigger = {
			FROM = {
				is_subject_of = ROOT
			}
		}
		targets = { TRS BUK BAN }
		available = {
			NOT = {
				has_war_with = AUS
				has_war_with = HUN
			}
		}
		fixed_random_seed = no
		remove_effect = {
			custom_effect_tooltip = ROM_great_game_affects_annexation
			if = {
				limit = {
					FROM ={
						tag = TRS
					}
				}
				random_list = {
					40 = {
						FROM = {
							every_owned_state = {
								limit = {
									is_core_of = PREV
								}
								add_core_of = ROOT
							}
						}
						annex_country = {
							target = FROM
							transfer_troops = yes
						}
					}
					60 = {
						modifier = {
							factor = 0
							power_balance_value = {
								id = ROM_great_game_bop
								value > 0.34
							}
						}
						modifier = {
							factor = 0.6
							power_balance_value = {
								id = ROM_great_game_bop
								value > 0.01
							}
						}
						custom_effect_tooltip = ROM_subject_refuses
						hidden_effect = {
							ROOT = {
								end_puppet = FROM
								add_opinion_modifier = {
									target = FROM
									modifier = BOTDE_AUS_unrecognized
								}
							}
						}
						
					}
				}
			}
			
			
			
			if = {
				limit = {
					FROM ={
						tag = BUK
					}
				}
				random_list = {
					40 = {
						FROM = {
							every_owned_state = {
								limit = {
									is_core_of = PREV
								}
								add_core_of = ROOT
							}
						}
						annex_country = {
							target = FROM
							transfer_troops = yes
						}
					}
					60 = {
						modifier = {
							factor = 0
							power_balance_value = {
								id = ROM_great_game_bop
								value < -0.34
							}
						}
						modifier = {
							factor = 0.6
							power_balance_value = {
								id = ROM_great_game_bop
								value < -0.01
							}
						}
						custom_effect_tooltip = ROM_subject_refuses
						hidden_effect = {
							ROOT = {
								end_puppet = FROM
								add_opinion_modifier = {
									target = FROM
									modifier = BOTDE_AUS_unrecognized
								}
							}
						}
						
					}
				}
			}
			
			if = {
				limit = {
					FROM ={
						tag = BAN
					}
				}
				random_list = {
					40 = {
						FROM = {
							every_owned_state = {
								limit = {
									is_core_of = PREV
								}
								add_core_of = ROOT
							}
						}
						annex_country = {
							target = FROM
							transfer_troops = yes
						}
					}
					60 = {
						modifier = {
							factor = 0
							power_balance_value = {
								id = ROM_great_game_bop
								value < -0.34
							}
						}
						modifier = {
							factor = 0.6
							power_balance_value = {
								id = ROM_great_game_bop
								value < -0.01
							}
						}
						custom_effect_tooltip = ROM_subject_refuses
						hidden_effect = {
							ROOT = {
								end_puppet = FROM
								add_opinion_modifier = {
									target = FROM
									modifier = BOTDE_AUS_unrecognized
								}
							}
						}
						
					}
				}
			}
			
			
		}
	}
}