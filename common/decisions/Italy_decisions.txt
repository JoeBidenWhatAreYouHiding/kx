
political_actions = {

	SRI_begin_the_cultural_revolution = {# Begin the Cultural Revolution
		icon = generic_political_discourse
		allowed = { original_tag = SRI }
		available = {
			has_country_flag = SRI_italy_unified_flag
		}
		visible = {
			has_completed_focus = SRI_cement_chairmans_power
			has_socialist_government = yes
		}
		fire_only_once = yes
		cost = 80
		ai_will_do = { factor = 70 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_begin_the_cultural_revolution"
			SRI = {	country_event = socitaly.111 }
		}
	}
	
	SRD_pack_the_courts = {# Pack the Courts
		icon = generic_political_discourse
		allowed = { always = no }
		fire_only_once = yes
		cost = 50
		ai_will_do = { factor = 100 }
		days_remove = 30
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRD_pack_the_courts"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRD_pack_the_courts"
			SRD = {
				SRD_weaken_opposition_effect = yes
			}
		}
	}

	SRD_request_french_help = {# Request French Help
		icon = generic_political_discourse
		allowed = { always = no }
		fire_only_once = yes
		cost = 80
		ai_will_do = { factor = 100 }
		days_remove = 30
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRD_request_french_help"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRD_request_french_help"
			SRD = {
				SRD_weaken_opposition_effect = yes
			}
		}
	}

	SRD_enable_internal_exiles = {# Expand Internal Exiling Procedures
		icon = generic_political_discourse
		allowed = { always = no }
		fire_only_once = yes
		cost = 50
		ai_will_do = { factor = 100 }
		days_remove = 30
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRD_enable_internal_exiles"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRD_enable_internal_exiles"
			SRD = {
				SRD_weaken_opposition_effect = yes
			}
		}
	}

	SRD_terminate_rival_cliques = {# Terminate Rival Cliques
		icon = generic_political_discourse
		allowed = { always = no }
		fire_only_once = yes
		custom_cost_trigger = {
			command_power > 20
			has_manpower > 1000
		}
		custom_cost_text = SWI_1000_manpower_20_cp
		ai_will_do = { factor = 100 }
		days_remove = 30
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRD_terminate_rival_cliques"
			hidden_effect = {
				add_command_power = -20
				add_manpower = -1000
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRD_terminate_rival_cliques"
			SRD = {
				SRD_weaken_opposition_effect = yes
			}
		}
	}
	
	ITA_reform_papal_law = {
		icon = GFX_decision_papacy
		allowed = { tag = ITA }
		available = {
			tag = ITA
			date > 1936.8.2
			NOT = {
				custom_trigger_tooltip = {
					tooltip = ITA_not_republic
					has_cosmetic_tag = ITA_republic
				}
				custom_trigger_tooltip = {
					tooltip = ITA_not_kingdom
					has_cosmetic_tag = ITA_kingdom
				}
			}
		}
		visible = {
			tag = ITA
			OR = {
				has_country_leader = {
					name = "Stephen X"
					ruling_only = yes
				}
				has_country_leader = {
					name = "John XXIII"
					ruling_only = yes
				}
			}
			OR = {
				has_completed_focus = ITA_Approach_Nobility
				has_completed_focus = ITA_Reconciliation
			}
		}

		cost = 100
		fire_only_once = yes

		ai_will_do = {
			factor = 90
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_reform_papal_law"
			add_stability = -0.10
			if = {
				limit = { 
					has_country_leader = {
						name = "Stephen X"
						ruling_only = yes
					}
				}
				create_country_leader = {
					name = "Stephen X"
					picture = "gfx/leaders/PAP/Portrait_Papal_State_Stephen.png"
					desc = "POLITICS_STEPHEN_X_DESC"
					expire = "1965.1.1"
					ideology = social_conservative_subtype
					traits = { ITA_the_mfing_pope} 
				}
				set_party_name = { 
					ideology = social_conservative 
					long_name = ITA_holy_see_party_long
					name = ITA_holy_see_party
				}
				remove_all_ministers = yes
				hidden_effect = {
					add_ideas = {
						PAP_Salvatore_Rebecchini_hog_sco
						PAP_Pietro_Quaroni_for_sco
						PAP_Mario_Cingolani_eco_sco
						PAP_Luigi_Meda_sec_sco
					}
				}
				if = {
					limit = { NOT = { has_government = social_conservative } }
					set_politics = { ruling_party = social_conservative }
				}
				add_popularity = { ideology = social_conservative popularity = 0.2 }
			}
			if = {
				limit = { 
					has_country_leader = {
						name = "John XXIII"
						ruling_only = yes
					}
				}
				create_country_leader = {
					name = "John XXIII"
					picture = "gfx/leaders/PAP/Portrait_Papal_State_John.png"
					desc = "POLITICS_JOHN_XXIII_DESC"
					expire = "1965.1.1"
					ideology = social_democrat_subtype
					traits = { ITA_the_mfing_pope} 
				}
				set_party_name = { 
					ideology = social_democrat
					long_name = ITA_holy_see_party_long
					name = ITA_holy_see_party
				}
				remove_all_ministers = yes
				hidden_effect = {
					add_ideas = {
						PAP_Romolo_Murri_hog_sde
						PAP_Sergio_Fenoaltea_for_sde
						PAP_Domenico_Marzi_eco_sde
						PAP_Alberto_Cianca_sec_sde
					}
				}
				set_politics = { ruling_party = social_democrat }
				add_popularity = { ideology = social_democrat popularity = 0.3 }
			}
		}
	}
	ITA_reform_papal_law2 = {
		icon = GFX_decision_papacy
		allowed = { tag = ITA }
		available = {
			tag = ITA
		#	date > 1936.8.2
			NOT = {
				custom_trigger_tooltip = {
					tooltip = ITA_not_republic
					has_cosmetic_tag = ITA_republic
				}
				custom_trigger_tooltip = {
					tooltip = ITA_not_kingdom
					has_cosmetic_tag = ITA_kingdom
				}
				has_country_flag = ITA_no_reform
			}
		}
		visible = {
			tag = ITA
			has_country_leader = {
				name = "Pius XII"
				ruling_only = yes
			}
			NOT = {
				has_country_flag = ITA_no_reform
			}
		}

		cost = 100
		fire_only_once = yes

		ai_will_do = {
			factor = 90
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_reform_papal_law2"
			add_stability = -0.10
			set_country_flag = ITA_reform_pope
			if = {
				limit = { 
					has_country_leader = {
						name = "Pius XII"
						ruling_only = yes
					}
				}
				set_politics = { ruling_party = authoritarian_democrat }
				add_popularity = { ideology = authoritarian_democrat popularity = 0.3 }
				create_country_leader = {
					name = "Pius XII"
					picture = "gfx/leaders/PAP/Portrait_Papal_State_PiusXII.png"
					desc = "POLITICS_PIUS_XII_DESC"
					expire = "1965.1.1"
					ideology = authoritarian_democrat_subtype
					traits = { ITA_the_mfing_pope} 
				}
			}
		}
	}	
	ITA_extend_papal_power = {
		icon = GFX_decision_papacy2
		allowed = { tag = ITA }
		available = {
			tag = ITA
			#date > 1936.8.2
			NOT = {
				custom_trigger_tooltip = {
					tooltip = ITA_not_republic
					has_cosmetic_tag = ITA_republic
				}
				custom_trigger_tooltip = {
					tooltip = ITA_not_kingdom
					has_cosmetic_tag = ITA_kingdom
				}
				has_country_flag = ITA_reform_pope
			}
		}
		visible = {
			tag = ITA
			has_country_leader = {
				name = "Pius XII"
				ruling_only = yes
			}
			NOT = {
				has_country_flag = ITA_reform_pope
			}
		}

		cost = 100
		fire_only_once = yes

		ai_will_do = {
			factor = 90
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_extend_papal_power"
			add_stability = 0.10
			custom_effect_tooltip = ITA_pope_power_tooltip
			set_country_flag = ITA_no_reform
		}
	}
	
	SRI_neosanfedisti_into_the_world = {# Activate Neosanfedisti Diplomacy
		icon = generic_political_discourse
		allowed = { original_tag = SIC }
		available = {
			is_subject = no
			is_in_faction = no
			has_government = paternal_autocrat
		}
		visible = {
			has_completed_focus = SIC_Holy_Italia
			has_government = paternal_autocrat
		}
		fire_only_once = yes
		cost = 80
		ai_will_do = { factor = 70 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_neosanfedisti_into_the_world"
			country_event = itaforpol.2
		}
	}
}

economy_decisions = {
	SRI_civ_in_piedmont = {
		icon = generic_industry
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 117 } }
		available = {
			ROOT = {
				controls_state = 117
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			OR = {
				has_completed_focus = SRI_industry_program
				has_completed_focus = SRI_militerized_economy
			}
			owns_state = 117
		}
		fire_only_once = yes
		cost = 0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_civ_in_piedmont"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_civ_in_piedmont"
			117 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_civ_in_liguria = {
		icon = generic_industry
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 742 } }
		available = {
			ROOT = {
				controls_state = 742
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			OR = {
				has_completed_focus = SRI_industry_program
				has_completed_focus = SRI_militerized_economy
			}
			owns_state = 742
		}
		fire_only_once = yes
		cost = 0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_civ_in_liguria"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_civ_in_liguria"
			742 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_civ_in_tuscany = {
		icon = generic_industry
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 115 } }
		available = {
			ROOT = {
				controls_state = 115
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			OR = {
				has_completed_focus = SRI_industry_program
				AND = {
					has_completed_focus = SRI_militerized_economy
					has_completed_focus = SRI_focus_on_civilian
				}
			}
			owns_state = 115
		}
		fire_only_once = yes
		cost = 0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_civ_in_tuscany"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_civ_in_tuscany"
			115 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_piedmont = {
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 837 } }
		available = {
			ROOT = {
				controls_state = 837
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			OR = {
				has_completed_focus = SRI_industry_program
				has_completed_focus = SRI_militerized_economy
			}
			owns_state = 837
		}
		fire_only_once = yes
		cost = 0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_piedmont"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_piedmont"
			837 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_romagna = {
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 156 } }
		available = {
			ROOT = {
				controls_state = 156
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			OR = {
				has_completed_focus = SRI_industry_program
				has_completed_focus = SRI_militerized_economy
			}
			owns_state = 156
		}
		fire_only_once = yes
		cost = 0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_romagna"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_romagna"
			156 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_emilia = {
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 117 } }
		available = {
			ROOT = {
				controls_state = 117
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_militerized_economy
			owns_state = 117
		}
		fire_only_once = yes
		cost = 0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_emilia"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_emilia"
			117 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_umbria = {
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 115 } }
		available = {
			ROOT = {
				controls_state = 115
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_militerized_economy
			has_completed_focus = SRI_focus_on_military
			owns_state = 115
		}
		fire_only_once = yes
		cost = 0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_umbria"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_umbria"
			115 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_synth_in_liguria = {
		icon = oil
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 742 } }
		available = {
			ROOT = {
				has_tech = synth_oil_experiments
				controls_state = 742
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_synethetic_research
			owns_state = 742
		}
		fire_only_once = yes
		cost = 100
		days_remove = 60
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_synth_in_liguria"
			set_country_flag = { flag = SRI_building_industry days = 60 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_synth_in_liguria"
			742 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_fuel_in_piedmont = {
		icon = oil
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 156 } }
		available = {
			ROOT = {
				controls_state = 156
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_synethetic_research
			owns_state = 156
		}
		fire_only_once = yes
		cost = 50
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_fuel_in_piedmont"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_fuel_in_piedmont"
			156 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_radar_in_liguria = {
		icon = GFX_decision_radar
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 115 } }
		available = {
			ROOT = {
				has_tech = radio_detection
				controls_state = 115
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_support_uri
			owns_state = 115
		}
		fire_only_once = yes
		cost = 25
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_radar_in_liguria"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_radar_in_liguria"
			115 = {
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_radar_in_ancona = {
		icon = GFX_decision_radar
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 117 } }
		available = {
			ROOT = {
				has_tech = radio_detection
				controls_state = 117
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_support_uri
			owns_state = 117
		}
		fire_only_once = yes
		cost = 25
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_radar_in_ancona"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_radar_in_ancona"
			117 = {
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_emilia2 = {
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 117 } }
		available = {
			ROOT = {
				controls_state = 117
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_military_build_up
			owns_state = 117
		}
		fire_only_once = yes
		cost = 50
		days_remove = 60
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_emilia2"
			set_country_flag = { flag = SRI_building_industry days = 60 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_emilia2"
			117 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_marches2 = {
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 115 } }
		available = {
			ROOT = {
				controls_state = 115
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_military_build_up
			owns_state = 115
		}
		fire_only_once = yes
		cost = 50
		days_remove = 60
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_marches2"
			set_country_flag = { flag = SRI_building_industry days = 60 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_marches2"
			115 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	SRI_north_civ_in_piedmont = {
		name = SRI_civ_in_piedmont
		icon = generic_industry
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 158 } }
		available = { 
			SRI_is_north = yes
			ROOT = {
				controls_state = 158
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			OR = {
				has_completed_focus = SRI_industry_program
				has_completed_focus = SRI_militerized_economy
			}
			owns_state = 158
		}
		fire_only_once = yes
		cost = 0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_civ_in_piedmont"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_civ_in_piedmont"
			158 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_north_civ_in_liguria = {
		name = SRI_civ_in_liguria
		icon = generic_industry
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 838 } }
		available = { 
			SRI_is_north = yes
			ROOT = {
				controls_state = 838
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			OR = {
				has_completed_focus = SRI_industry_program
				has_completed_focus = SRI_militerized_economy
			}
			owns_state = 838
		}
		fire_only_once = yes
		cost = 0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_civ_in_liguria"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_civ_in_liguria"
			838 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_north_civ_in_tuscany = {
		name = SRI_civ_in_tuscany
		icon = generic_industry
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 162 } }
		available = { 
			SRI_is_north = yes
			ROOT = {
				controls_state = 162
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			OR = {
				has_completed_focus = SRI_industry_program
				AND = {
					has_completed_focus = SRI_militerized_economy
					has_completed_focus = SRI_focus_on_civilian
				}
			}
			owns_state = 162
		}
		fire_only_once = yes
		cost = 0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_civ_in_tuscany"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_civ_in_tuscany"
			162 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_north_mil_in_piedmont = {
		name = SRI_mil_in_piedmont
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 158 } }
		available = { 
			SRI_is_north = yes
			ROOT = {
				controls_state = 158
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			OR = {
				has_completed_focus = SRI_industry_program
				has_completed_focus = SRI_militerized_economy
			}
			owns_state = 158
		}
		fire_only_once = yes
		cost = 0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_piedmont"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_piedmont"
			158 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_north_mil_in_romagna = {
		name = SRI_mil_in_romagna
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 161 } }
		available = { 
			SRI_is_north = yes
			ROOT = {
				controls_state = 161
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			OR = {
				has_completed_focus = SRI_industry_program
				has_completed_focus = SRI_militerized_economy
			}
			owns_state = 161
		}
		fire_only_once = yes
		cost = 0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_romagna"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_romagna"
			161 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_north_mil_in_emilia = {
		name = SRI_mil_in_emilia
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 1004 } }
		available = { 
			SRI_is_north = yes
			ROOT = {
				controls_state = 1004
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_militerized_economy
			owns_state = 1004
		}
		fire_only_once = yes
		cost = 0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_emilia"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_emilia"
			1004 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_north_mil_in_umbria = {
		name = SRI_mil_in_umbria
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 1005 } }
		available = { 
			SRI_is_north = yes
			ROOT = {
				controls_state = 1005
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_militerized_economy
			has_completed_focus = SRI_focus_on_military
			owns_state = 1005
		}
		fire_only_once = yes
		cost = 0
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_umbria"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_umbria"
			1005 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_north_synth_in_liguria = {
		name = SRI_synth_in_liguria
		icon = oil
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 838 } }
		available = { 
			SRI_is_north = yes
			ROOT = {
				has_tech = synth_oil_experiments
				controls_state = 838
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_synethetic_research
			owns_state = 838
		}
		fire_only_once = yes
		cost = 100
		days_remove = 60
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_synth_in_liguria"
			set_country_flag = { flag = SRI_building_industry days = 60 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_synth_in_liguria"
			838 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_north_fuel_in_piedmont = {
		name = SRI_fuel_in_piedmont
		icon = oil
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 158 } }
		available = { 
			SRI_is_north = yes
			ROOT = {
				controls_state = 158
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_synethetic_research
			owns_state = 158
		}
		fire_only_once = yes
		cost = 50
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_fuel_in_piedmont"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_fuel_in_piedmont"
			158 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_north_radar_in_liguria = {
		name = SRI_radar_in_liguria
		icon = GFX_decision_radar
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 838 } }
		available = { 
			SRI_is_north = yes
			ROOT = {
				has_tech = radio_detection
				controls_state = 838
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_support_uri
			owns_state = 838
		}
		fire_only_once = yes
		cost = 25
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_radar_in_liguria"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_radar_in_liguria"
			838 = {
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_north_radar_in_ancona = {
		name = SRI_radar_in_ancona
		icon = GFX_decision_radar
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 157 } }
		available = { 
			SRI_is_north = yes
			ROOT = {
				has_tech = radio_detection
				controls_state = 157
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_support_uri
			owns_state = 157
		}
		fire_only_once = yes
		cost = 25
		days_remove = 30
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_radar_in_ancona"
			set_country_flag = { flag = SRI_building_industry days = 30 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_radar_in_ancona"
			157 = {
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_north_mil_in_emilia2 = {
		name = SRI_mil_in_emilia2
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 1004 } }
		available = { 
			SRI_is_north = yes
			ROOT = {
				controls_state = 1004
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_military_build_up
			owns_state = 1004
		}
		fire_only_once = yes
		cost = 50
		days_remove = 60
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_emilia2"
			set_country_flag = { flag = SRI_building_industry days = 60 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_emilia2"
			1004 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	SRI_north_mil_in_marches2 = {
		name = SRI_mil_in_marches2
		icon = ger_military_buildup
		allowed = { tag = SRI }
		highlight_states = { highlight_state_targets = { state = 157 } }
		available = { 
			SRI_is_north = yes
			ROOT = {
				controls_state = 157
				custom_trigger_tooltip = {
					tooltip = SRI_currently_building_industry
					NOT = { has_country_flag = { flag = SRI_building_industry value > 0 } }
				}
			}
		}
		visible = {
			has_completed_focus = SRI_military_build_up
			owns_state = 157
		}
		fire_only_once = yes
		cost = 50
		days_remove = 60
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_mil_in_marches2"
			set_country_flag = { flag = SRI_building_industry days = 60 value = 1 }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_marches2"
			157 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
}

ITA_foreign_policy = {# Foreign Policy Stuff
	SRI_join_the_intl = {
		icon = generic_political_discourse

		available = {
			OR = {
				has_global_flag = second_weltkrieg_has_started
				custom_trigger_tooltip = {
					tooltip = SRI_balance_broken
					NOT = { has_global_flag = KR_italy_balance }
				}
			}
			if = {
				limit = { FROM = { has_war = yes } }
				FROM = {
					NOT = { has_capitulated = yes }
				}
			}
		}

		visible = {
			is_in_faction = no
			has_socialist_government = yes
			NOT = { has_country_flag = SRI_refused_intl_membership }
			FROM = {
				exists = yes
				has_socialist_government = yes
				is_faction_leader = yes
			}
		}

		targets = { INT }
		target_root_trigger = { is_in_faction = no }
		target_trigger = {
			FROM = {
				has_socialist_government = yes
				is_faction_leader = yes
			}
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				NOT = { country_exists = FRA }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_join_the_intl"
			clr_global_flag = KR_italy_balance
			FROM = { country_event = comfrance.169 }
		}
	}

	ITA_call_for_help = {
		icon = generic_agreement
		allowed = {
			OR = {
				tag = ITA
				tag = LOM
				tag = VNC
			}
		}

		available = {
			FROM = { has_war = no }
			if = {
				limit = { has_country_flag = attacked_SRI_first }
				ROOT = { surrender_progress > 0.30 }
			}
		}

		visible = {
			is_subject = no
			is_in_faction = no
			NOT = { has_government = national_populist }
			if = {
				limit = { tag = VNC }
				SRI = {
					NOT = { has_war_with = LOM }
				}
			}
			FROM = {
				exists = yes
				is_subject = no
				is_in_faction = no
				NOT = { has_war_with = ROOT }
			}
		}


		target_root_trigger = {
			has_war_with = SRI
		}

		targets = { SIC }

		target_trigger = {
			FROM = {
				exists = yes
				is_subject = no
				is_in_faction = no
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = no
		days_re_enable = 365
		cost = 0

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_call_for_help target: [From.GetName]"
			FROM = {
				country_event = { id = sic.104 days = 1 }
			}
		}
	}

	SIC_call_for_help = {
		icon = generic_agreement
		allowed = { tag = SIC }

		available = {
			FROM = { has_war = no }
			if = {
				limit = { has_country_flag = attacked_SRI_first }
				ROOT = { surrender_progress > 0.30 }
			}
		}

		visible = {
			is_subject = no
			is_in_faction = no
			NOT = {
				AND = {
					SRI = { has_country_flag = PAP_neosanfedisti_discovered }
					has_game_rule = {
						rule = SRI_neosanfedisti_terror
						option = SRI_NEOSANFEDISTI_TERROR_WAR_NO_ITA
					}
				}
			}
			FROM = {
				exists = yes
				is_subject = no
				is_in_faction = no
				NOT = { has_government = national_populist }
				NOT = { has_war_with = ROOT }
			}
		}

		target_root_trigger = {
			has_war_with = SRI
		}

		targets = { ITA }

		target_trigger = {
			FROM = {
				exists = yes
				is_subject = no
				is_in_faction = no
				NOT = { has_government = national_populist }
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = no
		days_re_enable = 365
		cost = 0

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SIC_call_for_help target: [From.GetName]"
			FROM = {
				country_event = { id = sic.104 days = 1 }
			}
		}
	}
	
	SIC_join_austria = {
		icon = generic_nationalism

		allowed = { tag = SIC }

		available = {
			OR = {
				has_global_flag = second_weltkrieg_has_started
				custom_trigger_tooltip = {
					tooltip = SRI_balance_broken
					OR = {
						has_war_with = SRI
						NOT = { country_exists = SRI }
						NOT = { has_global_flag = KR_italy_balance }
					}
				}
			}
			at_peace_or_same_enemies_as_FROM = yes
			OR = {
				FROM = { is_faction_leader = yes }
				GER = {
					is_faction_leader = yes
					is_in_faction_with = FROM #wartime merge
				}
			}
		}

		visible = {
			is_in_faction = no
			is_subject = no
			has_socialist_government = no
			FROM = {
				is_subject = no
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
				OR = {
					is_faction_leader = yes
					AND = {
						is_in_faction_with = GER
						has_country_flag = AUS_intervened_in_weltkrieg
					}
				}
			}
			NOT = {
			OR = {
			has_completed_focus = SIC_ride_the_tiger
			has_completed_focus = SIC_mafia_takeover
			has_completed_focus = SIC_NeoSanfedisti_coup
			}
			has_country_flag = { flag = SIC_considering_faction value > 0 }
			}
		}

		target_root_trigger = {
			is_in_faction = no
		}

		targets = { AUS }

		target_trigger = {
			FROM = {
				is_subject = no
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SIC_join_austria target: [From.GetName]"
			set_country_flag = { flag = SIC_considering_faction days = 2 value = 1 }
			FROM = { country_event = sic.37 }
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				has_country_flag = { flag = ITA_recent_peace days < 30 }
			}
			modifier = {
				factor = 0
				has_global_flag = { flag = second_weltkrieg_has_started days < 30 }
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
			}
			modifier = {
				factor = 0
				NOT = {
					date > 1938.1.1
					has_war_with = SRI
				}
			}
			modifier = {
				factor = 0
				country_exists = SRI
				FROM = {
					is_in_faction_with = ITA
					NOT = { has_war_with = SRI }
				}
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_AUSTRIA } }
			}
			modifier = {
				factor = 0
				country_exists = SRI
				FROM = {
					has_war = yes
					NOT = { has_war_with = SRI }
				}
			}
			modifier = {
				factor = 0
				country_exists = SRI
				FROM = {
					NOT = { has_war_with = SRI }
					ITA = {
						exists = yes
						is_subject = no
						NOT = { has_government = national_populist }
					}
				}
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_AUSTRIA } }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_REICHSPAKT }
					has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_ENTENTE }
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_in_faction_with = ITA
					has_war_with = SRI
				}
				OR = {
					GER = {
						is_faction_leader = yes
						surrender_progress < 0.10
						has_war_with = SRI
					}
					ENT = {
						is_faction_leader = yes
						surrender_progress < 0.10
						has_war_with = SRI
					}
				}
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_AUSTRIA } }
			}
			modifier = {
				factor = 2
				FROM = { has_war_with = SRI }
			}
			modifier = {
				factor = 1.5
				FROM = { has_country_flag = sicilian_reengage }
			}
			modifier = {
				factor = 0.2
				FROM = { has_country_flag = sicilian_disengage }
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_AUSTRIA } }
			}
			modifier = {
				factor = 0.1
				has_government = national_populist
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_AUSTRIA } }
			}
		}
	}

	SIC_join_entente = {
		icon = generic_nationalism

		allowed = { tag = SIC }

		available = {
			OR = {
				has_global_flag = second_weltkrieg_has_started
				custom_trigger_tooltip = {
					tooltip = SRI_balance_broken
					OR = {
						has_war_with = SRI
						NOT = { country_exists = SRI }
						NOT = { has_global_flag = KR_italy_balance }
					}
				}
			}
			at_peace_or_same_enemies_as_FROM = yes
		}

		visible = {
			is_in_faction = no
			is_subject = no
			has_socialist_government = no
			FROM = {
				is_faction_leader = yes
				is_in_faction_with = NFA
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
			NOT = {
			OR = {
			has_completed_focus = SIC_ride_the_tiger
			has_completed_focus = SIC_mafia_takeover
			has_completed_focus = SIC_NeoSanfedisti_coup
			}
			has_country_flag = { flag = SIC_considering_faction value > 0 }
			}
		}

		target_root_trigger = {
			is_in_faction = no
		}

		targets = { ENT }

		target_trigger = {
			FROM = {
				is_faction_leader = yes
				is_in_faction_with = NFA
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SIC_join_entente target: [From.GetName]"
			set_country_flag = { flag = SIC_considering_faction days = 6 value = 1 }
			FROM = { country_event = sic.31 }
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				has_country_flag = { flag = ITA_recent_peace days < 30 }
			}
			modifier = {
				factor = 0
				has_global_flag = { flag = second_weltkrieg_has_started days < 30 }
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
			}
			modifier = {
				factor = 0
				NOT = {
					date > 1938.1.1
					has_war_with = SRI
				}
			}
			modifier = {
				factor = 0
				country_exists = SRI
				FROM = {
					has_war = yes
					NOT = { has_war_with = SRI }
				}
			}
			modifier = {
				factor = 0
				country_exists = SRI
				FROM = {
					NOT = { has_war_with = SRI }
					ITA = {
						exists = yes
						is_subject = no
						NOT = { has_government = national_populist }
					}
				}
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_ENTENTE } }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_AUSTRIA }
					has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_REICHSPAKT }
				}
			}
			modifier = {
				factor = 2
				FROM = { has_war_with = SRI }
			}
			modifier = {
				factor = 0.75
				FROM = { has_war_with = SRI }
				GER = {
					is_faction_leader = yes
					surrender_progress < 0.10
					has_war_with = SRI
				}
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_ENTENTE } }
			}
			modifier = {
				factor = 0.5
				NOT = { has_government = national_populist }
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_ENTENTE } }
			}
		}
	}

	SIC_join_reichspakt = {
		icon = generic_nationalism

		allowed = { tag = SIC }

		available = {
			OR = {
				has_global_flag = second_weltkrieg_has_started
				custom_trigger_tooltip = {
					tooltip = SRI_balance_broken
					OR = {
						has_war_with = SRI
						NOT = { country_exists = SRI }
						NOT = { has_global_flag = KR_italy_balance }
					}
				}
			}
			at_peace_or_same_enemies_as_FROM = yes
		}

		visible = {
			is_in_faction = no
			is_subject = no
			has_socialist_government = no
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
			NOT = {
			OR = {
			has_completed_focus = SIC_ride_the_tiger
			has_completed_focus = SIC_mafia_takeover
			has_completed_focus = SIC_NeoSanfedisti_coup
			}
			has_country_flag = { flag = SIC_considering_faction value > 0 }
			}
		}

		target_root_trigger = {
			is_in_faction = no
		}

		targets = { GER }

		target_trigger = {
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SIC_join_reichspakt target: [From.GetName]"
			set_country_flag = { flag = SIC_considering_faction days = 6 value = 1 }
			FROM = { country_event = sic.34 }
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				has_country_flag = { flag = ITA_recent_peace days < 30 }
			}
			modifier = {
				factor = 0
				has_global_flag = { flag = second_weltkrieg_has_started days < 30 }
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
			}
			modifier = {
				factor = 0
				NOT = {
					date > 1938.1.1
					has_war_with = SRI
				}
			}
			modifier = {
				factor = 0
				country_exists = SRI
				FROM = {
					has_war = yes
					NOT = { has_war_with = SRI }
				}
			}
			modifier = {
				factor = 0
				country_exists = SRI
				FROM = {
					NOT = { has_war_with = SRI }
					ITA = {
						exists = yes
						is_subject = no
						NOT = { has_government = national_populist }
					}
				}
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_REICHSPAKT } }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_AUSTRIA }
					has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_ENTENTE }
				}
			}
			modifier = {
				factor = 2
				FROM = { has_war_with = SRI }
			}
			modifier = {
				factor = 0.1
				has_government = national_populist
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_REICHSPAKT } }
			}
		}
	}

	ITA_attack_austria = {
		icon = generic_prepare_civil_war
		allowed = { tag = ITA }

		available = {
			ROOT = {
				is_subject = no
				NOT = { has_idea = ITA_foreign_industry_AUS }
				NOT = { has_idea = ITA_austrian_influence }
				if = {
					limit = {
						owns_state = 160
						has_country_flag = ITA_venice_will_rebel
					}
					custom_trigger_tooltip = {
						tooltip = ITA_venetian_dissent_eliminated
						NOT = { has_country_flag = ITA_venice_will_rebel }
					}
				}
				else_if = {
					limit = { has_country_flag = ITA_venice_will_rebel }
					owns_state = 160
				}
				controls_all_owned_states = yes
				if = {
					limit = {
						NOT = { has_government = national_populist }
					}
					OR = {
						is_in_faction = no
						is_faction_leader = yes
					}
				}
			}
			can_declare_war_on = AUS
		}

		visible = {
			OR = {
				has_cosmetic_tag = ITA_republic
				has_government = national_populist
				783 = { is_claimed_by = ROOT }
				736 = { is_claimed_by = ROOT }
			}
			AUS = {
				exists = yes
				NOT = { has_war_with = ROOT }
				owns_state = 783
				owns_state = 736
			}
		}

		fire_only_once = yes
		cost = 0
		days_remove = 20
		war_with_on_remove = AUS
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				AUS = { is_in_faction_with = GER }
			}
			modifier = {
				factor = 0
				AUS = {
					is_subject = no
					is_faction_leader = yes
					surrender_progress < 0.10
					NOT = {
						has_war_with = GER
						has_war_with = RUS
						has_war_with = HUN
						has_war_with = SER
						has_war_with = ROM
						has_war_with = POL
					}
				}
				NOT = {
					strength_ratio = { tag = AUS ratio > 1.2 }
					SER = { has_country_flag = waiting_to_attack_austria }
					ROM = { has_country_flag = waiting_to_attack_austria }
					POL = { has_country_flag = waiting_to_attack_austria }
				}
			}
			modifier = {
				factor = 0
				FROM = {
					set_temp_variable = { strength = num_divisions }
					clamp_temp_variable = { var = strength min = 1 }
					if = {
						limit = { HUN = { is_ally_with = FROM } }
						add_to_temp_variable = { strength = HUN.num_divisions }
					}
					if = {
						limit = { CZE = { is_ally_with = FROM } }
						add_to_temp_variable = { strength = CZE.num_divisions }
					}
					if = {
						limit = { GAL = { is_ally_with = FROM } }
						add_to_temp_variable = { strength = GAL.num_divisions }
					}
					if = {
						limit = { CRO = { is_ally_with = FROM } }
						add_to_temp_variable = { strength = CRO.num_divisions }
					}
					set_temp_variable = { my_strength = ROOT.num_divisions }
					clamp_temp_variable = { var = my_strength min = 1 }
					divide_temp_variable = { strength = my_strength }
					check_variable = { strength > 0.9 }
					NOT = {
						surrender_progress > 0.10
						HUN = {
							is_ally_with = PREV
							surrender_progress > 0.30
						}
						has_war_with = RUS
						has_war_with = POL
						has_war_with = CZE
					}
				}
			}
			modifier = {
				factor = 5
				OR = {
					AUS = { has_war_with = HUN }
					SER = { has_country_flag = waiting_to_attack_austria }
					ROM = { has_country_flag = waiting_to_attack_austria }
					POL = { has_country_flag = waiting_to_attack_austria }
				}
			}
			modifier = {
				factor = 10
				has_country_flag = waiting_to_attack_austria
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_attack_austria"
			add_war_support = 0.10
			if = {
				limit = { gives_military_access_to = AUS }
				AUS = {
					diplomatic_relation = {
						country = ITA
						relation = military_access
						active = no
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ITA_attack_austria"
			declare_war_on = {
				target = AUS
				type = annex_everything
			}
			if = {	
				limit = { country_exists = VNC }
				declare_war_on = {
					target = VNC
					type = annex_everything
				}
			}
		}
	}

	ITA_war_with_venice1 = {
		icon = generic_prepare_civil_war
		allowed = { tag = ITA }

		highlight_states = { highlight_state_targets = { state = 160 } }

		available = {
			160 = { is_owned_and_controlled_by = ITA }
		}

		activation = {
			has_war_with = VNC
			has_government = national_populist
			has_country_flag = ITA_venice_will_rebel
			is_subject = no
			is_in_faction = no
		}

		selectable_mission = yes
		fire_only_once = yes
		is_good = no
		cost = 0
		days_mission_timeout = 120

		cancel_trigger = {
			NOT = { has_war_with = VNC }
			NOT = { controls_state = 160 }
		}

		ai_will_do = {
			factor = 200
		}

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout ITA_war_with_venice1"
			set_country_flag = ITA_venice_war_timeout
			if = {
				limit = {
					AUS = {
						exists = yes
						is_subject = no
						has_socialist_government = no
						NOT = { has_war_with = ITA }
					}
				}
				AUS = { country_event = italianrepublic.30 }
			}
			else_if = {
				limit = {
					SRI = {
						exists = yes
						is_subject = no
						has_socialist_government = yes
						NOT = { has_war_with = ITA }
					}
				}
				SRI = { country_event = italianrepublic.33 }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_war_with_venice1"
			VNC = { clr_country_flag = VNC_republican_revolt }
			clr_country_flag = ITA_venice_will_rebel
			add_stability = 0.10
			add_political_power = 100
		}
	}

	ITA_war_with_venice2 = {
		icon = generic_prepare_civil_war
		allowed = { tag = ITA }

		highlight_states = { highlight_state_targets = { state = 160 } }

		available = {
			160 = { is_owned_and_controlled_by = ITA }
		}

		activation = {
			has_war_with = VNC
			has_government = national_populist
			has_country_flag = ITA_venice_will_rebel
			has_country_flag = ITA_venice_war_timeout
			is_subject = no
			is_in_faction = no
		}

		selectable_mission = yes
		fire_only_once = yes
		is_good = no
		cost = 0
		days_mission_timeout = 240

		cancel_trigger = {
			NOT = { has_war_with = VNC }
			NOT = { controls_state = 160 }
		}

		ai_will_do = {
			factor = 200
		}

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout ITA_war_with_venice2"
			country_event = italianrepublic.40
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_war_with_venice2"
			VNC = { clr_country_flag = VNC_republican_revolt }
			clr_country_flag = ITA_venice_will_rebel
			clr_country_flag = ITA_venice_war_timeout
			add_stability = 0.10
			add_political_power = 100
		}
	}

	ITA_join_belgrade_pact = {
		icon = generic_political_discourse

		allowed = { tag = ITA }

		available = {
			OR = {
				NOT = { country_exists = SRI }
				has_global_flag = second_weltkrieg_has_started
				ROOT = { has_war_with = AUS }
			}
			ROOT = {
				OR = {
					has_war = no
					custom_trigger_tooltip = {
						tooltip = USA_same_wars_as_FROM
						has_war = yes
						any_enemy_country = { has_war_with = FROM }
					}
				}
			}
			FROM = {
				OR = {
					has_war = no
					has_capitulated = no
				}
			}
		}

		visible = {
			is_in_faction = no
			is_subject = no
			has_global_flag = balkan_war_ended
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
			AUS = {
				any_owned_state = {
					is_claim_or_core_of_ROOT = yes
				}
			}
		}

		target_root_trigger = {
			has_government = national_populist
		}

		targets = { SER }

		target_trigger = {
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_join_belgrade_pact target: [From.GetName]"
			FROM = {
				country_event = sic.37
			}
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
			}
			modifier = {
				factor = 5
				FROM = { has_war_with = AUS }
			}
		}
	}

	SRI_Join_Phalanstere = {
		icon = generic_research
		allowed = { original_tag = SRI }
		available = {
			NOT = { is_in_tech_sharing_group = phalanstere_research }
		}
		visible = {
			has_global_flag = FRA_created_phalanstere
		}
		fire_only_once = yes
		cost = 0
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_Join_Phalanstere"
			add_to_tech_sharing_group = phalanstere_research
		}
		ai_will_do = {
			factor = 5
		}
	}

	SRI_Assist_Damocles_Project = {
		icon = generic_research
		allowed = { original_tag = SRI }
		available = { has_country_flag = SRI_pisa_pile_1 }
		visible = {
			ENG = { has_completed_focus = ENG_westminster_project }
			has_socialist_government = yes
			is_in_faction_with = ENG
		}
		fire_only_once = yes
		cost = 50
		days_remove = 150
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_Assist_Damocles_Project"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_Assist_Damocles_Project"
			add_tech_bonus = {
				name = SRI_Assist_Damocles_Project
				bonus = 1
				uses = 1
				category = nuclear
			}
		}
		ai_will_do = {
			factor = 1
		}
	}

	PAP_declare_independence_from_SIC = {
		icon = generic_prepare_civil_war
		allowed = { tag = PAP }
		available = {
			PAP = {
				OR = {
					has_completed_focus = PAP_legionary_spirit
					has_completed_focus = PAP_palatine_guard
				}
				NOT = { has_country_flag = PAP_black_monday }
				controls_all_owned_states = yes
			}
		}
		visible = {
			is_subject_of = SIC
		}

		cost = 100
		fire_only_once = yes

		ai_will_do = {
			factor = 0
			modifier = {
				add = 10
				has_country_flag = PAP_permission_denied_neosanfedisti
				has_war = no
				has_army_manpower = { size > 75000 }
				NOT = {
					country_exists = SRI
					SIC = { has_country_flag = SIC_confed }
					SRD = { has_country_flag = SIC_confed }
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision PAP_declare_independence_from_SIC"
			add_stability = -0.10
			set_country_flag = ITA_refuse_join_@SIC
			SIC = {
				set_autonomy = { target = PAP autonomy_state = autonomy_free }
			}
			if = {
				limit = { is_in_faction = yes }
				every_country = {
					limit = {
						NOT = { tag = PAP }
						NOT = { tag = SIC }
						is_in_faction_with = PAP
					}
					add_opinion_modifier = { target = NEE modifier = KR_disapproves_of_govt }
				}
				leave_faction = yes
			}
			if = {
				limit = { has_war = yes }
				separate_peace_all_wars = yes
			}
			SIC = {
				country_event = { id = papalstate.50 hours = 8 }
			}
		}
	}
	
	ITA_claim_libya = {
		icon = generic_form_nation

		allowed = {
			OR = {
				tag = ITA
				tag = SIC
				tag = SRD
			}
		}

		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = ITA_can_war_for_libya
				can_declare_war_on = 448.owner
			}
		}

		visible = {
			ITA_has_irridentist_focus = yes
			448 = {
				owner = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
		}

		fire_only_once = yes
		cost = 100

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				has_country_flag = SIC_confed
			}
			modifier = {
				factor = 0
				NOT = {
					has_government = national_populist
					has_country_flag = SIC_empire
					has_completed_focus = SRD_italia_riunita
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_claim_libya"
			set_country_flag = ITA_claimed_libya
			every_state = {
				limit = {
					is_core_of = LBA
					is_not_claim_or_core_of_ROOT = yes
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = TRP
					is_not_claim_or_core_of_ROOT = yes
				}
				add_claim_by = ROOT
			}
			450 = { add_claim_by = ROOT }
			448 = {
				owner = {
					country_event = italianrepublic.175
					if = {
						limit = { is_subject = yes }
						overlord = { country_event = italianrepublic.175 }
					}
				}
			}
		}
	}

	ITA_war_for_libya = {
		icon = generic_prepare_civil_war

		allowed = {
			OR = {
				tag = ITA
				tag = SIC
				tag = SRD
			}
		}

		available = {
			ROOT = {
				is_subject = no
				controls_all_owned_states = yes
			}
			can_declare_war_on = FROM
		}

		visible = {
			FROM = {
				NOT = {
					has_war_with = ROOT
					is_subject_of = TUR
					is_subject_of = EGY
					is_subject_of = PER
					is_subject_of = ROOT
				}
			}
		}

		fire_only_once = yes
		cost = 0
		days_remove = 20
		war_with_target_on_remove = yes

		target_root_trigger = {
			has_country_flag = ITA_claimed_libya
		}

		targets = { LBA TRP }

		target_trigger = {
			FROM = {
				NOT = {
					has_war_with = ROOT
					is_subject_of = TUR
					is_subject_of = EGY
					is_subject_of = PER
					is_subject_of = ROOT
				}
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_in_faction = yes
				is_faction_leader = no
			}
			modifier = {
				factor = 0
				has_navy_size = { size < 200 type = convoy }
			}
			modifier = {
				factor = 0
				NOT = { has_tech = landing_craft }
			}
			modifier = {
				factor = 0
				is_in_faction = no
				FROM = { is_in_faction_with = EGY }
				strength_ratio = { tag = EGY ratio < 2.5 }
			}
			modifier = {
				factor = 0
				OR = {
					has_war = yes
					strength_ratio = { tag = FROM ratio < 1.0 }
					# neither of us is in a faction and FROM is stronger
					AND = {
						FROM = {
							is_in_faction = no
							is_subject = no
						}
						is_in_faction = no
						strength_ratio = { tag = FROM ratio < 1.5 }
					}
					# they're in a faction which is not at war
					FROM = {
						OR = {
							is_in_faction = yes
							is_subject = yes
						}
						has_war = no
						NOT = { is_in_faction_with = EGY }
					}
					# they're in a faction which is at war but not with a major and not losing
					FROM = {
						is_in_faction = yes
						has_war = yes
						NOT = {
							is_in_faction_with = EGY
							any_enemy_country = {
								OR = {
									tag = GER
									tag = RUS
									tag = FRA
								}
							}
							surrender_progress > 0.10
							faction_leader = {
								surrender_progress > 0.20
							}
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_war_for_libya target: [From.GetName]"
			add_war_support = 0.10
			hidden_effect = {
				add_ai_strategy = {
					type = prepare_for_war
					id = FROM
					value = 1000
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = 1000
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ITA_war_for_libya target: [From.GetName]"
			set_country_flag = ITA_libya_war_@FROM
			set_country_flag = ITA_war_for_libya
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
			hidden_effect = {
				add_ai_strategy = {
					type = prepare_for_war
					id = FROM
					value = -1000
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -1000
					}
				}
			}
		}
	}

	ITA_demand_libya = {
		icon = generic_prepare_civil_war

		allowed = {
			OR = {
				tag = ITA
				tag = SIC
				tag = SRD
			}
		}

		available = {
			ROOT = {
				is_subject = no
				controls_all_owned_states = yes
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
			}
			can_declare_war_on = FROM
			FROM = {
				if = {
					limit = { owns_state = 448 }
					controls_state = 448
				}
				if = {
					limit = { owns_state = 450 }
					controls_state = 450
				}
				if = {
					limit = { owns_state = 451 }
					controls_state = 451
				}
			}
			if = {
				limit = { LBA = { is_subject_of = FROM } }
				LBA = {
					is_subject_of = FROM
					if = {
						limit = { owns_state = 448 }
						controls_state = 448
					}
					if = {
						limit = { owns_state = 450 }
						controls_state = 450
					}
					if = {
						limit = { owns_state = 451 }
						controls_state = 451
					}
				}
			}
		}

		visible = {
			FROM = {
				exists = yes
				is_subject = no
				NOT = { has_war_with = ROOT }
				OR = {
					owns_state = 448
					LBA = { is_subject_of = PREV }
				}
			}
		}

		fire_only_once = yes
		cost = 0

		target_root_trigger = {
			has_country_flag = ITA_claimed_libya
		}

		targets = { TUR EGY PER }

		target_trigger = {
			FROM = {
				exists = yes
				is_subject = no
				NOT = { has_war_with = ROOT }
				OR = {
					owns_state = 448
					LBA = { is_subject_of = PREV }
				}
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_in_faction = yes
				is_faction_leader = no
			}
			modifier = {
				factor = 0
				has_navy_size = { size < 200 type = convoy }
			}
			modifier = {
				factor = 0
				NOT = { has_tech = landing_craft }
			}
			modifier = {
				factor = 0
				OR = {
					has_war = yes
					strength_ratio = { tag = FROM ratio < 1.5 }
					# neither of us is in a faction and FROM is stronger
					AND = {
						FROM = {
							is_in_faction = no
							is_subject = no
						}
						is_in_faction = no
						strength_ratio = { tag = FROM ratio < 1.5 }
					}
					# they're in a faction which is not at war
					FROM = {
						is_in_faction = yes
						has_war = no
					}
					# they're in a faction which is at war but not with a major and not losing
					FROM = {
						is_in_faction = yes
						has_war = yes
						NOT = {
							any_enemy_country = {
								OR = {
									tag = GER
									tag = RUS
								}
							}
							surrender_progress > 0.10
							faction_leader = {
								surrender_progress > 0.20
							}
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_demand_libya target: [From.GetName]"
			FROM = {
				country_event = { id = italianrepublic.176 days = 1 }
			}
		}
	}
	
	ITA_form_east_africa = {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = 271 } }
		
		available = {
			owns_state = 271
			owns_state = 550
			owns_state = 559
			ITA_has_irridentist_focus = yes
			ETH = {
				exists = no
			}
			SOM = {
				exists = no
			}
			ERI = {
				exists = no
			}
		}

		visible = {
			OR = {
			tag = ITA
			tag = SIC
			}
			ITA_has_irridentist_focus = yes
		}
		
		allowed = {
			OR = {
			tag = ITA
			tag = SIC
			}
		}
		fire_only_once = yes
		
		cost = 100
		days_remove = 0
		fire_only_once = yes
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled ITA_form_east_africa target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_form_east_africa target: [From.GetName]"
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ITA_form_east_africa target: [From.GetName]"
			release_puppet = ETH
			ETH = {
			load_focus_tree = generic_focus
			set_politics = {
				ruling_party = paternal_autocrat
				elections_allowed = no
			}
			add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.50
			}
			create_country_leader = {
				name = "Rodolfo Graziani"
				desc = ""
				picture = "gfx/leaders/ITA/Portrait_ITA_Rodolfo_Graziani.png"
				expire = "1965.1.1"
				ideology = autocratic_colonial_govt_subtype
				traits = {
					}
				}
				set_party_name = {
				ideology = paternal_autocrat
				long_name = "Governatore Generale della Africa Orientale Italiana"
				name = "Governatore Generale della Africa Orientale Italiana"
				}
				every_state = {
				limit = { is_core_of = SOM }
				add_core_of = ETH
					}
				every_state = {
				limit = { is_core_of = ERI }
				add_core_of = ETH
					}
				268 = { add_core_of = ETH }
				1279 = { add_core_of = ETH }
				every_core_state = {
				limit = {
				OR = {
						is_owned_by = SIC
						is_owned_by = ITA
						is_owned_by = ETH
							}
						}
				set_state_owner_to = ETH
				}
				if = {
				limit = {
				ITA = {
				OR = {
				NOT = {
				has_country_leader = { ruling_only = yes name = "Galeazzo Ciano" }
				has_country_leader = { ruling_only = yes name = "Victor Emmanuel III" }
				has_country_leader = { ruling_only = yes name = "Umberto II" }
				has_country_leader = { ruling_only = yes name = "Amedeo I" }
							}
						}
					}
				}
				set_cosmetic_tag = ITA_EAST_AFRICA
				}
				if = {
				limit = {
				ITA = {
				OR = {
				has_country_leader = { ruling_only = yes name = "Galeazzo Ciano" }
				has_country_leader = { ruling_only = yes name = "Victor Emmanuel III" }
				has_country_leader = { ruling_only = yes name = "Umberto II" }
				has_country_leader = { ruling_only = yes name = "Amedeo I" }
						}
					}
				}
				set_cosmetic_tag = ITA_EAST_AFRICA_KING
				}
				if = {
				limit = {
				ITA = {
				OR = {
				has_country_leader = { ruling_only = yes name = "Giuseppe I" }
				has_country_leader = { ruling_only = yes name = "Pietro Ferdinando I" }
				has_country_leader = { ruling_only = yes name = "Goffredo I" }
						}
					}
				}
				set_cosmetic_tag = ITA_EAST_AFRICA_HABSBURG
				}
				if = {
				limit = {
				SIC = {
				has_country_leader = { ruling_only = yes name = "Ferdinando III" }
					}
				}
				set_cosmetic_tag = ITA_EAST_AFRICA_BOURBON
				}
				if = {
				limit = {
				ITA = {
				has_country_leader = { ruling_only = yes name = "Ferdinando III" }
					}
				}
				set_cosmetic_tag = ITA_EAST_AFRICA_BOURBON
				}
				if = {
				limit = {
				ITA = {
				OR = {
				has_country_leader = { ruling_only = yes name = "Napoleon II" }
				has_country_leader = { ruling_only = yes name = "Napoleon VI" }
						}
					}
				}
				set_cosmetic_tag = ITA_EAST_AFRICA_NAPOLEON
				}
			}
		}
	}
	
	ITA_form_libya = {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = 448 } }
		
		available = {
			owns_state = 451
			owns_state = 448
			owns_state = 663
			owns_state = 450
			ITA_has_irridentist_focus = yes
			LBA = {
				exists = no
			}
			TRP = {
				exists = no
			}
		}

		visible = {
			OR = {
			tag = ITA
			tag = SIC
			}
			ITA_has_irridentist_focus = yes
		}
		
		allowed = {
			OR = {
			tag = ITA
			tag = SIC
			}
		}
		fire_only_once = yes
		
		cost = 100
		days_remove = 0
		fire_only_once = yes
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled ITA_form_libya target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_form_libya target: [From.GetName]"
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ITA_form_libya target: [From.GetName]"
			release_puppet = TRP
			TRP = {
			load_focus_tree = generic_focus
			set_politics = {
				ruling_party = paternal_autocrat
				elections_allowed = no
			}
			add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.50
			}
			create_country_leader = {
				name = "Ettore Bastico"
				desc = ""
				picture = "gfx/leaders/ITA/Portrait_ITA_Ettore_Bastico_KX.png"
				expire = "1965.1.1"
				ideology = autocratic_colonial_govt_subtype
				traits = {
					}
				}
				set_party_name = {
				ideology = paternal_autocrat
				long_name = "Governatore Generale della Libia Italiana"
				name = "Governatore Generale della Libia Italiana"
				}
				every_state = {
				limit = { is_core_of = LBA }
				add_core_of = TRP
					}
				450 = { add_core_of = TRP }
				665 = { add_core_of = TRP }
				458 = { add_core_of = TRP }
				every_core_state = {
				limit = {
				OR = {
						is_owned_by = SIC
						is_owned_by = ITA
						is_owned_by = TRP
							}
						}
				set_state_owner_to = TRP
				}
				if = {
				limit = {
				OR = {
				NOT = {
				has_country_leader = { ruling_only = yes name = "Galeazzo Ciano" }
				has_country_leader = { ruling_only = yes name = "Victor Emmanuel III" }
				has_country_leader = { ruling_only = yes name = "Umberto II" }
				has_country_leader = { ruling_only = yes name = "Amedeo I" }
				has_country_leader = { ruling_only = yes name = "Ferdinando III" }
						}
					}
				}
				set_cosmetic_tag = ITA_LIBYA
				}
				if = {
				limit = {
				ITA = {
				OR = {
				has_country_leader = { ruling_only = yes name = "Galeazzo Ciano" }
				has_country_leader = { ruling_only = yes name = "Victor Emmanuel III" }
				has_country_leader = { ruling_only = yes name = "Umberto II" }
				has_country_leader = { ruling_only = yes name = "Amedeo I" }
						}
					}
				}
				set_cosmetic_tag = ITA_LIBYA_KING
				}
				if = {
				limit = {
				ITA = {
				OR = {
				has_country_leader = { ruling_only = yes name = "Giuseppe I" }
				has_country_leader = { ruling_only = yes name = "Pietro Ferdinando I" }
				has_country_leader = { ruling_only = yes name = "Goffredo I" }
						}
					}
				}
				set_cosmetic_tag = ITA_LIBYA_HABSBURG
				}
				if = {
				limit = {
				SIC = {
				has_country_leader = { ruling_only = yes name = "Ferdinando III" }
					}
				}
				set_cosmetic_tag = ITA_LIBYA_BOURBON
				}
				if = {
				limit = {
				ITA = {
				has_country_leader = { ruling_only = yes name = "Ferdinando III" }
					}
				}
				set_cosmetic_tag = ITA_LIBYA_BOURBON
				}
				if = {
				limit = {
				ITA = {
				OR = {
				has_country_leader = { ruling_only = yes name = "Napoleon II" }
				has_country_leader = { ruling_only = yes name = "Napoleon VI" }
						}
					}
				}
				set_cosmetic_tag = ITA_LIBYA_NAPOLEON
				}
			}
		}
	}

	LOM_join_faction = {
		icon = generic_nationalism

		allowed = { tag = LOM }

		available = {
			OR = {
				has_global_flag = second_weltkrieg_has_started
				custom_trigger_tooltip = {
					tooltip = SRI_balance_broken
					OR = {
						has_war_with = SRI
						NOT = { country_exists = SRI }
						NOT = { has_global_flag = KR_italy_balance }
					}
				}
			}
			ROOT = {
				OR = {
					has_completed_focus = LOM_place_in_the_world
					has_completed_focus = LOM_lombard_constitution
				}
				OR = {
					has_war = no
					custom_trigger_tooltip = {
						tooltip = USA_same_wars_as_FROM
						has_war = yes
						any_enemy_country = { has_war_with = FROM }
					}
				}
			}
			FROM = {
				OR = {
					has_war = no
					has_capitulated = no
				}
			}
		}

		visible = {
			is_in_faction = no
			is_subject = no
			has_socialist_government = no
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
			if = {
				limit = {
					FROM = {
						OR = {
							tag = AUS
							tag = GER
						}
					}
				}
				NOT = { has_completed_focus = LOM_golden_ambrosia }
			}
			if = {
				limit = { FROM = { tag = SER } }
				has_completed_focus = LOM_republican_cause
				has_global_flag = balkan_war_ended
				AUS = { owns_state = 783 }
			}
			NOT = {
				has_country_flag = { flag = LOM_considering_faction value > 0 }
			}
		}

		target_root_trigger = {
			is_in_faction = no
		}

		targets = { AUS GER SER }

		target_trigger = {
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision LOM_join_faction target: [From.GetName]"
			set_country_flag = { flag = LOM_considering_faction days = 6 value = 1 }
			FROM = {
				country_event = sic.37
			}
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				FROM = { tag = AUS }
				NOT = { has_country_flag = LOM_constitutional_monarchy }
			}
			modifier = {
				factor = 2
				FROM = { tag = AUS }
				has_country_flag = LOM_constitutional_monarchy
			}
			modifier = {
				factor = 0
				FROM = { tag = GER }
				has_idea = ITA_austrian_influence
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
			}
			modifier = {
				factor = 0
				NOT = {
					date > 1938.1.1
					has_war = yes
				}
			}
			modifier = {
				factor = 2
				FROM = { has_war_with = SRI }
			}
			modifier = {
				factor = 5
				FROM = { has_war_with = AUS }
				has_completed_focus = LOM_republican_cause
			}
			modifier = {
				factor = 0
				country_exists = SRI
				FROM = {
					has_war = yes
					NOT = {
						has_war_with = SRI
						has_war_with = AUS
					}
				}
			}
		}
	}

	VNC_join_faction = {
		icon = generic_nationalism

		allowed = { tag = VNC }

		available = {
			OR = {
				has_global_flag = second_weltkrieg_has_started
				custom_trigger_tooltip = {
					tooltip = SRI_balance_broken
					OR = {
						has_war_with = SRI
						NOT = { country_exists = SRI }
						NOT = { has_global_flag = KR_italy_balance }
					}
				}
			}
			ROOT = {
				OR = {
					has_completed_focus = VNC_foreign
					has_completed_focus = VNC_stato_da_mar
				}
				OR = {
					has_war = no
					custom_trigger_tooltip = {
						tooltip = USA_same_wars_as_FROM
						has_war = yes
						any_enemy_country = { has_war_with = FROM }
					}
				}
			}
			FROM = {
				OR = {
					has_war = no
					has_capitulated = no
				}
			}
		}

		visible = {
			is_in_faction = no
			is_subject = no
			has_socialist_government = no
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
			if = {
				limit = {
					FROM = { tag = AUS }
				}
				NOT = { has_completed_focus = VNC_stato_da_mar }
			}
			if = {
				limit = { FROM = { tag = SER } }
				has_completed_focus = VNC_stato_da_mar
				has_global_flag = balkan_war_ended
				AUS = {
					owns_state = 736
				}
			}
			NOT = {
				has_country_flag = { flag = VNC_considering_faction value > 0 }
			}
		}

		target_root_trigger = {
			is_in_faction = no
		}

		targets = { AUS GER CAN SER }

		target_trigger = {
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision VNC_join_faction target: [From.GetName]"
			set_country_flag = { flag = VNC_considering_faction days = 6 value = 1 }
			FROM = {
				country_event = sic.37
			}
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				FROM = { tag = AUS }
				has_authoritarian_government = yes
			}
			modifier = {
				factor = 2
				FROM = { tag = AUS }
				has_elected_government = yes
			}
			modifier = {
				factor = 0
				FROM = {
					OR = {
						tag = GER
						tag = CAN
					}
				}
				has_idea = ITA_austrian_influence
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
			}
			modifier = {
				factor = 0
				NOT = {
					date > 1938.1.1
					has_war = yes
				}
			}
			modifier = {
				factor = 0.5
				FROM = { tag = CAN }
				NOT = { SIC = { is_in_faction_with = CAN } }
			}
			modifier = {
				factor = 2
				FROM = { has_war_with = SRI }
			}
			modifier = {
				factor = 5
				FROM = { has_war_with = AUS }
				has_completed_focus = VNC_stato_da_mar
			}
			modifier = {
				factor = 0
				country_exists = SRI
				FROM = {
					has_war = yes
					NOT = {
						has_war_with = SRI
						has_war_with = AUS
					}
				}
			}
		}
	}

	VNC_attack_austria = {
		icon = generic_prepare_civil_war
		allowed = { tag = VNC }

		available = {
			ROOT = {
				is_subject = no
				NOT = { has_idea = ITA_austrian_influence }
				controls_all_owned_states = yes
				has_completed_focus = VNC_stato_da_mar
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
			}
			can_declare_war_on = AUS
		}

		visible = {
			owns_state = 759
			736 = { is_claimed_by = ROOT }
			AUS = {
				exists = yes
				NOT = { has_war_with = ROOT }
				owns_state = 736
			}
		}

		fire_only_once = yes
		cost = 0
		days_remove = 20
		war_with_on_remove = AUS
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				AUS = { is_in_faction_with = GER }
			}
			modifier = {
				factor = 0
				AUS = {
					is_subject = no
					is_faction_leader = yes
					surrender_progress < 0.10
					NOT = {
						has_war_with = GER
						has_war_with = RUS
						has_war_with = HUN
						has_war_with = SER
						has_war_with = ROM
						has_war_with = POL
					}
				}
				NOT = {
					strength_ratio = { tag = AUS ratio > 0.75 }
				}
			}
			modifier = {
				factor = 5
				AUS = { has_war_with = HUN }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision VNC_attack_austria"
			add_war_support = 0.10
			if = {
				limit = { gives_military_access_to = AUS }
				AUS = {
					diplomatic_relation = {
						country = ITA
						relation = military_access
						active = no
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove VNC_attack_austria"
			declare_war_on = {
				target = AUS
				type = annex_everything
			}
		}
	}

	ITA_invite_belgrade_pact = {
		icon = GFX_decision_generic_political_discourse
		available = {
			FROM = { has_war = no }
			has_war = no
			is_subject = no
			NOT = { is_in_faction_with = CRO }
			if = {
				limit = { SER = { is_in_faction_with = ROM } }
				OR = {
					NOT = { is_in_faction_with = HUN }
					HUN = { 
						is_subject = yes 
						NOT = { any_owned_state = { is_core_of = ROM } }
					}
				}
			}
		}
		visible = {
			OR = {
				has_global_flag = balkan_war_ended
				SER = { has_country_flag = BUL_surrender_no_war }
			}
		}
		targets = { SER }
		target_trigger = {
			FROM = {
				is_subject = no
				is_in_faction = no
				has_socialist_government = no
			}
		}
		cost = 0
		days_remove = 40
		ai_will_do = { factor = 100 }
		complete_effect = {
			FROM = {
				country_event = {
					id = itaforpol.6
					days = 2
				}
			}
		}
	}
	
	ITA_invite_country = {
		icon = GFX_decision_generic_political_discourse
		allowed = { tag = ITA }
		available = {
			is_faction_leader = yes
			is_subject = no
			NOT = {
				has_country_flag = ITA_inviting_country 
				has_war_with = FROM
			}
			if = {
				limit = { FROM = { tag = BUL } }
				OR = {
					NOT = { is_in_faction_with = SER }
					SER = { is_subject = yes }
					BUL = { has_government = social_conservative }
				}
			}
			else_if = {
				limit = { FROM = { tag = GRE } }
				GRE = {
					OR = {
						AND = {
							is_in_faction_with = SER
							has_war = no
						}
						is_in_faction = no
					}
				}
			}
			else_if = {
				limit = { FROM = { tag = ROM } }
				ROM = {
					OR = {
						AND = {
							is_in_faction_with = SER
							has_war = no
						}
						is_in_faction = no
					}
				}
				OR = {
					NOT = { is_in_faction_with = HUN }
					HUN = { is_subject = yes }
				}
			}
			else_if = {
				limit = { FROM = { tag = HUN } }
				OR = {
					NOT = { is_in_faction_with = ROM }
					ROM = { is_subject = yes }
				}
			}
			else_if = {
				limit = { FROM = { tag = SER } }
				OR = {
					NOT = { is_in_faction_with = CRO }
					CRO = { is_subject = yes }
				}
			}
			else_if = {
				limit = { FROM = { tag = CRO } }
				OR = {
					NOT = { is_in_faction_with = SER }
					SER = { is_subject = yes }
				}
			}
		}
		visible = {
			NOT = { tag = SRI }
			if = {
				limit = {
					FROM = {
						OR = {
							tag = ROM
							tag = BUL
							tag = GRE
							tag = SER
							tag = ALB
						}
					}
				}
				OR = {
					has_global_flag = balkan_war_ended
					SER = {
						OR = {
							has_country_flag = BUL_surrender_no_war
							is_subject = yes
							AND = {
								is_in_faction = yes
								is_faction_leader = no
							}
						}
					}
				}
			}
		}
		targets = { ALB BUL GRE SER ROM HUN POL CRO POL }
		target_trigger = {
			FROM = {
				is_subject = no
				OR = {
					is_in_faction = no
					tag = ROM
					tag = GRE
				}
				has_socialist_government = no
				NOT = { has_country_flag = ITA_bloc_invited }
			}
		}
		cost = 20
		days_remove = 15
		ai_will_do = { factor = 100 }
		complete_effect = {
			set_country_flag = ITA_inviting_country
			FROM = {
				country_event = {
					id = itaforpol.3
					days = 2
				}
			}
		}
		remove_effect = { clr_country_flag = ITA_inviting_country }
	}
}

ITA_resorgimento_decisions = {
	ITA_rally_supporters = {
		icon = generic_civil_support
		allowed = { tag = ITA }
		available = {
			ROOT = {
				has_capitulated = no
			}
			SRI = {
				has_capitulated = no
				controls_state = 158
				controls_state = 162
			}
		}

		visible = {
			has_war_with = SRI
			NOT = { has_country_flag = ITA_rallied_supporters }
			SRI = {
				owns_state = 158
				owns_state = 162
			}
		}

		fire_only_once = no
		cost = 100
		days_remove = 30
		priority = 5
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_rally_supporters"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ITA_rally_supporters"
			if = {
				limit = {
					has_war_with = SRI
					has_capitulated = no
					SRI = {
						OR = {
							controls_state = 158
							controls_state = 162
						}
					}
				}
				set_country_flag = ITA_rallied_supporters
				add_manpower = 30000
				if = {
					limit = { has_tech = infantry_weapons1 }
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 3000 producer = ITA }
				}
				else = {
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 3000 producer = ITA }
				}
				custom_effect_tooltip = ITA_supporters_raised
				hidden_effect = {
					load_oob = SRI_itasupport
					SRI = { country_event = italianrepublic.172 }
				}
			}
			else = {
				add_political_power = 100
			}
		}
	}

	SRI_rally_supporters = {
		icon = generic_civil_support
		allowed = { tag = SRI }
		available = {
			ROOT = {
				has_capitulated = no
			}
			ITA = {
				has_capitulated = no
				controls_state = 159
				controls_state = 160
			}
		}

		visible = {
			has_war_with = ITA
			NOT = { has_country_flag = SRI_rallied_supporters }
			ITA = {
				owns_state = 159
				owns_state = 160
			}
		}

		fire_only_once = no
		cost = 100
		days_remove = 30
		priority = 5
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_rally_supporters"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_rally_supporters"
			if = {
				limit = {
					has_war_with = ITA
					has_capitulated = no
					ITA = {
						OR = {
							controls_state = 159
							controls_state = 160
						}
					}
				}
				set_country_flag = SRI_rallied_supporters
				add_manpower = 60000
				if = {
					limit = { has_tech = infantry_weapons1 }
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 3000 producer = SRI }
				}
				else = {
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 3000 producer = SRI }
				}
				custom_effect_tooltip = SRI_supporters_raised
				hidden_effect = {
					load_oob = SRI_partisans
					ITA = { country_event = socitaly.126 }
				}
			}
			else = {
				add_political_power = 100
			}
		}
	}

	ITA_rally_faithful = {
		icon = generic_civil_support
		allowed = { tag = ITA }
		available = {
			PAP = {
				exists = no
			}
			ROOT = {
				has_capitulated = no
			}
			SRI = {
				has_capitulated = no
				controls_state = 161
			}
		}

		visible = {
			has_war_with = SRI
			NOT = {
				has_country_flag = PAP_rallied_neosanfedisti
				has_country_flag = PAP_rallied_faithful
			}
			SRI = {
				NOT = {
					has_idea = SRI_neosanfedisti_1
					has_idea = SRI_neosanfedisti_2
					has_idea = SRI_neosanfedisti_3
				}
				owns_state = 161
			}
		}

		fire_only_once = no
		cost = 50
		days_remove = 30
		priority = 5
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision PAP_rally_faithful"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove PAP_rally_faithful"
			if = {
				limit = {
					has_war_with = SRI
					has_capitulated = no
					SRI = {
						NOT = {
							has_idea = SRI_neosanfedisti_1
							has_idea = SRI_neosanfedisti_2
							has_idea = SRI_neosanfedisti_3
						}
						controls_state = 161
					}
				}
				set_country_flag = PAP_rallied_faithful
				add_manpower = 50000
				if = {
					limit = { has_tech = infantry_weapons1 }
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2500 producer = ITA }
				}
				else = {
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 2500 producer = ITA }
				}
				custom_effect_tooltip = PAP_faithful_units
				hidden_effect = {
					load_oob = SRI_catholics
					SRI = { country_event = papalstate.64 }
				}
			}
			else = {
				add_political_power = 50
			}
		}
	}

	PAP_rally_faithful = {
		icon = generic_civil_support
		allowed = { tag = PAP }
		available = {
			ROOT = {
				has_capitulated = no
			}
			SRI = {
				has_capitulated = no
				controls_state = 161
			}
		}

		visible = {
			has_war_with = SRI
			NOT = {
				has_country_flag = PAP_rallied_neosanfedisti
				has_country_flag = PAP_rallied_faithful
			}
			SRI = {
				NOT = {
					has_idea = SRI_neosanfedisti_1
					has_idea = SRI_neosanfedisti_2
					has_idea = SRI_neosanfedisti_3
				}
				owns_state = 161
			}
		}

		fire_only_once = no
		cost = 50
		days_remove = 30
		priority = 5
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision PAP_rally_faithful"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove PAP_rally_faithful"
			if = {
				limit = {
					has_war_with = SRI
					has_capitulated = no
					SRI = {
						NOT = {
							has_idea = SRI_neosanfedisti_1
							has_idea = SRI_neosanfedisti_2
							has_idea = SRI_neosanfedisti_3
						}
						controls_state = 161
					}
				}
				set_country_flag = PAP_rallied_faithful
				add_manpower = 50000
				if = {
					limit = { has_tech = infantry_weapons1 }
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2500 producer = PAP }
				}
				else = {
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 2500 producer = PAP }
				}
				custom_effect_tooltip = PAP_faithful_units
				hidden_effect = {
					load_oob = SRI_catholics
					SRI = { country_event = papalstate.64 }
				}
			}
			else = {
				add_political_power = 50
			}
		}
	}

	ITA_rally_neosanfedisti = {
		icon = neosanfedisti
		allowed = { tag = ITA }
		available = {
			PAP = {
				exists = no
			}
			ROOT = {
				has_capitulated = no
			}
			SRI = {
				has_capitulated = no
				controls_state = 161
				controls_state = 157
			}
		}

		visible = {
			has_war_with = SRI
			NOT = {
				has_country_flag = PAP_rallied_neosanfedisti
				has_country_flag = PAP_rallied_faithful
			}
			SRI = {
				OR = {
					has_idea = SRI_neosanfedisti_1
					has_idea = SRI_neosanfedisti_2
					has_idea = SRI_neosanfedisti_3
				}
				owns_state = 161
				owns_state = 157
			}
		}

		fire_only_once = no
		cost = 50
		days_remove = 15
		priority = 5
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision PAP_rally_neosanfedisti"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove PAP_rally_neosanfedisti"
			if = {
				limit = {
					has_war_with = SRI
					has_capitulated = no
					SRI = {
						OR = {
							has_idea = SRI_neosanfedisti_1
							has_idea = SRI_neosanfedisti_2
							has_idea = SRI_neosanfedisti_3
						}
						OR = {
							controls_state = 161
							controls_state = 157
						}
					}
				}
				set_country_flag = PAP_rallied_neosanfedisti
				add_manpower = 100000
				if = {
					limit = { has_tech = infantry_weapons1 }
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 5000 producer = ITA }
				}
				else = {
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 5000 producer = ITA }
				}
				custom_effect_tooltip = PAP_neosanfedisti_units
				hidden_effect = {
					load_oob = SRI_sanfedisti
					SRI = { country_event = socitaly.31 }
				}
			}
			else = {
				add_political_power = 50
			}
		}
	}

	PAP_rally_neosanfedisti = {
		icon = neosanfedisti
		allowed = { tag = PAP }
		available = {
			ROOT = {
				has_capitulated = no
			}
			SRI = {
				has_capitulated = no
				controls_state = 161
				controls_state = 157
			}
		}

		visible = {
			has_war_with = SRI
			NOT = {
				has_country_flag = PAP_rallied_neosanfedisti
				has_country_flag = PAP_rallied_faithful
			}
			SRI = {
				OR = {
					has_idea = SRI_neosanfedisti_1
					has_idea = SRI_neosanfedisti_2
					has_idea = SRI_neosanfedisti_3
				}
				owns_state = 161
				owns_state = 157
			}
		}

		fire_only_once = no
		cost = 50
		days_remove = 15
		priority = 5
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision PAP_rally_neosanfedisti"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove PAP_rally_neosanfedisti"
			if = {
				limit = {
					has_war_with = SRI
					has_capitulated = no
					SRI = {
						OR = {
							has_idea = SRI_neosanfedisti_1
							has_idea = SRI_neosanfedisti_2
							has_idea = SRI_neosanfedisti_3
						}
						OR = {
							controls_state = 161
							controls_state = 157
						}
					}
				}
				set_country_flag = PAP_rallied_neosanfedisti
				add_manpower = 100000
				if = {
					limit = { has_tech = infantry_weapons1 }
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 5000 producer = PAP }
				}
				else = {
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 5000 producer = PAP }
				}
				custom_effect_tooltip = PAP_neosanfedisti_units
				hidden_effect = {
					load_oob = SRI_sanfedisti
					SRI = { country_event = northsri.31 }
				}
			}
			else = {
				add_political_power = 50
			}
		}
	}

	ITA_fund_neosanfedisti = {
		icon = neosanfedisti
		allowed = { tag = ITA }
		available = {
			has_capitulated = no
			PAP = {
				exists = no
			}
			if = {
				limit = { is_subject_of = SIC }
				custom_trigger_tooltip = {
					tooltip = PAP_permission_from_sic
					has_country_flag = PAP_permission_fund_neosanfedisti
				}
			}
			else = {
				is_subject = no
			}
		}

		visible = {
			country_exists = SRI
			has_country_flag = PAP_can_fund_neosanfedisti
			OR = {
				is_subject = no
				is_subject_of = SIC
			}
			SRI = {
				NOT = { has_country_flag = PAP_neosanfedisti_funded }
			}
		}

		fire_only_once = yes
		cost = 100
		days_remove = 30
		priority = 5
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					date > 1937.8.1
					SRI = { has_war = yes }
					has_game_rule = {
						rule = SRI_neosanfedisti_terror
						option = SRI_NEOSANFEDISTI_TERROR_WAR_ITA
					}
					has_game_rule = {
						rule = SRI_neosanfedisti_terror
						option = SRI_NEOSANFEDISTI_TERROR_WAR_NO_ITA
					}
				}
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SRI_neosanfedisti_terror
					option = SRI_NEOSANFEDISTI_TERROR_PEACE
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision PAP_fund_neosanfedisti"
			add_war_support = 0.10
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove PAP_fund_neosanfedisti"
			if = {
				limit = { country_exists = SRI }
				SRI = { country_event = socitaly.22 }
			}
		}
	}

	PAP_fund_neosanfedisti = {
		icon = neosanfedisti
		allowed = { tag = PAP }
		available = {
			has_capitulated = no
			if = {
				limit = { is_subject_of = SIC }
				custom_trigger_tooltip = {
					tooltip = PAP_permission_from_sic
					has_country_flag = PAP_permission_fund_neosanfedisti
				}
			}
			else = {
				is_subject = no
			}
		}

		visible = {
			country_exists = SRI
			has_country_flag = PAP_can_fund_neosanfedisti
			OR = {
				is_subject = no
				is_subject_of = SIC
			}
			SRI = {
				NOT = { has_country_flag = PAP_neosanfedisti_funded }
			}
		}

		fire_only_once = yes
		cost = 100
		days_remove = 30
		priority = 5
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					date > 1937.8.1
					SRI = { has_war = yes }
					has_game_rule = {
						rule = SRI_neosanfedisti_terror
						option = SRI_NEOSANFEDISTI_TERROR_WAR_ITA
					}
					has_game_rule = {
						rule = SRI_neosanfedisti_terror
						option = SRI_NEOSANFEDISTI_TERROR_WAR_NO_ITA
					}
				}
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SRI_neosanfedisti_terror
					option = SRI_NEOSANFEDISTI_TERROR_PEACE
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision PAP_fund_neosanfedisti"
			add_war_support = 0.10
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove PAP_fund_neosanfedisti"
			if = {
				limit = { country_exists = SRI }
				SRI = { country_event = northsri.22 }
			}
		}
	}

	PAP_ask_permission_neosanfedisti = {
		icon = neosanfedisti
		allowed = { tag = PAP }
		available = {
			ROOT = {
				has_capitulated = no
			}
			FROM = {
				has_capitulated = no
			}
		}

		visible = {
			country_exists = SRI
			has_country_flag = PAP_can_fund_neosanfedisti
			is_subject_of = FROM
			NOT = {
				has_country_flag = PAP_permission_fund_neosanfedisti
				SRI = { has_country_flag = PAP_neosanfedisti_funded }
			}
		}

		fire_only_once = yes
		cost = 0
		priority = 10
		target_root_trigger = {
			is_subject_of = SIC
		}

		targets = { SIC }

		target_trigger = {
			FROM = {
				exists = yes
				is_subject = no
			}
		}

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					date > 1937.8.1
					SRI = { has_war = yes }
					has_game_rule = {
						rule = SRI_neosanfedisti_terror
						option = SRI_NEOSANFEDISTI_TERROR_WAR_ITA
					}
					has_game_rule = {
						rule = SRI_neosanfedisti_terror
						option = SRI_NEOSANFEDISTI_TERROR_WAR_NO_ITA
					}
				}
			}
			modifier = {
				factor = 0
				has_game_rule = {
					rule = SRI_neosanfedisti_terror
					option = SRI_NEOSANFEDISTI_TERROR_PEACE
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision PAP_ask_permission_neosanfedisti target: [From.GetName]"
			FROM = { country_event = papalstate.60 }
		}
	}

	SIC_never_surrender = {
		icon = generic_ignite_civil_war
		allowed = { tag = SIC }
		available = {
			surrender_progress > 0.40
		}

		visible = {
			has_war_with = SRI
			surrender_progress > 0.01
		}

		fire_only_once = yes
		cost = 0
		priority = 10

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SIC_never_surrender"
			add_ideas = SIC_total_war
		}
	}
	
	SRD_attack_italy = {
		icon = generic_prepare_civil_war
		allowed = { always = no }

		available = {
			controls_all_owned_states = yes
			FROM = { has_capitulated = no }
		}

		visible = {
			can_declare_war_on = FROM
			NOT = { FROM = { has_country_flag = ITA_considering_invite_@ROOT } }
			is_subject = no
			SRI = {
				exists = no
			}
		}

		fire_only_once = no
		cost = 0

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_country_flag = { flag = ITA_currently_inviting value > 0 }
			}
			modifier = {
				factor = 0
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 0
				# should be asking them to join peacefully
				has_country_flag = SIC_confed
				FROM = {
					is_subject = no
					has_socialist_government = no
					OR = {
						is_in_faction = no
						is_in_faction_with = ROOT
						is_faction_leader = no
					}
					NOT = { has_country_flag = ITA_refuse_join_@ROOT }
				}
			}
			modifier = {
				factor = 0
				has_cosmetic_tag = SRD_ITA
				owns_state = 838 #Liguria
				if = {
					limit = { ITA = { owns_state = 159 } }
					OR = {
						owns_state = 162 #Tuscany
						owns_state = 1004 #Emilia
					}
				}
				else = {
					count_triggers = {
						amount = 2
						159 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
						160 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
						1004 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
						162 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
					}
				}
				FROM = {
					is_subject = no
					has_socialist_government = no
					OR = {
						is_in_faction = no
						is_in_faction_with = ROOT
						is_faction_leader = no
					}
					NOT = { has_country_flag = ITA_refuse_join_@ROOT }
				}
			}
			modifier = {
				factor = 0
				FROM = {
					tag = PAP
					OR = {
						is_subject_of = SIC
						is_guaranteed_by = SIC
						AND = {
							is_subject = no
							has_war = no
						}
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					OR = {
						is_in_faction_with = ENT
						is_in_faction_with = GER
					}
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_war = yes
					strength_ratio = { tag = FROM ratio < 0.75 }
					# neither of us is in a faction and FROM is stronger
					AND = {
						FROM = {
							is_in_faction = no
							is_subject = no
						}
						is_in_faction = no
						strength_ratio = { tag = FROM ratio < 1.0 }
					}
					# they're in a faction which is not at war
					FROM = {
						OR = {
							is_in_faction = yes
							is_subject = yes
						}
						has_war = no
					}
					# they're in a faction which is at war but not with a major and not losing
					FROM = {
						is_in_faction = yes
						has_war = yes
						NOT = {
							any_enemy_country = {
								OR = {
									tag = GER
									tag = AUS
									tag = FRA
								}
							}
							surrender_progress > 0.10
							faction_leader = {
								surrender_progress > 0.20
							}
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRD_attack_italy target: [From.GetName]"
			add_war_support = 0.10
			if = {
				limit = { is_in_faction_with = FROM }
				leave_faction = yes
			}
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}

	SRD_attack_SRI = {
		icon = generic_prepare_civil_war
		allowed = { tag = SRD }

		available = {
			controls_all_owned_states = yes
			FROM = { has_capitulated = no }
			OR = {
				has_war = no
				NFA = {
					has_war_with = FRA
				}
			}
			OR = {
				ITA = { has_war_with = SRI }
				date > 1940.1.1
			}
		}
		
		visible = {
			can_declare_war_on = SRI
			NOT = {
				has_annex_war_goal = SRI
			}
		}


		fire_only_once = no
		cost = 0

		ai_will_do = {
			factor = 1
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRD_attack_SRI target: [From.GetName]"
			add_war_support = 0.10
			declare_war_on = {
				target = SRI
				type = annex_everything
			}
		}
	}

	SRI_attack_italy = {
		icon = generic_prepare_civil_war
		allowed = { tag = SRI }

		available = {
			ROOT = {
				is_subject = no
				if = {
					limit = { has_global_flag = KR_italy_balance }
					has_war = no
				}
				else = {
					controls_all_owned_states = yes
				}
				OR = {
					has_completed_focus = SRI_reenforce_the_po_line
					has_completed_focus = SRI_reenforce_the_south
				}
				has_completed_focus = SRI_reenforce_the_coast
			}
			can_declare_war_on = FROM
		}

		visible = {
			FROM = {
				NOT = { has_war_with = ROOT }
				OR = {
					is_neighbor_of = ROOT
					NOT = {
						any_owned_state = {
							OR = {
								region = 181 #Po Region
								region = 23 #Italy
							}
						}
					}
				}
			}
		}

		targets = { ITA SIC SRD PAP VNC EMI TUS LOM }

		target_trigger = {
			FROM = {
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = yes
		cost = 0
		days_remove = 20
		war_with_target_on_remove = yes
		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				has_global_flag = KR_italy_balance
				FROM = {
					OR = {
						is_in_faction = yes
						AND = {
							is_subject = yes
							overlord = { is_italian_tag = no }
						}
					}
				}
			}
			modifier = {
				factor = 0
				# don't violate the balance unless it's mid-way through 1938
				has_global_flag = KR_italy_balance
				FROM = {
					OR = {
						tag = ITA
						tag = SIC
					}
				}
				date < 1938.6.1
			}
			modifier = {
				factor = 5
				FROM = { tag = LOM }
			}
			modifier = {
				factor = 3
				FROM = { tag = VNC }
			}
			modifier = {
				factor = 2
				FROM = { tag = SIC }
			}
			modifier = {
				factor = 0.5
				FROM = {
					OR = {
						tag = PAP
						tag = SRD
					}
				}
			}
			modifier = {
				factor = 0
				FROM = { tag = SRD }
				OR = {
					country_exists = ITA
					country_exists = SIC
				}
			}
			modifier = {
				factor = 0
				FROM = {
					tag = PAP
					OR = {
						is_subject_of = SIC
						is_guaranteed_by = SIC
						is_in_faction_with = SIC
					}
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					OR = {
						is_in_faction_with = CAN
						is_in_faction_with = GER
					}
				}
			}
			modifier = {
				factor = 0
				has_navy_size = { size < 200 type = convoy }
				NOT = { is_neighbor_of = FROM }
			}
			modifier = {
				factor = 0
				OR = {
					has_war = yes
					strength_ratio = { tag = FROM ratio < 0.75 }
					# neither of us is in a faction and FROM is stronger
					AND = {
						FROM = {
							is_in_faction = no
							is_subject = no
						}
						is_in_faction = no
						strength_ratio = { tag = FROM ratio < 1.0 }
					}
					# they're in a faction which is not at war
					FROM = {
						OR = {
							is_in_faction = yes
							is_subject = yes
						}
						has_war = no
					}
					# they're in a faction which is at war but not with a major and not losing
					FROM = {
						is_in_faction = yes
						has_war = yes
						NOT = {
							any_enemy_country = {
								OR = {
									tag = GER
									tag = AUS
									tag = FRA
								}
							}
							surrender_progress > 0.10
							any_allied_country = {
								is_faction_leader = yes
								surrender_progress > 0.20
							}
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_attack_italy target: [From.GetName]"
			add_war_support = 0.10
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_attack_italy target: [From.GetName]"
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}

	SRI_unite_italia = {
		icon = italy_flag
		allowed = { original_tag = SRI }
		available = {
			is_subject = no
			owns_state = 159
			owns_state = 160
			owns_state = 158
			owns_state = 161
			owns_state = 162
			owns_state = 2
			owns_state = 117
			controls_all_owned_states = yes
		}
		visible = {
			has_socialist_government = yes
		}
		fire_only_once = yes
		cost = 0
		ai_will_do = { factor = 100 }
		priority = 100
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_unite_italia"
			if = {
				limit = { has_global_flag = KR_italy_balance }
				custom_effect_tooltip = SRI_balance_will_be_broken
				clr_global_flag = KR_italy_balance
			}
			add_political_power = 250
			set_capital = { state = 2 }
			set_country_flag = SRI_italy_unified_flag
			country_event = socitaly.40
			hidden_effect = {
				news_event = { id = worldnews.219 days = 1 }
			}
		}
	}
SRD_invite_into_kingdom = {
		icon = italy_flag

		allowed = { original_tag = SRD }

		available = {
			is_subject = no
			if = {
				limit = { ITA = { owns_state = 159 } }
				OR = {
					owns_state = 162 #Tuscany
					owns_state = 1004 #Emilia
				}
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = SRD_control_any_two
					count_triggers = {
						amount = 2
						159 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
						160 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
						1004 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
						162 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = ITA_busy_inviting
				NOT = {
					has_country_flag = { flag = ITA_currently_inviting value > 0 }
				}
			}
			controls_all_owned_states = yes
			FROM = {
				if = {
					limit = { has_country_flag = ITA_ask_after_war_@ROOT }
					has_war = no
				}
				else = {
					controls_all_owned_states = yes
				}
			}
		}

		visible = {
			is_subject = no
			FROM = {
				is_subject = no
				has_socialist_government = no
				OR = {
					is_in_faction = no
					is_in_faction_with = ROOT
					is_faction_leader = no
				}
				if = {
					limit = { tag = ITA }
					NOT = { has_government = national_populist }
				}
				NOT = {
					has_country_flag = ITA_refuse_join_@ROOT
					has_country_flag = { flag = ITA_considering_invite_@ROOT value > 0 }
					is_justifying_wargoal_against = ROOT
					any_enemy_country = {
						is_italian_tag = yes
					}
				}
			}
		}

		cost = 100
		fire_only_once = no

		targets = { ITA SIC PAP VNC EMI TUS LOM }
		target_root_trigger = {
			OR = {
				owns_state = 158 #Piedmont
				owns_state = 838 #Liguria
			}
			NOT = {
				country_exists = SRI
				SIC = {
					exists = yes
					OR = {
						has_country_flag = SIC_confed
						has_country_flag = SIC_empire
					}
				}
			}
		}
		target_trigger = {
			is_subject = no
			FROM = {
				is_subject = no
				has_socialist_government = no
				OR = {
					is_in_faction = no
					is_in_faction_with = ROOT
					is_faction_leader = no
				}
				if = {
					limit = { tag = ITA }
					NOT = { has_government = national_populist }
				}
				NOT = {
					has_country_flag = ITA_refuse_join_@ROOT
					has_country_flag = { flag = ITA_considering_invite_@ROOT value > 0 }
					is_justifying_wargoal_against = ROOT
					any_enemy_country = {
						is_italian_tag = yes
					}
				}
			}
		}

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0.1
				NOT = { is_neighbor_of = FROM }
			}
			modifier = {
				factor = 0.1
				OR = {
					tag = ITA
					tag = SIC
					tag = SRD
					tag = PAP
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRD_invite_into_kingdom target: [From.GetName]"
			set_country_flag = { flag = ITA_currently_inviting days = 30 value = 1 }
			country_event = sic.109
			FROM = {
				set_country_flag = { flag = ITA_considering_invite_@ROOT days = 30 value = 1 }
				hidden_effect = {
					country_event = sic.110
				}
			}
		}
	}

	SIC_declare_italian_empire = {
		icon = italy_flag

		allowed = { tag = SIC }

		available = {
			2 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
			OR = {
				162 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Tuscany
				161 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Romagna
			}
			OR = {
				159 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Lombardy
				158 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Piedmont
			}
			controls_all_owned_states = yes
			if = {
				limit = { country_exists = ITA }
				NOT = { has_war_with = ITA }
			}
			if = {
				limit = { country_exists = SRI }
				NOT = { has_war_with = SRI }
			}
			if = {
				limit = { country_exists = SRD }
				NOT = { has_war_with = SRD }
			}
			has_returned_all_expeditionary_forces_of_puppets = yes
		}

		visible = {
			is_subject = no
		NOT = {
		OR = {
			has_completed_focus = SIC_ride_the_tiger
			has_completed_focus = SIC_mafia_takeover
			has_completed_focus = SIC_NeoSanfedisti_coup
				}
			}
		}

		fire_only_once = yes
		cost = 0
		priority = 5
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					ITA = {
						is_subject_of = ROOT
						is_ai = no
					}
					LOM = {
						is_subject_of = ROOT
						is_ai = no
					}
					VNC = {
						is_subject_of = ROOT
						is_ai = no
					}
					SRD = {
						is_subject_of = ROOT
						is_ai = no
					}
					PAP = {
						is_subject_of = ROOT
						is_ai = no
					}
					EMI = {
						is_subject_of = ROOT
						is_ai = no
					}
					TUS = {
						is_subject_of = ROOT
						is_ai = no
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SIC_declare_italian_empire"
			log = "KR_Event_Logging;Two Sicilies UNIFIES ITALY;[GetDateText]"
			if = {
				limit = {
					has_global_flag = KR_italy_balance
					country_exists = SRI
				}
				custom_effect_tooltip = SRI_balance_will_be_broken
				clr_global_flag = KR_italy_balance
			}
			set_country_flag = SIC_empire
			hidden_effect = {
				remove_targeted_decision = { target = THIS decision = SIC_form_italian_confed }
				italy_recalculate_integration_decisions = yes
			}
			set_cosmetic_tag = SIC_ITA
			set_capital = { state = 2 }
			custom_effect_tooltip = SIC_may_now_acquire_cores
			every_state = {
				limit = { is_european_italy = yes }
				if = {
					limit = {
						owner = {
							is_italian_tag = yes
							is_subject_of = ROOT
						}
						is_claimed_by = SIC
					}
					hidden_effect = { remove_claim_by = SIC }
				}
				if = {
					limit = {
						owner = {
							is_italian_tag = yes
							is_subject_of = ROOT
						}
						NOT = { is_core_of = SIC }
					}
					add_core_of = SIC
				}
				if = {
					limit = {
						NOT = {
							owner = {
								is_italian_tag = yes
								is_subject_of = ROOT
							}
						}
						is_claim_or_core_of_ROOT = no
					}
					add_claim_by = SIC
				}
			}
			every_country = {
				limit = {
					is_italian_tag = yes
					is_subject_of = ROOT
				}
				every_unit_leader = { set_nationality = ROOT }
				ROOT = { annex_country = { target = PREV transfer_troops = yes } }
			}
			hidden_effect = {
				news_event = worldnews.221
				SWI = { country_event = { id = swiss.211 days = 4 random_days = 8 } } #Campione
				ITA_remove_italian_cores = yes
			}
			hidden_effect = {
				activate_targeted_decision = { target = ITA decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = SRD decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = PAP decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = VNC decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = EMI decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = TUS decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = LOM decision = SIC_invite_into_empire }
			}
		}
	}

	SIC_invite_into_empire = {
		icon = italy_flag

		allowed = { always = no }

		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = ITA_busy_inviting
				NOT = {
					has_country_flag = { flag = ITA_currently_inviting value > 0 }
				}
			}
			controls_all_owned_states = yes
			FROM = {
				if = {
					limit = { has_country_flag = ITA_ask_after_war_@ROOT }
					has_war = no
				}
				else = {
					controls_all_owned_states = yes
				}
			}
		}

		visible = {
			NOT = { country_exists = SRI }
			FROM = {
				exists = yes
				is_subject = no
				has_socialist_government = no
				if = {
					limit = { tag = ITA }
					NOT = { has_government = national_populist }
				}
				NOT = {
					has_country_flag = ITA_refuse_join_@ROOT
					is_justifying_wargoal_against = ROOT
					any_enemy_country = {
						is_italian_tag = yes
					}
				}
			}
		}

		fire_only_once = no
		cost = 100

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0.1
				NOT = { is_neighbor_of = FROM }
			}
			modifier = {
				factor = 0.1
				OR = {
					tag = ITA
					tag = SIC
					tag = SRD
					tag = PAP
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SIC_invite_into_empire target: [From.GetName]"
			set_country_flag = { flag = ITA_currently_inviting days = 30 value = 1 }
			country_event = sic.109
			FROM = {
				set_country_flag = { flag = ITA_considering_invite_@ROOT days = 30 value = 1 }
				hidden_effect = {
					country_event = sic.110
				}
			}
		}
	}

	SIC_form_italian_confed = {
		icon = italy_flag

		allowed = { tag = SIC }

		available = {
			custom_trigger_tooltip = {
				tooltip = SIC_three_italian_subjects
				count_triggers = {
					amount = 3
					OR = {
						has_subject = PAP
						any_owned_state = {
							is_core_of = PAP
							is_core_of = ROOT
						}
					}
					has_subject = ITA
					has_subject = SRD
					has_subject = VNC
					has_subject = EMI
					has_subject = TUS
					has_subject = LOM
				}
			}
			controls_all_owned_states = yes
			if = {
				limit = { country_exists = ITA }
				NOT = { has_war_with = ITA }
			}
			if = {
				limit = { country_exists = SRI }
				NOT = { has_war_with = SRI }
			}
			if = {
				limit = {
					NOT = { tag = SRD }
					country_exists = SRD
				}
				NOT = { has_war_with = SRD }
			}
			if = {
				limit = {
					NOT = { tag = SIC }
					country_exists = SIC
				}
				NOT = { has_war_with = SIC }
			}
		}

		visible = {
			is_subject = no
		NOT = {
		has_cosmetic_tag = SIC_ITA
		OR = {
			has_completed_focus = SIC_ride_the_tiger
			has_completed_focus = SIC_mafia_takeover
			has_completed_focus = SIC_NeoSanfedisti_coup
				}
			}
		}

		fire_only_once = yes
		cost = 0
		priority = 5
		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SIC_form_italian_confed"
			if = {
				limit = { tag = SIC }
				log = "KR_Event_Logging;Two Sicilies UNIFIES ITALY;[GetDateText]"
			}
			if = {
				limit = { tag = SRD }
				log = "KR_Event_Logging;Sardinia UNIFIES ITALY;[GetDateText]"
			}
			if = {
				limit = {
					has_global_flag = KR_italy_balance
					country_exists = SRI
				}
				custom_effect_tooltip = SRI_balance_will_be_broken
				clr_global_flag = KR_italy_balance
			}
			set_country_flag = SIC_confed
			hidden_effect = { remove_targeted_decision = { target = THIS decision = SIC_declare_italian_empire } }
			if = {
				limit = { tag = SIC }
				every_state = {
					limit = {
						is_european_italy = yes
						NOT = {
							state = 115 #Sicily
							state = 117 #Campania
							state = 156 #Calabria
							state = 742 #Abruzzo
							state = 837 #Apulia
						}
					}
					if = {
						limit = { is_claimed_by = ROOT }
						remove_claim_by = ROOT
					}
					hidden_effect = { clear_variable = ambition_area_@ROOT }
				}
				hidden_effect = {
					activate_targeted_decision = { target = ITA decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = SRD decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = PAP decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = VNC decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = EMI decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = TUS decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = LOM decision = SIC_invite_into_confed }
				}
			}
			if = {
				limit = { tag = SRD }
				every_state = {
					limit = {
						is_european_italy = yes
						NOT = {
							state = 114 #Sardinia
							state = 1003 #Aosta Valley
							state = 158 #Piedmont
							state = 838 #Liguria
							state = 762 #Nice
							state = 735 #Savoy
							state = 943 #Upper Savoy
						}
					}
					if = {
						limit = { is_claimed_by = ROOT }
						remove_claim_by = ROOT
					}
					hidden_effect = { clear_variable = ambition_area_@ROOT }
				}
				hidden_effect = {
					activate_targeted_decision = { target = ITA decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = SIC decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = PAP decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = VNC decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = EMI decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = TUS decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = LOM decision = SIC_invite_into_confed }
				}
			}
			hidden_effect = {
				every_country = {
					limit = {
						is_italian_tag = yes
						is_subject_of = ROOT
					}
					get_current_government_type = yes
					ROOT = {
						set_autonomy = {
							target = PREV
							autonomy_state = kr_federated_state
							end_wars = no
						}
					}
					restore_previous_government_type = yes
				}
			}
			if = {
				limit = {
					owns_state = 159
					NOT = { country_exists = LOM }
				}
				country_event = annex.285
			}
			if = {
				limit = {
					owns_state = 160
					NOT = { country_exists = VNC }
				}
				country_event = annex.286
			}
			if = {
				limit = {
					owns_state = 162
					NOT = { country_exists = TUS }
				}
				country_event = annex.287
			}
			if = {
				limit = {
					owns_state = 1004
					NOT = { country_exists = EMI }
				}
				country_event = annex.288
			}
			if = {
				limit = {
					owns_state = 158
					NOT = { country_exists = SRD }
				}
				country_event = annex.291
			}
			else_if = {
				limit = {
					owns_state = 114
					NOT = { country_exists = SRD }
				}
				country_event = annex.292
			}
			if = {
				limit = {
					OR = {
						owns_state = 117
						owns_state = 115
					}
					NOT = { country_exists = SIC }
				}
				country_event = annex.293
			}
			if = {
				limit = {
					PAP = { is_subject_of = ROOT }
				}
				every_owned_state = {
					limit = {
						OR = {
							state = 764 #Viterbo
							state = 1005 #Umbria
							state = 157 #Marche
							state = 161 #Romagna
							state = 1236 #San Marino
							state = 2 #Rome
							state = 1149 #Anzio
						}
					}
					transfer_state_to = PAP
					add_core_of = PAP
				}
			}
			if = {
				limit = {
					tag = SRD
					owns_state = 2
					NOT = { country_exists = PAP }
				}
				country_event = annex.289
			}

			hidden_effect = {
				save_event_target_as = uniter
				news_event = { id = worldnews.222 days = 1 }
				ITA_remove_italian_cores = yes
			}
		}
	}

	SIC_invite_into_confed = {
		icon = italy_flag

		allowed = { always = no }

		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = ITA_busy_inviting
				NOT = {
					has_country_flag = { flag = ITA_currently_inviting value > 0 }
				}
			}
			controls_all_owned_states = yes
			FROM = {
				if = {
					limit = { has_country_flag = ITA_ask_after_war_@ROOT }
					has_war = no
				}
				else = {
					controls_all_owned_states = yes
				}
			}
		}

		visible = {
			NOT = { country_exists = SRI }
			if = {
				limit = { FROM = { tag = SRD } }
				OR = {
					NOT = { owns_state = 158 }
					NOT = { owns_state = 838 }
				}
			}
			FROM = {
				exists = yes
				is_subject = no
				has_socialist_government = no
				if = {
					limit = { tag = ITA }
					NOT = { has_government = national_populist }
				}
				NOT = {
					has_country_flag = ITA_refuse_join_@ROOT
					has_country_flag = { flag = ITA_considering_invite_@ROOT value > 0 }
					is_justifying_wargoal_against = ROOT
					any_enemy_country = {
						is_italian_tag = yes
					}
				}
			}
		}

		fire_only_once = no
		cost = 100

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0.1
				NOT = { is_neighbor_of = FROM }
			}
			modifier = {
				factor = 0.1
				OR = {
					tag = ITA
					tag = SIC
					tag = SRD
					tag = PAP
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SIC_invite_into_confed target: [From.GetName]"
			set_country_flag = { flag = ITA_currently_inviting days = 30 value = 1 }
			country_event = sic.109
			FROM = {
				set_country_flag = { flag = ITA_considering_invite_@ROOT days = 30 value = 1 }
				hidden_effect = {
					country_event = sic.110
				}
			}
		}
	}

	SIC_offer_piedmont_to_SRD = {
		icon = generic_agreement
		allowed = { tag = SIC }

		available = {
			controls_all_owned_states = yes
			FROM = {
				if = {
					limit = { has_country_flag = ITA_ask_after_war_@ROOT }
					has_war = no
				}
				else = {
					controls_all_owned_states = yes
				}
			}
		}

		visible = {
			owns_state = 158
			owns_state = 838
			NOT = { has_country_flag = PIEDMONT_CONQ }
			FROM = {
				exists = yes
				is_subject = no
				NOT = {
					has_country_flag = ITA_refuse_join_@ROOT
					has_war_with = ROOT
				}
			}
		}

		target_root_trigger = {
			NOT = { has_country_flag = SIC_empire }
		}

		targets = { SRD }

		target_trigger = {
			FROM = {
				NOT = {
					has_country_flag = ITA_refuse_join_@ROOT
					has_war_with = ROOT
				}
			}
		}

		fire_only_once = no
		cost = 0

		ai_will_do = {
			factor = 200
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SIC_offer_piedmont_to_SRD target: [From.GetName]"
			set_country_flag = PIEDMONT_CONQ
			SRD = { country_event = sic.100 }
		}
	}

	#Core restoration

	# states 1, 114, 115, 116, 163 (Corsica, Sardinia, Sicily, Malta and Dalmatia) use italy_generic_gain_core_island below
	italy_generic_gain_core = {
		icon = infiltrate_state

		allowed = { always = no } #activated by scripted effect italy_recalculate_integration_decisions

		available = {
			has_full_control_of_state = FROM
			if = {
				limit = { FROM = { has_resistance = yes } }
				FROM = { compliance > 50 } #separate scopes for a clearer tooltip
				FROM = { resistance < 10 }
			}
			FROM = {
				custom_trigger_tooltip = {
					tooltip = italy_generic_neighbour_state_is_core
					any_neighbor_state = { is_core_of = ROOT }
				}
			}
		}

		cost = 30
		fire_only_once = no
		on_map_mode = map_and_decisions_view
		state_target = yes

		ai_will_do = {
			factor = 40
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete italy_generic_gain_core target: [From.GetName]"
			FROM = {
				hidden_effect = { remove_claim_by = ROOT }
				add_core_of = ROOT
				ITA_remove_italian_cores = yes
			}
			hidden_effect = {
				remove_targeted_decision = { decision = italy_generic_gain_core target = FROM }
				remove_targeted_decision = { decision = italy_generic_weaken_resistance target = FROM }
				remove_targeted_decision = { decision = italy_generic_increase_control target = FROM }
			}
		}
	}

	# for states 1, 114, 115, 116, 163 (Corsica, Sardinia, Sicily, Malta and Dalmatia) - islands or detached, so no neighbouring cores present
	italy_generic_gain_core_island = {
		name = italy_generic_gain_core
		icon = infiltrate_state

		allowed = { always = no } #activated by scripted effect italy_recalculate_integration_decisions

		available = {
			has_full_control_of_state = FROM
			if = {
				limit = { FROM = { has_resistance = yes } }
				FROM = { compliance > 50 } #separate scopes for a clearer tooltip
				FROM = { resistance < 10 }
			}
		}

		cost = 30
		fire_only_once = no
		on_map_mode = map_and_decisions_view
		state_target = yes

		ai_will_do = {
			factor = 40
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete italy_generic_gain_core_island target: [From.GetName]"
			FROM = {
				hidden_effect = { remove_claim_by = ROOT }
				add_core_of = ROOT
				ITA_remove_italian_cores = yes
			}
			hidden_effect = {
				remove_targeted_decision = { decision = italy_generic_gain_core_island target = FROM }
				remove_targeted_decision = { decision = italy_generic_weaken_resistance target = FROM }
				remove_targeted_decision = { decision = italy_generic_increase_control target = FROM }
			}
		}
	}

	italy_generic_weaken_resistance = {
		icon = generic_police_action

		allowed = { always = no } #activated by scripted effect italy_recalculate_integration_decisions

		available = {
			has_full_control_of_state = FROM
		}

		visible = {
			FROM = { resistance > 10 }
		}

		cancel_trigger = {
			OR = {
				NOT = { has_full_control_of_state = FROM }
				FROM = { has_resistance = no }
			}
		}

		custom_cost_text = FNG_600_inf_30_CP
		custom_cost_trigger = {
			command_power > 29.99
			has_equipment = { infantry_equipment > 599 }
		}

		days_remove = 30
		days_re_enable = 60
		fire_only_once = no
		on_map_mode = map_only
		state_target = yes

		modifier = {
			command_power_gain = -0.15
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				has_equipment = { infantry_equipment < 2000 }
			}
			modifier = {
				factor = 0
				has_war = yes
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete italy_generic_weaken_resistance target: [From.GetName]"
			hidden_effect = {
				add_command_power = -30
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = -600
				}
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel italy_generic_weaken_resistance target: [From.GetName]"
			hidden_effect = {
				add_command_power = 30
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 600
				}
				if = {
					limit = { FROM = { has_resistance = no } }
					remove_targeted_decision = { decision = italy_generic_weaken_resistance target = FROM }
					remove_targeted_decision = { decision = italy_generic_increase_control target = FROM }
				}
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove italy_generic_weaken_resistance target: [From.GetName]"
			FROM = {
				if = {
					limit = {
						OR = {
							state = 39
							state = 736
							state = 762
							state = 943
							state = 735
						}
					}
					add_resistance = -5
					add_resistance_target = {
						amount = -5
						tooltip = SRD_bolstered_military_presence
						days = 90
					}
				}
				else = {
					add_resistance = -10
					add_resistance_target = {
						amount = -10
						tooltip = SRD_bolstered_military_presence
						days = 90
					}
				}
				hidden_effect = { set_garrison_strength = 1.0 }
			}
		}
	}

	italy_generic_increase_control = {
		icon = generic_civil_support

		allowed = { always = no } #activated by scripted effect italy_recalculate_integration_decisions

		available = {
			has_full_control_of_state = FROM
		}

		visible = {
			FROM = { compliance < 90 }
		}

		cancel_trigger = {
			OR = {
				NOT = { has_full_control_of_state = FROM }
				FROM = { has_resistance = no }
			}
		}

		cost = 25
		days_remove = 30
		days_re_enable = 60
		on_map_mode = map_only
		state_target = yes

		modifier = {
			political_power_cost = 0.1
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				political_power_daily < 0.3
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel italy_generic_increase_control target: [From.GetName]"
			hidden_effect = {
				add_political_power = 25
				if = {
					limit = { FROM = { has_resistance = no } }
					remove_targeted_decision = { decision = italy_generic_weaken_resistance target = FROM }
					remove_targeted_decision = { decision = italy_generic_increase_control target = FROM }
				}
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove italy_generic_increase_control target: [From.GetName]"
			FROM = {
				if = {
					limit = {
						OR = {
							state = 39
							state = 736
							state = 762
							state = 943
							state = 735
						}
					}
					add_compliance = 5
				}
				else = {
					add_compliance = 10
				}
			}
		}
	}
}

ITA_occupation_decisions = {
	ITA_erode_italian_legitimacy = {
		icon = eng_propaganda_campaigns
		available = {
			FROM = {
				is_government_in_exile = yes
				has_legitimacy > 20
			}
		}

		visible = {
			is_subject = no
			OR = {
				tag = ITA
				tag = SRI
				tag = SIC
				tag = SRD
				any_allied_country = {
					OR = {
						tag = ITA
						tag = SRI
						tag = SIC
						tag = SRD
					}
				}
			}
			FROM = {
				exists = yes
				is_government_in_exile = yes
				has_war_with = ROOT
				has_legitimacy > 20
				is_in_faction = yes
				any_owned_state = { is_controlled_by_ROOT_or_ally = yes }
			}
		}

		fire_only_once = no
		days_remove = 30
		cost = 25

		target_root_trigger = { has_war = yes }

		targets = { ITA SRI SIC SRD PAP VNC EMI TUS LOM }

		target_trigger = {
			FROM = {
				is_government_in_exile = yes
				has_war_with = ROOT
				has_legitimacy > 20
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 20
				is_italian_tag = yes
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_erode_italian_legitimacy target: [From.GetName]"
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ITA_erode_italian_legitimacy target: [From.GetName]"
			if = {
				limit = { is_italian_tag = yes }
				FROM = {
					add_legitimacy = -30
					add_war_support = -0.15
				}
			}
			else = {
				FROM = {
					add_legitimacy = -15
					add_war_support = -0.05
				}
			}
		}
	}
}
SRI_fasci_decisions = {
	SRI_support_calabria = {
		allowed = {
			tag = SRI
		}
		available = {
			is_subject = no
		}
		visible = {
			tag = SRI
			has_completed_focus = SRI_expand_support
		}
		icon = GFX_decision_category_generic_propaganda

		cost = 20
		days_remove = 20
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_support_calabria"
			custom_effect_tooltip = SRI_peasant_support_tooltip
			hidden_effect = {
				add_stability = 0.05	
				add_popularity = {
					ideology = radical_socialist
					popularity = 0.02
				}
			}				
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_support_calabria"
		}
	}
	SRI_support_apulia = {
		allowed = {
			tag = SRI
		}
		available = {
			is_subject = no
		}
		visible = {
			tag = SRI
			has_completed_focus = SRI_expand_support
		}
		icon = GFX_decision_category_generic_propaganda

		cost = 20
		days_remove = 20
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_support_apulia"
			custom_effect_tooltip = SRI_peasant_support_tooltip
			hidden_effect = {
				add_stability = 0.05	
				add_popularity = {
					ideology = radical_socialist
					popularity = 0.02
				}
			}			
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_support_apulia"
		}
	}
	SRI_support_basilicata = {
		allowed = {
			tag = SRI
		}
		available = {
			is_subject = no
		}
		visible = {
			tag = SRI
			has_completed_focus = SRI_expand_support
		}
		icon = GFX_decision_category_generic_propaganda

		cost = 20
		days_remove = 20
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_support_basilicata"
			custom_effect_tooltip = SRI_peasant_support_tooltip
			hidden_effect = {
				add_stability = 0.05	
				add_popularity = {
					ideology = radical_socialist
					popularity = 0.02
				}
			}				
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_support_basilicata"
		}
	}
	SRI_support_campania = {
		allowed = {
			tag = SRI
		}
		available = {
			is_subject = no
		}
		visible = {
			tag = SRI
			has_completed_focus = SRI_expand_support
		}
		icon = GFX_decision_category_generic_propaganda

		cost = 20
		days_remove = 20
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_support_campania"
			custom_effect_tooltip = SRI_peasant_support_tooltip
			hidden_effect = {
				add_stability = 0.05	
				add_popularity = {
					ideology = radical_socialist
					popularity = 0.02
				}
			}			
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_support_campania"
		}
	}
	SRI_support_abruzzo = {
		allowed = {
			tag = SRI
		}
		available = {
			is_subject = no
		}
		visible = {
			tag = SRI
			has_completed_focus = SRI_expand_support
		}
		icon = GFX_decision_category_generic_propaganda

		cost = 20
		days_remove = 20
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_support_abruzzo"
			custom_effect_tooltip = SRI_peasant_support_tooltip
			hidden_effect = {
				add_stability = 0.05	
				add_popularity = {
					ideology = radical_socialist
					popularity = 0.02
				}
			}				
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_support_abruzzo"
		}
	}
}

ITA_tagswitches = {
	play_as_SRD = {
		icon = italy_flag

		available = {
			is_italian_tag = yes
			OR = {
				has_global_flag = KX_ITA_DIVIDED
				has_global_flag = KX_ITA_COMPLETLEY_FUCKED
			}
		}
		visible = {
			OR = {
				has_global_flag = KX_ITA_DIVIDED
				has_global_flag = KX_ITA_COMPLETLEY_FUCKED
			}
		}

		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout play_as_SRD"
			SRD = {
				change_tag_from = ROOT
			}
			set_country_flag = STAYED_AS_ITALIAN_TAG
			set_global_flag = ITALIAN_TAGSWITCHES_DISABLED
		}
	}
	play_as_SIC = {
		icon = italy_flag

		available = {
			is_italian_tag = yes
			OR = {
				has_global_flag = KX_ITA_DIVIDED
				has_global_flag = KX_ITA_COMPLETLEY_FUCKED
			}
		}
		visible = {
			OR = {
				has_global_flag = KX_ITA_DIVIDED
				has_global_flag = KX_ITA_COMPLETLEY_FUCKED
			}
		}

		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout play_as_SIC"
			SIC = {
				change_tag_from = ROOT
			}
			set_country_flag = STAYED_AS_ITALIAN_TAG
			set_global_flag = ITALIAN_TAGSWITCHES_DISABLED
		}
	}
	play_as_PAP = {
		icon = italy_flag

		available = {
			is_italian_tag = yes
			OR = {
				has_global_flag = KX_ITA_DIVIDED
				has_global_flag = KX_ITA_COMPLETLEY_FUCKED
			}
		}
		visible = {
			OR = {
				has_global_flag = KX_ITA_DIVIDED
				has_global_flag = KX_ITA_COMPLETLEY_FUCKED
			}
		}

		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout play_as_PAP"
			PAP = {
				change_tag_from = ROOT
			}
			set_country_flag = STAYED_AS_ITALIAN_TAG
			set_global_flag = ITALIAN_TAGSWITCHES_DISABLED
		}
	}
	play_as_VNC = {
		icon = italy_flag

		available = {
			is_italian_tag = yes
			has_global_flag = KX_ITA_COMPLETLEY_FUCKED
		}
		visible = {
			has_country_flag = KX_ITA_COMPLETLEY_FUCKED
		}

		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout play_as_VNC"
			VNC = {
				change_tag_from = ROOT
			}
			set_country_flag = STAYED_AS_ITALIAN_TAG
			set_global_flag = ITALIAN_TAGSWITCHES_DISABLED
		}
	}
	play_as_LOM = {
		icon = italy_flag

		available = {
			is_italian_tag = yes
			has_global_flag = KX_ITA_COMPLETLEY_FUCKED
		}
		visible = {
			has_country_flag = KX_ITA_COMPLETLEY_FUCKED
		}

		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout play_as_LOM"
			LOM = {
				change_tag_from = ROOT
			}
			set_country_flag = STAYED_AS_ITALIAN_TAG
			set_global_flag = ITALIAN_TAGSWITCHES_DISABLED
		}
	}
	play_as_TUS = {
		icon = italy_flag

		available = {
			is_italian_tag = yes
			has_global_flag = KX_ITA_COMPLETLEY_FUCKED
		}
		visible = {
			has_country_flag = KX_ITA_COMPLETLEY_FUCKED
		}

		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout play_as_TUS"
			TUS = {
				change_tag_from = ROOT
			}
			set_country_flag = STAYED_AS_ITALIAN_TAG
			set_global_flag = ITALIAN_TAGSWITCHES_DISABLED
		}
	}
	play_as_EMI = {
		icon = italy_flag

		available = {
			is_italian_tag = yes
			has_global_flag = KX_ITA_COMPLETLEY_FUCKED
		}
		visible = {
			has_country_flag = KX_ITA_COMPLETLEY_FUCKED
		}

		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout play_as_EMI"
			EMI = {
				change_tag_from = ROOT
			}
			set_country_flag = STAYED_AS_ITALIAN_TAG
			set_global_flag = ITALIAN_TAGSWITCHES_DISABLED
		}
	}
	stay_as_root = {
		icon = italy_flag

		available = {
			is_italian_tag = yes
			has_global_flag = KX_ITA_COMPLETLEY_FUCKED
		}
		visible = {
			has_country_flag = KX_ITA_COMPLETLEY_FUCKED
		}

		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout stay_as_root"
			set_country_flag = STAYED_AS_ITALIAN_TAG
			set_global_flag = ITALIAN_TAGSWITCHES_DISABLED
		}
	}
	italy_change_to_other_nation = {

		activation = {
			is_italian_tag = yes
			OR = {
				has_global_flag = KX_ITA_DIVIDED
				has_global_flag = KX_ITA_COMPLETLEY_FUCKED
			}
		}
		available = { has_country_flag = STAYED_AS_ITALIAN_TAG }

		days_mission_timeout = 20
		is_good = no
		fire_only_once = yes

		cancel_trigger = { is_ai = yes }

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout italy_change_to_other_nation"
			set_country_flag = STAYED_AS_ITALIAN_TAG
			clr_global_flag = KX_ITA_DIVIDED
			custom_effect_tooltip = italy_switch_to_other_nation
		}
	}
}


prospect_for_resources = {
	SIC_develop_campania_steel_mines = {
		icon = steel

		allowed = { always = no } #activated in history/general/italy_decisions

		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 2
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60
		state_target = yes

		modifier = {
			civilian_factory_use = 3
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SIC_develop_campania_steel_mines target: [From.GetName]"
			FROM = { set_state_flag = campania_steel_developed }
			add_resource = {
				type = steel
				amount = 12
				state = FROM
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 3
				has_political_power > 200
			}
			modifier = {
				factor = 5
				has_resources_in_country = {
					resource = steel
					amount < 1
				}
			}
		}
	}

	SIC_develop_campania_aluminium_mines = {
		icon = aluminium

		allowed = { always = no } #activated in history/general/italy_decisions

		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 2
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60
		state_target = yes

		modifier = {
			civilian_factory_use = 3
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SIC_develop_campania_aluminium_mines target: [From.GetName]"
			FROM = { set_state_flag = campania_aluminium_developed }
			add_resource = {
				type = aluminium
				amount = 20
				state = FROM
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 3
				has_political_power > 200
			}
			modifier = {
				factor = 5
				has_resources_in_country = {
					resource = aluminium
					amount < 1
				}
			}
		}
	}

	SRD_develop_cagliari_coal_mines = {
		icon = steel

		allowed = { always = no } #activated in history/general/italy_decisions

		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 2
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60
		state_target = yes

		modifier = {
			civilian_factory_use = 3
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRD_develop_cagliari_coal_mines target: [From.GetName]"
			set_global_flag = sardinia_coal_mines_developed
			add_resource = {
				type = steel
				amount = 12
				state = FROM
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 3
				has_political_power > 200
			}
			modifier = {
				factor = 5
				has_resources_in_country = {
					resource = steel
					amount < 1
				}
			}
		}
	}

	LOM_develop_lombardy_coal_mines = {
		icon = steel

		allowed = { always = no } #activated in history/general/italy_decisions

		available = {
			has_tech = excavation3
			num_of_civilian_factories_available_for_projects > 1
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60
		state_target = yes

		modifier = {
			civilian_factory_use = 2
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove LOM_develop_lombardy_coal_mines target: [From.GetName]"
			FROM = { set_state_flag = lombardy_coal_mines_developed }
			add_resource = {
				type = steel
				amount = 8
				state = FROM
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 3
				has_political_power > 200
			}
			modifier = {
				factor = 5
				has_resources_in_country = {
					resource = steel
					amount < 1
				}
			}
		}
	}

	TUS_develop_tuscany_coal_mines = {
		icon = steel

		allowed = { always = no } #activated in history/general/italy_decisions

		available = {
			has_tech = excavation3
			num_of_civilian_factories_available_for_projects > 1
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60
		state_target = yes

		modifier = {
			civilian_factory_use = 2
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TUS_develop_tuscany_coal_mines target: [From.GetName]"
			FROM = { set_state_flag = tuscany_coal_mines_developed }
			add_resource = {
				type = steel
				amount = 8
				state = FROM
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 3
				has_political_power > 200
			}
			modifier = {
				factor = 5
				has_resources_in_country = {
					resource = steel
					amount < 1
				}
			}
		}
	}
}

