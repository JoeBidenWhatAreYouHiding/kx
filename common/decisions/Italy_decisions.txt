
political_actions = {
	
	SRI_garibaldi_flag_picker = {
		icon = generic_form_nation
		allowed = {	original_tag = SRI	}

		visible = {
			is_ai = no
			has_country_leader = { ruling_only = yes name = "Giuseppe Garibaldi II" }
			NOT = { has_cosmetic_tag = ITA_LATIN }
		}
		cost = 0
		fire_only_once = no
		days_re_enable = 1
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_garibaldi_flag_picker"
			country_event = socitaly.220
		}
	}

	SRI_begin_the_cultural_revolution = {# Begin the Cultural Revolution
		icon = generic_political_discourse
		allowed = { original_tag = SRI }
		available = {
			has_country_flag = SRI_italy_unified_flag
		}
		visible = {
			has_completed_focus = SRI_cement_chairmans_power
			has_socialist_government = yes
		}
		fire_only_once = yes
		cost = 80
		ai_will_do = { factor = 70 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_begin_the_cultural_revolution"
			SRI = {	country_event = socitaly.111 }
		}
	}
	
	SRD_pack_the_courts = {# Pack the Courts
		icon = generic_political_discourse
		allowed = { always = no }
		fire_only_once = yes
		cost = 50
		ai_will_do = { factor = 100 }
		days_remove = 30
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRD_pack_the_courts"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRD_pack_the_courts"
			SRD = {
				SRD_weaken_opposition_effect = yes
			}
		}
	}

	SRD_request_french_help = {# Request French Help
		icon = generic_political_discourse
		allowed = { always = no }
		fire_only_once = yes
		cost = 80
		ai_will_do = { factor = 100 }
		days_remove = 30
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRD_request_french_help"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRD_request_french_help"
			SRD = {
				SRD_weaken_opposition_effect = yes
			}
		}
	}

	SRD_enable_internal_exiles = {# Expand Internal Exiling Procedures
		icon = generic_political_discourse
		allowed = { always = no }
		fire_only_once = yes
		cost = 50
		ai_will_do = { factor = 100 }
		days_remove = 30
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRD_enable_internal_exiles"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRD_enable_internal_exiles"
			SRD = {
				SRD_weaken_opposition_effect = yes
			}
		}
	}

	SRD_terminate_rival_cliques = {# Terminate Rival Cliques
		icon = generic_political_discourse
		allowed = { always = no }
		fire_only_once = yes
		custom_cost_trigger = {
			command_power > 20
			has_manpower > 1000
		}
		custom_cost_text = SWI_1000_manpower_20_cp
		ai_will_do = { factor = 100 }
		days_remove = 30
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRD_terminate_rival_cliques"
			hidden_effect = {
				add_command_power = -20
				add_manpower = -1000
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRD_terminate_rival_cliques"
			SRD = {
				SRD_weaken_opposition_effect = yes
			}
		}
	}

	SIC_neosanfedisti_into_the_world = {# Activate Neosanfedisti Diplomacy
		icon = generic_political_discourse
		allowed = { original_tag = SIC }
		available = {
			is_subject = no
			is_in_faction = no
			has_government = paternal_autocrat
		}
		visible = {
			has_completed_focus = SIC_Holy_Italia
			has_government = paternal_autocrat
		}
		fire_only_once = yes
		cost = 80
		ai_will_do = { factor = 70 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SIC_neosanfedisti_into_the_world"
			country_event = itaforpol.2
		}
	}
}

economy_decisions = {
	SRI_civ_in_piedmont = {
		icon = generic_industry
		allowed = {tag = SRI }
		highlight_states = {
			highlight_state_targets = { state = 158 }
		}
		available = {
			num_of_civilian_factories_available_for_projects > 2
			controls_state = 158
		}
		visible = {
			has_completed_focus = SRI_expand_ilva
			owns_state = 158
		}
		modifier = {
			civilian_factory_use = 3
		}
		fire_only_once = yes
		cost = 25
		days_remove = 90
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRI_civ_in_piedmont"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_civ_in_piedmont"
			158 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_civ_in_liguria = {
		icon = generic_industry
		allowed = {tag = SRI }
		highlight_states = {
			highlight_state_targets = { state = 838 }
		}
		available = {
			num_of_civilian_factories_available_for_projects > 2
			controls_state = 838
		}
		visible = {
			has_completed_focus = SRI_expand_ilva
			owns_state = 838
		}
		modifier = {
			civilian_factory_use = 3
		}
		fire_only_once = yes
		cost = 25
		days_remove = 90
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRI_civ_in_liguria"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_civ_in_liguria"
			838 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_civ_in_tuscany = {
		icon = generic_industry
		allowed = {tag = SRI }
		highlight_states = {
			highlight_state_targets = { state = 162 }
		}
		available = {
			num_of_civilian_factories_available_for_projects > 2
			controls_state = 162
		}
		visible = {
			has_completed_focus = SRI_expand_ilva
			owns_state = 162
		}
		modifier = {
			civilian_factory_use = 3
		}
		fire_only_once = yes
		cost = 25
		days_remove = 90
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRI_civ_in_tuscany"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_civ_in_tuscany"
			162 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_piedmont = {
		icon = ger_military_buildup
		allowed = {tag = SRI }
		highlight_states = {
			highlight_state_targets = { state = 158 }
		}
		available = {
			num_of_civilian_factories_available_for_projects > 2
			controls_state = 158
		}
		visible = {
			has_completed_focus = SRI_commissione_armi_e_munizioni
			owns_state = 158
		}
		modifier = {
			civilian_factory_use = 3
		}
		fire_only_once = yes
		cost = 25
		days_remove = 90
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRI_mil_in_piedmont"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_piedmont"
			158 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_romagna = {
		icon = ger_military_buildup
		allowed = {tag = SRI }
		highlight_states = {
			highlight_state_targets = { state = 161 }
		}
		available = {
			num_of_civilian_factories_available_for_projects > 2
			controls_state = 161
		}
		visible = {
			has_completed_focus = SRI_commissione_armi_e_munizioni
			owns_state = 161
		}
		modifier = {
			civilian_factory_use = 3
		}
		fire_only_once = yes
		cost = 25
		days_remove = 90
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRI_mil_in_romagna"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_romagna"
			161 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_emilia = {
		icon = ger_military_buildup
		allowed = {tag = SRI }
		highlight_states = {
			highlight_state_targets = { state = 1004 }
		}
		available = {
			num_of_civilian_factories_available_for_projects > 2
			controls_state = 1004
		}
		visible = {
			has_completed_focus = SRI_commissione_armi_e_munizioni
			owns_state = 1004
		}
		modifier = {
			civilian_factory_use = 3
		}
		fire_only_once = yes
		cost = 25
		days_remove = 90
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRI_mil_in_emilia"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_emilia"
			1004 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_umbria = {
		icon = ger_military_buildup
		allowed = {tag = SRI }
		highlight_states = {
			highlight_state_targets = { state = 1005 }
		}
		available = {
			num_of_civilian_factories_available_for_projects > 2
			controls_state = 1005
		}
		visible = {
			has_completed_focus = SRI_commissione_armi_e_munizioni
			owns_state = 1005
		}
		modifier = {
			civilian_factory_use = 3
		}
		fire_only_once = yes
		cost = 25
		days_remove = 90
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRI_mil_in_umbria"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_umbria"
			1005 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_synth_in_liguria = {
		icon = oil
		allowed = {tag = SRI }
		highlight_states = {
			highlight_state_targets = { state = 838 }
		}
		available = {
			has_tech = synth_oil_experiments
			num_of_civilian_factories_available_for_projects > 3
			controls_state = 838
		}
		visible = {
			has_completed_focus = SRI_agip_operations_in_romagna
			owns_state = 838
		}
		modifier = {
			civilian_factory_use = 4
		}
		fire_only_once = yes
		cost = 100
		days_remove = 120
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRI_synth_in_liguria"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_synth_in_liguria"
			838 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_fuel_in_piedmont = {
		icon = oil
		allowed = {tag = SRI }
		highlight_states = {
			highlight_state_targets = { state = 158 }
		}
		available = {
			num_of_civilian_factories_available_for_projects > 2
			controls_state = 158
		}
		visible = {
			has_completed_focus = SRI_agip_operations_in_romagna
			owns_state = 158
		}
		modifier = {
			civilian_factory_use = 3
		}
		fire_only_once = yes
		cost = 50
		days_remove = 90
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRI_fuel_in_piedmont"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_fuel_in_piedmont"
			158 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_radar_in_liguria = {
		icon = GFX_decision_radar
		allowed = {tag = SRI }
		highlight_states = {
			highlight_state_targets = { state = 838 }
		}
		available = {
			has_tech = radio_detection
			num_of_civilian_factories_available_for_projects > 2
			controls_state = 838
		}
		visible = {
			has_completed_focus = SRI_adopt_the_gufo
			owns_state = 838
		}
		modifier = {
			civilian_factory_use = 3
		}
		fire_only_once = yes
		cost = 25
		days_remove = 90
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRI_radar_in_liguria"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_radar_in_liguria"
			838 = {
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_radar_in_ancona = {
		icon = GFX_decision_radar
		allowed = {tag = SRI }
		highlight_states = {
			highlight_state_targets = { state = 157 }
		}
		available = {
			has_tech = radio_detection
			num_of_civilian_factories_available_for_projects > 2
			controls_state = 157
		}
		visible = {
			has_completed_focus = SRI_adopt_the_gufo
			owns_state = 157
		}
		modifier = {
			civilian_factory_use = 3
		}
		fire_only_once = yes
		cost = 25
		days_remove = 90
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRI_radar_in_ancona"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_radar_in_ancona"
			157 = {
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_emilia2 = {
		icon = ger_military_buildup
		allowed = {tag = SRI }
		highlight_states = {
			highlight_state_targets = { state = 1004 }
		}
		available = {
			controls_state = 1004
			num_of_civilian_factories_available_for_projects > 2
		}
		visible = {
			controls_state = 1004
			has_completed_focus = SRI_commissione_armi_e_munizioni
		}
		modifier = {
			civilian_factory_use = 3
		}
		fire_only_once = yes
		cost = 50
		days_remove = 90
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRI_mil_in_emilia2"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_emilia2"
			1004 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	SRI_mil_in_marches2 = {
		icon = ger_military_buildup
		allowed = {tag = SRI }
		highlight_states = {
			highlight_state_targets = { state = 157 }
		}
		available = {
			controls_state = 157
			num_of_civilian_factories_available_for_projects > 2
		}
		visible = {
			controls_state = 157
			has_completed_focus = SRI_commissione_armi_e_munizioni
		}
		modifier = {
			civilian_factory_use = 3
		}
		fire_only_once = yes
		cost = 50
		days_remove = 90
		ai_will_do = { factor = 50 }
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRI_mil_in_marches2"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_mil_in_marches2"
			157 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
}

ITA_foreign_policy = {# Foreign Policy Stuff
	SRI_join_the_intl = {
		icon = generic_political_discourse

		available = {
			OR = {
				has_global_flag = second_weltkrieg_has_started
				custom_trigger_tooltip = {
					tooltip = SRI_balance_broken
					NOT = { has_global_flag = KR_italy_balance }
				}
			}
			if = {
				limit = { FROM = { has_war = yes } }
				FROM = {
					NOT = { has_capitulated = yes }
				}
			}
		}

		visible = {
			is_in_faction = no
			has_socialist_government = yes
			NOT = { has_country_flag = SRI_refused_intl_membership }
			FROM = {
				exists = yes
				has_socialist_government = yes
				is_faction_leader = yes
			}
			NOT = {
			OR = {
					has_country_leader = { ruling_only = yes name = "Giuseppe Garibaldi II" }
				    has_country_leader = { ruling_only = yes name = "Amedeo I" }
				}
			}
		}

		targets = { INT }
		target_root_trigger = { is_in_faction = no }
		target_trigger = {
			FROM = {
				has_socialist_government = yes
				is_faction_leader = yes
			}
		}

		cost = 0
		fire_only_once = yes

		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				NOT = { country_exists = FRA }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_join_the_intl"
			clr_global_flag = KR_italy_balance
			FROM = { country_event = comfrance.169 }
		}
	}

	ITA_call_for_help = {
		icon = generic_agreement
		allowed = {
			OR = {
				tag = ITA
				tag = LOM
				tag = VNC
			}
		}

		available = {
			FROM = { has_war = no }
			if = {
				limit = { has_country_flag = attacked_SRI_first }
				ROOT = { surrender_progress > 0.30 }
			}
		}

		visible = {
			is_subject = no
			is_in_faction = no
			NOT = { has_government = national_populist }
			if = {
				limit = { tag = VNC }
				SRI = {
					NOT = { has_war_with = LOM }
				}
			}
			FROM = {
				exists = yes
				is_subject = no
				is_in_faction = no
				NOT = { has_war_with = ROOT }
			}
		}


		target_root_trigger = {
			has_war_with = SRI
		}

		targets = { SIC }

		target_trigger = {
			FROM = {
				exists = yes
				is_subject = no
				is_in_faction = no
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = no
		days_re_enable = 365
		cost = 0

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_call_for_help target: [From.GetName]"
			FROM = {
				country_event = { id = sic.104 days = 1 }
			}
		}
	}

	SIC_call_for_help = {
		icon = generic_agreement
		allowed = { tag = SIC }

		available = {
			FROM = { has_war = no }
			if = {
				limit = { has_country_flag = attacked_SRI_first }
				ROOT = { surrender_progress > 0.30 }
			}
		}

		visible = {
			is_subject = no
			is_in_faction = no
			FROM = {
				exists = yes
				is_subject = no
				is_in_faction = no
				NOT = { has_government = national_populist }
				NOT = { has_war_with = ROOT }
			}
		}

		target_root_trigger = {
			has_war_with = SRI
		}

		targets = { ITA }

		target_trigger = {
			FROM = {
				exists = yes
				is_subject = no
				is_in_faction = no
				NOT = { has_government = national_populist }
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = no
		days_re_enable = 365
		cost = 0

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SIC_call_for_help target: [From.GetName]"
			FROM = {
				country_event = { id = sic.104 days = 1 }
			}
		}
	}
	
	SIC_join_austria = {
		icon = generic_nationalism

		allowed = { tag = SIC }

		available = {
			OR = {
				has_global_flag = second_weltkrieg_has_started
				custom_trigger_tooltip = {
					tooltip = SRI_balance_broken
					OR = {
						NOT = { country_exists = ITA }
						NOT = { has_global_flag = KR_italy_balance }
					}
				}
			}
			at_peace_or_same_enemies_as_FROM = yes
			OR = {
				FROM = { is_faction_leader = yes }
				GER = {
					is_faction_leader = yes
					is_in_faction_with = FROM #wartime merge
				}
			}
		}

		visible = {
			is_in_faction = no
			is_subject = no
			has_socialist_government = no
			FROM = {
				is_subject = no
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
				OR = {
					is_faction_leader = yes
					AND = {
						is_in_faction_with = GER
						has_country_flag = AUS_intervened_in_weltkrieg
					}
				}
			}
			NOT = {
				has_country_flag = SIC_evola_still_rules
			has_completed_focus = SIC_NeoSanfedisti_coup
			has_country_flag = { flag = SIC_considering_faction value > 0 }
			}
		}

		target_root_trigger = {
			is_in_faction = no
		}

		targets = { AUS }

		target_trigger = {
			FROM = {
				is_subject = no
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SIC_join_austria target: [From.GetName]"
			set_country_flag = { flag = SIC_considering_faction days = 2 value = 1 }
			FROM = { country_event = sic.37 }
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				has_country_flag = { flag = ITA_recent_peace days < 30 }
			}
			modifier = {
				factor = 0
				has_global_flag = { flag = second_weltkrieg_has_started days < 30 }
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
			}
			modifier = {
				factor = 0
				NOT = {
					date > 1938.1.1
					has_war_with = ITA
				}
			}
			modifier = {
				factor = 0
				country_exists = ITA
				FROM = {
					is_in_faction_with = ITA
					NOT = { has_war_with = ITA }
				}
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_AUSTRIA } }
			}
			modifier = {
				factor = 0
				country_exists = ITA
				FROM = {
					has_war = yes
					NOT = { has_war_with = ITA }
				}
			}
			modifier = {
				factor = 0
				country_exists = ITA
				FROM = {
					NOT = { has_war_with = ITA }
					ITA = {
						exists = yes
						is_subject = no
						NOT = { has_government = national_populist }
					}
				}
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_AUSTRIA } }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_REICHSPAKT }
					has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_ENTENTE }
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					is_in_faction_with = ITA
					has_war_with = ITA
				}
				OR = {
					GER = {
						is_faction_leader = yes
						surrender_progress < 0.10
						has_war_with = ITA
					}
					ENT = {
						is_faction_leader = yes
						surrender_progress < 0.10
						has_war_with = ITA
					}
				}
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_AUSTRIA } }
			}
			modifier = {
				factor = 2
				FROM = { has_war_with = SRI }
			}
			modifier = {
				factor = 1.5
				FROM = { has_country_flag = sicilian_reengage }
			}
			modifier = {
				factor = 0.2
				FROM = { has_country_flag = sicilian_disengage }
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_AUSTRIA } }
			}
			modifier = {
				factor = 0.1
				has_government = national_populist
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_AUSTRIA } }
			}
		}
	}

	SIC_join_entente = {
		icon = generic_nationalism

		allowed = { tag = SIC }

		available = {
			OR = {
				has_global_flag = second_weltkrieg_has_started
				custom_trigger_tooltip = {
					tooltip = SRI_balance_broken
					OR = {
						NOT = { country_exists = ITA }
						NOT = { has_global_flag = KR_italy_balance }
					}
				}
			}
			NOT = {
			SRI = {
			is_in_faction_with = ENT
				}
			}
			at_peace_or_same_enemies_as_FROM = yes
		}

		visible = {
			is_in_faction = no
			is_subject = no
			has_socialist_government = no
			FROM = {
				is_faction_leader = yes
				is_in_faction_with = NFA
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
			NOT = {
				has_country_flag = SIC_evola_still_rules
			has_completed_focus = SIC_NeoSanfedisti_coup
			has_country_flag = { flag = SIC_considering_faction value > 0 }
			}
		}

		target_root_trigger = {
			is_in_faction = no
		}

		targets = { ENT }

		target_trigger = {
			FROM = {
				is_faction_leader = yes
				is_in_faction_with = NFA
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SIC_join_entente target: [From.GetName]"
			set_country_flag = { flag = SIC_considering_faction days = 6 value = 1 }
			FROM = { country_event = sic.31 }
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				has_country_flag = { flag = ITA_recent_peace days < 30 }
			}
			modifier = {
				factor = 0
				has_global_flag = { flag = second_weltkrieg_has_started days < 30 }
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
			}
			modifier = {
				factor = 0
				NOT = {
					date > 1938.1.1
					has_war_with = ITA
				}
			}
			modifier = {
				factor = 0
				country_exists = ITA
				FROM = {
					has_war = yes
					NOT = { has_war_with = ITA }
				}
			}
			modifier = {
				factor = 0
				country_exists = ITA
				FROM = {
					NOT = { has_war_with = ITA }
					ITA = {
						exists = yes
						is_subject = no
						NOT = { has_government = national_populist }
					}
				}
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_ENTENTE } }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_AUSTRIA }
					has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_REICHSPAKT }
				}
			}
			modifier = {
				factor = 2
				FROM = { has_war_with = ITA }
			}
			modifier = {
				factor = 0.75
				FROM = { has_war_with = ITA }
				GER = {
					is_faction_leader = yes
					surrender_progress < 0.10
					has_war_with = ITA
				}
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_ENTENTE } }
			}
			modifier = {
				factor = 0.5
				NOT = { has_government = national_populist }
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_ENTENTE } }
			}
		}
	}

	SIC_join_reichspakt = {
		icon = generic_nationalism

		allowed = { tag = SIC }

		available = {
			OR = {
				has_global_flag = second_weltkrieg_has_started
				custom_trigger_tooltip = {
					tooltip = SRI_balance_broken
					OR = {
						NOT = { country_exists = ITA }
						NOT = { has_global_flag = KR_italy_balance }
					}
				}
			}
			at_peace_or_same_enemies_as_FROM = yes
		}

		visible = {
			is_in_faction = no
			is_subject = no
			has_socialist_government = no
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
			NOT = {
				has_country_flag = SIC_evola_still_rules
			has_completed_focus = SIC_NeoSanfedisti_coup
			has_country_flag = { flag = SIC_considering_faction value > 0 }
			}
		}

		target_root_trigger = {
			is_in_faction = no
		}

		targets = { GER }

		target_trigger = {
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SIC_join_reichspakt target: [From.GetName]"
			set_country_flag = { flag = SIC_considering_faction days = 6 value = 1 }
			FROM = { country_event = sic.34 }
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				has_country_flag = { flag = ITA_recent_peace days < 30 }
			}
			modifier = {
				factor = 0
				has_global_flag = { flag = second_weltkrieg_has_started days < 30 }
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
			}
			modifier = {
				factor = 0
				NOT = {
					date > 1938.1.1
					has_war_with = ITA
				}
			}
			modifier = {
				factor = 0
				country_exists = ITA
				FROM = {
					has_war = yes
					NOT = { has_war_with = ITA }
				}
			}
			modifier = {
				factor = 0
				country_exists = ITA
				FROM = {
					NOT = { has_war_with = ITA }
					ITA = {
						exists = yes
						is_subject = no
						NOT = { has_government = national_populist }
					}
				}
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_REICHSPAKT } }
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_AUSTRIA }
					has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_ENTENTE }
				}
			}
			modifier = {
				factor = 2
				FROM = { has_war_with = ITA }
			}
			modifier = {
				factor = 0.1
				has_government = national_populist
				NOT = { has_game_rule = { rule = SIC_foreign_policy option = SIC_FOREIGN_POLICY_REICHSPAKT } }
			}
		}
	}
	
	SIC_leave_alliance = {
		icon = generic_nationalism

		allowed = { tag = SIC }

		available = {
			has_government = national_populist
			OR = {
				has_country_leader = { ruling_only = yes name = "Julius Evola" }
				has_country_leader = { ruling_only = yes name = "Victor Emmanuel III" }
				has_country_leader = { ruling_only = yes name = "Umberto II" }
			}
			is_in_faction = yes 
		}

		visible = {
			is_in_faction = yes
			is_subject = no
			has_socialist_government = no
			FROM = {
				is_faction_leader = yes
				NOT = { has_socialist_government = yes }
				NOT = { has_war_with = ROOT }
			}
		}

		target_trigger = {
			FROM = {
				is_faction_leader = yes
				NOT = { has_socialist_government = yes }
				NOT = { has_war_with = ROOT }
				is_in_faction_with = SIC
			}
		}

		fire_only_once = yes

		cost = freedec?0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SIC_leave_alliance target: [From.GetName]"
			FROM = {
				add_opinion_modifier = { target = SIC modifier = medium_decrease }
			}
			leave_faction = yes
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
			}
			modifier = {
				factor = 2
				FROM = { has_war_with = SRI }
			}
			modifier = {
				factor = 0
				country_exists = SRI
				FROM = {
					has_war = yes
					NOT = { has_war_with = SRI }
				}
			}
			modifier = {
				factor = 0
				country_exists = SRI
				FROM = {
					NOT = { has_war_with = SRI }
					ITA = {
						exists = yes
						is_subject = no
						NOT = { has_government = national_populist }
					}
				}
			}
		}
	}

	ITA_attack_austria = {
		icon = generic_prepare_civil_war
		allowed = { tag = ITA }

		available = {
			ROOT = {
				is_subject = no
				NOT = { has_idea = ITA_austrian_influence }
				if = {
					limit = {
						owns_state = 160
						has_country_flag = ITA_venice_will_rebel
					}
					custom_trigger_tooltip = {
						tooltip = ITA_venetian_dissent_eliminated
						NOT = { has_country_flag = ITA_venice_will_rebel }
					}
				}
				else_if = {
					limit = { has_country_flag = ITA_venice_will_rebel }
					owns_state = 160
				}
				controls_all_owned_states = yes
				if = {
					limit = {
						NOT = { has_government = national_populist }
					}
					OR = {
						is_in_faction = no
						is_faction_leader = yes
					}
				}
			}
			can_declare_war_on = AUS
		}

		visible = {
			OR = {
				has_cosmetic_tag = ITA_republic
				has_government = national_populist
				783 = { is_claimed_by = ROOT }
				736 = { is_claimed_by = ROOT }
			}
			AUS = {
				exists = yes
				NOT = { has_war_with = ROOT }
				owns_state = 783
				owns_state = 736
			}
		}

		fire_only_once = yes
		cost = 0
		days_remove = 20
		war_with_on_remove = AUS
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				AUS = { is_in_faction_with = GER }
			}
			modifier = {
				factor = 0
				AUS = {
					is_subject = no
					is_faction_leader = yes
					surrender_progress < 0.10
					NOT = {
						has_war_with = GER
						has_war_with = RUS
						has_war_with = HUN
						has_war_with = SER
						has_war_with = ROM
						has_war_with = POL
					}
				}
				NOT = {
					strength_ratio = { tag = AUS ratio > 1.2 }
					SER = { has_country_flag = waiting_to_attack_austria }
					ROM = { has_country_flag = waiting_to_attack_austria }
					POL = { has_country_flag = waiting_to_attack_austria }
				}
			}
			modifier = {
				factor = 0
				FROM = {
					set_temp_variable = { strength = num_divisions }
					clamp_temp_variable = { var = strength min = 1 }
					if = {
						limit = { HUN = { is_ally_with = FROM } }
						add_to_temp_variable = { strength = HUN.num_divisions }
					}
					if = {
						limit = { CZE = { is_ally_with = FROM } }
						add_to_temp_variable = { strength = CZE.num_divisions }
					}
					if = {
						limit = { GAL = { is_ally_with = FROM } }
						add_to_temp_variable = { strength = GAL.num_divisions }
					}
					if = {
						limit = { CRO = { is_ally_with = FROM } }
						add_to_temp_variable = { strength = CRO.num_divisions }
					}
					set_temp_variable = { my_strength = ROOT.num_divisions }
					clamp_temp_variable = { var = my_strength min = 1 }
					divide_temp_variable = { strength = my_strength }
					check_variable = { strength > 0.9 }
					NOT = {
						surrender_progress > 0.10
						HUN = {
							is_ally_with = PREV
							surrender_progress > 0.30
						}
						has_war_with = RUS
						has_war_with = POL
						has_war_with = CZE
					}
				}
			}
			modifier = {
				factor = 5
				OR = {
					AUS = { has_war_with = HUN }
					SER = { has_country_flag = waiting_to_attack_austria }
					ROM = { has_country_flag = waiting_to_attack_austria }
					POL = { has_country_flag = waiting_to_attack_austria }
				}
			}
			modifier = {
				factor = 10
				has_country_flag = waiting_to_attack_austria
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_attack_austria"
			add_war_support = 0.10
			if = {
				limit = { gives_military_access_to = AUS }
				AUS = {
					diplomatic_relation = {
						country = ITA
						relation = military_access
						active = no
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ITA_attack_austria"
			declare_war_on = {
				target = AUS
				type = annex_everything
			}
			if = {	
				limit = { country_exists = VNC }
				declare_war_on = {
					target = VNC
					type = annex_everything
				}
			}
		}
	}

	ITA_war_with_venice1 = {
		icon = generic_prepare_civil_war
		allowed = { tag = ITA }

		highlight_states = { highlight_state_targets = { state = 160 } }

		available = {
			160 = { is_owned_and_controlled_by = ITA }
		}

		activation = {
			has_war_with = VNC
			has_government = national_populist
			has_country_flag = ITA_venice_will_rebel
			is_subject = no
			is_in_faction = no
		}

		selectable_mission = yes
		fire_only_once = yes
		is_good = no
		cost = 0
		days_mission_timeout = 120

		cancel_trigger = {
			NOT = { has_war_with = VNC }
			NOT = { controls_state = 160 }
		}

		ai_will_do = {
			factor = 200
		}

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout ITA_war_with_venice1"
			set_country_flag = ITA_venice_war_timeout
			if = {
				limit = {
					AUS = {
						exists = yes
						is_subject = no
						has_socialist_government = no
						NOT = { has_war_with = ITA }
					}
				}
				AUS = { country_event = italianrepublic.30 }
			}
			else_if = {
				limit = {
					SRI = {
						exists = yes
						is_subject = no
						has_socialist_government = yes
						NOT = { has_war_with = ITA }
					}
				}
				SRI = { country_event = italianrepublic.33 }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_war_with_venice1"
			VNC = { clr_country_flag = VNC_republican_revolt }
			clr_country_flag = ITA_venice_will_rebel
			add_stability = 0.10
			add_political_power = 100
		}
	}

	ITA_war_with_venice2 = {
		icon = generic_prepare_civil_war
		allowed = { tag = ITA }

		highlight_states = { highlight_state_targets = { state = 160 } }

		available = {
			160 = { is_owned_and_controlled_by = ITA }
		}

		activation = {
			has_war_with = VNC
			has_government = national_populist
			has_country_flag = ITA_venice_will_rebel
			has_country_flag = ITA_venice_war_timeout
			is_subject = no
			is_in_faction = no
		}

		selectable_mission = yes
		fire_only_once = yes
		is_good = no
		cost = 0
		days_mission_timeout = 240

		cancel_trigger = {
			NOT = { has_war_with = VNC }
			NOT = { controls_state = 160 }
		}

		ai_will_do = {
			factor = 200
		}

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout ITA_war_with_venice2"
			country_event = italianrepublic.40
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_war_with_venice2"
			VNC = { clr_country_flag = VNC_republican_revolt }
			clr_country_flag = ITA_venice_will_rebel
			clr_country_flag = ITA_venice_war_timeout
			add_stability = 0.10
			add_political_power = 100
		}
	}

	ITA_join_belgrade_pact = {
		icon = generic_political_discourse

		allowed = { tag = ITA }

		available = {
			OR = {
				NOT = { country_exists = SRI }
				has_global_flag = second_weltkrieg_has_started
				ROOT = { has_war_with = AUS }
			}
			ROOT = {
				OR = {
					has_war = no
					custom_trigger_tooltip = {
						tooltip = USA_same_wars_as_FROM
						has_war = yes
						any_enemy_country = { has_war_with = FROM }
					}
				}
			}
			FROM = {
				OR = {
					has_war = no
					has_capitulated = no
				}
			}
		}

		visible = {
			is_in_faction = no
			is_subject = no
			has_global_flag = balkan_war_ended
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
			AUS = {
				any_owned_state = {
					is_claim_or_core_of_ROOT = yes
				}
			}
		}

		target_root_trigger = {
			has_government = national_populist
		}

		targets = { SER }

		target_trigger = {
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_join_belgrade_pact target: [From.GetName]"
			FROM = {
				country_event = sic.37
			}
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
			}
			modifier = {
				factor = 5
				FROM = { has_war_with = AUS }
			}
		}
	}

	SRI_Join_Phalanstere = {
		icon = generic_research
		allowed = { original_tag = SRI }
		available = {
			NOT = { is_in_tech_sharing_group = phalanstere_research }
		}
		visible = {
			has_global_flag = FRA_created_phalanstere
			NOT = {
			OR = {
					has_country_leader = { ruling_only = yes name = "Giuseppe Garibaldi II" }
				    has_country_leader = { ruling_only = yes name = "Amedeo I" }
				}
			}
		}
		fire_only_once = yes
		cost = 0
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_Join_Phalanstere"
			add_to_tech_sharing_group = phalanstere_research
		}
		ai_will_do = {
			factor = 5
		}
	}

	SRI_Assist_Damocles_Project = {
		icon = generic_research
		allowed = { original_tag = SRI }
		available = { has_country_flag = SRI_pisa_pile_1 }
		visible = {
			ENG = { has_completed_focus = ENG_westminster_project }
			has_socialist_government = yes
			is_in_faction_with = ENG
		}
		fire_only_once = yes
		cost = 50
		days_remove = 150
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_Assist_Damocles_Project"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_Assist_Damocles_Project"
			if = {
				limit = {
					NOT = { has_tech = atomic_research }
					NOT = { is_researching_technology = atomic_research }
				}
				add_tech_bonus = {
					bonus = 0.5
					uses = 1
					technology = atomic_research
				}
				add_breakthrough_progress = {
					specialization = specialization_nuclear
					value = 0.25
				}
			}
			else = {
				add_breakthrough_progress = {
					specialization = specialization_nuclear
					value = 0.75
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
	}

	PAP_declare_independence_from_SIC = {
		icon = generic_prepare_civil_war
		allowed = { tag = PAP }
		available = {
			PAP = {
				OR = {
					has_completed_focus = PAP_legionary_spirit
					has_completed_focus = PAP_palatine_guard
				}
				NOT = { has_country_flag = PAP_black_monday }
				controls_all_owned_states = yes
			}
		}
		visible = {
			is_subject_of = SIC
		}

		cost = 100
		fire_only_once = yes

		ai_will_do = {
			factor = 0
			modifier = {
				add = 10
				has_war = no
				has_army_manpower = { size > 50000 }
				NOT = {
					country_exists = SRI
					SIC = { has_country_flag = SIC_confed }
					SRD = { has_country_flag = SIC_confed }
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision PAP_declare_independence_from_SIC"
			add_stability = -0.10
			set_country_flag = ITA_refuse_join_@SIC
			SIC = {
				set_autonomy = { target = PAP autonomy_state = autonomy_free }
			}
			if = {
				limit = { is_in_faction = yes }
				every_country = {
					limit = {
						NOT = { tag = PAP }
						NOT = { tag = SIC }
						is_in_faction_with = PAP
					}
					add_opinion_modifier = { target = PAP modifier = KR_disapproves_of_govt }
				}
				leave_faction = yes
			}
				separate_peace_all_wars = yes
			SIC = {
				country_event = { id = papalstate.50 hours = 8 }
			}
		}
	}
	
	ITA_claim_libya = {
		icon = generic_form_nation

		allowed = {
			OR = {
				tag = ITA
				tag = SIC
				tag = SRD
				tag = SRI
				tag = PAP
				tag = VNC
				tag = LOM
			}
		}

		available = {
			is_subject = no
				can_declare_war_on = 448.owner
			}

		visible = {
			ITA_has_irridentist_focus = yes
			has_completed_focus = ITA_Claim_Libya
			448 = {
				owner = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			OR = {
				tag = ITA
				tag = SIC
				tag = SRD
				tag = PAP
				AND = {
					tag = SRI
					OR = {
					has_country_leader = { ruling_only = yes name = "Giuseppe Garibaldi II" }
				    has_country_leader = { ruling_only = yes name = "Amedeo I" }
					}
				}
			}
		}

		fire_only_once = yes
		cost = 100

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				has_country_flag = SIC_confed
			}
			modifier = {
				factor = 0
				NOT = {
					has_government = national_populist
					has_country_flag = SIC_empire
					has_completed_focus = SRD_italia_riunita
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_claim_libya"
			set_country_flag = ITA_claimed_libya
			LBA = { every_core_state = { add_claim_by = ROOT } }
			TRP = { every_core_state = { add_claim_by = ROOT } }
			custom_effect_tooltip = tooltip_white_line
			if = {
				limit = { has_subject = LBA }
				annex_country = {
					target = LBA
					transfer_troops = no
				}
			}
			if = {
				limit = { has_subject = TRP }
				annex_country = {
					target = TRP
					transfer_troops = no
				}
			}
			set_temp_variable = { target = ROOT }
			every_subject_country = {
				limit = {
					any_owned_state = { region = 238 }
					NOT = { tag = LBA }
					NOT = { tag = TRP }
				}
				every_owned_state = {
					limit = {
						OR = {
							is_core_of = LBA
							is_core_of = TRP
						}
					}
					transfer_state_during_war = yes
				}
			}
			every_other_country = {
				limit = {
					any_owned_state = {
						region = 238 #Tripolitania
						is_claim_or_core_of_PREV = yes
					}
					NOT = { is_subject_of = ROOT }
				}
				country_event = italianrepublic.175
				if = {
					limit = { is_subject = yes }
					overlord = { country_event = italianrepublic.175 }
				}
			}
		}
	}

	ITA_war_for_libya = {
		icon = generic_prepare_civil_war

		allowed = {
			OR = {
				tag = ITA
				tag = SIC
				tag = SRD
				tag = SRI
				tag = PAP
				tag = VNC
				tag = LOM
			}
		}

		visible = {
				is_subject = no
			can_declare_war_on = FROM
			FROM = {
				NOT = { is_subject_of = TUR }
				NOT = { is_subject_of = EGY }
				NOT = { is_subject_of = PER }
			}
		}

		cost = 0
		days_remove = 25
		fire_only_once = yes
		war_with_target_on_remove = yes
		cancel_if_not_visible = yes

		target_root_trigger = {
			has_country_flag = ITA_claimed_libya
		}

		targets = { LBA TRP }

		target_trigger = {
			can_declare_war_on = FROM
			FROM = {
				NOT = { is_subject_of = TUR }
				NOT = { is_subject_of = EGY }
				NOT = { is_subject_of = PER }
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				ROOT_is_threatened_cautious = yes
			}
			modifier = {
				factor = 0
				has_navy_size = { size < 200 type = convoy }
			}
			modifier = {
				factor = 0
				NOT = { has_tech = landing_craft }
				NOT = { has_tech = mtg_landing_craft }
			}
			modifier = {
				factor = 0
				OR = {
					FROM = { dont_start_major_faction_wars = yes }
					FROM = { default_attack_AI_trigger_FROM = yes }
				}
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel ITA_war_for_libya target: [From.GetName]"
			clear_decision_attack_AI = yes
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_war_for_libya target: [From.GetName]"
			add_war_support = 0.10
			setup_decision_attack_AI = yes
			FROM = { incoming_war_notification_effect = yes }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ITA_war_for_libya target: [From.GetName]"
			set_country_flag = ITA_libya_war_@FROM
			set_country_flag = ITA_war_for_libya
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}

	ITA_demand_libya = {
		icon = generic_prepare_civil_war

		allowed = {
			OR = {
				tag = ITA
				tag = SIC
				tag = SRD
				tag = PAP
				tag = VNC
				tag = LOM
			}
		}

		available = {
			OR = {
				448 = { is_owned_and_controlled_by = FROM }
				450 = { is_owned_and_controlled_by = FROM }
				451 = { is_owned_and_controlled_by = FROM }
				AND = {
					has_subject = LBA
					LBA = { has_capitulated = no }
				}
				AND = {
					has_subject = TRP
					TRP = { has_capitulated = no }
				} 
			}
		}

		visible = {
			is_subject = no
			can_declare_war_on = FROM
			FROM = {
				is_subject = no
				OR = {
					owns_state = 448
					has_subject = LBA
					has_subject = TRP
				}
			}
		}

		fire_only_once = yes
		cost = 0

		target_root_trigger = {
			has_country_flag = ITA_claimed_libya
		}

		targets = { TUR EGY PER }

		target_trigger = {
			can_declare_war_on = FROM
			FROM = {
				is_subject = no
				OR = {
					owns_state = 448
					has_subject = LBA
					has_subject = TRP
				}
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				ROOT_is_threatened_cautious = yes
			}
			modifier = {
				factor = 0
				has_navy_size = { size < 200 type = convoy }
			}
			modifier = {
				factor = 0
				NOT = { has_tech = landing_craft }
				NOT = { has_tech = mtg_landing_craft }
			}
			modifier = {
				factor = 0
				OR = {
					FROM = { dont_start_major_faction_wars = yes }
					FROM = { default_attack_AI_trigger_FROM = yes }
				}
			}
		}


		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_demand_libya target: [From.GetName]"
			FROM = {
				country_event = { id = italianrepublic.176 days = 1 }
			}
		}
	}
	
	ITA_claim_east_africa = {
		icon = generic_form_nation

		allowed = {
			OR = {
				tag = ITA
				tag = SIC
				tag = SRD
				tag = SRI
				tag = PAP
			}
		}

		available = {
			is_subject = no
			has_completed_focus = ITA_Claim_East_Africa
			custom_trigger_tooltip = {
				tooltip = ITA_can_war_for_east_africa
				can_declare_war_on = 550.owner
			}
		}

		visible = {
			has_completed_focus = ITA_Claim_East_Africa
			ITA_has_irridentist_focus = yes
			550 = {
				owner = {
					NOT = {
						tag = ROOT
						is_subject_of = ROOT
					}
				}
			}
			OR = {
				tag = ITA
				tag = SIC
				tag = SRD
				tag = PAP
				AND = {
					tag = SRI
					OR = {
					has_country_leader = { ruling_only = yes name = "Giuseppe Garibaldi II" }
				    has_country_leader = { ruling_only = yes name = "Amedeo I" }
					}
				}
			}
		}

		fire_only_once = yes
		cost = 100

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				has_country_flag = SIC_confed
			}
			modifier = {
				factor = 0
				NOT = {
					has_government = national_populist
					has_country_flag = SIC_empire
					has_completed_focus = SRD_italia_riunita
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_claim_libya"
			set_country_flag = ITA_claimed_east_africa
			every_state = {
				limit = {
					is_core_of = ETH
					is_not_claim_or_core_of_ROOT = yes
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = ERI
					is_not_claim_or_core_of_ROOT = yes
				}
				add_claim_by = ROOT
			}
			every_state = {
				limit = {
					is_core_of = SOM
					is_not_claim_or_core_of_ROOT = yes
				}
				add_claim_by = ROOT
			}
			268 = { add_claim_by = ROOT }
			550 = {
				owner = {
					country_event = italianrepublic.187
					if = {
						limit = { is_subject = yes }
						overlord = { country_event = italianrepublic.187 }
					}
				}
			}
		}
	}
	
	ITA_war_for_east_africa = {
		icon = generic_prepare_civil_war

		allowed = {
			OR = {
				tag = ITA
				tag = SIC
				tag = SRD
				tag = SRI
				tag = PAP
			}
		}

		available = {
			ITA_has_irridentist_focus = yes
			has_completed_focus = ITA_Claim_East_Africa
			has_country_flag = ITA_claimed_east_africa
			ROOT = {
				is_subject = no
				controls_all_owned_states = yes
			}
			can_declare_war_on = FROM
		}

		visible = {
			ITA_has_irridentist_focus = yes
			has_completed_focus = ITA_Claim_East_Africa
			has_country_flag = ITA_claimed_east_africa
			FROM = {
				NOT = {
					has_war_with = ROOT
					is_subject_of = TUR
					is_subject_of = EGY
					is_subject_of = PER
					is_subject_of = ROOT
				}
			}
		}

		fire_only_once = yes
		cost = 0
		days_remove = 20
		war_with_target_on_remove = yes

		target_root_trigger = {
			has_country_flag = ITA_claimed_east_africa
		}

		targets = { ETH SOM ERI DJI }

		target_trigger = {
			FROM = {
				NOT = {
					has_war_with = ROOT
					is_subject_of = TUR
					is_subject_of = EGY
					is_subject_of = PER
					is_subject_of = ROOT
				}
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				is_in_faction = yes
				is_faction_leader = no
			}
			modifier = {
				factor = 0
				has_navy_size = { size < 200 type = convoy }
			}
			modifier = {
				factor = 0
				NOT = { has_tech = landing_craft }
			}
			modifier = {
				factor = 0
				is_in_faction = no
				FROM = { is_in_faction_with = EGY }
				strength_ratio = { tag = EGY ratio < 2.5 }
			}
			modifier = {
				factor = 0
				OR = {
					has_war = yes
					strength_ratio = { tag = FROM ratio < 1.0 }
					# neither of us is in a faction and FROM is stronger
					AND = {
						FROM = {
							is_in_faction = no
							is_subject = no
						}
						is_in_faction = no
						strength_ratio = { tag = FROM ratio < 1.5 }
					}
					# they're in a faction which is not at war
					FROM = {
						OR = {
							is_in_faction = yes
							is_subject = yes
						}
						has_war = no
						NOT = { is_in_faction_with = EGY }
					}
					# they're in a faction which is at war but not with a major and not losing
					FROM = {
						is_in_faction = yes
						has_war = yes
						NOT = {
							is_in_faction_with = EGY
							any_enemy_country = {
								OR = {
									tag = GER
									tag = RUS
									tag = FRA
								}
							}
							surrender_progress > 0.10
							faction_leader = {
								surrender_progress > 0.20
							}
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_war_for_libya target: [From.GetName]"
			add_war_support = 0.10
			hidden_effect = {
				add_ai_strategy = {
					type = prepare_for_war
					id = FROM
					value = 1000
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = 1000
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ITA_war_for_libya target: [From.GetName]"
			create_wargoal = {
					target = FROM
					type = annex_everything
			}
			hidden_effect = {
				add_ai_strategy = {
					type = prepare_for_war
					id = FROM
					value = -1000
				}
				FROM = {
					add_ai_strategy = {
						type = prepare_for_war
						id = ROOT
						value = -1000
					}
				}
			}
		}
	}
	
	ITA_form_east_africa = {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = 271 } }
		
		available = {
			owns_state = 271
			owns_state = 550
			owns_state = 559
			ITA_has_irridentist_focus = yes
			has_completed_focus = ITA_Claim_East_Africa
			has_country_flag = ITA_claimed_east_africa
			ETH = {
				exists = no
			}
			SOM = {
				exists = no
			}
			ERI = {
				exists = no
			}
		}

		visible = {
			OR = {
				tag = ITA
				tag = SIC
				tag = SRD
				tag = PAP
				AND = {
					tag = SRI
					OR = {
					has_country_leader = { ruling_only = yes name = "Giuseppe Garibaldi II" }
				    has_country_leader = { ruling_only = yes name = "Amedeo I" }
					}
				}
			}
			ITA_has_irridentist_focus = yes
			has_completed_focus = ITA_Claim_East_Africa
			has_country_flag = ITA_claimed_east_africa
		}
		
		allowed = {
			OR = {
			tag = ITA
			tag = SIC
			tag = SRD
			tag = SRI
			tag = PAP
			}
		}
		fire_only_once = yes
		
		cost = 100
		days_remove = 0
		fire_only_once = yes
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled ITA_form_east_africa target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_form_east_africa target: [From.GetName]"
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ITA_form_east_africa target: [From.GetName]"
			release_puppet = ETH
			FROM = {
			set_autonomy = {
				target = ETH
				autonomous_state = kx_colored_puppet
				}
			}
			ETH = {
			load_focus_tree = generic_focus
			set_politics = {
				ruling_party = paternal_autocrat
				elections_allowed = no
			}
			add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.50
			}
			create_country_leader = {
				name = "Rodolfo Graziani"
				desc = ""
				picture = "gfx/leaders/ITA/Portrait_ITA_Rodolfo_Graziani.png"
				expire = "1.1.1"
				ideology = autocratic_colonial_govt_subtype
				traits = {
					}
				}
				set_party_name = {
				ideology = paternal_autocrat
				long_name = "Governatore Generale della Africa Orientale Italiana"
				name = "Governatore Generale della Africa Orientale Italiana"
				}
				every_state = {
				limit = { is_core_of = SOM }
				add_core_of = ETH
					}
				every_state = {
				limit = { is_core_of = ERI }
				add_core_of = ETH
					}
				268 = { add_core_of = ETH }
				1279 = { add_core_of = ETH }
				every_core_state = {
				limit = {
				OR = {
						is_owned_by = SIC
						is_owned_by = ITA
						is_owned_by = SRD
						is_owned_by = ETH
							}
						}
				set_state_owner_to = ETH
				}
			}
			if = {
				limit = {
				NOT = {
				has_country_leader = { ruling_only = yes name = "Galeazzo Ciano" }
				has_country_leader = { ruling_only = yes name = "Victor Emmanuel III" }
				has_country_leader = { ruling_only = yes name = "Umberto II" }
				has_country_leader = { ruling_only = yes name = "Amedeo I" }
				has_country_leader = { ruling_only = yes name = "Ferdinando III" }
						}
				}
				ETH = { set_cosmetic_tag = ITA_EAST_AFRICA }
				}
				else_if = {
				limit = {
				OR = {
				has_country_leader = { ruling_only = yes name = "Galeazzo Ciano" }
				has_country_leader = { ruling_only = yes name = "Luigi Amedeo I" }
				has_country_leader = { ruling_only = yes name = "Eugenio I" }
				has_country_leader = { ruling_only = yes name = "Victor Emmanuel III" }
				has_country_leader = { ruling_only = yes name = "Umberto II" }
				AND = {
				has_country_leader = { ruling_only = yes name = "Amedeo I" }
				NOT = { tag = SRD }
				}
						}
					}
					ETH = { set_cosmetic_tag = ITA_EAST_AFRICA_KING }	
				}
				else_if = {
				limit = {
				is_ai = no
				OR = {
				has_country_leader = { ruling_only = yes name = "Giuseppe I" }
				has_country_leader = { ruling_only = yes name = "Pietro Ferdinando I" }
				has_country_leader = { ruling_only = yes name = "Goffredo I" }
						}
				}
				ETH = { set_cosmetic_tag = ITA_EAST_AFRICA_HABSBURG }
				}
				else_if = {
				limit = {
				has_country_leader = { ruling_only = yes name = "Ferdinando III" }
				}
				ETH = { set_cosmetic_tag = ITA_EAST_AFRICA_BOURBON }
				}
				else_if = {
				limit = {
				has_country_leader = { ruling_only = yes name = "Calogero Vizzini" }
				}
				ETH = { set_cosmetic_tag = ITA_EAST_AFRICA_MAFIA }
				}
				else_if = {
				limit = {
				has_country_leader = { ruling_only = yes name = "Renato Ziggiotti" }
				}
				ETH = { set_cosmetic_tag = ITA_EAST_AFRICA_ZIGGI }
				}
				else_if = {
				limit = {
				has_country_leader = { ruling_only = yes name = "Ferdinando III" }
				}
				ETH = { set_cosmetic_tag = ITA_EAST_AFRICA_BOURBON }
				}
				else_if = {
				limit = {
					tag = SRD
				has_country_leader = { ruling_only = yes name = "Amedeo I" }
						}
						ETH = { set_cosmetic_tag = ITA_EAST_AFRICA_KING_SRD }		
				}
				else_if = {
				limit = {
				has_country_leader = { ruling_only = yes name = "Giuseppe Garibaldi II" }
					}
					ETH = { set_cosmetic_tag = ITA_EAST_AFRICA_GARIBALDI }
				}
		}
	}
	
	ITA_form_libya = {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = 448 } }
		
		available = {
			owns_state = 451
			owns_state = 448
			owns_state = 663
			owns_state = 450
			ITA_has_irridentist_focus = yes
			has_completed_focus = ITA_Claim_Libya
			has_country_flag = ITA_claimed_libya
			LBA = {
				exists = no
			}
			TRP = {
				exists = no
			}
		}

		visible = {
			OR = {
				tag = ITA
				tag = SIC
				tag = SRD
				tag = PAP
				AND = {
					tag = SRI
					OR = {
					has_country_leader = { ruling_only = yes name = "Giuseppe Garibaldi II" }
				    has_country_leader = { ruling_only = yes name = "Amedeo I" }
					}
				}
			}
			ITA_has_irridentist_focus = yes
			has_completed_focus = ITA_Claim_Libya
			has_country_flag = ITA_claimed_libya
		}
		
		allowed = {
			OR = {
			tag = ITA
			tag = SIC
			tag = SRD
			tag = SRI
			tag = PAP
			}
		}
		fire_only_once = yes
		
		cost = 100
		days_remove = 0
		fire_only_once = yes
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled ITA_form_libya target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_form_libya target: [From.GetName]"
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ITA_form_libya target: [From.GetName]"
			release_puppet = LBA
			FROM = {
			set_autonomy = {
				target = LBA
				autonomous_state = kx_colored_puppet
				}
			}
			LBA = {
			load_focus_tree = generic_focus
			set_politics = {
				ruling_party = paternal_autocrat
				elections_allowed = no
			}
			add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.50
			}
			create_country_leader = {
				name = "Ettore Bastico"
				desc = ""
				picture = "gfx/leaders/ITA/Portrait_ITA_Ettore_Bastico_KX.png"
				expire = "1.1.1"
				ideology = autocratic_colonial_govt_subtype
				traits = {
					}
				}
				set_party_name = {
				ideology = paternal_autocrat
				long_name = "Governatore Generale della Libia Italiana"
				name = "Governatore Generale della Libia Italiana"
				}
				every_state = {
				limit = { is_core_of = TRP }
				add_core_of = LBA
					}
				450 = { add_core_of = LBA }
				665 = { add_core_of = LBA }
				458 = { add_core_of = LBA }
				every_core_state = {
				limit = {
				OR = {
						is_owned_by = SIC
						is_owned_by = SRD
						is_owned_by = ITA
						is_owned_by = LBA
						is_owned_by = TRP
							}
						}
				set_state_owner_to = LBA
				}
			}
			    if = {
				limit = {
				NOT = {
				has_country_leader = { ruling_only = yes name = "Galeazzo Ciano" }
				has_country_leader = { ruling_only = yes name = "Victor Emmanuel III" }
				has_country_leader = { ruling_only = yes name = "Umberto II" }
				has_country_leader = { ruling_only = yes name = "Amedeo I" }
				has_country_leader = { ruling_only = yes name = "Ferdinando III" }
						}
				}
				LBA = { set_cosmetic_tag = ITA_LIBYA }
				}
				else_if = {
				limit = {
				OR = {
				has_country_leader = { ruling_only = yes name = "Galeazzo Ciano" }
				has_country_leader = { ruling_only = yes name = "Luigi Amedeo I" }
				has_country_leader = { ruling_only = yes name = "Eugenio I" }
				has_country_leader = { ruling_only = yes name = "Victor Emmanuel III" }
				has_country_leader = { ruling_only = yes name = "Umberto II" }
				AND = {
				has_country_leader = { ruling_only = yes name = "Amedeo I" }
				NOT = { tag = SRD }
				}
			    }
			    }
				LBA = { set_cosmetic_tag = ITA_LIBYA_KING }	
				}
				else_if = {
				limit = {
				is_ai = no
				OR = {
				has_country_leader = { ruling_only = yes name = "Giuseppe I" }
				has_country_leader = { ruling_only = yes name = "Pietro Ferdinando I" }
				has_country_leader = { ruling_only = yes name = "Goffredo I" }
						}
				}
				LBA = { set_cosmetic_tag = ITA_LIBYA_HABSBURG }
				}
				else_if = {
				limit = {
				has_country_leader = { ruling_only = yes name = "Ferdinando III" }
				}
				LBA = { set_cosmetic_tag = ITA_LIBYA_BOURBON }
				}
				else_if = {
				limit = {
				has_country_leader = { ruling_only = yes name = "Calogero Vizzini" }
				}
				LBA = { set_cosmetic_tag = ITA_LIBYA_MAFIA }
				}
				else_if = {
				limit = {
				has_country_leader = { ruling_only = yes name = "Renato Ziggiotti" }
				}
				LBA = { set_cosmetic_tag = ITA_LIBYA_ZIGGI }
				}
				else_if = {
				limit = {
				has_country_leader = { ruling_only = yes name = "Ferdinando III" }
				}
				LBA = { set_cosmetic_tag = ITA_LIBYA_BOURBON }
				}
				else_if = {
				limit = {
					tag = SRD
				has_country_leader = { ruling_only = yes name = "Amedeo I" }
						}
						LBA = { set_cosmetic_tag = ITA_LIBYA_KING_SRD }		
				}
				else_if = {
				limit = {
				has_country_leader = { ruling_only = yes name = "Giuseppe Garibaldi II" }
					}
					LBA = { set_cosmetic_tag = ITA_LIBYA_GARIBALDI }
				}
		}
	}
	
	SRI_unite_spain = {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = 41 } }
		
		available = {
			owns_state = 41
			owns_state = 176
			owns_state = 165
			ITA_has_irridentist_focus = yes
			CAR = {
				exists = no
			}
			CNT = {
				exists = no
			}
			SPR = {
				exists = no
			}
		}

		visible = {
			OR = {
				tag = ITA
				tag = SRD
				AND = {
					tag = SRI
					OR = {
				    has_country_leader = { ruling_only = yes name = "Amedeo I" }
					}
				}
			}
			ITA_has_irridentist_focus = yes
			has_country_flag = SRI_amadeo_spain
		}
		
		allowed = {
			OR = {
			tag = ITA
			tag = SRD
			tag = SRI
			}
		}
		fire_only_once = yes
		
		cost = 100
		days_remove = 0
		fire_only_once = yes
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled ITA_form_east_africa target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_form_east_africa target: [From.GetName]"
		}
		
		remove_effect = {
		country_event = socitaly.226
		}
	}
	
	ITA_unite_spain = {
		icon = generic_form_nation
		highlight_states = { highlight_state_targets = { state = 41 } }
		
		available = {
			owns_state = 41
			owns_state = 176
			owns_state = 165
			ITA_has_irridentist_focus = yes
			CAR = {
				exists = no
			}
			CNT = {
				exists = no
			}
			SPR = {
				exists = no
			}
		}

		visible = {
			tag = ITA
			ITA_has_irridentist_focus = yes
			has_country_flag = ITA_amadeo_spain
		}
		
		allowed = {
			tag = ITA
		}
		fire_only_once = yes
		
		cost = 100
		days_remove = 0
		fire_only_once = yes
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled ITA_unite_spain target: [From.GetName]"
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_unite_spain target: [From.GetName]"
		}
		
		remove_effect = {
		country_event = italianrepublic.208
		}
	}
	
	ITA_war_for_albania = {
		icon = generic_prepare_civil_war
		highlight_states = { highlight_state_targets = { state = 44 } }
		
		available = {
			owns_state = 1105
			owns_state = 103
			owns_state = 163
			owns_state = 1206
			owns_state = 1098
			owns_state = 1270
			ITA_has_irridentist_focus = yes
		}

		visible = {
			OR = {
				tag = ITA
				tag = SRD
				tag = SRI
				tag = SIC
				tag = PAP
			}
			ITA_has_irridentist_focus = yes
		}
		
		allowed = {
			OR = {
			tag = ITA
			tag = SRD
			tag = SRI
			tag = SIC
			tag = PAP
			}
		}
		fire_only_once = yes
		
		cost = 75
		days_remove = 0
		fire_only_once = yes
		
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				ALB = { is_in_faction_with = AUS }
			}
			modifier = {
				factor = 0
				ALB = { is_in_faction_with = ENT }
			}
			modifier = {
				factor = 0
				ALB = { is_guaranteed_by = AUS }
			}
		}
		
		cancel_if_not_visible = yes
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancelled ITA_war_for_albania target: [From.GetName]"
		}

		complete_effect = {
			create_wargoal = {
			type = annex_everything
			target = ALB
			}
			log = "[GetDateText]: [Root.GetName]: Decision ITA_war_for_albania target: [From.GetName]"
		}
		
		remove_effect = {
		}
	}

	LOM_join_faction = {
		icon = generic_nationalism

		allowed = { tag = LOM }

		available = {
			OR = {
				has_global_flag = second_weltkrieg_has_started
				custom_trigger_tooltip = {
					tooltip = SRI_balance_broken
					OR = {
						has_war_with = SRI
						NOT = { country_exists = SRI }
						NOT = { has_global_flag = KR_italy_balance }
					}
				}
			}
			ROOT = {
				OR = {
					has_completed_focus = LOM_place_in_the_world
					has_completed_focus = LOM_lombard_constitution
				}
				OR = {
					has_war = no
					custom_trigger_tooltip = {
						tooltip = USA_same_wars_as_FROM
						has_war = yes
						any_enemy_country = { has_war_with = FROM }
					}
				}
			}
			FROM = {
				OR = {
					has_war = no
					has_capitulated = no
				}
			}
		}

		visible = {
			is_in_faction = no
			is_subject = no
			has_socialist_government = no
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
			if = {
				limit = {
					FROM = {
						OR = {
							tag = AUS
							tag = GER
						}
					}
				}
				NOT = { has_completed_focus = LOM_golden_ambrosia }
			}
			if = {
				limit = { FROM = { tag = SER } }
				has_completed_focus = LOM_republican_cause
				has_global_flag = balkan_war_ended
				AUS = { owns_state = 783 }
			}
			NOT = {
				has_country_flag = { flag = LOM_considering_faction value > 0 }
			}
		}

		target_root_trigger = {
			is_in_faction = no
		}

		targets = { AUS GER SER }

		target_trigger = {
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision LOM_join_faction target: [From.GetName]"
			set_country_flag = { flag = LOM_considering_faction days = 6 value = 1 }
			FROM = {
				country_event = sic.37
			}
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				FROM = { tag = AUS }
				NOT = { has_country_flag = LOM_constitutional_monarchy }
			}
			modifier = {
				factor = 2
				FROM = { tag = AUS }
				has_country_flag = LOM_constitutional_monarchy
			}
			modifier = {
				factor = 0
				FROM = { tag = GER }
				has_idea = ITA_austrian_influence
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
			}
			modifier = {
				factor = 0
				NOT = {
					date > 1938.1.1
					has_war = yes
				}
			}
			modifier = {
				factor = 2
				FROM = { has_war_with = SRI }
			}
			modifier = {
				factor = 5
				FROM = { has_war_with = AUS }
				has_completed_focus = LOM_republican_cause
			}
			modifier = {
				factor = 0
				country_exists = SRI
				FROM = {
					has_war = yes
					NOT = {
						has_war_with = SRI
						has_war_with = AUS
					}
				}
			}
		}
	}

	VNC_join_faction = {
		icon = generic_nationalism

		allowed = { tag = VNC }

		available = {
			OR = {
				has_global_flag = second_weltkrieg_has_started
				custom_trigger_tooltip = {
					tooltip = SRI_balance_broken
					OR = {
						has_war_with = SRI
						NOT = { country_exists = SRI }
						NOT = { has_global_flag = KR_italy_balance }
					}
				}
			}
			OR = {
				has_completed_focus = VNC_foreign
				has_completed_focus = VNC_stato_da_mar
			}
			at_peace_or_same_enemies_as_FROM = yes
			FROM = {
				OR = {
					has_war = no
					has_capitulated = no
				}
			}
		}

		visible = {
			is_in_faction = no
			is_subject = no
			has_socialist_government = no
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
			if = {
				limit = {
					FROM = { tag = AUS }
				}
				NOT = { has_completed_focus = VNC_stato_da_mar }
			}
			if = {
				limit = { FROM = { tag = SER } }
				has_completed_focus = VNC_stato_da_mar
				has_global_flag = balkan_war_ended
				AUS = {
					owns_state = 736
				}
			}
			NOT = {
				has_country_flag = { flag = VNC_considering_faction value > 0 }
			}
		}

		target_root_trigger = {
			is_in_faction = no
		}

		targets = { AUS GER ENT SER }

		target_trigger = {
			FROM = {
				is_faction_leader = yes
				has_socialist_government = no
				NOT = { has_war_with = ROOT }
			}
		}

		fire_only_once = yes

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision VNC_join_faction target: [From.GetName]"
			set_country_flag = { flag = VNC_considering_faction days = 6 value = 1 }
			FROM = {
				country_event = sic.37
			}
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				FROM = { tag = AUS }
				has_authoritarian_government = yes
			}
			modifier = {
				factor = 2
				FROM = { tag = AUS }
				has_elected_government = yes
			}
			modifier = {
				factor = 0
				FROM = {
					OR = {
						tag = GER
						tag = CAN
					}
				}
				has_idea = ITA_austrian_influence
			}
			modifier = {
				factor = 0
				FROM = { surrender_progress > 0.20 }
			}
			modifier = {
				factor = 0
				NOT = {
					date > 1938.1.1
					has_war = yes
				}
			}
			modifier = {
				factor = 0.5
				FROM = { tag = CAN }
				country_exists = SIC
				NOT = { SIC = { is_in_faction_with = CAN } }
			}
			modifier = {
				factor = 2
				FROM = { has_war_with = SRI }
			}
			modifier = {
				factor = 5
				FROM = { has_war_with = AUS }
				has_completed_focus = VNC_stato_da_mar
			}
			modifier = {
				factor = 0
				country_exists = SRI
				FROM = {
					has_war = yes
					NOT = {
						has_war_with = SRI
						has_war_with = AUS
					}
				}
			}
		}
	}

	VNC_attack_austria = {
		icon = generic_prepare_civil_war
		allowed = { always = no }

		available = {
			NOT = { has_idea = ITA_austrian_influence }
			controls_all_owned_states = yes
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
		}

		visible = {
			is_subject = no
			owns_state = 759
			736 = {
				is_claimed_by = ROOT
				is_owned_by = FROM
			}
			can_declare_war_on = FROM
		}

		fire_only_once = yes
		cost = 0
		days_remove = 25
		war_with_target_on_remove = yes
		cancel_if_not_visible = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				AUS = { is_in_faction_with = GER }
			}
			modifier = {
				factor = 0
				AUS = {
					is_faction_leader = yes
					surrender_progress < 0.10
					NOT = {
						has_war_with = GER
						has_war_with = RUS
						has_war_with = HUN
						has_war_with = SER
						has_war_with = ROM
						has_war_with = POL
					}
				}
				NOT = {
					strength_ratio = { tag = AUS ratio > 0.75 }
				}
			}
			modifier = {
				factor = 5
				AUS = { has_war_with = HUN }
			}
		}

		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel VNC_attack_austria target: [From.GetName]"
			clear_decision_attack_AI = yes
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision VNC_attack_austria"
			add_war_support = 0.10
			if = {
				limit = { gives_military_access_to = AUS }
				AUS = {
					diplomatic_relation = {
						country = ITA
						relation = military_access
						active = no
					}
				}
			}
			setup_decision_attack_AI = yes
			FROM = { incoming_war_notification_effect = yes }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove VNC_attack_austria target: [From.GetName]"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = AUS
				type = annex_everything
			}
		}
	}
	
	ITA_invite_country = {
		icon = GFX_decision_generic_political_discourse
		allowed = { tag = ITA }
		available = {
			is_faction_leader = yes
			is_subject = no
			NOT = {
				has_country_flag = ITA_inviting_country 
				has_war_with = FROM
			}
			if = {
				limit = { FROM = { tag = BUL } }
				OR = {
					NOT = { is_in_faction_with = SER }
					SER = { is_subject = yes }
					BUL = { has_government = social_conservative }
				}
			}
			else_if = {
				limit = { FROM = { tag = GRE } }
				GRE = {
					OR = {
						AND = {
							is_in_faction_with = SER
							has_war = no
						}
						is_in_faction = no
					}
				}
			}
			else_if = {
				limit = { FROM = { tag = ROM } }
				ROM = {
					OR = {
						AND = {
							is_in_faction_with = SER
							has_war = no
						}
						is_in_faction = no
					}
				}
				OR = {
					NOT = { is_in_faction_with = HUN }
					HUN = { is_subject = yes }
				}
			}
			else_if = {
				limit = { FROM = { tag = HUN } }
				OR = {
					NOT = { is_in_faction_with = ROM }
					ROM = { is_subject = yes }
				}
			}
			else_if = {
				limit = { FROM = { tag = SER } }
				OR = {
					NOT = { is_in_faction_with = CRO }
					CRO = { is_subject = yes }
				}
			}
			else_if = {
				limit = { FROM = { tag = CRO } }
				OR = {
					NOT = { is_in_faction_with = SER }
					SER = { is_subject = yes }
				}
			}
		}
		visible = {
			NOT = { tag = SRI }
			is_faction_leader = yes
			if = {
				limit = {
					FROM = {
						OR = {
							tag = ROM
							tag = BUL
							tag = GRE
							tag = SER
							tag = ALB
						}
					}
				}
				OR = {
					has_global_flag = balkan_war_ended
					SER = {
						OR = {
							has_country_flag = BUL_surrender_no_war
							is_subject = yes
							AND = {
								is_in_faction = yes
								is_faction_leader = no
							}
						}
					}
				}
			}
		}
		targets = { ALB BUL GRE SER ROM HUN POL CRO POL }
		target_trigger = {
			FROM = {
				is_subject = no
				OR = {
					is_in_faction = no
					tag = ROM
					tag = GRE
				}
				has_socialist_government = no
				NOT = { has_country_flag = ITA_bloc_invited }
			}
		}
		cost = 20
		days_remove = 15
		ai_will_do = { factor = 100 }
		complete_effect = {
			set_country_flag = ITA_inviting_country
			FROM = {
				country_event = {
					id = itaforpol.3
					days = 2
				}
			}
		}
		remove_effect = { clr_country_flag = ITA_inviting_country }
	}
}

ITA_resorgimento_decisions = {
	ITA_rally_supporters = {
		icon = generic_civil_support
		allowed = { tag = ITA }
		available = {
				has_capitulated = no
			SRI = {
				has_capitulated = no
				controls_state = 158
				controls_state = 162
			}
		}

		visible = {
			has_war_with = SRI
			NOT = { has_country_flag = ITA_rallied_supporters }
			SRI = {
				owns_state = 158
				owns_state = 162
			}
		}

		cancel_trigger = {
			OR = {
				has_capitulated = yes
				NOT = { has_war_with = SRI }
				NOT = {
					158 = { is_controlled_by = SRI }
					162 = { is_controlled_by = SRI }
				}
			}
		}

		fire_only_once = no
		cost = 100
		days_remove = 30
		priority = 5
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision ITA_rally_supporters"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ITA_rally_supporters"
			if = {
				limit = {
					has_war_with = SRI
					has_capitulated = no
					SRI = {
						OR = {
							controls_state = 158
							controls_state = 162
						}
					}
				}
				set_country_flag = ITA_rallied_supporters
				add_manpower = 30000
				if = {
					limit = { has_tech = infantry_weapons1 }
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 3000 producer = ITA }
				}
				else = {
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 3000 producer = ITA }
				}
				custom_effect_tooltip = ITA_supporters_raised
				hidden_effect = {
					load_oob = SRI_itasupport
					SRI = { country_event = italianrepublic.172 }
				}
			}
			else = {
				add_political_power = 100
			}
		}
	}

	SRI_rally_supporters = {
		icon = generic_civil_support
		allowed = { tag = SRI }
		available = {
				has_capitulated = no
			ITA = {
				has_capitulated = no
				controls_state = 159
				controls_state = 160
			}
		}

		visible = {
			has_war_with = ITA
			NOT = { has_country_flag = SRI_rallied_supporters }
			ITA = {
				owns_state = 159
				owns_state = 160
			}
		}

		cancel_trigger = {
			OR = {
				has_capitulated = yes
				NOT = { has_war_with = ITA }
				NOT = {
					159 = { is_controlled_by = ITA }
					759 = { is_controlled_by = ITA }
				}
			}
		}

		fire_only_once = no
		cost = 100
		days_remove = 30
		priority = 5
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_rally_supporters"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_rally_supporters"
			if = {
				limit = {
					has_war_with = ITA
					has_capitulated = no
					ITA = {
						OR = {
							controls_state = 159
							controls_state = 160
						}
					}
				}
				set_country_flag = SRI_rallied_supporters
				add_manpower = 60000
				if = {
					limit = { has_tech = infantry_weapons1 }
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 3000 producer = SRI }
				}
				else = {
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 3000 producer = SRI }
				}
				custom_effect_tooltip = SRI_supporters_raised
				hidden_effect = {
					load_oob = SRI_partisans
					ITA = { country_event = socitaly.126 }
				}
			}
			else = {
				add_political_power = 100
			}
		}
	}

	PAP_rally_faithful = {
		icon = generic_civil_support
		allowed = { tag = PAP }
		available = {
				has_capitulated = no
			SRI = {
				has_capitulated = no
				controls_state = 161
			}
		}

		visible = {
			has_war_with = SRI
			NOT = {
				has_country_flag = PAP_rallied_faithful
			}
			SRI = {
				owns_state = 161
			}
		}

		cancel_trigger = {
			OR = {
				has_capitulated = yes
				NOT = { has_war_with = SRI }
				NOT = { 161 = { is_controlled_by = SRI } }
			}
		}

		fire_only_once = no
		cost = 50
		days_remove = 30
		priority = 5
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision PAP_rally_faithful"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove PAP_rally_faithful"
			if = {
				limit = {
					has_war_with = SRI
					has_capitulated = no
					SRI = {
						controls_state = 161
					}
				}
				set_country_flag = PAP_rallied_faithful
				add_manpower = 50000
				if = {
					limit = { has_tech = infantry_weapons1 }
					add_equipment_to_stockpile = { type = infantry_equipment_1 amount = 2500 producer = PAP }
				}
				else = {
					add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 2500 producer = PAP }
				}
				custom_effect_tooltip = PAP_faithful_units
				hidden_effect = {
					load_oob = SRI_catholics
					SRI = { country_event = papalstate.64 }
				}
			}
			else = {
				add_political_power = 50
			}
		}
	}

	SIC_never_surrender = {
		icon = generic_ignite_civil_war
		allowed = { tag = SIC }
		available = {
			surrender_progress > 0.40
		}

		visible = {
			has_war_with = SRI
			surrender_progress > 0.01
		}

		fire_only_once = yes
		cost = 0
		priority = 10

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SIC_never_surrender"
			add_ideas = SIC_total_war
		}
	}
	
	SRI_attack_italy = {
		icon = generic_prepare_civil_war
		allowed = { tag = SRI }

		available = {
			if = {
				limit = { has_global_flag = KR_italy_balance }
				has_war = no
			}
			else = {
				controls_all_owned_states = yes
			}
			OR = {
				has_completed_focus = SRI_reenforce_the_po_line
				has_completed_focus = SRI_reenforce_the_south
			}
			has_completed_focus = SRI_reenforce_the_coast
		}

		visible = {
			can_declare_war_on = FROM
			is_subject = no
			FROM = {
				if = {
					limit = { tag = VNC }
					NOT = { ITA = { has_active_mission = ITA_war_with_venice1 } }
				}
			}
		}

		targets = { ITA SIC SRD PAP VNC EMI TUS LOM }

		target_trigger = {
			can_declare_war_on = FROM
			is_subject = no
		}

		cost = 0
		fire_only_once = no

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 20
				ROOT_is_threatened = yes
			}
			modifier = {
				factor = 0
				FROM = { default_attack_AI_trigger_FROM = yes }
			}
			modifier = {
				factor = 0
				NOT = { has_global_flag = second_weltkrieg_has_started }
				FROM = {
					OR = {
						is_in_faction = yes
						AND = {
							is_subject = yes
							overlord = { is_italian_tag = no }
						}
						AND = {
							has_guarantor = yes
							any_of_scopes = {
								array = guarantor_array
								has_guaranteed = PREV
								is_italian_tag = no
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				FROM = { original_tag = SRD }
				any_neighbor_country = {
					is_italian_tag = yes
					has_capitulated = no
				}
			}
			modifier = {
				factor = 0
				NOT = { is_owner_neighbor_of = FROM }
				naval_strength_ratio = { tag = FROM ratio < 0.6 }
			}
			modifier = {
				factor = 5
				FROM = { original_tag = LOM }
			}
			modifier = {
				factor = 3
				FROM = { original_tag = VNC }
			}
			modifier = {
				factor = 3
				FROM = { original_tag = SIC }
			}
			modifier = {
				factor = 0.5
				FROM = { original_tag = PAP }
			}
			modifier = {
				factor = 0.5
				FROM = { original_tag = SRD }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SRI_attack_italy target: [From.GetName]"
			add_war_support = 0.10
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRI_attack_italy target: [From.GetName]"
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
	
	ITA_attack_italy = {
		icon = generic_prepare_civil_war
		allowed = { tag = ITA }

		available = {
			has_completed_focus = ITA_REP_unification
			if = {
				limit = { NOT = { FROM = { original_tag = SRI } } }
				NOT = { country_exists = SRI }
			}
		}

		visible = {
			can_declare_war_on = FROM
			is_subject = no
			NOT = { FROM = { has_country_flag = ITA_considering_invite_@FROM } } # ROOT cannot attack FROM if it is trying to invite it
		}

		targets = { SRI SIC SRD PAP VNC EMI TUS LOM }
		target_trigger = {
			can_declare_war_on = FROM
			NOT = { FROM = { has_country_flag = ITA_considering_invite_@FROM } } # ROOT cannot attack FROM if it is trying to invite it
		}

		fire_only_once = no
		cost = 0
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				ROOT_is_threatened = yes
			}
			modifier = {
				factor = 0
				FROM = { default_attack_AI_trigger_FROM = yes }
			}
			modifier = {
				factor = 0
				OR = {
					has_country_flag = { flag = ITA_currently_inviting value > 0 }	# ROOT will not attack anyone if it is currently inviting someone
					has_country_flag = ITA_considering_invite_@ROOT					# ROOT will not attack anyone if it is currently being invited
				}
			}
			modifier = {
				factor = 0
				# should be asking them to join peacefully first
				has_democratic_government = yes
				owns_state = 160 #Venice
				if = {
					limit = { SRD = { owns_state = 158 } }
					OR = {
						owns_state = 162 #Tuscany
						owns_state = 1004 #Emilia
					}
				}
				else = {
					count_triggers = {
						amount = 2
						158 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Piedmont
						1004 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Emilia
						162 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Tuscany
					}
				}
				FROM = {
					OR = {
					is_subject = no
						AND = {
							is_subject = yes
							overlord = { is_italian_tag = yes }
						}
					}
					has_socialist_government = no
					OR = {
						is_in_faction = no
						is_in_faction_with = ROOT
						is_faction_leader = no
					}
					NOT = { has_country_flag = ITA_refuse_join_@ROOT }
				}
			}
			modifier = {
				factor = 0
				NOT = { has_global_flag = second_weltkrieg_has_started }
				FROM = {
					OR = {
						is_in_faction = yes
						AND = {
							is_subject = yes
							overlord = { is_italian_tag = no }
						}
						AND = {
							has_guarantor = yes
							any_of_scopes = {
								array = guarantor_array
								has_guaranteed = PREV
								is_italian_tag = no
							}
						}
					}
				}
			}
			modifier = {
				factor = 0
				FROM = { original_tag = SRD }
				any_neighbor_country = {
					is_italian_tag = yes
					has_capitulated = no
				}
			}
			modifier = {
				factor = 0
				NOT = { is_owner_neighbor_of = FROM }
				naval_strength_ratio = { tag = FROM ratio < 0.6 }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_attack_italy target: [From.GetName]"
			add_war_support = 0.10
			if = {
				limit = { has_global_flag = KR_italy_balance }
				custom_effect_tooltip = SRI_balance_explanation
			}
			if = {
				limit = { FROM = { tag = SRI } }
				set_country_flag = attacked_SRI_first
			}
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
			italy_add_reunification_wars_threat = yes
		}
	}

	ITA_invite_into_federation = {
		icon = italy_flag

		allowed = { tag = ITA }

		available = {
			is_subject = no
			owns_state = 160 #Venice
			if = {
				limit = { SRD = { owns_state = 158 } }
				OR = {
					owns_state = 162 #Tuscany
					owns_state = 1004 #Emilia
				}
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = ITA_control_any_two
					count_triggers = {
						amount = 2
						158 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Piedmont
						1004 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Emilia
						162 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Tuscany
						2 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Latium
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = ITA_busy_inviting
				NOT = {
					has_country_flag = { flag = ITA_currently_inviting value > 0 }
				}
			}
			controls_all_owned_states = yes
			FROM = {
				if = {
					limit = { has_country_flag = ITA_ask_after_war_@ROOT }
					has_war = no
				}
				else = {
					controls_all_owned_states = yes
				}
			}
		}

		visible = {
			OR = {
				has_democratic_government = yes
				has_government = national_populist
			}
			NOT = {
				country_exists = SRI
				SIC = {
					exists = yes
					OR = {
						has_country_flag = SIC_confed
						has_country_flag = SIC_empire
					}
				}
			}
			if = {
				limit = { has_government = national_populist }
				FROM = { has_government = national_populist }
			}
			FROM = {
				exists = yes
				is_subject = no
				has_socialist_government = no
				NOT = {
					has_country_flag = ITA_refuse_join_@ROOT
					has_country_flag = { flag = ITA_considering_invite_@FROM value > 0 }	# ROOT cannot invite FROM if it is doing so already
					is_justifying_wargoal_against = ROOT
					any_enemy_country = {
						is_italian_tag = yes
					}
				}
			}
		}

		target_root_trigger = {
			NOT = { country_exists = SRI }
		}

		targets = { SRD SIC PAP VNC EMI TUS LOM }

		target_trigger = {
			FROM = {
				is_subject = no
				has_socialist_government = no
				NOT = {
					has_country_flag = ITA_refuse_join_@ROOT
					is_justifying_wargoal_against = ROOT
					any_enemy_country = {
						is_italian_tag = yes
					}
				}
			}
		}

		fire_only_once = no
		cost = 100

		ai_will_do = {
			factor = 1000
			modifier = {
				factor = 0.1
				NOT = { is_neighbor_of = FROM }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_invite_into_federation target: [From.GetName]"
			set_country_flag = { flag = ITA_currently_inviting days = 30 value = 1 }
			country_event = sic.109
			FROM = {
				set_country_flag = { flag = ITA_considering_invite_@FROM days = 30 value = 1 }
				hidden_effect = {
					country_event = sic.110
				}
			}
		}
	}
	
	SRD_attack_italy = {
		icon = generic_prepare_civil_war
		allowed = { always = no }

		available = {
			controls_all_owned_states = yes
			FROM = { has_capitulated = no }
		}

		visible = {
			can_declare_war_on = FROM
			NOT = {
				FROM = { has_country_flag = ITA_considering_invite_@FROM }	# ROOT will not attack anyone if it is currently inviting someone
			}
			is_subject = no
			SRI = {
				exists = no
			}
			OR = {
				FROM = {
					is_in_faction = no
				}
				has_cosmetic_tag = SRD_ITA
				has_country_flag = SIC_confed
				has_country_flag = SIC_empire
				is_ai = no
			}
		}

		fire_only_once = no
		cost = 0

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_country_flag = { flag = ITA_currently_inviting value > 0 }	# ROOT will not attack anyone if it is currently inviting someone
					has_country_flag = ITA_considering_invite_@ROOT					# ROOT will not attack anyone if it is currently being invited
				}
			}
			modifier = {
				factor = 0
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 0
				# should be asking them to join peacefully
				has_country_flag = SIC_confed
				FROM = {
					is_subject = no
					has_socialist_government = no
					OR = {
						is_in_faction = no
						is_in_faction_with = ROOT
						is_faction_leader = no
					}
					NOT = { has_country_flag = ITA_refuse_join_@ROOT }
				}
			}
			modifier = {
				factor = 0
				has_cosmetic_tag = SRD_ITA
				owns_state = 838 #Liguria
				if = {
					limit = { ITA = { owns_state = 159 } }
					OR = {
						owns_state = 162 #Tuscany
						owns_state = 1004 #Emilia
					}
				}
				else = {
					count_triggers = {
						amount = 2
						159 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
						160 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
						1004 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
						162 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
					}
				}
				FROM = {
					is_subject = no
					has_socialist_government = no
					OR = {
						is_in_faction = no
						is_in_faction_with = ROOT
						is_faction_leader = no
					}
					NOT = { has_country_flag = ITA_refuse_join_@ROOT }
				}
			}
			modifier = {
				factor = 0
				FROM = {
					tag = PAP
					OR = {
						is_subject_of = SIC
						is_guaranteed_by = SIC
						AND = {
							is_subject = no
							has_war = no
						}
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					OR = {
						is_in_faction_with = ENT
						is_in_faction_with = GER
					}
				}
			}
			modifier = {
				factor = 0
				OR = {
					has_war = yes
					strength_ratio = { tag = FROM ratio < 0.75 }
					# neither of us is in a faction and FROM is stronger
					AND = {
						FROM = {
							is_in_faction = no
							is_subject = no
						}
						is_in_faction = no
						strength_ratio = { tag = FROM ratio < 1.0 }
					}
					# they're in a faction which is not at war
					FROM = {
						OR = {
							is_in_faction = yes
							is_subject = yes
						}
						has_war = no
					}
					# they're in a faction which is at war but not with a major and not losing
					FROM = {
						is_in_faction = yes
						has_war = yes
						NOT = {
							any_enemy_country = {
								OR = {
									tag = GER
									tag = AUS
									tag = FRA
								}
							}
							surrender_progress > 0.10
							faction_leader = {
								surrender_progress > 0.20
							}
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRD_attack_italy target: [From.GetName]"
			add_war_support = 0.10
			if = {
				limit = { is_in_faction_with = FROM }
				leave_faction = yes
			}
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}

	SRD_attack_SRI = {
		icon = generic_prepare_civil_war
		allowed = { tag = SRD }

		available = {
			controls_all_owned_states = yes
			FROM = { has_capitulated = no }
			OR = {
				has_war = no
				NFA = {
					has_war_with = FRA
				}
			}
			OR = {
				ITA = { has_war_with = SRI }
				date > 1940.1.1
			}
		}
		
		visible = {
			can_declare_war_on = SRI
			NOT = {
				has_annex_war_goal = SRI
			}
		}


		fire_only_once = no
		cost = 0

		ai_will_do = {
			factor = 1
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRD_attack_SRI target: [From.GetName]"
			add_war_support = 0.10
			declare_war_on = {
				target = SRI
				type = annex_everything
			}
		}
	}

	PAP_attack_sri = {
		icon = generic_prepare_civil_war
		allowed = { always = no }

		available = {
			has_completed_focus = PAP_renewed_impetus
			if = {
				limit = { has_global_flag = KR_italy_balance }
				has_war = no
			}
			else = {
				controls_all_owned_states = yes
			}
		}

		visible = {
			has_government = national_populist
			can_declare_war_on = FROM
			is_subject = no
			is_neighbor_of = FROM
		}

		fire_only_once = yes
		cost = 0
		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0
				is_in_faction = yes
				is_faction_leader = no
			}
			modifier = {
				factor = 0
				OR = {
					has_war = yes
					strength_ratio = { tag = FROM ratio < 0.75 }
					# neither of us is in a faction and FROM is stronger
					AND = {
						FROM = {
							is_in_faction = no
							is_subject = no
						}
						is_in_faction = no
						strength_ratio = { tag = FROM ratio < 1.0 }
					}
					# they're in a faction which is not at war
					FROM = {
						OR = {
							is_in_faction = yes
							is_subject = yes
						}
						has_war = no
					}
					# they're in a faction which is at war but not with a major and not losing
					FROM = {
						is_in_faction = yes
						has_war = yes
						NOT = {
							any_enemy_country = {
								OR = {
									tag = GER
									tag = AUS
									tag = FRA
								}
							}
							surrender_progress > 0.10
							faction_leader = {
								surrender_progress > 0.20
							}
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete PAP_attack_sri target: [From.GetName]"
			add_war_support = 0.10
			if = {
				limit = { has_global_flag = KR_italy_balance }
				custom_effect_tooltip = SRI_balance_explanation
			}
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
			italy_add_reunification_wars_threat = yes
		}
	}

	ITA_unite_italy = {
		icon = italy_flag
		allowed = { tag = ITA }
		available = {
			controls_state = 158 #Piedmont
			controls_state = 159 #Lombardy
			controls_state = 160 #Venice
			controls_state = 161 #Romagna
			controls_state = 162 #Tuscany
			OR = {
				controls_state = 2 #Latium
				2 = { is_owned_by_ROOT_or_ally = yes }
			}
			OR = {
				controls_state = 117 #Campania
				117 = { is_owned_by_ROOT_or_ally = yes }
			}
			OR = {
				NOT = { country_exists = SRI }
				SRI = { has_capitulated = yes }
			}
		}
		fire_only_once = yes
		cost = 0
		ai_will_do = { factor = 100 }
		priority = 100
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_unite_italy target: [From.GetName]"
			if = {
				limit = { has_government = national_populist }
				log = "KR_Event_Logging;ANI Italy UNIFIES ITALY;[GetDateText]"
			}
			else = {
				log = "KR_Event_Logging;Italian Republic/Federation UNIFIES ITALY;[GetDateText]"
			}
			set_country_flag = ITA_united_italia
			add_political_power = 250
			if = {
				limit = { owns_state = 2 }
				set_capital = { state = 2 remember_old_capital = no }
			}
			hidden_effect = {
				FROM = { italy_break_balance = yes }
				news_event = worldnews.218
				country_event = { id = ita.60 days = 5 random_days = 5 }
				SWI = { country_event = { id = swiss.211 days = 4 random_days = 8 } } #Campione
				if = {
					limit = {
						ROM = { has_country_flag = ROM_cantacuzino_in_ani }
						has_country_flag = ROM_romanian_volunteers
					}
					country_event = { id = romania.55 days = 14 } #Volunteers leave
				}
			}
		}
	}

	SRI_unite_italia = {
		icon = italy_flag
		allowed = { original_tag = SRI }
		available = {
			controls_state = 2
			controls_state = 117
			controls_state = 158
			controls_state = 159
			controls_state = 160
			controls_state = 161
			controls_state = 162
			OR = {
				NOT = { country_exists = ITA }
				ITA = { has_capitulated = yes }
			}
			OR = {
				NOT = { country_exists = SIC }
				SIC = { has_capitulated = yes }
			}
		}
		visible = {
			NOT = {
			OR = {
			has_country_leader = { ruling_only = yes name = "Giuseppe Garibaldi II" }
			has_country_leader = { ruling_only = yes name = "Amedeo I" }
				}
			}
		}
		fire_only_once = yes
		cost = 0
		ai_will_do = { factor = 100 }
		priority = 100
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRI_unite_italia target: [From.GetName]"
			if = {
				limit = { has_global_flag = KR_italy_balance }
				log = "KR_Event_Logging;Socialist Republic of Italy, on its own UNIFIES ITALY;[GetDateText]"
			}
			else = {
				log = "KR_Event_Logging;Socialist Republic of Italy, with INT aid UNIFIES ITALY;[GetDateText]"
			}
			add_political_power = 250
			if = {
				limit = { owns_state = 2 }
				set_capital = { state = 2 remember_old_capital = no }
			}
			set_country_flag = SRI_italy_unified_flag
			country_event = socitaly.40
			hidden_effect = {
				FROM = { italy_break_balance = yes }
				news_event = { id = worldnews.219 days = 1 }
				SWI = { country_event = { id = swiss.211 days = 4 random_days = 8 } } #Campione
				country_event = { id = socitaly.71 days = 30 random_days = 270 }
				country_event = { id = socitaly.77 days = 30 random_days = 270 }
				ROM = {
					if = {
						limit = { has_country_flag = ROM_cantacuzino_in_ani }
						country_event = { id = romania.53 days = 14 } #Volunteers return
					}
				}
			}
		}
	}
	
	SRI_unite_italia_garibaldi = {
		icon = italy_flag
		allowed = { original_tag = SRI }
		available = {
			controls_state = 2
			controls_state = 117
			controls_state = 158
			controls_state = 159
			controls_state = 160
			controls_state = 161
			controls_state = 162
			OR = {
				NOT = { country_exists = ITA }
				ITA = { has_capitulated = yes }
			}
			OR = {
				NOT = { country_exists = SIC }
				SIC = { has_capitulated = yes }
			}
		}
		visible = {
			OR = {
			has_country_leader = { ruling_only = yes name = "Giuseppe Garibaldi II" }
			has_country_leader = { ruling_only = yes name = "Amedeo I" }
			}
		}
		fire_only_once = yes
		cost = 0
		ai_will_do = { factor = 100 }
		priority = 100
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRI_unite_italia target: [From.GetName]"
			if = {
				limit = { has_global_flag = KR_italy_balance }
				log = "KR_Event_Logging;Socialist Republic of Italy, on its own UNIFIES ITALY;[GetDateText]"
			}
			else = {
				log = "KR_Event_Logging;Socialist Republic of Italy, with INT aid UNIFIES ITALY;[GetDateText]"
			}
			add_political_power = 250
			if = {
				limit = { owns_state = 2 }
				set_capital = { state = 2 remember_old_capital = no }
			}
			set_country_flag = SRI_italy_unified_flag
			hidden_effect = {
				FROM = { italy_break_balance = yes }
				country_event = {
				id = socitaly.218
				days = 15
					}
				country_event = {
				id = socitaly.221
				days = 50
					}
				country_event = {
				id = socitaly.224
				days = 100
					}
				ROM = {
					if = {
						limit = { has_country_flag = ROM_cantacuzino_in_ani }
						country_event = { id = romania.53 days = 14 } #Volunteers return
					}
				}
			}
		}
	}
	
SRD_invite_into_kingdom = {
		icon = italy_flag

		allowed = { original_tag = SRD }

		available = {
			is_subject = no
			if = {
				limit = { ITA = { owns_state = 159 } }
				OR = {
					owns_state = 162 #Tuscany
					owns_state = 1004 #Emilia
				}
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = SRD_control_any_two
					count_triggers = {
						amount = 2
						159 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
						160 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
						1004 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
						162 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
					}
				}
			}
			custom_trigger_tooltip = {
				tooltip = ITA_busy_inviting
				NOT = {
					has_country_flag = { flag = ITA_currently_inviting value > 0 }
				}
			}
			controls_all_owned_states = yes
			FROM = {
				if = {
					limit = { has_country_flag = ITA_ask_after_war_@ROOT }
					has_war = no
				}
				else = {
					controls_all_owned_states = yes
				}
			}
		}

		visible = {
			is_subject = no
			FROM = {
				is_subject = no
				has_socialist_government = no
				OR = {
					is_in_faction = no
					is_in_faction_with = ROOT
					is_faction_leader = no
				}
				if = {
					limit = { tag = ITA }
					NOT = { has_government = national_populist }
				}
				NOT = {
					has_country_flag = ITA_refuse_join_@ROOT
					has_country_flag = { flag = ITA_considering_invite_@FROM value > 0 }	# ROOT cannot invite FROM if it is doing so already
					is_justifying_wargoal_against = ROOT
					any_enemy_country = {
						is_italian_tag = yes
					}
				}
			}
		}

		cost = 100
		fire_only_once = no

		targets = { ITA SIC PAP VNC EMI TUS LOM }
		target_root_trigger = {
			OR = {
				owns_state = 158 #Piedmont
				owns_state = 838 #Liguria
			}
			NOT = {
				country_exists = SRI
				SIC = {
					exists = yes
					OR = {
						has_country_flag = SIC_confed
						has_country_flag = SIC_empire
					}
				}
			}
		}
		target_trigger = {
			is_subject = no
			FROM = {
				is_subject = no
				has_socialist_government = no
				OR = {
					is_in_faction = no
					is_in_faction_with = ROOT
					is_faction_leader = no
				}
				if = {
					limit = { tag = ITA }
					NOT = { has_government = national_populist }
				}
				NOT = {
					has_country_flag = ITA_refuse_join_@ROOT
					has_country_flag = { flag = ITA_considering_invite_@FROM value > 0 }	# ROOT cannot invite FROM if it is doing so already
					is_justifying_wargoal_against = ROOT
					any_enemy_country = {
						is_italian_tag = yes
					}
				}
			}
		}

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0.1
				NOT = { is_neighbor_of = FROM }
			}
			modifier = {
				factor = 0.1
				OR = {
					tag = ITA
					tag = SIC
					tag = SRD
					tag = PAP
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SRD_invite_into_kingdom target: [From.GetName]"
			set_country_flag = { flag = ITA_currently_inviting days = 30 value = 1 }
			country_event = sic.109
			FROM = {
				set_country_flag = { flag = ITA_considering_invite_@FROM days = 30 value = 1 }
				hidden_effect = {
					country_event = sic.110
				}
			}
		}
	}
	
	SIC_declare_roman_empire = {
		icon = italy_flag

		allowed = { original_tag = SIC }

		available = {
			2 = { is_owned_and_controlled_by_ROOT_or_subject = yes }
			OR = {
				162 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Tuscany
				161 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Romagna
			}
			OR = {
				159 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Lombardy
				158 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Piedmont
			}
			controls_all_owned_states = yes
			if = {
				limit = { country_exists = ITA }
				NOT = { has_war_with = ITA }
			}
			if = {
				limit = { country_exists = SRI }
				NOT = { has_war_with = SRI }
			}
			if = {
				limit = { country_exists = SRD }
				NOT = { has_war_with = SRD }
			}
			has_returned_all_expeditionary_forces_of_puppets = yes
		}

		visible = {
			is_subject = no
			NOT = { has_country_flag = SIC_confed }
			OR = {
			has_country_leader = { ruling_only = yes name = "Victor Emmanuel III" }	
			has_country_leader = { ruling_only = yes name = "Umberto II" }	
			has_country_leader = { ruling_only = yes name = "Julius Evola" }
			}	
		}

		fire_only_once = yes
		cost = 0
		priority = 5
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				any_subject_country = {
					is_ai = no
					is_italian_tag = yes
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SIC_declare_italian_empire"
			log = "KR_Event_Logging;Two Sicilies UNIFIES ITALY;[GetDateText]"
			if = {
				limit = {
					has_global_flag = KR_italy_balance
					country_exists = SRI
				}
				custom_effect_tooltip = SRI_balance_will_be_broken
				clr_global_flag = KR_italy_balance
			}
			set_country_flag = SIC_rome
			hidden_effect = {
				remove_targeted_decision = { target = THIS decision = SIC_form_italian_confed }
				SRI = { enable_coring_at_fifty_compliance = yes }
				ITA = { enable_coring_at_fifty_compliance = yes }
				LOM = { enable_coring_at_fifty_compliance = yes }
				VNC = { enable_coring_at_fifty_compliance = yes }
				TUS = { enable_coring_at_fifty_compliance = yes }
				EMI = { enable_coring_at_fifty_compliance = yes }
				PAP = { enable_coring_at_fifty_compliance = yes }
				SRD = { enable_coring_at_fifty_compliance = yes }
				italy_enable_claim_integration = yes
			}
			country_event = sic.1570
			set_capital = { state = 2 }
			custom_effect_tooltip = SIC_may_now_acquire_cores
			every_state = {
				limit = { is_european_italy = yes }
				if = {
					limit = {
						owner = {
							is_italian_tag = yes
							is_subject_of = ROOT
						}
					}
					hidden_effect = { remove_claim_by = SIC }
					add_core_of = SIC
				}
				else_if = {
					limit = { NOT = { is_core_of = SIC } }
					add_claim_by = SIC
				}
			}
			every_subject_country = {
				limit = { is_italian_tag = yes }
				Italy_general_transfer_effect = yes
				ROOT = { annex_country = { target = PREV transfer_troops = yes } }
			}
			hidden_effect = {
				news_event = worldnews.221
				SWI = { country_event = { id = swiss.211 days = 4 random_days = 8 } } #Campione
				ITA_remove_italian_cores = yes
				ROM = {
					if = {
						limit = { has_country_flag = ROM_cantacuzino_in_ani }
						country_event = { id = romania.53 days = 14 } #Volunteers return
					}
				}
			}
			hidden_effect = {
				activate_targeted_decision = { target = ITA decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = SRD decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = PAP decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = VNC decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = EMI decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = TUS decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = LOM decision = SIC_invite_into_empire }
			}
		}
	}

	SIC_declare_italian_empire = {
		icon = italy_flag

		allowed = { always = no }

		available = {
			2 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Latium
			OR = {
				162 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Tuscany
				161 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Romagna
			}
			OR = {
				159 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Lombardy
				158 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Piedmont
			}
			controls_all_owned_states = yes
			if = {
				limit = { country_exists = ITA }
				NOT = { has_war_with = ITA }
			}
			if = {
				limit = { country_exists = SRI }
				NOT = { has_war_with = SRI }
			}
			if = {
				limit = { country_exists = SRD }
				NOT = { has_war_with = SRD }
			}
			has_returned_all_expeditionary_forces_of_puppets = yes
		}

		visible = {
			is_subject = no
		NOT = {
		has_cosmetic_tag = SIC_ITA
			has_country_flag = SIC_evola_still_rules
			has_completed_focus = SIC_NeoSanfedisti_coup
			has_country_flag = SIC_confed
			}
		}

		fire_only_once = yes
		cost = 0
		priority = 5
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				any_subject_country = {
					is_ai = no
					is_italian_tag = yes
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SIC_declare_italian_empire"
			log = "KR_Event_Logging;Two Sicilies UNIFIES ITALY;[GetDateText]"
			if = {
				limit = {
					has_global_flag = KR_italy_balance
					country_exists = SRI
				}
				custom_effect_tooltip = SRI_balance_will_be_broken
				clr_global_flag = KR_italy_balance
			}
			set_country_flag = SIC_empire
			hidden_effect = {
				remove_targeted_decision = { target = THIS decision = SIC_form_italian_confed }
			}
			if = {
				limit = {
					has_country_leader = { ruling_only = yes name = "Ferdinando III" }
				}
				set_cosmetic_tag = SIC_ITA
			}
			else_if = {
				limit = {
					has_country_leader = { ruling_only = yes name = "Calogero Vizzini" }
				}
				set_cosmetic_tag = SIC_mafia_italy
			}
			set_capital = { state = 2 }
			custom_effect_tooltip = SIC_may_now_acquire_cores
			every_state = {
				limit = { is_european_italy = yes }
				if = {
					limit = {
						owner = {
							is_italian_tag = yes
							is_subject_of = ROOT
						}
					}
					hidden_effect = { remove_claim_by = SIC }
					add_core_of = SIC
				}
				else_if = {
					limit = { NOT = { is_core_of = SIC } }
					add_claim_by = SIC
				}
			}
			every_subject_country = {
				limit = { is_italian_tag = yes }
				Italy_general_transfer_effect = yes
				ROOT = { annex_country = { target = PREV transfer_troops = yes } }
			}
			hidden_effect = {
				news_event = worldnews.221
				SWI = { country_event = { id = swiss.211 days = 4 random_days = 8 } } #Campione
				ITA_remove_italian_cores = yes
				ROM = {
					if = {
						limit = { has_country_flag = ROM_cantacuzino_in_ani }
						country_event = { id = romania.53 days = 14 } #Volunteers return
					}
				}
			}
			hidden_effect = {
				activate_targeted_decision = { target = ITA decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = SRD decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = PAP decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = VNC decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = EMI decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = TUS decision = SIC_invite_into_empire }
				activate_targeted_decision = { target = LOM decision = SIC_invite_into_empire }
			}
		}
	}

	SIC_invite_into_empire = {
		icon = italy_flag

		allowed = { always = no }

		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = ITA_busy_inviting
				NOT = {
					has_country_flag = { flag = ITA_currently_inviting value > 0 }
				}
			}
			controls_all_owned_states = yes
			FROM = {
				if = {
					limit = { has_country_flag = ITA_ask_after_war_@ROOT }
					has_war = no
				}
				else = {
					controls_all_owned_states = yes
				}
			}
		}

		visible = {
			NOT = { country_exists = SRI }
			FROM = {
				exists = yes
				is_subject = no
				has_socialist_government = no
				if = {
					limit = { tag = ITA }
					NOT = { has_government = national_populist }
				}
				NOT = {
					has_country_flag = ITA_refuse_join_@ROOT
					has_country_flag = { flag = ITA_considering_invite_@FROM value > 0 }	# ROOT cannot invite FROM if it is doing so already
					is_justifying_wargoal_against = ROOT
					any_enemy_country = {
						is_italian_tag = yes
					}
				}
			}
		}

		fire_only_once = no
		cost = 100

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0.1
				NOT = { is_neighbor_of = FROM }
			}
			modifier = {
				factor = 0.1
				OR = {
					tag = ITA
					tag = SIC
					tag = SRD
					tag = PAP
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SIC_invite_into_empire target: [From.GetName]"
			set_country_flag = { flag = ITA_currently_inviting days = 30 value = 1 }
			country_event = sic.109
			FROM = {
				set_country_flag = { flag = ITA_considering_invite_@FROM days = 30 value = 1 }
				hidden_effect = {
					country_event = sic.110
				}
			}
		}
	}

	SIC_form_italian_confed = {
		icon = italy_flag

		allowed = { tag = SIC }

		available = {
			2 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Latium
					OR = {
				162 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Tuscany
				161 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Romagna
				}
			OR = {
				159 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Lombardy
				158 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Piedmont
			}
			controls_all_owned_states = yes
			if = {
				limit = { country_exists = ITA }
				NOT = { has_war_with = ITA }
			}
			if = {
				limit = { country_exists = SRI }
				NOT = { has_war_with = SRI }
			}
			if = {
				limit = {
					NOT = { tag = SRD }
					country_exists = SRD
				}
				NOT = { has_war_with = SRD }
			}
			if = {
				limit = {
					NOT = { tag = SIC }
					country_exists = SIC
				}
				NOT = { has_war_with = SIC }
			}
		}

		visible = {
			is_subject = no
		NOT = {
		has_cosmetic_tag = SIC_ITA
			has_country_flag = SIC_evola_still_rules
			has_completed_focus = SIC_NeoSanfedisti_coup
			has_country_flag = SIC_empire
			}
		}

		fire_only_once = yes
		cost = 0
		priority = 5
		ai_will_do = {
			factor = 10
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SIC_form_italian_confed"
			if = {
				limit = { tag = SIC }
				log = "KR_Event_Logging;Two Sicilies UNIFIES ITALY;[GetDateText]"
			}
			if = {
				limit = { tag = SRD }
				log = "KR_Event_Logging;Sardinia UNIFIES ITALY;[GetDateText]"
			}
			if = {
				limit = {
					has_global_flag = KR_italy_balance
					country_exists = SRI
				}
				custom_effect_tooltip = SRI_balance_will_be_broken
				clr_global_flag = KR_italy_balance
			}
			set_country_flag = SIC_confed
			hidden_effect = { remove_targeted_decision = { target = THIS decision = SIC_declare_italian_empire } }
			if = {
				limit = { tag = SIC }
				every_state = {
					limit = {
						is_european_italy = yes
						NOT = {
							state = 115 #Sicily
							state = 117 #Campania
							state = 156 #Calabria
							state = 742 #Abruzzo
							state = 837 #Apulia
						}
					}
						remove_claim_by = ROOT
					clear_variable = ambition_area_@ROOT
				}
				hidden_effect = {
					SIC_unlock_italian_annexations = yes
					activate_targeted_decision = { target = ITA decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = SRD decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = PAP decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = VNC decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = EMI decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = TUS decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = LOM decision = SIC_invite_into_confed }
				}
			}
			else_if = {
				limit = { tag = SRD }
				every_state = {
					limit = {
						is_european_italy = yes
						NOT = {
							state = 114 #Sardinia
							state = 1003 #Aosta Valley
							state = 158 #Piedmont
							state = 838 #Liguria
							state = 762 #Nice
							state = 735 #Savoy
							state = 943 #Upper Savoy
						}
					}
						remove_claim_by = ROOT
					clear_variable = ambition_area_@ROOT
				}
				hidden_effect = {
					activate_targeted_decision = { target = ITA decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = SIC decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = PAP decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = VNC decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = EMI decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = TUS decision = SIC_invite_into_confed }
					activate_targeted_decision = { target = LOM decision = SIC_invite_into_confed }
				}
			}
			hidden_effect = {
				every_subject_country = {
					limit = { is_italian_tag = yes }
					get_current_government_type = yes
					ROOT = {
						set_autonomy = {
							target = PREV
							autonomy_state = kr_federated_state
							end_wars = no
						}
					}
					restore_previous_government_type = yes
				}
			}
			recheck_annexations_immediate = yes
			if = {
				limit = {
					owns_state = 159
					NOT = { country_exists = LOM }
				}
				country_event = annex.285
			}
			if = {
				limit = {
					owns_state = 160
					NOT = { country_exists = VNC }
				}
				country_event = annex.286
			}
			if = {
				limit = {
					owns_state = 162
					NOT = { country_exists = TUS }
				}
				country_event = annex.287
			}
			if = {
				limit = {
					owns_state = 1004
					NOT = { country_exists = EMI }
				}
				country_event = annex.288
			}
			if = {
				limit = {
					owns_state = 158
					NOT = { country_exists = SRD }
				}
				country_event = annex.291
			}
			else_if = {
				limit = {
					owns_state = 114
					NOT = { country_exists = SRD }
				}
				country_event = annex.292
			}
			if = {
				limit = {
					OR = {
						owns_state = 117
						owns_state = 115
					}
					NOT = { country_exists = SIC }
				}
				country_event = annex.293
			}
			if = {
				limit = {
					PAP = { is_subject_of = ROOT }
				}
				every_owned_state = {
					limit = {
						OR = {
							state = 764 #Viterbo
							state = 1005 #Umbria
							state = 157 #Marche
							state = 161 #Romagna
							state = 1236 #San Marino
							state = 2 #Rome
							state = 1149 #Anzio
						}
					}
					transfer_state_to = PAP
					add_core_of = PAP
				}
				PAP = {
					set_cosmetic_tag = PAP_papal_states
				}
			}
			if = {
				limit = {
					tag = SRD
					owns_state = 2
					NOT = { country_exists = PAP }
				}
				country_event = annex.289
			}

			hidden_effect = {
				save_event_target_as = uniter
				news_event = { id = worldnews.222 days = 1 }
				ITA_remove_italian_cores = yes
			}
		}
	}

	SIC_invite_into_confed = {
		icon = italy_flag

		allowed = { always = no }

		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = ITA_busy_inviting
				NOT = {
					has_country_flag = { flag = ITA_currently_inviting value > 0 }
				}
			}
			controls_all_owned_states = yes
			FROM = {
				if = {
					limit = { has_country_flag = ITA_ask_after_war_@ROOT }
					has_war = no
				}
				else = {
					controls_all_owned_states = yes
				}
			}
		}

		visible = {
			NOT = { country_exists = SRI }
			if = {
				limit = { FROM = { tag = SRD } }
				OR = {
					NOT = { owns_state = 158 }
					NOT = { owns_state = 838 }
				}
			}
			FROM = {
				exists = yes
				is_subject = no
				has_socialist_government = no
				if = {
					limit = { tag = ITA }
					NOT = { has_government = national_populist }
				}
				NOT = {
					has_country_flag = ITA_refuse_join_@ROOT
					has_country_flag = { flag = ITA_considering_invite_@FROM value > 0 }	# ROOT cannot invite FROM if it is doing so already
					is_justifying_wargoal_against = ROOT
					any_enemy_country = {
						is_italian_tag = yes
					}
				}
			}
		}

		fire_only_once = no
		cost = 100

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0.1
				NOT = { is_neighbor_of = FROM }
			}
			modifier = {
				factor = 0.1
				OR = {
					tag = ITA
					tag = SIC
					tag = SRD
					tag = PAP
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SIC_invite_into_confed target: [From.GetName]"
			set_country_flag = { flag = ITA_currently_inviting days = 30 value = 1 }
			country_event = sic.109
			FROM = {
				set_country_flag = { flag = ITA_considering_invite_@FROM days = 30 value = 1 }
				hidden_effect = {
					country_event = sic.110
				}
			}
		}
	}

	SIC_offer_piedmont_to_SRD = {
		icon = generic_agreement
		allowed = { tag = SIC }

		available = {
			controls_all_owned_states = yes
			FROM = {
				if = {
					limit = { has_country_flag = ITA_ask_after_war_@ROOT }
					has_war = no
				}
				else = {
					controls_all_owned_states = yes
				}
			}
		}

		visible = {
			owns_state = 158
			owns_state = 838
			NOT = { has_country_flag = PIEDMONT_CONQ }
			FROM = {
				exists = yes
				is_subject = no
				NOT = {
					has_country_flag = ITA_refuse_join_@ROOT
					has_war_with = ROOT
				}
			}
		}

		target_root_trigger = {
			NOT = { has_country_flag = SIC_empire }
		}

		targets = { SRD }

		target_trigger = {
			FROM = {
				NOT = {
					has_country_flag = ITA_refuse_join_@ROOT
					has_war_with = ROOT
				}
			}
		}

		fire_only_once = no
		cost = 0

		ai_will_do = {
			factor = 200
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete SIC_offer_piedmont_to_SRD target: [From.GetName]"
			set_country_flag = PIEDMONT_CONQ
			SRD = { country_event = sic.100 }
		}
	}
	
	VNC_unite_italy = {
		icon = italy_flag
		allowed = { tag = VNC }
		available = {
			2 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Latium
			117 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Campania
			159 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Lombardy
			158 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Piedmont
			162 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Tuscany
			161 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Romagna
		}
		fire_only_once = yes
		cost = 0
		ai_will_do = { factor = 100 }
		priority = 100
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete VNC_unite_italy target: [From.GetName]"
			#log = "KR_Event_Logging;Italian Republic/Federation UNIFIES ITALY;[GetDateText]"
			FROM = { italy_break_balance = yes }
			set_country_flag = ITA_united_italia
			set_cosmetic_tag = VNC_ITA
			add_political_power = 200
			set_capital = { state = 2 remember_old_capital = no }
			every_subject_country = {
				limit = { is_italian_tag = yes }
				Italy_general_transfer_effect = yes
				ROOT = { annex_country = { target = PREV transfer_troops = yes } }
			}
			every_state = {
				limit = { is_european_italy = yes }
				if = {
					limit = {
						owner = {
							is_italian_tag = yes
							is_subject_of = ROOT
						}
					}
					hidden_effect = { remove_claim_by = ROOT }
					add_core_of = ROOT
				}
				else_if = {
					limit = { NOT = { is_core_of = ROOT } }
					add_claim_by = ROOT
				}
			}
			hidden_effect = {
				if = {
					limit = {
						OR = {
							has_country_flag = VNC_new_republic_is_established
							has_country_flag = VNC_old_republic_is_restored
						}
					}
					news_event = ita.202
				}
				country_event = { id = ita.60 days = 5 random_days = 5 }
				SWI = { country_event = { id = swiss.211 days = 4 random_days = 8 } } #Campione
				ROM = {
					if = {
						limit = { has_country_flag = ROM_cantacuzino_in_ani }
						country_event = { id = romania.53 days = 14 } #Volunteers return
					}
				}
			}
		}
	}

	LOM_unite_italy = {
		icon = italy_flag
		allowed = { tag = LOM }
		available = {
			2 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Latium
			117 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Campania
			160 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Venice
			158 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Piedmont
			162 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Tuscany
			161 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Romagna
		}
		fire_only_once = yes
		cost = 0
		ai_will_do = { factor = 100 }
		priority = 100
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete LOM_unite_italy target: [From.GetName]"
			#log = "KR_Event_Logging;Italian Republic/Federation UNIFIES ITALY;[GetDateText]"
			FROM = { italy_break_balance = yes }
			set_country_flag = ITA_united_italia
			if = {
				limit = {
					has_completed_focus = LOM_crown_king
				}
				set_cosmetic_tag = LOM_ITA_kingdom
			}
			else_if = {
				limit = { has_completed_focus = LOM_work_with_nobility }
				set_cosmetic_tag = LOM_ITA_federation
			}
			else = { set_cosmetic_tag = LOM_ITA }
			add_political_power = 200
			set_capital = { state = 2 remember_old_capital = no }
			every_subject_country = {
				limit = { is_italian_tag = yes }
				Italy_general_transfer_effect = yes
				ROOT = { annex_country = { target = PREV transfer_troops = yes } }
			}
			every_state = {
				limit = { is_european_italy = yes }
				if = {
					limit = {
						owner = {
							is_italian_tag = yes
							is_subject_of = ROOT
						}
					}
					hidden_effect = { remove_claim_by = ROOT }
					add_core_of = ROOT
				}
				else_if = {
					limit = { NOT = { is_core_of = ROOT } }
					add_claim_by = ROOT
				}
			}
			hidden_effect = {				
				if = {
					limit = { NOT = { has_country_flag = ITA_unifier } }
					SRI = { enable_coring_at_fifty_compliance = yes }
					ITA = { enable_coring_at_fifty_compliance = yes }
					LOM = { enable_coring_at_fifty_compliance = yes }
					VNC = { enable_coring_at_fifty_compliance = yes }
					TUS = { enable_coring_at_fifty_compliance = yes }
					EMI = { enable_coring_at_fifty_compliance = yes }
					SIC = { enable_coring_at_fifty_compliance = yes }
					SRD = { enable_coring_at_fifty_compliance = yes }
					italy_enable_claim_integration = yes
					set_country_flag = ITA_unifier
				}
				if = {
					limit = { has_completed_focus = LOM_rule_of_law }
					news_event = ita.201
				}
				country_event = { id = ita.60 days = 5 random_days = 5 }
				SWI = { country_event = { id = swiss.211 days = 4 random_days = 8 } } #Campione
				ROM = {
					if = {
						limit = { has_country_flag = ROM_cantacuzino_in_ani }
						country_event = { id = romania.53 days = 14 } #Volunteers return
					}
				}
			}
		}
	}
	
	PAP_form_italian_fed = {
		icon = italy_flag
		allowed = { always = no }
		available = {
			117 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Campania
			158 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Piedmont
			159 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Lombardy
			160 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Venice
			162 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Tuscany
			161 = { is_owned_and_controlled_by_ROOT_or_subject = yes } #Romagna
		}

		visible = {
			is_subject = no
			NOT = {
				has_cosmetic_tag = PAP_ITA
				has_country_flag = SIC_evola_still_rules
				has_completed_focus = SIC_NeoSanfedisti_coup
			}
		}

		fire_only_once = yes
		cost = 0
		ai_will_do = { factor = 100 }
		priority = 100
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete PAP_form_italian_fed"
			set_country_flag = PAP_is_to_unite_italy
			if = {
				limit = { tag = PAP }
				log = "KR_Event_Logging;Papal State UNIFIES ITALY;[GetDateText]"
			}
			if = {
				limit = {
					has_global_flag = KR_italy_balance
					country_exists = SRI
				}
				custom_effect_tooltip = SRI_balance_will_be_broken
				clr_global_flag = KR_italy_balance
			}
			if = {
				limit = {
					tag = PAP
				}
				every_state = {
					limit = {
						is_european_italy = yes
						NOT = { state = 2 } #Latium
					}
					if = {
						limit = {
							owner = {
								is_italian_tag = yes
								is_subject_of = ROOT
							}
						}
						hidden_effect = { remove_claim_by = ROOT }
						add_core_of = ROOT
					}
					else_if = {
						limit = { NOT = { is_core_of = ROOT } }
						add_claim_by = ROOT
					}
				}
				every_subject_country = {
					limit = { is_italian_tag = yes }
					Italy_general_transfer_effect = yes
					ROOT = { annex_country = { target = PREV transfer_troops = yes } }
				}				
			}
			ITA_remove_italian_cores = yes
			news_event = worldnews.2220
			set_cosmetic_tag = PAP_ITA
			country_event = italy_shared.30
			custom_effect_tooltip = ITA_new_focuses_will_unlock
			hidden_effect = {
				country_event = {
					id = italy.150
					days = 120
					random_days = 40
				}
				if = {
					limit = { NOT = { has_country_flag = ITA_unifier } }
					SRI = { enable_coring_at_fifty_compliance = yes }
					ITA = { enable_coring_at_fifty_compliance = yes }
					LOM = { enable_coring_at_fifty_compliance = yes }
					VNC = { enable_coring_at_fifty_compliance = yes }
					TUS = { enable_coring_at_fifty_compliance = yes }
					EMI = { enable_coring_at_fifty_compliance = yes }
					SIC = { enable_coring_at_fifty_compliance = yes }
					SRD = { enable_coring_at_fifty_compliance = yes }
					italy_enable_claim_integration = yes
					set_country_flag = ITA_unifier
				}
				ROM = {
					if = {
						limit = { has_country_flag = ROM_cantacuzino_in_ani }
						country_event = { id = romania.53 days = 14 } #Volunteers return
					}
				}
			}
		}
	}	
	PAP_claim_donation_of_pepin = {
		icon = GFX_decision_category_patriotic

		allowed = {
			original_tag = PAP
		}

		available = {
			has_capitulated = no
			OR = {
				has_completed_focus = PAP_renewed_impetus
				157 = { #Marches
					owner = {
						OR = {
							has_war_with = ROOT
							is_subject_of = ROOT
						}
					}
				}
				161 = { #Romagna
					owner = {
						OR = {
							has_war_with = ROOT
							is_subject_of = ROOT
						}
					}
				}
				1005 = { #Umbria
					owner = {
						OR = {
							has_war_with = ROOT
							is_subject_of = ROOT
						}
					}
				}
				1236 = { #San Marino
					owner = {
						OR = {
							has_war_with = ROOT
							is_subject_of = ROOT
						}
					}
				}
			}
		}
		visible = {
			OR = {
				157 = { #Marches
					NOT = { is_owned_by = ROOT }
					is_claim_or_core_of_ROOT = no
				}
				161 = { #Romagna
					NOT = { is_owned_by = ROOT }
					is_claim_or_core_of_ROOT = no
				}
				1005 = { #Umbria
					NOT = { is_owned_by = ROOT }
					is_claim_or_core_of_ROOT = no
				}
				1236 = { #San Marino
					NOT = { is_owned_by = ROOT }
					is_claim_or_core_of_ROOT = no
				}
			}
		}

		cost = 100
		fire_only_once = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				is_ally_with = SIC
				OR = {
					157 = { is_claimed_by = SIC } #Marches
					161 = { is_claimed_by = SIC } #Romagna
					1005 = { is_claimed_by = SIC } #Umbria
					1236 = { is_claimed_by = SIC } #San Marino
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete PAP_claim_donation_of_pepin"
			add_war_support = 0.10
			157 = { italy_add_claim_and_transfer_if_owned_by_subject = yes } #Marches
			161 = { italy_add_claim_and_transfer_if_owned_by_subject = yes } #Romagna
			1005 = { italy_add_claim_and_transfer_if_owned_by_subject = yes } #Umbria
			1236 = { italy_add_claim_and_transfer_if_owned_by_subject = yes } #San Marino
		}
	} 
	ITA_claim_ticino = {
		icon = GFX_decision_category_patriotic

		allowed = {
			OR = {
				original_tag = ITA
				original_tag = SRI
				original_tag = SIC
				original_tag = SRD
				original_tag = LOM
				original_tag = PAP
				original_tag = VNC
			}
		}

		highlight_states = {
			highlight_state_targets = { state = 761 }
		}

		available = {
			OR = {
				158 = { is_claim_or_core_of_ROOT = yes }
				159 = { is_claim_or_core_of_ROOT = yes }
			}
			if = {
				limit = { 761 = { italy_ally_has_claim_on_irredentist_state = yes } }
				has_war = no
			}
			else = {
				has_capitulated = no
			}
		}

		visible = {
			is_subject = no
			761 = { italy_can_claim_irredentist_state = yes }
		}

		cost = 50
		fire_only_once = no

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				761 = { italy_ally_has_claim_on_irredentist_state = yes }
			}
			modifier = {
				factor = 0
				761 = { italy_owner_of_state_is_non_puppet_ally = yes }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_ticino"
			761 = { italy_claim_irredentist_state_effect = yes }
		}
	}

	ITA_claim_nice = {
		icon = GFX_decision_category_patriotic

		allowed = {
			OR = {
				tag = ITA
				tag = SRI
				tag = SIC
				tag = SRD
				tag = PAP
				tag = VNC
				tag = LOM
			}
		}

		highlight_states = {
			highlight_state_targets = { state = 762 }
		}

		available = {
			OR = {
				838 = { is_claim_or_core_of_ROOT = yes }
				158 = { is_claim_or_core_of_ROOT = yes }
			}
			if = {
				limit = { 762 = { italy_ally_has_claim_on_irredentist_state = yes } }
				has_war = no
			}
			else = {
				has_capitulated = no
			}
		}
		visible = {
			is_subject = no
			762 = { italy_can_claim_irredentist_state = yes }
		}

		cost = 50
		fire_only_once = no

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				762 = { italy_ally_has_claim_on_irredentist_state = yes }
			}
			modifier = {
				factor = 0
				762 = { italy_owner_of_state_is_non_puppet_ally = yes }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_nice"
			762 = { italy_claim_irredentist_state_effect = yes }
		}
	}

	ITA_claim_savoy = {
		icon = GFX_decision_category_patriotic

		allowed = {
			OR = {
				tag = ITA
				tag = SRI
				tag = SIC
				tag = SRD
				tag = PAP
				tag = VNC
				tag = LOM
			}
		}

		highlight_states = {
			highlight_state_targets = { state = 735 }
		}

		available = {
			158 = { is_claim_or_core_of_ROOT = yes }
			if = {
				limit = { 735 = { italy_ally_has_claim_on_irredentist_state = yes } }
				has_war = no
			}
			else = {
				has_capitulated = no
			}
		}
		visible = {
			is_subject = no
			735 = { italy_can_claim_irredentist_state = yes }
		}

		cost = 50
		fire_only_once = no

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				735 = { italy_ally_has_claim_on_irredentist_state = yes }
			}
			modifier = {
				factor = 0
				735 = { italy_owner_of_state_is_non_puppet_ally = yes }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_savoy"
			735 = { italy_claim_irredentist_state_effect = yes }
		}
	}

	ITA_claim_upper_savoy = {
		icon = GFX_decision_category_patriotic

		allowed = {
			OR = {
				tag = ITA
				tag = SRI
				tag = SIC
				tag = SRD
				tag = PAP
				tag = VNC
				tag = LOM
			}
		}
		
		available = {
			has_completed_focus = ITA_Claim_Italian_Switzerland
		}

		highlight_states = {
			highlight_state_targets = { state = 943 }
		}

		available = {
			OR = {
				735 = { is_claim_or_core_of_ROOT = yes }
				1003 = { is_claim_or_core_of_ROOT = yes }
			}
			if = {
				limit = { 943 = { italy_ally_has_claim_on_irredentist_state = yes } }
				has_war = no
			}
			else = {
				has_capitulated = no
			}
		}
		visible = {
			is_subject = no
			943 = { italy_can_claim_irredentist_state = yes }
		}

		cost = 50
		fire_only_once = no

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				943 = { italy_ally_has_claim_on_irredentist_state = yes }
			}
			modifier = {
				factor = 0
				943 = { italy_owner_of_state_is_non_puppet_ally = yes }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_upper_savoy"
			943 = { italy_claim_irredentist_state_effect = yes }
		}
	}

	ITA_claim_trentino = {
		icon = GFX_decision_category_patriotic

		allowed = {
			OR = {
				tag = ITA
				tag = SRI
				tag = SIC
				tag = SRD
				tag = PAP
				tag = LOM
				tag = VNC
			}
		}
		
		available = {
			OR = {
				AND = {
					tag = VNC
					is_subject = no
					OR = {
					has_completed_focus = VNC_stato_da_mar
					has_completed_focus = VNC_foreign
					}
				}
				AND = {
					has_completed_focus = ITA_Claim_Northeast
			        ITA_has_irridentist_focus = yes
				}
			}
		}

		highlight_states = {
			highlight_state_targets = { state = 783 }
		}

		available = {
			OR = {
				159 = { is_claim_or_core_of_ROOT = yes }
				160 = { is_claim_or_core_of_ROOT = yes }
			}
			if = {
				limit = { 783 = { italy_ally_has_claim_on_irredentist_state = yes } }
				has_war = no
			}
			else = {
				has_capitulated = no
			}
		}
		visible = {
			is_subject = no
			783 = { italy_can_claim_irredentist_state = yes }
		}

		cost = 50
		fire_only_once = no

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				783 = {
					NOT = { owner = { is_ally_with = AUS } }
					italy_ally_has_claim_on_irredentist_state = yes
				}
			}
			modifier = {
				factor = 0
				783 = { italy_owner_of_state_is_non_puppet_ally = yes }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_trentino"
			783 = { italy_claim_irredentist_state_effect = yes }
		}
	}

	ITA_claim_southern_tyrol = {
		icon = GFX_decision_category_patriotic

		allowed = {
			OR = {
				tag = ITA
				tag = SRI
				tag = SIC
				tag = SRD
				tag = PAP
				tag = LOM
				tag = VNC
			}
		}
		
		available = {
			OR = {
				AND = {
					tag = VNC
					is_subject = no
					OR = {
					has_completed_focus = VNC_stato_da_mar
					has_completed_focus = VNC_foreign
					}
				}
				AND = {
					has_completed_focus = ITA_Claim_Northeast
			        ITA_has_irridentist_focus = yes
				}
			}
		}

		highlight_states = {
			highlight_state_targets = { state = 39 }
		}

		available = {
			783 = { is_claim_or_core_of_ROOT = yes }
			if = {
				limit = { 39 = { italy_ally_has_claim_on_irredentist_state = yes } }
				has_war = no
			}
			else = {
				has_capitulated = no
			}
		}
		visible = {
			is_subject = no
			39 = { italy_can_claim_irredentist_state = yes }
		}

		cost = 75
		fire_only_once = no

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				NOT = { has_government = national_populist }
			}
			modifier = {
				factor = 0
				39 = {
					NOT = { owner = { is_ally_with = AUS } }
					italy_ally_has_claim_on_irredentist_state = yes
				}
			}
			modifier = {
				factor = 0
				39 = { italy_owner_of_state_is_non_puppet_ally = yes }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_southern_tyrol"
			39 = { italy_claim_irredentist_state_effect = yes }
		}
	}

	ITA_claim_trieste = {
		icon = GFX_decision_category_patriotic

		allowed = {
			OR = {
				tag = ITA
				tag = SRI
				tag = SIC
				tag = SRD
				tag = PAP
				tag = LOM
				tag = VNC
			}
		}
		
		available = {
			OR = {
				AND = {
					tag = VNC
					is_subject = no
					OR = {
					has_completed_focus = VNC_stato_da_mar
					has_completed_focus = VNC_foreign
					}
				}
				AND = {
					has_completed_focus = ITA_Claim_Northeast
			        ITA_has_irridentist_focus = yes
				}
			}
		}

		highlight_states = {
			highlight_state_targets = { state = 1100 }
		}

		available = {
			759 = { is_claim_or_core_of_ROOT = yes }
			if = {
				limit = { 1100 = { italy_ally_has_claim_on_irredentist_state = yes } }
				has_war = no
			}
			else = {
				has_capitulated = no
			}
		}
		visible = {
			is_subject = no
			1100 = { italy_can_claim_irredentist_state = yes }
		}

		cost = 50
		fire_only_once = no

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				1100 = {
					NOT = { owner = { is_ally_with = AUS } }
					italy_ally_has_claim_on_irredentist_state = yes
				}
			}
			modifier = {
				factor = 0
				1100 = { italy_owner_of_state_is_non_puppet_ally = yes }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_trieste"
			1100 = { italy_claim_irredentist_state_effect = yes }
		}
	}

	ITA_claim_istria = {
		icon = GFX_decision_category_patriotic

		allowed = {
			OR = {
				tag = ITA
				tag = SRI
				tag = SIC
				tag = SRD
				tag = PAP
				tag = LOM
				tag = VNC
			}
		}
		
		available = {
			OR = {
				AND = {
					tag = VNC
					is_subject = no
					OR = {
					has_completed_focus = VNC_stato_da_mar
					has_completed_focus = VNC_foreign
					}
				}
				AND = {
					has_completed_focus = ITA_Claim_Northeast
			        ITA_has_irridentist_focus = yes
				}
			}
		}

		highlight_states = {
			highlight_state_targets = { state = 1144 }
		}

		available = {
			1100 = { is_claim_or_core_of_ROOT = yes }
			if = {
				limit = { 1100 = { italy_ally_has_claim_on_irredentist_state = yes } }
				has_war = no
			}
			else = {
				has_capitulated = no
			}
		}
		visible = {
			is_subject = no
			1144 = { italy_can_claim_irredentist_state = yes }
		}

		cost = 75
		fire_only_once = no

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				1144 = {
					NOT = { owner = { is_ally_with = AUS } }
					italy_ally_has_claim_on_irredentist_state = yes
				}
			}
			modifier = {
				factor = 0
				1144 = { italy_owner_of_state_is_non_puppet_ally = yes }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_istria"
			1144 = { italy_claim_irredentist_state_effect = yes }
		}
	}

	ITA_claim_postumia = {
		icon = GFX_decision_category_patriotic

		allowed = {
			OR = {
				tag = ITA
				tag = SRI
				tag = SIC
				tag = SRD
				tag = PAP
				tag = LOM
				tag = VNC
			}
		}
		
		available = {
			OR = {
				AND = {
					tag = VNC
					is_subject = no
					OR = {
					has_completed_focus = VNC_stato_da_mar
					has_completed_focus = VNC_foreign
					}
				}
				AND = {
					has_completed_focus = ITA_Claim_Northeast
			        ITA_has_irridentist_focus = yes
				}
			}
		}

		highlight_states = {
			highlight_state_targets = { state = 736 }
		}

		available = {
			759 = { is_claim_or_core_of_ROOT = yes }
			if = {
				limit = { 759 = { italy_ally_has_claim_on_irredentist_state = yes } }
				has_war = no
			}
			else = {
				has_capitulated = no
			}
		}
		visible = {
			is_subject = no
			736 = { italy_can_claim_irredentist_state = yes }
		}

		cost = 75
		fire_only_once = no

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				736 = {
					NOT = { owner = { is_ally_with = AUS } }
					italy_ally_has_claim_on_irredentist_state = yes
				}
			}
			modifier = {
				factor = 0
				736 = { italy_owner_of_state_is_non_puppet_ally = yes }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_gorizia"
			736 = { italy_claim_irredentist_state_effect = yes }
		}
	}

	ITA_claim_dalmatia = {
		icon = GFX_decision_category_patriotic

		allowed = {
			OR = {
				tag = ITA
				tag = SRI
				tag = SIC
				tag = SRD
				tag = PAP
				tag = LOM
				tag = VNC
			}
		}
		
		available = {
			OR = {
				AND = {
					tag = VNC
					is_subject = no
					OR = {
					has_completed_focus = VNC_stato_da_mar
					has_completed_focus = VNC_foreign
					}
				}
				AND = {
					has_completed_focus = ITA_Claim_Northeast
			        ITA_has_irridentist_focus = yes
				}
			}
		}

		highlight_states = {
			highlight_state_targets = { state = 163 }
		}

		available = {
			OR = {
				103 = { is_claim_or_core_of_ROOT = yes }
				1105 = { is_claim_or_core_of_ROOT = yes }
				1206 = { is_claim_or_core_of_ROOT = yes }
			}
			if = {
				limit = { 163 = { italy_ally_has_claim_on_irredentist_state = yes } }
				has_war = no
			}
			else = {
				has_capitulated = no
			}
		}
		visible = {
			is_subject = no
			163 = { italy_can_claim_irredentist_state = yes }
		}

		cost = 75
		fire_only_once = no

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				163 = { italy_ally_has_claim_on_irredentist_state = yes }
			}
			modifier = {
				factor = 0
				163 = { italy_owner_of_state_is_non_puppet_ally = yes }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_dalmatia"
			163 = { italy_claim_irredentist_state_effect = yes }
			1098 = { italy_claim_irredentist_state_effect = yes }
		}
	}

	ITA_claim_cattaro = {
		icon = GFX_decision_category_patriotic

		allowed = {
			OR = {
				tag = ITA
				tag = SRI
				tag = SIC
				tag = SRD
				tag = PAP
				tag = LOM
				tag = VNC
			}
		}
		
		available = {
			OR = {
				AND = {
					tag = VNC
					is_subject = no
					OR = {
					has_completed_focus = VNC_stato_da_mar
					has_completed_focus = VNC_foreign
					}
				}
				AND = {
					has_completed_focus = ITA_Claim_Northeast
			        ITA_has_irridentist_focus = yes
				}
			}
		}

		highlight_states = {
			highlight_state_targets = { state = 1270 }
		}

		available = {
			OR = {
				163 = { is_claim_or_core_of_ROOT = yes }
				1098 = { is_claim_or_core_of_ROOT = yes }
			}
			if = {
				limit = { 1270 = { italy_ally_has_claim_on_irredentist_state = yes } }
				has_war = no
			}
			else = {
				has_capitulated = no
			}
		}
		visible = {
			is_subject = no
			1270 = { italy_can_claim_irredentist_state = yes }
		}

		cost = 75
		fire_only_once = no

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				1270 = { italy_ally_has_claim_on_irredentist_state = yes }
			}
			modifier = {
				factor = 0
				1270 = { italy_owner_of_state_is_non_puppet_ally = yes }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_cattaro"
			1270 = { italy_claim_irredentist_state_effect = yes }
		}
	}

	ITA_claim_fiume = {
		icon = GFX_decision_category_patriotic

		allowed = {
			OR = {
				tag = ITA
				tag = SRI
				tag = SIC
				tag = SRD
				tag = PAP
				tag = LOM
				tag = VNC
			}
		}
		
		available = {
			OR = {
				AND = {
					tag = VNC
					is_subject = no
					OR = {
					has_completed_focus = VNC_stato_da_mar
					has_completed_focus = VNC_foreign
					}
				}
				AND = {
					has_completed_focus = ITA_Claim_Northeast
			        ITA_has_irridentist_focus = yes
				}
			}
		}

		highlight_states = {
			highlight_state_targets = { state = 1206 }
		}

		available = {
			1144 = { is_claim_or_core_of_ROOT = yes }
			if = {
				limit = { 103 = { italy_ally_has_claim_on_irredentist_state = yes } }
				has_war = no
			}
			else = {
				has_capitulated = no
			}
		}

		visible = {
			is_subject = no
			1105 = { italy_can_claim_irredentist_state = yes }
			1206 = { italy_can_claim_irredentist_state = yes }
			103 = { italy_can_claim_irredentist_state = yes }
		}

		cost = 50
		fire_only_once = no

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				1105 = { italy_ally_has_claim_on_irredentist_state = yes }
				1206 = { italy_ally_has_claim_on_irredentist_state = yes }
				103 = { italy_ally_has_claim_on_irredentist_state = yes }
			}
			modifier = {
				factor = 0
				1105 = { italy_owner_of_state_is_non_puppet_ally = yes }
				1206 = { italy_owner_of_state_is_non_puppet_ally = yes }
				103 = { italy_owner_of_state_is_non_puppet_ally = yes }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_fiume"
			1105 = { italy_claim_irredentist_state_effect = yes }
			1206 = { italy_claim_irredentist_state_effect = yes }
			103 = { italy_claim_irredentist_state_effect = yes }
		}
	}

	ITA_claim_malta = {
		icon = GFX_decision_category_patriotic

		allowed = {
			OR = {
				tag = ITA
				tag = SRI
				tag = SIC
				tag = SRD
				tag = PAP
				tag = LOM
				tag = VNC
			}
		}

		highlight_states = {
			highlight_state_targets = { state = 116 }
		}

		available = {
			115 = { is_claim_or_core_of_ROOT = yes }
			if = {
				limit = {
					OR = {
						is_in_faction_with = ENT
						115 = { italy_ally_has_claim_on_irredentist_state = yes }
					}
				}
				has_war = no
			}
			else = {
				has_capitulated = no
			}
		}
		visible = {
			is_subject = no
			116 = { italy_can_claim_irredentist_state = yes }
		}

		cost = 50
		fire_only_once = no

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				is_in_faction_with = ENT
			}
			modifier = {
				factor = 0
				116 = { italy_ally_has_claim_on_irredentist_state = yes }
			}
			modifier = {
				factor = 0
				116 = { italy_owner_of_state_is_non_puppet_ally = yes }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_malta"
			116 = { italy_claim_irredentist_state_effect = yes }
		}
	}

	ITA_claim_corsica = {
		icon = GFX_decision_category_patriotic

		allowed = {
			OR = {
				tag = ITA
				tag = SRI
				tag = SIC
				tag = SRD
				tag = PAP
				tag = LOM
				tag = VNC
			}
		}

		highlight_states = {
			highlight_state_targets = { state = 1 }
		}

		available = {
			OR = {
				114 = { is_claim_or_core_of_ROOT = yes }
				1002 = { is_claim_or_core_of_ROOT = yes }
			}
			if = {
				limit = { 1 = { italy_ally_has_claim_on_irredentist_state = yes } }
				has_war = no
			}
			else = {
				has_capitulated = no
			}
		}
		visible = {
			is_subject = no
			1 = { italy_can_claim_irredentist_state = yes }
		}

		cost = 50
		fire_only_once = no

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				1 = { italy_ally_has_claim_on_irredentist_state = yes }
			}
			modifier = {
				factor = 0
				1 = { italy_owner_of_state_is_non_puppet_ally = yes }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_corsica"
			1 = { italy_claim_irredentist_state_effect = yes }
		}
	}
	
	VNC_restore_la_serenissima = {
		icon = GFX_decision_category_patriotic

		allowed = { tag = VNC }
		
		available = {
			OR = {
			has_completed_focus = VNC_stato_da_mar
			has_completed_focus = VNC_foreign
			}
			owns_state = 1100
			owns_state = 1144
			owns_state = 1105
			owns_state = 1206
			owns_state = 103
			owns_state = 163
			owns_state = 1098
			owns_state = 1270
		}

		highlight_states = {
			highlight_state_targets = { state = 163 }
		}

		visible = {
			is_subject = no
			OR = {
			has_completed_focus = VNC_stato_da_mar
			has_completed_focus = VNC_foreign
			}
		}

		cost = 100
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_dalmatia"
			if = {
			limit = {
			NOT = {
			has_cosmetic_tag = VNC_ITA
				}
			}
			set_cosmetic_tag = VNC_SERENE
			}
			add_war_support = 0.10
			add_stability = 0.10
			every_state = {
				limit = {
					is_claimed_by = VNC
				}
				add_core_of = VNC
			}
		}
	}
	
	VNC_domain_of_the_sea = {
		icon = GFX_decision_category_patriotic

		allowed = { tag = VNC }
		
		available = {
		OR = {
		has_cosmetic_tag = VNC_SERENE
		has_cosmetic_tag = VNC_ITA
			}
		}

		visible = {
			is_subject = no
			OR = {
			has_completed_focus = VNC_stato_da_mar
			has_completed_focus = VNC_foreign
			}
		}

		cost = 50
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_dalmatia"
			create_wargoal = {
					target = ALB
					type = annex_everything
			}
			create_wargoal = {
					target = GRE
					type = annex_everything
			}
			create_wargoal = {
					target = CRE
					type = annex_everything
			}
			every_state = {
				limit = {
					OR = {
					is_core_of = ALB
					is_claimed_by = ALB
					}
				}
				add_claim_by = VNC
			}
			758 = { add_claim_by = VNC }
			186 = { add_claim_by = VNC }
			182 = { add_claim_by = VNC }
			758 = { add_claim_by = VNC }
			183 = { add_claim_by = VNC }
			939 = { add_claim_by = VNC }
			set_country_flag = VNC_med_claims
		}
	}
	
	VNC_domain_of_the_sea_cores = {
		icon = GFX_decision_category_patriotic

		allowed = { tag = VNC }
		
		available = {
		OR = {
		has_cosmetic_tag = VNC_SERENE
		has_cosmetic_tag = VNC_ITA
			}
		owns_state = 758
		owns_state = 186
		owns_state = 939
		owns_state = 44
		OR = {
		owns_state = 182
		owns_state = 183
			}
		has_country_flag = VNC_med_claims
		}

		visible = {
			is_subject = no
			OR = {
			has_completed_focus = VNC_stato_da_mar
			has_completed_focus = VNC_foreign
			}
		}

		cost = 100
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_dalmatia"
			every_state = {
				limit = {
					OR = {
					is_core_of = ALB
					is_claimed_by = ALB
					}
				}
				add_core_of = VNC
			}
			758 = { add_core_of = VNC }
			186 = { add_core_of = VNC }
			182 = { add_core_of = VNC }
			758 = { add_core_of = VNC }
			183 = { add_core_of = VNC }
			939 = { add_core_of = VNC }
		}
	}
	
	PAP_restore_the_papal_states = {
		icon = GFX_decision_papacy2

		allowed = { tag = PAP }
		
		available = {
			owns_state = 157
			owns_state = 161
			owns_state = 1005
			owns_state = 1236
		}

		visible = {
			157 = { #Marches
				is_owned_and_controlled_by = PAP
			}
			161 = { #Romagna
				is_owned_and_controlled_by = PAP
			}
			1005 = { #Umbria
				is_owned_and_controlled_by = PAP
			}
			1236 = { #San Marino
				is_owned_and_controlled_by = PAP
			}
			NOT = { has_cosmetic_tag = PAP_ITA }
			NOT = { has_cosmetic_tag = PAP_republic }
			has_democratic_government = no
		}

		cost = 100
		fire_only_once = yes

		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_claim_dalmatia"
			set_cosmetic_tag = PAP_papal_states
		}
	}
	
	
}

ITA_occupation_decisions = {
	ITA_erode_italian_legitimacy = {
		icon = eng_propaganda_campaigns

		visible = {
			is_subject = no
			has_war_with = FROM
			OR = {
				tag = ITA
				tag = SRI
				tag = SIC
				tag = SRD
				tag = PAP
				tag = VNC
				tag = LOM
				is_in_faction_with = ITA
				is_in_faction_with = SRI
				is_in_faction_with = SIC
				is_in_faction_with = SRD
				is_in_faction_with = PAP
				is_in_faction_with = VNC
				is_in_faction_with = LOM
			}
			FROM = {
				is_government_in_exile = yes
				has_war_with = ROOT
				has_legitimacy > 20
				is_in_faction = yes
			}
			if = {
				limit = { is_italian_tag = yes }
				FROM = {
					any_owned_state = { is_controlled_by_ROOT_or_ally = yes }
				}
			}
			else = {
				FROM = {
					any_owned_state = { is_controlled_by = ROOT }
				}
			}
		}

		fire_only_once = no
		days_remove = 30
		cost = 25

		target_root_trigger = { has_war = yes }

		targets = { ITA SRI SIC SRD PAP VNC EMI TUS LOM }

		target_trigger = {
			FROM = {
				is_government_in_exile = yes
				has_war_with = ROOT
				has_legitimacy > 20
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 20
				is_italian_tag = yes
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete ITA_erode_italian_legitimacy target: [From.GetName]"
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove ITA_erode_italian_legitimacy target: [From.GetName]"
			if = {
				limit = { is_italian_tag = yes }
				FROM = {
					add_legitimacy = -30
					add_war_support = -0.15
				}
			}
			else = {
				FROM = {
					add_legitimacy = -15
					add_war_support = -0.05
				}
			}
		}
	}
}
SIC_fasci_decisions = {
	SIC_support_calabria = {
		allowed = {
			tag = SIC
		}
		available = {
			is_subject = no
		}
		visible = {
			tag = SIC
			has_completed_focus = SIC_expand_support
		}
		icon = GFX_decision_category_generic_propaganda

		cost = 20
		days_remove = 20
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SIC_support_calabria"
			custom_effect_tooltip = SIC_peasant_support_tooltip
			hidden_effect = {
				add_stability = 0.05	
				add_popularity = {
					ideology = radical_socialist
					popularity = 0.02
				}
			}				
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SIC_support_calabria"
		}
	}
	SIC_support_apulia = {
		allowed = {
			tag = SIC
		}
		available = {
			is_subject = no
		}
		visible = {
			tag = SIC
			has_completed_focus = SIC_expand_support
		}
		icon = GFX_decision_category_generic_propaganda

		cost = 20
		days_remove = 20
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SIC_support_apulia"
			custom_effect_tooltip = SIC_peasant_support_tooltip
			hidden_effect = {
				add_stability = 0.05	
				add_popularity = {
					ideology = radical_socialist
					popularity = 0.02
				}
			}			
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SIC_support_apulia"
		}
	}
	SIC_support_basilicata = {
		allowed = {
			tag = SIC
		}
		available = {
			is_subject = no
		}
		visible = {
			tag = SIC
			has_completed_focus = SIC_expand_support
		}
		icon = GFX_decision_category_generic_propaganda

		cost = 20
		days_remove = 20
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SIC_support_basilicata"
			custom_effect_tooltip = SIC_peasant_support_tooltip
			hidden_effect = {
				add_stability = 0.05	
				add_popularity = {
					ideology = radical_socialist
					popularity = 0.02
				}
			}				
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SIC_support_basilicata"
		}
	}
	SIC_support_campania = {
		allowed = {
			tag = SIC
		}
		available = {
			is_subject = no
		}
		visible = {
			tag = SIC
			has_completed_focus = SIC_expand_support
		}
		icon = GFX_decision_category_generic_propaganda

		cost = 20
		days_remove = 20
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SIC_support_campania"
			custom_effect_tooltip = SIC_peasant_support_tooltip
			hidden_effect = {
				add_stability = 0.05	
				add_popularity = {
					ideology = radical_socialist
					popularity = 0.02
				}
			}			
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SIC_support_campania"
		}
	}
	SIC_support_abruzzo = {
		allowed = {
			tag = SIC
		}
		available = {
			is_subject = no
		}
		visible = {
			tag = SIC
			has_completed_focus = SIC_expand_support
		}
		icon = GFX_decision_category_generic_propaganda

		cost = 20
		days_remove = 20
		fire_only_once = yes

		ai_will_do = {
			factor = 1000
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision SIC_support_abruzzo"
			custom_effect_tooltip = SIC_peasant_support_tooltip
			hidden_effect = {
				add_stability = 0.05	
				add_popularity = {
					ideology = radical_socialist
					popularity = 0.02
				}
			}				
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SIC_support_abruzzo"
		}
	}
}

prospect_for_resources = {
	SIC_develop_campania_steel_mines = {
		icon = steel

		allowed = { always = no } #activated in history/general/italy_decisions

		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 2
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60
		state_target = yes

		modifier = {
			civilian_factory_use = 3
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SIC_develop_campania_steel_mines target: [From.GetName]"
			FROM = { set_state_flag = campania_steel_developed }
			add_resource = {
				type = steel
				amount = 12
				state = FROM
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 3
				has_political_power > 200
			}
			modifier = {
				factor = 5
				has_resources_in_country = {
					resource = steel
					amount < 1
				}
			}
		}
	}

	SIC_develop_campania_aluminium_mines = {
		icon = aluminium

		allowed = { always = no } #activated in history/general/italy_decisions

		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 2
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60
		state_target = yes

		modifier = {
			civilian_factory_use = 3
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SIC_develop_campania_aluminium_mines target: [From.GetName]"
			FROM = { set_state_flag = campania_aluminium_developed }
			add_resource = {
				type = aluminium
				amount = 20
				state = FROM
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 3
				has_political_power > 200
			}
			modifier = {
				factor = 5
				has_resources_in_country = {
					resource = aluminium
					amount < 1
				}
			}
		}
	}

	SRD_develop_cagliari_coal_mines = {
		icon = steel

		allowed = { always = no } #activated in history/general/italy_decisions

		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 2
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60
		state_target = yes

		modifier = {
			civilian_factory_use = 3
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove SRD_develop_cagliari_coal_mines target: [From.GetName]"
			set_global_flag = sardinia_coal_mines_developed
			add_resource = {
				type = steel
				amount = 12
				state = FROM
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 3
				has_political_power > 200
			}
			modifier = {
				factor = 5
				has_resources_in_country = {
					resource = steel
					amount < 1
				}
			}
		}
	}

	LOM_develop_lombardy_coal_mines = {
		icon = steel

		allowed = { always = no } #activated in history/general/italy_decisions

		available = {
			has_tech = excavation3
			num_of_civilian_factories_available_for_projects > 1
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60
		state_target = yes

		modifier = {
			civilian_factory_use = 2
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove LOM_develop_lombardy_coal_mines target: [From.GetName]"
			FROM = { set_state_flag = lombardy_coal_mines_developed }
			add_resource = {
				type = steel
				amount = 8
				state = FROM
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 3
				has_political_power > 200
			}
			modifier = {
				factor = 5
				has_resources_in_country = {
					resource = steel
					amount < 1
				}
			}
		}
	}

	TUS_develop_tuscany_coal_mines = {
		icon = steel

		allowed = { always = no } #activated in history/general/italy_decisions

		available = {
			has_tech = excavation3
			num_of_civilian_factories_available_for_projects > 1
			controls_state = FROM
		}

		visible = {
			owns_state = FROM
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60
		state_target = yes

		modifier = {
			civilian_factory_use = 2
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TUS_develop_tuscany_coal_mines target: [From.GetName]"
			FROM = { set_state_flag = tuscany_coal_mines_developed }
			add_resource = {
				type = steel
				amount = 8
				state = FROM
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 3
				has_political_power > 200
			}
			modifier = {
				factor = 5
				has_resources_in_country = {
					resource = steel
					amount < 1
				}
			}
		}
	}
}


ITA_tagswitches = {
	play_as_SRD = {
		icon = italy_flag

		available = {
			is_italian_tag = yes
			OR = {
				has_global_flag = KX_ITA_DIVIDED
				has_global_flag = KX_ITA_COMPLETLEY_FUCKED
			}
		}
		visible = {
			OR = {
				has_global_flag = KX_ITA_DIVIDED
				has_global_flag = KX_ITA_COMPLETLEY_FUCKED
			}
		}

		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout play_as_SRD"
			SRD = {
				change_tag_from = ROOT
			}
			set_country_flag = STAYED_AS_ITALIAN_TAG
			set_global_flag = ITALIAN_TAGSWITCHES_DISABLED
		}
	}
	play_as_SIC = {
		icon = italy_flag

		available = {
			is_italian_tag = yes
			OR = {
				has_global_flag = KX_ITA_DIVIDED
				has_global_flag = KX_ITA_COMPLETLEY_FUCKED
			}
		}
		visible = {
			OR = {
				has_global_flag = KX_ITA_DIVIDED
				has_global_flag = KX_ITA_COMPLETLEY_FUCKED
			}
		}

		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout play_as_SIC"
			SIC = {
				change_tag_from = ROOT
			}
			set_country_flag = STAYED_AS_ITALIAN_TAG
			set_global_flag = ITALIAN_TAGSWITCHES_DISABLED
		}
	}
	play_as_PAP = {
		icon = italy_flag

		available = {
			is_italian_tag = yes
			OR = {
				has_global_flag = KX_ITA_DIVIDED
				has_global_flag = KX_ITA_COMPLETLEY_FUCKED
			}
		}
		visible = {
			OR = {
				has_global_flag = KX_ITA_DIVIDED
				has_global_flag = KX_ITA_COMPLETLEY_FUCKED
			}
		}

		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout play_as_PAP"
			PAP = {
				change_tag_from = ROOT
			}
			set_country_flag = STAYED_AS_ITALIAN_TAG
			set_global_flag = ITALIAN_TAGSWITCHES_DISABLED
		}
	}
	play_as_VNC = {
		icon = italy_flag

		available = {
			is_italian_tag = yes
			has_global_flag = KX_ITA_COMPLETLEY_FUCKED
		}
		visible = {
			has_country_flag = KX_ITA_COMPLETLEY_FUCKED
		}

		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout play_as_VNC"
			VNC = {
				change_tag_from = ROOT
			}
			set_country_flag = STAYED_AS_ITALIAN_TAG
			set_global_flag = ITALIAN_TAGSWITCHES_DISABLED
		}
	}
	play_as_LOM = {
		icon = italy_flag

		available = {
			is_italian_tag = yes
			has_global_flag = KX_ITA_COMPLETLEY_FUCKED
		}
		visible = {
			has_country_flag = KX_ITA_COMPLETLEY_FUCKED
		}

		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout play_as_LOM"
			LOM = {
				change_tag_from = ROOT
			}
			set_country_flag = STAYED_AS_ITALIAN_TAG
			set_global_flag = ITALIAN_TAGSWITCHES_DISABLED
		}
	}
	play_as_TUS = {
		icon = italy_flag

		available = {
			is_italian_tag = yes
			has_global_flag = KX_ITA_COMPLETLEY_FUCKED
		}
		visible = {
			has_country_flag = KX_ITA_COMPLETLEY_FUCKED
		}

		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout play_as_TUS"
			TUS = {
				change_tag_from = ROOT
			}
			set_country_flag = STAYED_AS_ITALIAN_TAG
			set_global_flag = ITALIAN_TAGSWITCHES_DISABLED
		}
	}
	play_as_EMI = {
		icon = italy_flag

		available = {
			is_italian_tag = yes
			has_global_flag = KX_ITA_COMPLETLEY_FUCKED
		}
		visible = {
			has_country_flag = KX_ITA_COMPLETLEY_FUCKED
		}

		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout play_as_EMI"
			EMI = {
				change_tag_from = ROOT
			}
			set_country_flag = STAYED_AS_ITALIAN_TAG
			set_global_flag = ITALIAN_TAGSWITCHES_DISABLED
		}
	}
	stay_as_root = {
		icon = italy_flag

		available = {
			is_italian_tag = yes
			has_global_flag = KX_ITA_COMPLETLEY_FUCKED
		}
		visible = {
			has_country_flag = KX_ITA_COMPLETLEY_FUCKED
		}

		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout stay_as_root"
			set_country_flag = STAYED_AS_ITALIAN_TAG
			set_global_flag = ITALIAN_TAGSWITCHES_DISABLED
		}
	}
	italy_change_to_other_nation = {

		activation = {
			is_italian_tag = yes
			OR = {
				has_global_flag = KX_ITA_DIVIDED
				has_global_flag = KX_ITA_COMPLETLEY_FUCKED
			}
		}
		available = { has_country_flag = STAYED_AS_ITALIAN_TAG }

		days_mission_timeout = 20
		is_good = no
		fire_only_once = yes

		cancel_trigger = { is_ai = yes }

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout italy_change_to_other_nation"
			set_country_flag = STAYED_AS_ITALIAN_TAG
			clr_global_flag = KX_ITA_DIVIDED
			custom_effect_tooltip = italy_switch_to_other_nation
		}
	}
}

