###########################
# Australasia Decisions
###########################
# By Rylock
###########################

political_actions = {
	AST_trade_mission_commonwealth = {
		icon = generic_agreement

		allowed = {
			original_tag = AST
		}

		available = {
			controls_all_owned_states = yes
		}

		visible = {
			has_completed_focus = AST_trade_with_the_commonwealth
			is_in_faction_with = ENT
			FROM = {
				exists = yes
				is_in_faction_with = AST
				is_subject = no
				same_government_type_as_ROOT = yes
				controls_all_owned_states = yes
				NOT = { has_country_flag = AST_approached_trade }
			}
		}

		target_root_trigger = {
			has_completed_focus = AST_trade_with_the_commonwealth
		}

		target_array = allies

		target_trigger = {
			FROM = {
				is_in_faction_with = AST
				is_subject = no
				same_government_type_as_ROOT = yes
				controls_all_owned_states = yes
				NOT = { has_country_flag = AST_approached_trade }
			}
		}

		days_remove = 50

		fire_only_once = no

		cost = 25

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_trade_mission_commonwealth target: [From.GetName]"
			set_country_flag = AST_recent_trade_mission
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_trade_mission_commonwealth target: [From.GetName]"
			clr_country_flag = AST_recent_trade_mission
			FROM = {
				set_country_flag = AST_approached_trade
				country_event = austral.500
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 20
				FROM = { tag = ENT }
			}
		}
	}

	AST_trade_mission_new = {
		icon = generic_agreement

		allowed = {
			original_tag = AST
		}

		available = {
			controls_all_owned_states = yes
			NOT = { has_country_flag = AST_recent_trade_mission }
		}

		visible = {
			OR = {
				has_completed_focus = AST_find_new_markets
				AND = {
					has_completed_focus = AST_trade_with_the_commonwealth
					NOT = { is_in_faction_with = ENT }
				}
			}
			FROM = {
				NOT = {
					tag = ENT
					is_in_faction_with = ENT
					has_war_with = AST
				}
				is_subject = no
				num_of_factories > 10
				OR = {
					NOT = { has_socialist_government = yes }
					AST = { has_socialist_government = yes }
				}
				controls_all_owned_states = yes
				NOT = { has_country_flag = AST_approached_trade }
			}
		}

		targets = { JAP SAF PRF BHC SIA CSA USA FRA ENG CAL TEX NEE QIE FNG GXC SZC CHI YUN LEC TRM RUS }

		target_root_trigger = {
			OR = {
				has_completed_focus = AST_find_new_markets
				has_completed_focus = AST_trade_with_the_commonwealth
			}
		}

		target_trigger = {
			FROM = {
				NOT = {
					tag = ENT
					is_in_faction_with = ENT
					has_war_with = AST
				}
				is_subject = no
				num_of_factories > 10
				OR = {
					same_government_type_as_ROOT = yes
					tag = JAP
				}
				controls_all_owned_states = yes
				NOT = { has_country_flag = AST_approached_trade }
			}
		}

		days_remove = 50

		fire_only_once = yes

		cost = 25

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_trade_mission_new target: [From.GetName]"
			set_country_flag = AST_recent_trade_mission
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_trade_mission_new target: [From.GetName]"
			FROM = {
				set_country_flag = AST_approached_trade
				country_event = austral.201
			}
			clr_country_flag = AST_recent_trade_mission
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 20
				FROM = { tag = ENT }
			}
		}
	}

	AST_restore_order_nzl = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = AST
		}

		available = {
			has_war = no
		}

		visible = {
			OR = {
				284 = {
					NOT = { is_core_of = AST }
					is_owned_and_controlled_by = AST
				}
				723 = {
					NOT = { is_core_of = AST }
					is_owned_and_controlled_by = AST
				}
			}
			NOT = { has_country_flag = AST_NZL_occupation }
		}

		days_remove = 180
		days_re_enable = 360

		fire_only_once = no

		modifier = {
			stability_factor = -0.05
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_restore_order_nzl"
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_restore_order_nzl"
			add_stability = 0.05
			every_owned_state = {
				limit = {
					OR = {
						state = 284
						state = 723
					}
					is_controlled_by = AST
					NOT = { is_core_of = AST }
				}
				if = {
					limit = { is_claimed_by = AST }
					remove_claim_by = AST
				}
				add_core_of = AST
			}
		}

		ai_will_do = {
			factor = 50
		}
	}
}

AST_bastion_of_empire_decisions = {
	AST_extend_malay_chaos = {
		icon = generic_political_discourse
		available = {
			has_equipment = {
    			infantry_equipment_1 > 1000
			}
		}
		
		allowed = {
			tag = AST
		}
		
		visible = {
			GEA = { has_idea = AST_malaysian_chaos }
		}
		
		cost = 30
		
		complete_effect = {
		}

		remove_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment_1
				amount = -1000
				producer = AST
			}
			GEA = {
				modify_timed_idea = {
					idea = AST_malaysian_chaos
					days = 40
				}
			}
		}
		days_remove = 20
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
	}

	AST_Attack_GEA = {
		icon = generic_nationalism

		available = {
			can_declare_war_on = FROM
		}

		visible = {
			has_completed_focus = AST_open_war_isolated_to_asia
		}

		targets = { GEA }
		target_root_trigger = {
			has_completed_focus = AST_open_war_isolated_to_asia
		}
		target_trigger = {
			can_declare_war_on = FROM
		}

		cost = 10
		days_remove = 14
		fire_only_once = no
		war_with_target_on_remove = yes

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					alliance_strength_ratio < 0.5
					surrender_progress > 0
				}
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 0.8 }
			}
			modifier = {
				factor = 0
				FROM = {
					is_in_faction = yes
					var:FROM.faction_leader = {
						strength_ratio = {
							tag = ROOT
							ratio > 0.7
						}
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					is_subject = yes
					overlord = {
						strength_ratio = {
							tag = ROOT
							ratio > 0.7
						}
					}
				}
			}
			modifier = {
				factor = 0
				has_country_flag = imminent_war
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NZL_Attack_Dei target: [From.GetName]"
			set_country_flag = { flag = imminent_war days = 20 value = 1 }
			setup_decision_attack_AI = yes
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove NZL_Attack_Dei target: [From.GetName]"
			clear_decision_attack_AI = yes
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
			if = {
				limit = { AST = { is_ally_with = CAN } NOT = { has_country_flag = AST_red_focus_move } }
				GER = { add_ideas = AST_Colonial_War }
				AST = { add_ideas = AST_Colonial_War  }
			}
		}
	}

	AST_expand_war = {
		icon = hol_draw_up_staff_plans

		available = {
			has_idea = AST_Colonial_War
		}

		visible = {
			has_idea = AST_Colonial_War
		}

		cost = 50
		fire_only_once = yes

		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision NZL_Attack_Dei target: [From.GetName]"
			GER = { remove_ideas = AST_Colonial_War }
			AST = { remove_ideas = AST_Colonial_War }
		}
	}
	
	AST_expand_intervention = {
		icon = GFX_decision_soldierly_discipline
		allowed = { original_tag = AST }
		available = {
			has_war = no
		}
		visible = {
			AND= { 
				DEI = {
					has_war_with = INS
				}
				has_completed_focus = AST_operation_holdfast
			}
			AND= { 
				GEA = {
					has_war_with = INC
				}
				has_completed_focus = AST_operation_agas
			}
			AND= { 
				SIR = {
					has_war_with = SIA
				}
				has_completed_focus = AST_siamese_emergency
			}
		}
		fire_only_once = yes
		cost = 50
		ai_will_do = {
			factor = 20
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_support_dei"
			add_ideas = AST_expand_intervention_task_force
		}
	}
	
	AST_support_dei = {# Support x or y -> should setup as target
		icon = generic_civil_support
		allowed = { original_tag = AST }
		available = {
			has_war = no
		}
		visible = {
			AND= { 
				DEI = {
					has_war_with = INS
				}
				has_completed_focus = AST_operation_agas
			}
		}
		fire_only_once = yes
		cost = 50
		ai_will_do = {
			factor = 20
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_support_dei"
			send_equipment = {
				type = infantry_equipment
				amount = 500
				target = DEI
			}
			send_equipment = {
				type = support_equipment
				amount = 500
				target = DEI
			}
		}
	}

	AST_support_ins = {# Support x or y -> should setup as target
		icon = generic_civil_support
		allowed = { original_tag = AST }
		available = {
			has_war = no
		}
		visible = {
			AND= { 
				DEI = {
					has_war_with = INS
				}
				has_completed_focus = AST_operation_agas
			}
		}
		fire_only_once = yes
		cost = 50
		ai_will_do = {
			factor = 20
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_support_ins"
			send_equipment = {
				type = infantry_equipment
				amount = 500
				target = INS
			}
			send_equipment = {
				type = support_equipment
				amount = 500
				target = INS
			}
		}
	}

	AST_support_SIR = {# Support x or y -> should setup as target
		icon = generic_civil_support
		allowed = { original_tag = AST }
		available = {
			has_war = no
			has_country_flag=AST_supporting_SIR
		}
		visible = {
			SIR = {
				has_war_with = SIA
			}
		}
		fire_only_once = yes
		cost = 50
		ai_will_do = {
			factor = 20
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_support_dei"
			send_equipment = {
				type = infantry_equipment
				amount = 500
				target = SIR
			}
			send_equipment = {
				type = support_equipment
				amount = 500
				target = SIR
			}
		}
	}

	AST_support_sia = {# Support x or y -> should setup as target
		icon = generic_civil_support
		allowed = { original_tag = AST }
		available = {
			has_war = no
			has_country_flag= AST_supporting_SIA
		}
		visible = {
			SIA = {
				has_war_with = SIR
			}
		}
		fire_only_once = yes
		cost = 50
		ai_will_do = {
			factor = 20
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_support_dei"
			send_equipment = {
				type = infantry_equipment
				amount = 500
				target = SIA
			}
			send_equipment = {
				type = support_equipment
				amount = 500
				target = SIA
			}
		}
	}

	AST_support_inc = {# Support x or y -> should setup as target
		icon = generic_civil_support
		allowed = { original_tag = AST }
		available = {
			has_war = no
			has_country_flag = AST_supporting_INC
		}
		visible = {
			INC = {
				has_war_with = GEA
			}
		}
		fire_only_once = yes
		cost = 50
		ai_will_do = {
			factor = 20
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_support_inc"
			send_equipment = {
				type = infantry_equipment
				amount = 500
				target = INC
			}
			send_equipment = {
				type = support_equipment
				amount = 500
				target = INC
			}
		}
	}

	AST_support_gea = {# Support x or y -> should setup as target
		icon = generic_civil_support
		allowed = { original_tag = AST }
		available = {
			has_war = no
			has_country_flag = AST_supporting_GEA
		}
		visible = {
			GEA = {
				has_war_with = INC
			}
		}
		fire_only_once = yes
		cost = 50
		ai_will_do = {
			factor = 20
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_support_gea"
			send_equipment = {
				type = infantry_equipment
				amount = 500
				target = GEA
			}
			send_equipment = {
				type = support_equipment
				amount = 500
				target = GEA
			}
		}
	}

	AST_claim_singapore = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 336
			}
		}

		available = {
			is_subject = no
			controls_all_owned_states = yes
		}

		visible = {
			336 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
						AND = {
							has_global_flag = ENT_agree_colonies
							AST = { is_in_faction_with = ENT }
							is_in_faction_with = GER
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 5
				336 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use on fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				336 = { owner = { has_socialist_government = yes } }
			}
			# democratic AST will not use unless owned by a different government type
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
				336 = {
					owner = {
						NOT = {
							tag = GER
							is_subject_of = GER
							same_government_type_as_ROOT = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_singapore"
			336 = {
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
				owner = {
					country_event = austral.354
					if = {
						limit = { is_subject = yes }
						overlord = { country_event = austral.354 }
					}
				}
			}
		}
	}

	AST_demand_claimed_territory = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = AST
		}

		available = {
			ROOT = {
				is_subject = no
				controls_all_owned_states = yes
				NOT = {
					has_country_flag = AST_recently_made_demand
					has_non_aggression_pact_with = FROM
					has_war_together_with = FROM
				}
			}
			can_declare_war_on = FROM
		}

		visible = {
			is_subject = no
			FROM = {
				exists = yes
				any_owned_state = {
					is_claimed_by = AST
					has_state_flag = AST_claimed_anderson
				}
				NOT = {
					is_in_faction_with = AST
					is_subject_of = AST
					has_war_with = AST
					AND = {
						has_global_flag = ENT_agree_colonies
						AST = { is_in_faction_with = ENT }
						is_in_faction_with = GER
					}
				}
			}
		}

		target_trigger = {
			FROM = {
				any_owned_state = {
					is_claimed_by = AST
					has_state_flag = AST_claimed_anderson
				}
				NOT = {
					is_in_faction_with = AST
					is_subject_of = AST
					has_war_with = AST
				}
			}
		}

		days_remove = 180

		fire_only_once = no

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_demand_claimed_territory target: [From.GetName]"
			set_country_flag = AST_recently_made_demand
			if = {
				limit = { FROM = { is_subject = yes } }
				FROM = {
					save_event_target_as = puppet_owner
					overlord = {
						country_event = austral.525
					}
				}
				else = {
					FROM = { country_event = austral.525 }
				}
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_demand_claimed_territory target: [From.GetName]"
			clr_country_flag = AST_recently_made_demand
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					ROOT_is_threatened = yes
					FROM = { default_attack_AI_trigger_FROM = yes }
					FROM = { dont_start_major_faction_wars = yes }
				}
			}
		}
	}
	
	AST_integrate_indonesia = {
		icon = generic_form_nation
		allowed = { original_tag = AST }
		visible = {
			owns_state = 1020
			NOT = {
				country_exists = DEI
				country_exists = INS
			}
		}
		fire_only_once = yes
		cost = 50
		days_remove = 60
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_integrate_indonesia"
			every_state = {
				limit = {
					OR = {
						is_core_of = DEI
						is_core_of = INS
					}
				}
				AST = {
					add_state_core = PREV
				}
			}
		}
		ai_will_do = {
			factor = 50
		}
	}
	AST_integrate_malaysia = {
		icon = generic_form_nation
		allowed = { original_tag = AST }
		visible = {
			owns_state = 336
			owns_state = 846
			owns_state = 333
			owns_state = 828
		}
		fire_only_once = yes
		cost = 50
		days_remove = 60
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_integrate_indonesia"
			add_state_core = 336
			add_state_core = 846
			add_state_core = 333
			add_state_core = 828
		}
		ai_will_do = {
			factor = 50
		}
	}
	AST_integrate_new_guinea = {
		icon = generic_form_nation
		allowed = { original_tag = AST }
		visible = {
			owns_state = 757
			owns_state = 737
		}
		fire_only_once = yes
		cost = 50
		days_remove = 60
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_integrate_indonesia"
			add_state_core = 757
			add_state_core = 737
		}
		ai_will_do = {
			factor = 50
		}
	}
}

AST_exploit_resources = {

	AST_develop_queensland_coal_mines = {
		icon = generic_industry

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
			state = 521
		}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			521 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_wealth_of_the_antipodes
		}

		visible = {
			521 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_coal_mines_developed }
			}
			has_completed_focus = AST_wealth_of_the_antipodes
		}

		fire_only_once = yes

		cost = 70
		days_remove = 80

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_queensland_coal_mines"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_queensland_coal_mines"
			521 = {
				set_state_flag = AST_coal_mines_developed
				add_resource = {
					type = steel
					amount = 10
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_tasmania_aluminium_deposits = {
		icon = aluminium

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 518
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			518 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_mass_employment_efforts
		}

		visible = {
			518 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_aluminium_mines_developed }
			}
			has_completed_focus = AST_mass_employment_efforts
		}

		fire_only_once = yes

		cost = 70
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_victoria_aluminium_deposits"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_victoria_aluminium_deposits"
			518 = {
				set_state_flag = AST_aluminium_mines_developed
				add_resource = {
					type = aluminium
					amount = 12
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_south_australian_iron_mines = {
		icon = steel

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 519
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 1
			519 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_expand_the_council
		}

		visible = {
			519 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_steel_mines_developed }
			}
			has_completed_focus = AST_expand_the_council
		}

		fire_only_once = yes

		cost = 100
		days_remove = 60

		modifier = {
			civilian_factory_use = 2
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_tasmania_iron_mines"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_tasmania_iron_mines"
			519 = {
				set_state_flag = AST_steel_mines_developed
				add_resource = {
					type = steel
					amount = 16
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_kimberley_iron_mines = {	
		icon = steel

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 987
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 1
			987 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_australasian_trade_commissioner_service
		}

		visible = {
			987 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_steel_mines_developed }
			}
			has_completed_focus = AST_australasian_trade_commissioner_service
		}

		fire_only_once = yes

		cost = 70
		days_remove = 60

		modifier = {
			civilian_factory_use = 2
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_kimberley_iron_mines"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_kimberley_iron_mines"
			987 = {
				set_state_flag = AST_steel_mines_developed
				add_resource = {
					type = steel
					amount = 17
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_wa_tungsten_deposits = {
		icon = tungsten

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 522
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			522 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_wealth_of_the_antipodes
		}

		visible = {
			522 = {	is_owned_and_controlled_by = AST 
				NOT = { has_state_flag = AST_oil_developed } 
			}
			has_completed_focus = AST_wealth_of_the_antipodes
		}

		fire_only_once = yes

		cost = 25
		days_remove = 50

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_wa_tungsten_deposits"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_wa_tungsten_deposits"
			522 = {
				set_state_flag = AST_oil_developed
				add_resource = {
					type = tungsten
					amount = 12
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_hornibrook_highway = {
		icon = road

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 521
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			521 = { 
				is_owned_and_controlled_by = AST
			}
			has_completed_focus = AST_national_health_and_medical_research_council
		}

		visible = {
			521 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_hornibrook_developed } 
			}
			has_completed_focus = AST_national_health_and_medical_research_council
		}

		fire_only_once = yes

		cost = 70
		days_remove = 40

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_queensland_oil_deposits"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_queensland_oil_deposits"
			if = {
				limit = { owns_state = 521 }
				521 = {
					set_state_flag = AST_hornibrook_developed
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_victoria_aluminium_deposits = {
		icon = aluminium

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 517
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			517 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_wealth_of_the_antipodes
		}

		visible = {
			517 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_aluminium_mines_developed }
			}
			has_completed_focus = AST_wealth_of_the_antipodes
		}

		fire_only_once = yes

		cost = 80
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_nsw_aluminium_deposits"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_nsw_aluminium_deposits"
			517 = {
				set_state_flag = AST_aluminium_mines_developed
				add_resource = {
					type = aluminium
					amount = 10
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_fishermen_bend = {
		icon = factories

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 519
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			519 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_rejuvenate_primary_industries
		}

		visible = {
			519 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_fishermen_developed } 
			}
			has_completed_focus = AST_rejuvenate_primary_industries
		}

		fire_only_once = yes

		cost = 100
		days_remove = 130

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_queensland_oil_deposits"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_queensland_oil_deposits"					
			519 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = AST_fishermen_developed
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_woronora_dam = {
		icon = cement_mixer

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 285
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			285 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_rejuvenate_primary_industries
		}

		visible = {
			285 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_dam_developed } 
			}
			has_completed_focus = AST_rejuvenate_primary_industries
		}

		fire_only_once = yes

		cost = 80
		days_remove = 120

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_queensland_oil_deposits"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_queensland_oil_deposits"					
			285 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = AST_dam_developed
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_queensland_war = {
		icon = artillery

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 521
				state = 986
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			986 = { is_owned_and_controlled_by = AST }
			521 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_mass_employment_efforts
		}

		visible = {
			986 = {
				is_owned_and_controlled_by = AST
			}
			521 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_war_developed }
			}
			has_completed_focus = AST_mass_employment_efforts
		}

		fire_only_once = yes

		cost = 100
		days_remove = 130

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_queensland_oil_deposits"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_queensland_oil_deposits"					
			986 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			521 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = AST_war_developed
			}
			
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_awa_radio = {
		icon = radio

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 285
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			285 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_csir_radiophysics_laboratory
		}

		visible = {
			285 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_radio_developed }
			}
			has_completed_focus = AST_csir_radiophysics_laboratory
		}

		fire_only_once = yes

		cost = 70
		days_remove = 70

		modifier = {
			civilian_factory_use = 2
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_queensland_oil_deposits"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_queensland_oil_deposits"					
			285 = {
				add_building_construction = {
					type = radar_station
					level = 2
					instant_build = yes
				}
				set_state_flag = AST_radio_developed
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_connect_mt_isa_tennant_creek = {
		icon = railroad

		allowed = {
			tag = AST
		}

		highlight_states = {
			highlight_state_targets = {
				state = 520
				state = 986
			}
		}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			986 = { is_owned_and_controlled_by = AST }
			520 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_standardized_railway_gauges
		}

		visible = {
			986 = {
				is_owned_and_controlled_by = AST
			}
			520 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_rail_developed }
			}
			has_completed_focus = AST_standardized_railway_gauges
		}

		fire_only_once = yes

		cost = 100
		days_remove = 70

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_queensland_oil_deposits"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_queensland_oil_deposits"					
			build_railway = {
				level = 1
				build_only_on_allied = yes
				controller_priority = {
					base = 1
					modifier = {
						tag = AST
						add = 2
					}
				}
				fallback = yes
				start_province = 7566
				target_province = 7669 
			}
			520 = {
				set_state_flag = AST_rail_developed
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
}

AST_snowy_mountain_scheme_cat = {
	AST_snow_mountain_start = {
		icon = GFX_decision_wrenches
		fixed_random_seed = no
		highlight_states = { highlight_state_targets = { state = 285 } }
		allowed = {
			original_tag = AST
		}
		visible = {
			owns_state = 285
			has_completed_focus = AST_snowy_mountain_scheme
		}
		available = {
			controls_state = 285
			has_completed_focus = AST_snowy_mountain_scheme
		}
		cost = 10
		fire_only_once = yes

		modifier = {
			consumer_goods_factor = 0.03
			political_power_gain = 0.15
			production_speed_infrastructure_factor = 0.1
		}

		days_remove = 125

		ai_will_do = {
			factor = 100
		}

		remove_effect = {
			set_country_flag = AST_snowy_one_done
			285 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			add_ideas = AST_snow_river_1
			unlock_decision_tooltip = AST_snow_mountain_end
		}
	}

	AST_snow_mountain_end = {
		icon = GFX_decision_cement_mixer
		fixed_random_seed = no
		highlight_states = { highlight_state_targets = { state = 285 } }
		allowed = {
			original_tag = AST
		}
		visible = {
			owns_state = 285
			has_completed_focus = AST_snowy_mountain_scheme
		}
		available = {
			has_country_flag = AST_snowy_one_done
			controls_state = 285
			has_completed_focus = AST_snowy_mountain_scheme
		}
		cost = 15
		fire_only_once = yes

		modifier = {
			consumer_goods_factor = 0.04
			political_power_gain = 0.15
			production_speed_infrastructure_factor = 0.1
		}

		days_remove = 135

		ai_will_do = {
			factor = 100
		}

		remove_effect = {
			clr_country_flag = AST_snowy_one_done
			285 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			if = { limit = { has_idea = AST_snow_river_1 }
				swap_ideas = {
					remove_idea =AST_snow_river_1
					add_idea = AST_snow_river_2
				}
			}
			if = { limit = { has_idea = AST_snow_river_2 }
				swap_ideas = {
					remove_idea =AST_snow_river_2
					add_idea = AST_snow_river_3
				}
			}
			if = { limit = { has_idea = AST_snow_river_3 }
				swap_ideas = {
					remove_idea =AST_snow_river_3
					add_idea = AST_snow_river_4
				}
			}
			country_event = {
    			id = austral.1064
			}
		}
	}
	
	AST_Invite_Investors = {
		icon = generic_political_discourse
		allowed = {
			original_tag = AST
		}
		visible = {
			owns_state = 285
			has_completed_focus = AST_snowy_mountain_scheme
		}
		available = {
			has_country_flag = AST_snowy_one_done
			controls_state = 285
			has_completed_focus = AST_snowy_mountain_scheme
		}
		cost = 50
		fire_only_once = yes
		ai_will_do = {
			factor = 150
		}
		days_remove = 125
		remove_effect = {
			if = { limit = { has_idea = AST_snow_river_1 }
				swap_ideas = {
					remove_idea =AST_snow_river_1
					add_idea = AST_snow_river_2
				}
			}
			if = { limit = { has_idea = AST_snow_river_2 }
				swap_ideas = {
					remove_idea =AST_snow_river_2
					add_idea = AST_snow_river_3
				}
			}
			if = { limit = { has_idea = AST_snow_river_3 }
				swap_ideas = {
					remove_idea =AST_snow_river_3
					add_idea = AST_snow_river_4
				}
			}
		}
	}

	AST_Cheap_Work = {
		icon = generic_inflation
		allowed = {
			original_tag = AST
		}
		visible = {
			owns_state = 285
			has_completed_focus = AST_snowy_mountain_scheme
		}
		available = {
			has_country_flag = AST_snowy_one_done
			controls_state = 285
			has_completed_focus = AST_snowy_mountain_scheme
		}
		cost = 40
		fire_only_once = yes
		ai_will_do = {
			factor = 75
		}

		days_remove = 70
		remove_effect = {
			if = { limit = { has_idea = AST_snow_river_1 }
				swap_ideas = {
					remove_idea =AST_snow_river_1
					add_idea = AST_snow_river_2
				}
			}
			if = { limit = { has_idea = AST_snow_river_2 }
				swap_ideas = {
					remove_idea =AST_snow_river_2
					add_idea = AST_snow_river_3
				}
			}
			if = { limit = { has_idea = AST_snow_river_3 }
				swap_ideas = {
					remove_idea =AST_snow_river_3
					add_idea = AST_snow_river_4
				}
			}
		}
	}
}

AST_scorched_earth_decisions = {
	AST_scorched_earth_support = {
		icon = GFX_decision_cavalry
		visible = {
			has_completed_focus = AST_scorched_earth_preparations
		}
		available = {
			has_completed_focus = AST_scorched_earth_preparations
		}

		days_remove = 120
		ai_will_do = { factor = 10 }

		custom_cost_trigger = {
			command_power > 20
			has_manpower > 1000
		}
		custom_cost_text = UKR_1000_manpower_20_cp_tooltip

		modifier = {
			resistance_growth_on_our_occupied_states = 0.43
			resistance_target_on_our_occupied_states = 0.35
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete AST_scorched_earth_support"
			set_country_flag = AST_local_guerillas_prepared
			add_command_power = -20
			add_manpower = -1000
			add_war_support = 0.03
		}
	}

	AST_emergancy_cells = {
		icon = GFX_decision_soldierly_discipline
		
		available = {
			surrender_progress > 0.1
			if = {
				limit = { 
					is_ai = yes
					NOT = { has_game_rule = { rule = unit_limit_options option = NONE } } 
				}
				has_reached_maximum_divisions = no
			}
			has_completed_focus = AST_scorched_earth_preparations
		}
		visible = {
			has_capitulated = no
			has_completed_focus = AST_scorched_earth_preparations
		}

		days_remove = 21
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					has_manpower < 20000
					has_war_support < 0.4
				}
			}
		}
		cancel_if_not_visible = yes

		custom_cost_trigger = {
			has_manpower > 10000
			has_war_support > 0.02
		}
		custom_cost_text = UKR_2_ws_10000_mp_tooltip

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete AST_emergancy_cells"
			add_manpower = -10000
			add_war_support = -0.02
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_emergancy_cells"
			hidden_effect = {
				activate_targeted_decision = { decision = AST_demobilize_volunteers target = ROOT }
				if = {
					limit = { NOT = { has_template = "Volunteer Defence Corp" } }
					division_template = {
						name = "Volunteer Defence Corps"
						division_names_group = AST_MIL_01
						regiments = {
							irregular_infantry = { x = 0 y = 0 }
							irregular_infantry = { x = 0 y = 1 }
							irregular_infantry = { x = 0 y = 2 }
							irregular_infantry = { x = 1 y = 0 }
							irregular_infantry = { x = 1 y = 1 }
						}
						template_counter = 71
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Volunteer Defence Corp\" start_experience_factor = 0.3 start_equipment_factor = 1"
						owner = ROOT
						count = 4
					}
				}
			}
		}
	}

	AST_demobilize_volunteers = {
		icon = GFX_decision_peace_dove
		allowed = { always = no }

		visible = { has_template = "Volunteer Defence Corp" }
		days_remove = 14
		ai_will_do = {
			base = 0
			modifier = {
				add = 1000
				has_war = no
			}
		}
		fire_only_once = yes

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision complete AST_demobilize_volunteers"
			remove_targeted_decision = { decision = AST_emergancy_cells target = ROOT }
			hidden_effect = {
				delete_units = {
					division_template = "Volunteer Defence Corp"
					disband = no
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove UKR_demobilize_volunteers"
			add_manpower = 5000
		}
	}
	 
	AST_last_stand = {
		icon = GFX_decision_generic_tank
		visible = {
			has_completed_focus = AST_scorched_earth_preparations
		}
		available = {
			surrender_progress > 0.4
			has_completed_focus = AST_scorched_earth_preparations
		}
		days_remove = 180
		remove_trigger = {
			OR = {
				has_war = no
				controls_all_owned_states = yes
			}
		}
		fire_only_once = no
		ai_will_do = { factor = 100 }
		cost = 70

		modifier = {
			war_support_factor = 0.15
			army_core_defence_factor = 0.3
			army_core_attack_factor = 0.3
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_last_stand"
		}
	}	
}

AST_referendum_decisions = {
	AST_referendum_time = {
		icon = GFX_decision_generic_political_discourse
		activation = { #manually activated
			always = no 
		}
		available = {
			hidden_trigger = {
				always = no
			}
		}
		is_good = no
		selectable_mission = no
		days_mission_timeout = 65
		fire_only_once = no
		timeout_effect = {
			country_event = { id = austral.160 }
		}
	}
}

AST_civil_war_decs = {

	AST_sea_of_bush = {
		icon = GFX_decision_generic_civil_support
		available = {
			has_country_flag = AST_civil_war_flag
			NOT = {
				has_country_flag = AST_civil_war_stuff
			}
		}
		
		allowed = {
			tag = AST
		}
		
		visible = {
			has_country_flag = AST_civil_war_flag
		}
		
		cost = 15
		
		complete_effect = {
			set_country_flag = AST_civil_war_stuff
		}

		remove_effect = {
			add_manpower = 1500
			add_to_variable = { var = AST_war_strength value = 1 }
			clr_country_flag = AST_civil_war_stuff
		}
		days_remove = 10
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
	}

	AST_entice_enlistment = {
		icon = GFX_decision_generic_prepare_civil_war
		available = {
			has_idea = AST_civil_war_idea
			NOT = { 
				has_country_flag = AST_civil_war_stuff
			}
		}
		
		allowed = {
			tag = AST
		}
		visible = { has_idea = AST_civil_war_idea }
		cost = 15
		
		complete_effect = {
			set_country_flag = AST_civil_war_stuff
		}

		remove_effect = {
			custom_effect_tooltip = AST_civ_strength_plus_1
			add_manpower = 2500
			add_to_variable = { var = AST_war_strength value = 1 }
			clr_country_flag = AST_civil_war_stuff
		}
		days_remove = 10
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
	}

	AST_entente_peacekeepers = {
		icon = GFX_decision_eng_blackshirt_march
		available = {
			has_completed_focus = AST_sound_the_alarm_across_the_entente
			has_idea = AST_civil_war_idea
			NOT = {
				has_country_flag = AST_civil_war_stuff
			}
		}
		
		allowed = {
			tag = AST
		}
		visible = { has_idea = AST_civil_war_idea }
		cost = 15
		
		complete_effect = {
			set_country_flag = AST_civil_war_stuff
		}

		remove_effect = {
			add_manpower = 2500
			custom_effect_tooltip = AST_civ_strength_plus_1
			add_to_variable = { var = AST_war_strength value = 1 }
			clr_country_flag = AST_civil_war_stuff
		}
		days_remove = 10
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
	}
	
	AST_blameys_boys_ignite_victorian_bush = {
		icon = GFX_decision_generic_police_action
		available = {
			has_idea = AST_civil_war_idea
			NOT = { 
				has_country_flag = AST_civil_war_stuff
			}
			has_completed_focus = AST_victoria's_most_loyal_protectors
		}
		
		allowed = {
			tag = AST
		}
		visible = { has_idea = AST_civil_war_idea }
		cost = 15
		
		complete_effect = {
			set_country_flag = AST_civil_war_stuff
		}

		remove_effect = {
			add_war_support = 0.15
			add_to_variable = { var = AST_war_strength value = 1 }
			clr_country_flag = AST_civil_war_stuff
		}
		days_remove = 10
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
	}
	
	AST_old_and_new_guard_united_in_purpose = {
		icon = GFX_decision_generic_assassination
		available = {
			has_completed_focus = AST_new_south_wales_guard_dogs
			NOT = { 
				has_country_flag = AST_civil_war_stuff
			}
		}
		
		allowed = {
			tag = AST
		}
		visible = { has_idea = AST_civil_war_idea }
		cost = 15
		
		complete_effect = {
			set_country_flag = AST_civil_war_stuff
		}

		remove_effect = {
			add_equipment_to_stockpile = {
				type = infantry_equipment_1
				amount = 1000
				producer = AST
			}
			add_to_variable = { var = AST_war_strength value = 1 }
			clr_country_flag = AST_civil_war_stuff
		}
		days_remove = 10
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
	}
	
	AST_west_insurgents = {
		icon = border_war
		available = {
			custom_trigger_tooltip = {
				tooltip = AST_solid_hold
				check_variable = { AST_war_strength > 2 }
			}
			NOT = {
				has_country_flag = AST_civil_war_stuff
			}
			522 = {
				is_demilitarized_zone = yes 
			}
			988 = {
				is_demilitarized_zone = yes 
			}
		}
		
		highlight_states = { state = 976 }
		
		allowed = {
			tag = AST
		}
		visible = { has_idea = AST_civil_war_idea }
		cost = 25
		
		complete_effect = {
			set_country_flag = AST_civil_war_stuff
		}

		remove_effect = {
			522 = {
				set_demilitarized_zone = no
				AST = {
					add_state_core = PREV
				}
			}
			988 = {
				set_demilitarized_zone = no
				AST = {
					add_state_core = PREV
				}
			}
			add_to_variable = { var = AST_war_strength value = 1 }
			clr_country_flag = AST_civil_war_stuff
		}
		days_remove = 15
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
	}

	AST_vic_retake = {
		icon = GFX_decision_generic_ignite_civil_war
		available = {
			custom_trigger_tooltip = {
				tooltip = AST_solid_hold
				check_variable = { AST_war_strength > 4 }
			}
			NOT = {
				has_country_flag = AST_civil_war_stuff
			}
			517 = {
				is_demilitarized_zone = yes 
			}
		}
		
		highlight_states = { state = 976 }
		
		allowed = {
			tag = AST
		}
		visible = { has_idea = AST_civil_war_idea }
		cost = 25
		
		complete_effect = {
			set_country_flag = AST_civil_war_stuff
		}

		remove_effect = {
			517 = {
				set_demilitarized_zone = no
				AST = {
					add_state_core = PREV
				}
			}
			add_to_variable = { var = AST_war_strength value = 1 }
			clr_country_flag = AST_civil_war_stuff
		}
		days_remove = 15
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
	}

	AST_sqld_retake = {
		icon = GFX_decision_generic_military
		available = {
			custom_trigger_tooltip = {
				tooltip = AST_solid_hold
				check_variable = { AST_war_strength > 4 }
			}
			NOT = {
				has_country_flag = AST_civil_war_stuff
			}
			521 = {
				is_demilitarized_zone = yes 
			}
		}
		
		highlight_states = { state = 976 }
		
		allowed = {
			tag = AST
		}
		
		visible = {
			521 = {
				is_demilitarized_zone = yes 
			}
			has_idea = AST_civil_war_idea
		}
		
		cost = 25
		
		complete_effect = {
			set_country_flag = AST_revolution_stuff
		}

		remove_effect = {
			521 = {
				set_demilitarized_zone = no
				AST = {
					add_state_core = PREV
				}
			}
			add_to_variable = { var = AST_war_strength value = 1 }
			clr_country_flag = AST_revolution_stuff
		}
		days_remove = 15
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
	}
	AST_nzl_sep = {
		icon = GFX_decision_generic_nationalism
		activation = { #manually activated
			always = no 
		}
		available = {
			hidden_trigger = {
				always = no
			}
		}
		cancel_trigger = {
			OR = {
				custom_trigger_tooltip = {
					tooltip = AST_very_solid_hold
					check_variable = { AST_war_strength > 8 }
				}
				AND = {
					has_idea = AST_civil_war_idea
					NOT= {
						owns_state = 284
						owns_state = 723
					}
				}
			}
		}
		is_good = no
		selectable_mission = no
		days_mission_timeout = 152
		fire_only_once = yes
		timeout_effect = {
			country_event = { id = austral.403 days = 3 }
		}
	}
}

AST_union_category = {
	AST_support_nzl_gov_agenda = {
		icon = GFX_decision_generic_political_discourse
		activation = { #manually activated
			always = no 
		}
		available = {
			hidden_trigger = {
				always = no
			}
		}
		cancel_trigger = {
			OR = {
				NOT = { AST = { has_power_balance = { id = AST_union } } }
				custom_trigger_tooltip = { 
					tooltip = AST_NZL_gov_agenda_tt
					if = { 
						limit = {
							check_variable = { 
								var = AST_NZL_election_count
								compare = equals
								value = 1
							}
						}
						OR = {
							has_completed_focus = AST_NZL_raise_education_support
							has_completed_focus = AST_NZL_true_financhial_orthadoxy
							has_completed_focus = AST_NZL_coats_off_with_coates
						}
					} else_if = { 
						limit = {
							check_variable = { 
								var = AST_NZL_election_count
								compare = equals
								value = 2
							}
						}
						OR = {
							has_completed_focus = AST_NZL_create_the_minimum_wage
							has_completed_focus = AST_NZL_limited_union_communication
							has_completed_focus = AST_NZL_farmer_union_support
						}
					} else_if = { 
						limit = {
							check_variable = { 
								var = AST_NZL_election_count
								compare = equals
								value = 3
							}
						}
						OR = {
							has_completed_focus = AST_NZL_repeal_head_tax
							has_completed_focus = AST_NZL_true_nightwatchmen
							has_completed_focus = AST_NZL_land_tax_reduction
						}
					} else = {
						check_variable = { 
							var = AST_NZL_election_count
							compare = greater_than_or_equals
							value = 4
						}
					}
				}
			}
		}
		is_good = no
		selectable_mission = no
		days_mission_timeout = 1000
		fire_only_once = no
		timeout_effect = {
			add_power_balance_value = {
				id = AST_union
				value = -0.35
				tooltip_side = AST_new_zealand_side
			}
		}
	}
	
	AST_censor_separatist_literature = {
		icon = oppression

		available = {
			NOT = { has_country_flag = AST_bop_progress }
			NOT = { has_country_flag = AST_NZL_uncensored_lit }
		}

		cost = 50
		fire_only_once = yes
		days_remove = 90

		modifier = {
			stability_factor = -0.05
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CAN_appoint_canadians"
			set_country_flag = AST_bop_progress
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CAN_appoint_canadians"
			clr_country_flag = AST_bop_progress
			add_power_balance_value = {
				id = AST_union
				value = 0.09
				tooltip_side = AST_australasia_side
			}
			hidden_effect = {
				set_country_flag = AST_NZL_censored_lit
			}
		}

		ai_will_do = {
			factor = 50
		}
	}

	AST_kiwi_cultural_autonomy = {
		icon = generic_nationalism

		available = {
			NOT = { has_country_flag = AST_bop_progress }
			NOT = { has_country_flag = AST_NZL_censored_lit }
		}

		cost = 50
		fire_only_once = yes
		days_remove = 90

		modifier = {
			stability_factor = 0.05
			political_power_gain = 0.2
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CAN_appoint_canadians"
			set_country_flag = AST_bop_progress
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CAN_appoint_canadians"
			clr_country_flag = AST_bop_progress
			add_power_balance_value = {
				id = AST_union
				value = -0.12
				tooltip_side = AST_new_zealand_side
			}
			hidden_effect = {
				set_country_flag = AST_NZL_uncensored_lit
			}
		}

		ai_will_do = {
			factor = 50
		}
	}

	AST_integrate_new_zealand_markets = {
		icon = generic_construction

		available = {
			NOT = { has_country_flag = AST_bop_progress }
			NOT = { has_country_flag = AST_NZL_ind_nzl_mark}
		}

		cost = 50
		days_re_enable = 20
		fire_only_once = no
		days_remove = 90

		modifier = {
			production_factory_efficiency_gain_factor = -0.15 
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CAN_appoint_canadians"
			set_country_flag = AST_bop_progress
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CAN_appoint_canadians"
			clr_country_flag = AST_bop_progress
			add_power_balance_value = {
				id = AST_union
				value = 0.12
				tooltip_side = AST_australasia_side
			}
			hidden_effect = {
				set_country_flag = AST_NZL_int_nzl_mark
			}
		}

		ai_will_do = {
			factor = 50
		}
	}

	AST_develop_independent_new_zealand_finance = {
		icon = generic_inflation

		available = {
			NOT = { has_country_flag = AST_bop_progress }
			NOT = { has_country_flag = AST_NZL_int_nzl_mark }
		}

		cost = 50
		days_re_enable = 20
		fire_only_once = no
		days_remove = 90

		modifier = {
			production_factory_efficiency_gain_factor = 0.13
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CAN_appoint_canadians"
			set_country_flag = AST_bop_progress
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CAN_appoint_canadians"
			clr_country_flag = AST_bop_progress
			add_power_balance_value = {
				id = AST_union
				value = -0.14
				tooltip_side = AST_new_zealand_side
			}
			hidden_effect = {
				set_country_flag = AST_NZL_ind_nzl_mark
			}
		}

		ai_will_do = {
			factor = 50
		}
	}

	AST_setup_vfl_and_nrl_clubs_in_new_zealand = {
		icon = generic_agreement

		available = {
			NOT = { has_country_flag = AST_bop_progress }
		}
		visible = {
			OR= {
				has_country_flag = AST_NZL_censored_lit
				has_country_flag = AST_NZL_uncensored_lit
			}
		}

		cost = 50
		days_re_enable = 20
		fire_only_once = no
		days_remove = 120

		modifier = {
			stability_factor = 0.05
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CAN_appoint_canadians"
			set_country_flag = AST_bop_progress
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CAN_appoint_canadians"
			clr_country_flag = AST_bop_progress
			add_power_balance_value = {
				id = AST_union
				value = 0.18
				tooltip_side = AST_australasia_side
			}
		}

		ai_will_do = {
			factor = 50
		}
	}

	AST_draw_from_new_zealand_army_resves = {
		icon = generic_army_support

		available = {
			NOT = { has_country_flag = AST_bop_progress }
		}

		cost = 50
		days_re_enable = 50
		fire_only_once = yes
		days_remove = 40

		modifier = {
			stability_factor = -0.05
			power_balance_weekly  = -0.01
			recruitable_population_factor = 0.03
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CAN_appoint_canadians"
			set_country_flag = AST_bop_progress
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CAN_appoint_canadians"
			clr_country_flag = AST_bop_progress
			add_manpower = 2300
			add_power_balance_value = {
				id = AST_union
				value = -0.09
				tooltip_side = AST_new_zealand_side
			}
		}

		ai_will_do = {
			factor = 50
		}
	}

	AST_end_new_zealand_tax_sovereignty = {
		icon = generic_political_discourse

		available = {
			NOT = { has_country_flag = AST_bop_progress }
		}
		visible = {
			OR= {
				has_country_flag = AST_NZL_int_nzl_mark
				has_country_flag = AST_NZL_ind_nzl_mark
			}
		}

		cost = 50
		fire_only_once = yes
		days_remove = 120

		modifier = {
			production_speed_buildings_factor = 0.13
			consumer_goods_factor = -0.03
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CAN_appoint_canadians"
			set_country_flag = AST_bop_progress
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CAN_appoint_canadians"
			clr_country_flag = AST_bop_progress
			add_power_balance_value = {
				id = AST_union
				value = 0.18
				tooltip_side = australasia
			}
		}

		ai_will_do = {
			factor = 50
		}
	}

	AST_subsidize_trans_Tasman_airships = {
		icon = generic_global_trade

		available = {
			NOT = { has_country_flag = AST_bop_progress }
		}

		cost = 50
		days_re_enable = 30
		fire_only_once = no
		days_remove = 40

		modifier = {
			political_power_cost = 0.01
			political_power_gain = 0.02
			power_balance_weekly  = -0.02
			experience_gain_air = 0.05
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CAN_appoint_canadians"
			set_country_flag = AST_bop_progress
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CAN_appoint_canadians"
			clr_country_flag = AST_bop_progress
			add_political_power = 50
			air_experience = 30
			add_power_balance_value = {
				id = AST_union
				value = 0.06
				tooltip_side = AST_australasia_side
			}
		}

		ai_will_do = {
			factor = 50
		}
	}

	AST_dissolve_australasia = {
		icon = generic_form_nation

		available = {
			NOT = {
				has_country_flag = AST_disable_disovle 
				has_idea = AST_civil_war_idea
				is_ai = yes 
			}
			has_war = no
		}

		fire_only_once = yes


		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CAN_appoint_canadians"
			country_event = { id = austral.115 }
		}

		ai_will_do = {
			factor = 0
		}
	}
}

AST_revolution_dec = {
	AST_lockout_the_ruling_class = {
		icon = GFX_decision_generic_civil_support
		available = {
			OR= {
				has_idea = AST_revolution_4_idea
				has_idea = AST_revolution_3_idea
				has_idea = AST_revolution_2_idea
				has_idea = AST_revolution_1_idea
			}
			NOT = { 
				has_country_flag = AST_revolution_stuff
			}
		}
		
		allowed = {
			tag = AST
		}
		
		cost = 15
		
		complete_effect = {
			set_country_flag = AST_revolution_stuff
		}

		remove_effect = {
			add_one_random_military_factory = yes
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					dockyard > 0
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			clr_country_flag = AST_revolution_stuff
		}
		days_remove = 10
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
	}

	AST_mobilize_working_men_for_rev = {
		icon = GFX_decision_generic_prepare_civil_war
		available = {
			OR= {
				has_idea = AST_revolution_4_idea
				has_idea = AST_revolution_3_idea
				has_idea = AST_revolution_2_idea
				has_idea = AST_revolution_1_idea
			}
			NOT = { 
				has_country_flag = AST_revolution_stuff
			}
		}
		
		allowed = {
			tag = AST
		}
		
		cost = 15
		
		complete_effect = {
			set_country_flag = AST_revolution_stuff
		}

		remove_effect = {
			custom_effect_tooltip = AST_civ_strength_plus_1
			add_manpower = 4500
			clr_country_flag = AST_revolution_stuff
		}
		days_remove = 10
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
	}

	AST_internationale_support_dec = {
		icon = GFX_decision_eng_blackshirt_march
		available = {
			OR= {
				has_idea = AST_revolution_4_idea
				has_idea = AST_revolution_3_idea
				has_idea = AST_revolution_2_idea
				has_idea = AST_revolution_1_idea
			}
			NOT = {
				has_country_flag = AST_revolution_stuff
			}
		}
		
		allowed = {
			tag = AST
		}
		
		cost = 15
		
		complete_effect = {
			set_country_flag = AST_revolution_stuff
		}

		remove_effect = {
			add_manpower = 2500
			add_equipment_to_stockpile = {
				type = infantry_equipment_1
				amount = 1642
				producer = AST
			}
			add_equipment_to_stockpile = {
				type = support_equipment_1
				amount = 842
				producer = AST
			}
			clr_country_flag = AST_revolution_stuff
		}
		days_remove = 10
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
	}
	
	AST_attract_catholics_and_moderates = {
		icon = GFX_decision_generic_police_action
		available = {
			OR= {
				has_idea = AST_revolution_4_idea
				has_idea = AST_revolution_3_idea
				has_idea = AST_revolution_2_idea
				has_idea = AST_revolution_1_idea
			}
			NOT = { 
				has_country_flag = AST_revolution_stuff
			}
		}
		
		allowed = {
			tag = AST
		}
		
		cost = 15
		
		complete_effect = {
			set_country_flag = AST_revolution_stuff
		}

		remove_effect = {
			add_war_support = 0.15
			clr_country_flag = AST_revolution_stuff
			if = {
				limit = { has_idea = AST_revolution_4_idea }
				swap_ideas = {
					remove_idea = AST_revolution_4_idea
					add_idea = AST_revolution_3_idea
				}
			} else_if = {
				limit = { has_idea = AST_revolution_3_idea }
				swap_ideas = {
					remove_idea = AST_revolution_3_idea
					add_idea = AST_revolution_2_idea
				}
			} else_if = {
				limit = { has_idea = AST_revolution_2_idea }
				swap_ideas = {
					remove_idea = AST_revolution_2_idea
					add_idea = AST_revolution_1_idea
				}
			} else_if = {
				limit = { has_idea = AST_revolution_1_idea }
				remove_ideas = AST_revolution_1_idea
			}
		}
		days_remove = 10
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
	}
	
	AST_root_out_white_army = {
		icon = GFX_decision_generic_assassination
		available = {
			OR= {
				has_idea = AST_revolution_4_idea
				has_idea = AST_revolution_3_idea
				has_idea = AST_revolution_2_idea
				has_idea = AST_revolution_1_idea
			}
			has_completed_focus = AST_root_out_the_white_army_guerillas
			NOT = { 
				has_country_flag = AST_revolution_stuff
			}
			has_equipment = {
    			infantry_equipment_1 > 1000
			}	
		}
		
		allowed = {
			tag = AST
		}
		
		cost = 15
		
		complete_effect = {
			set_country_flag = AST_revolution_stuff
			add_equipment_to_stockpile = {
				type = infantry_equipment_1
				amount = -1000
				producer = AST
			}
		}

		remove_effect = {
			add_to_variable = { var = AST_war_strength value = 1 }
			clr_country_flag = AST_revolution_stuff
			if = {
				limit = { has_idea = AST_revolution_4_idea }
				swap_ideas = {
					remove_idea = AST_revolution_4_idea
					add_idea = AST_revolution_3_idea
				}
			} else_if = {
				limit = { has_idea = AST_revolution_3_idea }
				swap_ideas = {
					remove_idea = AST_revolution_3_idea
					add_idea = AST_revolution_2_idea
				}
			} else_if = {
				limit = { has_idea = AST_revolution_2_idea }
				swap_ideas = {
					remove_idea = AST_revolution_2_idea
					add_idea = AST_revolution_1_idea
				}
			} else_if = {
				limit = { has_idea = AST_revolution_1_idea }
				remove_ideas = AST_revolution_1_idea
			}
		}
		days_remove = 10
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
	}
	
	AST_west_rev_insurgents = {
		icon = border_war
		available = {
			OR= {
				has_idea = AST_revolution_4_idea
				has_idea = AST_revolution_3_idea
				has_idea = AST_revolution_2_idea
				has_idea = AST_revolution_1_idea
			}
			NOT = {
				has_country_flag = AST_revolution_stuff
			}
			has_equipment = {
    			infantry_equipment_1 > 1000
			}		
		}
		
		highlight_states = { state = 522 }
		
		allowed = {
			tag = AST
		}
		
		cost = 0
		
		complete_effect = {
			set_country_flag = AST_revolution_stuff
			add_equipment_to_stockpile = {
				type = infantry_equipment_1
				amount = -1000
				producer = AST
			}
		}

		remove_effect = {
			522 = {
				AST = {
					add_state_core = PREV
				}
			}
			988 = {
				AST = {
					add_state_core = PREV
				}
			}
			clr_country_flag = AST_revolution_stuff
			if = {
				limit = { has_idea = AST_revolution_4_idea }
				swap_ideas = {
					remove_idea = AST_revolution_4_idea
					add_idea = AST_revolution_3_idea
				}
			} else_if = {
				limit = { has_idea = AST_revolution_3_idea }
				swap_ideas = {
					remove_idea = AST_revolution_3_idea
					add_idea = AST_revolution_2_idea
				}
			} else_if = {
				limit = { has_idea = AST_revolution_2_idea }
				swap_ideas = {
					remove_idea = AST_revolution_2_idea
					add_idea = AST_revolution_1_idea
				}
			} else_if = {
				limit = { has_idea = AST_revolution_1_idea }
				remove_ideas = AST_revolution_1_idea
			}
		}
		days_remove = 15
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
	}

	AST_red_north_dec = {
		icon = GFX_decision_generic_ignite_civil_war
		available = {
			OR= {
				has_idea = AST_revolution_4_idea
				has_idea = AST_revolution_3_idea
				has_idea = AST_revolution_2_idea
				has_idea = AST_revolution_1_idea
			}
			NOT = {
				has_country_flag = AST_revolution_stuff
			}
			has_completed_focus = AST_awaken_the_red_north
		}
		
		highlight_states = { state = 986 }
		
		allowed = {
			tag = AST
		}
		
		cost = 0
		
		complete_effect = {
			set_country_flag = AST_revolution_stuff
		}

		remove_effect = {
			clr_country_flag = AST_revolution_stuff
			if = {
				limit = { has_idea = AST_revolution_4_idea }
				swap_ideas = {
					remove_idea = AST_revolution_4_idea
					add_idea = AST_revolution_3_idea
				}
			} else_if = {
				limit = { has_idea = AST_revolution_3_idea }
				swap_ideas = {
					remove_idea = AST_revolution_3_idea
					add_idea = AST_revolution_2_idea
				}
			} else_if = {
				limit = { has_idea = AST_revolution_2_idea }
				swap_ideas = {
					remove_idea = AST_revolution_2_idea
					add_idea = AST_revolution_1_idea
				}
			} else_if = {
				limit = { has_idea = AST_revolution_1_idea }
				remove_ideas = AST_revolution_1_idea
			}
		}
		days_remove = 15
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}
	}
}