###########################
# Australasia Decisions
###########################
# By Rylock
###########################

political_actions = {

	AST_conscription_plebiscite = {
		icon = generic_decision

		allowed = {
			original_tag = AST
		}

		available = {
			OR = {
				custom_trigger_tooltip = {
					tooltip = AST_war_with_major
					has_war = yes
					any_enemy_country = { is_actual_major = yes }
				}
				AND = {
					has_completed_focus = AST_artillery_focus
					has_completed_focus = AST_improve_equipment
					has_completed_focus = AST_clarify_anzac
				}
			}
		}

		visible = {
			has_idea = volunteer_only
			NOT = { has_dictatorship_government = yes }
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				has_war = yes
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_conscription_plebiscite"
			country_event = { id = austral.215 days = 10 }
		}
	}

	AST_skip_plebiscite = {
		icon = generic_civil_support

		allowed = {
			original_tag = AST
		}

		available = {
			OR = {
				custom_trigger_tooltip = {
					tooltip = AST_war_with_major
					has_war = yes
					any_enemy_country = { is_actual_major = yes }
				}
				AND = {
					has_completed_focus = AST_artillery_focus
					has_completed_focus = AST_improve_equipment
					has_completed_focus = AST_clarify_anzac
				}
			}
		}

		visible = {
			has_idea = volunteer_only
			NOT = { has_country_flag = AST_plebiscite_failed }
			OR = {
				has_elected_government = no
				custom_trigger_tooltip = {
					tooltip = AST_war_with_major
					has_war = yes
					any_enemy_country = { is_actual_major = yes }
				}
			}
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_elected_government = yes
			}
			modifier = {
				factor = 5
				has_war = yes
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_skip_plebiscite"
			if = {
				limit = { NOT = { controls_all_owned_states = yes } }
				add_stability = -0.10
			}
			else_if = {
				limit = { any_enemy_country = { num_of_factories > 35 } }
				add_stability = -0.20
			}
			else = { add_stability = -0.30 }
			clr_country_flag = cannot_have_conscription
			set_country_flag = AST_plebiscite_forced
			add_ideas = limited_conscription
		}
	}

	AST_force_conscription = {
		icon = generic_civil_support

		allowed = {
			original_tag = AST
		}

		available = {
			has_country_flag = AST_plebiscite_failed
		}

		visible = {
			has_idea = volunteer_only
			has_country_flag = AST_plebiscite_failed
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 0
			modifier = {
				add = 20
				has_war = yes
				any_enemy_country = { is_actual_major = yes }
			}
			modifier = {
				add = 50
				any_owned_state = {
					NOT = { is_controlled_by = AST }
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_force_conscription"
			if = {
				limit = { NOT = { controls_all_owned_states = yes } }
				add_stability = -0.10
			}
			else_if = {
				limit = { any_enemy_country = { num_of_factories > 35 } }
				add_stability = -0.20
			}
			else = { add_stability = -0.30 }
			clr_country_flag = cannot_have_conscription
			set_country_flag = AST_plebiscite_forced
			add_ideas = limited_conscription
		}
	}

	AST_trade_mission_commonwealth = {
		icon = generic_agreement

		allowed = {
			original_tag = AST
		}

		available = {
			controls_all_owned_states = yes
			NOT = { has_country_flag = AST_recent_trade_mission }
		}

		visible = {
			has_completed_focus = AST_trade_commonwealth
			is_in_faction_with = ENT
			FROM = {
				exists = yes
				is_in_faction_with = AST
				is_subject = no
				same_government_type_as_ROOT = yes
				controls_all_owned_states = yes
				NOT = { has_country_flag = AST_approached_trade }
			}
		}

		target_root_trigger = {
			has_completed_focus = AST_trade_commonwealth
		}

		target_array = allies

		target_trigger = {
			FROM = {
				is_in_faction_with = AST
				is_subject = no
				same_government_type_as_ROOT = yes
				controls_all_owned_states = yes
				NOT = { has_country_flag = AST_approached_trade }
			}
		}

		days_remove = 90

		fire_only_once = no

		cost = 25

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_trade_mission_commonwealth target: [From.GetName]"
			set_country_flag = AST_recent_trade_mission
			FROM = {
				set_country_flag = AST_approached_trade
				country_event = austral.201
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_trade_mission_commonwealth target: [From.GetName]"
			clr_country_flag = AST_recent_trade_mission
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 20
				FROM = { tag = ENT }
			}
		}
	}

	AST_trade_mission_new = {
		icon = generic_agreement

		allowed = {
			original_tag = AST
		}

		available = {
			controls_all_owned_states = yes
			NOT = { has_country_flag = AST_recent_trade_mission }
		}

		visible = {
			OR = {
				has_completed_focus = AST_new_markets
				AND = {
					has_completed_focus = AST_trade_commonwealth
					NOT = { is_in_faction_with = ENT }
				}
			}
			FROM = {
				NOT = {
					tag = ENT
					is_in_faction_with = ENT
					has_war_with = AST
				}
				is_subject = no
				num_of_factories > 10
				OR = {
					NOT = { has_socialist_government = yes }
					AST = { has_socialist_government = yes }
				}
				controls_all_owned_states = yes
				NOT = { has_country_flag = AST_approached_trade }
			}
		}

		targets = { JAP SAF PRF BHC SIA CSA USA FRA ENG CAL TEX NEE QIE FNG GXC SZC CHI YUN LEC TRM RUS }

		target_root_trigger = {
			OR = {
				has_completed_focus = AST_new_markets
				has_completed_focus = AST_trade_commonwealth
			}
		}

		target_trigger = {
			FROM = {
				NOT = {
					tag = ENT
					is_in_faction_with = ENT
					has_war_with = AST
				}
				is_subject = no
				num_of_factories > 10
				OR = {
					same_government_type_as_ROOT = yes
					tag = JAP
				}
				controls_all_owned_states = yes
				NOT = { has_country_flag = AST_approached_trade }
			}
		}

		days_remove = 90

		fire_only_once = yes

		cost = 25

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_trade_mission_new target: [From.GetName]"
			set_country_flag = AST_recent_trade_mission
			FROM = {
				set_country_flag = AST_approached_trade
				country_event = austral.201
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_trade_mission_new target: [From.GetName]"
			clr_country_flag = AST_recent_trade_mission
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 20
				FROM = { tag = ENT }
			}
		}
	}

	AST_restore_order_nzl = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = AST
		}

		available = {
			has_war = no
		}

		visible = {
			OR = {
				284 = {
					NOT = { is_core_of = AST }
					is_owned_and_controlled_by = AST
				}
				723 = {
					NOT = { is_core_of = AST }
					is_owned_and_controlled_by = AST
				}
			}
		}

		days_remove = 180
		days_re_enable = 360

		fire_only_once = no

		modifier = {
			stability_factor = -0.05
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_restore_order_nzl"
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_restore_order_nzl"
			add_stability = 0.05
			every_owned_state = {
				limit = {
					OR = {
						state = 284
						state = 723
					}
					is_controlled_by = AST
					NOT = { is_core_of = AST }
				}
				if = {
					limit = { is_claimed_by = AST }
					remove_claim_by = AST
				}
				add_core_of = AST
			}
		}

		ai_will_do = {
			factor = 50
		}
	}
}

AST_anderson_policy_decisions = {

	AST_claim_singapore = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
highlight_state_targets = {
			state = 336
		}
}

		available = {
			is_subject = no
			controls_all_owned_states = yes
		}

		visible = {
			336 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
						AND = {
							has_global_flag = ENT_agree_colonies
							AST = { is_in_faction_with = ENT }
							is_in_faction_with = GER
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 5
				336 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use on fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				336 = { owner = { has_socialist_government = yes } }
			}
			# democratic AST will not use unless owned by a different government type
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
				336 = {
					owner = {
						NOT = {
							tag = GER
							is_subject_of = GER
							same_government_type_as_ROOT = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_singapore"
			336 = {
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
				owner = {
					country_event = austral.354
					if = {
						limit = { is_subject = yes }
						overlord = { country_event = austral.354 }
					}
				}
			}
		}
	}

	AST_claim_sarawak = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
highlight_state_targets = {
			state = 333
		}
}

		available = {
			is_subject = no
			controls_all_owned_states = yes
		}

		visible = {
			333 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
						AND = {
							has_global_flag = ENT_agree_colonies
							AST = { is_in_faction_with = ENT }
							is_in_faction_with = GER
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				333 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use on fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				333 = { owner = { has_socialist_government = yes } }
			}
			# democratic AST will not use unless owned by a different government type
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
				333 = {
					owner = {
						NOT = {
							tag = GER
							is_subject_of = GER
							same_government_type_as_ROOT = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_sarawak"
			every_state = {
				limit = {
					OR = {
						state = 333 #Nordborneo
						state = 828 #Sabah
					}
					owner = {
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
						}
					}
				}
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
			}
			every_other_country = {
				limit = {
					NOT = {
						is_in_faction_with = AST
						is_subject_of = AST
					}
					any_owned_state = {
						OR = {
							state = 333 #Nordborneo
							state = 828 #Sabah
						}
					}
				}
				country_event = austral.355
				if = {
					limit = { is_subject = yes }
					overlord = { country_event = austral.355 }
				}
			}
		}
	}

	AST_claim_new_guinea = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
highlight_state_targets = {
			state = 757
		}
}

		available = {
			is_subject = no
			owns_state = 523 #New Guinea
			controls_all_owned_states = yes
		}

		visible = {
			757 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
						AND = {
							has_global_flag = ENT_agree_colonies
							AST = { is_in_faction_with = ENT }
							is_in_faction_with = GER
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				757 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use if owned by fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				757 = { owner = { has_socialist_government = yes } }
			}
			# democratic AST will not use unless owned by a syndicalist country
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
				757 = {
					owner = {
						NOT = {
							tag = GER
							is_subject_of = GER
							has_socialist_government = yes
						}
					}
				}
			}
			# democratic AST will not use on GER/GEA unless at war with them
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
				757 = {
					owner = {
						OR = {
							tag = GER
							is_subject_of = GER
						}
						NOT = {
							has_war_with = AST
							GER = { has_war_with = AST }
							has_socialist_government = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_new_guinea"
			every_state = {
				limit = {
					OR = {
						state = 757 #Kaiser Wilhelmsland
						state = 737 #Bismark Archipel
					}
					owner = {
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
						}
					}
				}
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
			}
			every_other_country = {
				limit = {
					NOT = {
						is_in_faction_with = AST
						is_subject_of = AST
					}
					any_owned_state = {
						OR = {
							state = 757 #Kaiser Wilhelmsland
							state = 737 #Bismark Archipel
						}
					}
				}
				country_event = austral.350
				if = {
					limit = { is_subject = yes }
					overlord = { country_event = austral.350 }
				}
			}
		}
	}

	AST_claim_melanesia = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
highlight_state_targets = {
			state = 634
		}
}

		available = {
			is_subject = no
			controls_all_owned_states = yes
		}

		visible = {
			634 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
						AND = {
							has_global_flag = ENT_agree_colonies
							AST = { is_in_faction_with = ENT }
							is_in_faction_with = GER
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				634 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use on fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				634 = { owner = { has_socialist_government = yes } }
			}
			# democratic AST will not use unless owned by syndicalists
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
				634 = {
					owner = {
						NOT = {
							tag = GER
							is_subject_of = GER
							has_socialist_government = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_melanesia"
			every_state = {
				limit = {
					OR = {
						state = 634 #Salomon Inseln
						state = 635 #Neuelsass
						state = 725 #Nawodo
						state = 734 #Thilenius Inseln
					}
					owner = {
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
						}
					}
				}
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
			}
			every_other_country = {
				limit = {
					NOT = {
						is_in_faction_with = AST
						is_subject_of = AST
					}
					any_owned_state = {
						OR = {
							state = 634 #Salomon Inseln
							state = 635 #Neuelsass
							state = 725 #Nawodo
							state = 734 #Thilenius Inseln
						}
					}
				}
				country_event = austral.351
				if = {
					limit = { is_subject = yes }
					overlord = { country_event = austral.351 }
				}
			}
		}
	}

	AST_claim_south_pacific = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
highlight_state_targets = {
			state = 643
		}
}

		available = {
			is_subject = no
			OR = {
				owns_state = 636 #Fiji
				owns_state = 284 #New Zealand
			}
			controls_all_owned_states = yes
		}

		visible = {
			643 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
						AND = {
							has_global_flag = ENT_agree_colonies
							AST = { is_in_faction_with = ENT }
							is_in_faction_with = GER
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				643 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use on fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				643 = { owner = { has_socialist_government = yes } }
			}
			# democratic AST will not use unless owned by syndicalists
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
				643 = {
					owner = {
						NOT = {
							tag = GER
							is_subject_of = GER
							has_socialist_government = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_south_pacific"
			every_state = {
				limit = {
					OR = {
						state = 941 #Deutsch Samoa
						state = 641 #Deutsch Polynesia
						state = 643 #Ellis Islands
						state = 639 #Gilbert Islands
					}
					owner = {
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
						}
					}
				}
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
			}
			every_other_country = {
				limit = {
					NOT = {
						is_in_faction_with = AST
						is_subject_of = AST
					}
					any_owned_state = {
						OR = {
							state = 941 #Deutsch Samoa
							state = 641 #Deutsch Polynesia
							state = 643 #Ellis Islands
							state = 639 #Gilbert Islands
						}
					}
				}
				country_event = austral.352
				if = {
					limit = { is_subject = yes }
					overlord = { country_event = austral.352 }
				}
			}
		}
	}

	AST_claim_caroline_islands = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
highlight_state_targets = {
			state = 684
		}
}

		available = {
			is_subject = no
			OR = {
				controls_state = 757 #Kaiser-Wilhelmsland
				controls_state = 639 #Gilbert Islands
				controls_state = 684 #Caroline Islands
			}
			controls_all_owned_states = yes
		}

		visible = {
			684 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
						AND = {
							has_global_flag = ENT_agree_colonies
							AST = { is_in_faction_with = ENT }
							is_in_faction_with = GER
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				684 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use on fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				684 = { owner = { has_socialist_government = yes } }
			}
			# democratic AST will not use unless owned by syndicalists
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
				684 = {
					owner = {
						NOT = {
							tag = GER
							is_subject_of = GER
							has_socialist_government = yes
						}
					}
				}
			}
			# democratic AST will not use on GER/GEA unless at war with them
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
				684 = {
					owner = {
						OR = {
							tag = GER
							is_subject_of = GER
						}
						NOT = {
							has_war_with = AST
							GER = { has_war_with = AST }
							has_socialist_government = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_caroline_islands"
			every_state = {
				limit = {
					OR = {
						state = 633 #Marshall Islands
						state = 684 #Caroline Islands
						state = 647 #Palau
						state = 646 #Marianas
					}
					owner = {
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
						}
					}
				}
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
			}
			every_other_country = {
				limit = {
					NOT = {
						is_in_faction_with = AST
						is_subject_of = AST
					}
					any_owned_state = {
						OR = {
							state = 633 #Marshall Islands
							state = 684 #Caroline Islands
							state = 647 #Palau
							state = 646 #Marianas
						}
					}
				}
				country_event = austral.353
				if = {
					limit = { is_subject = yes }
					overlord = { country_event = austral.353 }
				}
			}
		}
	}

	AST_claim_malaya = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
highlight_state_targets = {
			state = 846
		}
}

		available = {
			is_subject = no
			OR = {
				controls_state = 336 #Singapore
				controls_state = 333 #North Borneo
				controls_state = 846 #Malaya
			}
			controls_all_owned_states = yes
		}

		visible = {
			846 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
						AND = {
							has_global_flag = ENT_agree_colonies
							AST = { is_in_faction_with = ENT }
							is_in_faction_with = GER
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 5
				846 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use on fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				846 = { owner = { has_socialist_government = yes } }
			}
			# democratic AST will not use
			modifier = {
				factor = 0
				NOT = {
					has_socialist_government = yes
					has_government = national_populist
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_malaya"
			846 = {
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
				owner = {
					country_event = austral.356
					if = {
						limit = { is_subject = yes }
						overlord = { country_event = austral.356 }
					}
				}
			}
		}
	}

	AST_claim_western_new_guinea = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
highlight_state_targets = {
			state = 843
		}
}

		available = {
			is_subject = no
			owns_state = 523 #New Guinea
			controls_all_owned_states = yes
		}

		visible = {
			OR = {
				has_government = national_populist
				has_socialist_government = yes
			}
			843 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
					}
				}
			}
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 5
				843 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use if owned by fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				843 = { owner = { has_socialist_government = yes } }
			}
			# nat pop AST will not use unless owned by a syndicalist country or at war
			modifier = {
				factor = 0
				has_government = national_populist
				843 = {
					owner = {
						NOT = {
							has_war_with = AST
							has_socialist_government = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_western_new_guinea"
			every_state = {
				limit = {
					OR = {
						state = 843 #Southwest New Guinea
						state = 669 #Northwest New Guinea
					}
					owner = {
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
						}
					}
				}
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
			}
			every_other_country = {
				limit = {
					NOT = {
						is_in_faction_with = AST
						is_subject_of = AST
					}
					any_owned_state = {
						OR = {
							state = 843 #Southwest New Guinea
							state = 669 #Northwest New Guinea
						}
					}
				}
				country_event = austral.357
				if = {
					limit = { is_subject = yes }
					overlord = { country_event = austral.357 }
				}
			}
		}
	}

	AST_claim_timor = {
		icon = generic_nationalism

		allowed = {
			original_tag = AST
		}

		highlight_states = {
highlight_state_targets = {
			state = 721
		}
}

		available = {
			is_subject = no
			controls_all_owned_states = yes
		}

		visible = {
			OR = {
				has_government = national_populist
				has_socialist_government = yes
			}
			721 = {
				NOT = { has_state_flag = AST_claimed_anderson }
				owner = {
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						AST = { is_subject_of = PREV }
					}
				}
			}
		}

		fire_only_once = yes

		cost = 100

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 5
				721 = { owner = { has_war_with = AST } }
			}
			# syndicalist AST will not use if owned by fellow syndicalists
			modifier = {
				factor = 0
				has_socialist_government = yes
				721 = { owner = { has_socialist_government = yes } }
			}
			# nat pop AST will not use unless owned by a syndicalist country or at war
			modifier = {
				factor = 0
				has_government = national_populist
				721 = {
					owner = {
						NOT = {
							has_war_with = AST
							has_socialist_government = yes
						}
					}
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_claim_timor"
			every_state = {
				limit = {
					OR = {
						state = 721 #Portuguese Timor
						state = 972 #Oecusse
						state = 1017 #Dutch Timor
					}
					owner = {
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
						}
					}
				}
				set_state_flag = AST_claimed_anderson
				add_claim_by = AST
			}
			every_other_country = {
				limit = {
					NOT = {
						is_in_faction_with = AST
						is_subject_of = AST
					}
					any_owned_state = {
						OR = {
							state = 721 #Portuguese Timor
							state = 972 #Oecusse
							state = 1017 #Dutch Timor
						}
					}
				}
				country_event = austral.358
				if = {
					limit = { is_subject = yes }
					overlord = { country_event = austral.358 }
				}
			}
		}
	}

	AST_demand_claimed_territory = {
		icon = generic_prepare_civil_war

		allowed = {
			original_tag = AST
		}

		available = {
			ROOT = {
				is_subject = no
				controls_all_owned_states = yes
				NOT = {
					has_country_flag = AST_recently_made_demand
					has_non_aggression_pact_with = FROM
					has_war_together_with = FROM
				}
			}
			can_declare_war_on = FROM
		}

		visible = {
			is_subject = no
			FROM = {
				exists = yes
				any_owned_state = {
					is_claimed_by = AST
					has_state_flag = AST_claimed_anderson
				}
				NOT = {
					is_in_faction_with = AST
					is_subject_of = AST
					has_war_with = AST
					AND = {
						has_global_flag = ENT_agree_colonies
						AST = { is_in_faction_with = ENT }
						is_in_faction_with = GER
					}
				}
			}
		}

		target_trigger = {
			FROM = {
				any_owned_state = {
					is_claimed_by = AST
					has_state_flag = AST_claimed_anderson
				}
				NOT = {
					is_in_faction_with = AST
					is_subject_of = AST
					has_war_with = AST
				}
			}
		}

		days_remove = 180

		fire_only_once = no

		cost = 0

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_demand_claimed_territory target: [From.GetName]"
			set_country_flag = AST_recently_made_demand
			if = {
				limit = { FROM = { is_subject = yes } }
				FROM = {
					save_event_target_as = puppet_owner
					overlord = {
						country_event = austral.360
					}
				}
				else = {
					FROM = { country_event = austral.360 }
				}
			}
		}

		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_demand_claimed_territory target: [From.GetName]"
			clr_country_flag = AST_recently_made_demand
		}

		ai_will_do = {
			factor = 1
			# AI won't drag their faction into a war
			modifier = {
				factor = 0
				FROM = { is_in_faction = yes }
				is_in_faction = yes
				is_faction_leader = no
			}
			# AI will not use while they're at war
			modifier = {
				factor = 0
				has_war = yes
			}
			# Make AI use wisely
			modifier = {
				factor = 0
				FROM = {
					is_subject = no
					is_in_faction = no
					strength_ratio = { tag = AST ratio > 0.75 }
				}
			}
			modifier = {
				factor = 0
				FROM = {
					is_subject = yes
					overlord = {
						strength_ratio = { tag = AST ratio > 1.0 }
					}
				}
			}
			modifier = {
				factor = 0
				FROM = {
					is_in_faction = yes
					var:faction_leader = {
						strength_ratio = { tag = AST ratio > 1.0 }
					}
				}
			}
		}
	}

	AST_seize_new_guinea = {
		icon = infiltrate_state

		allowed = {
			original_tag = AST
		}

		available = {
			is_subject = no
			divisions_in_state = { state = 523 size > 0 } #New Guinea
		}

		visible = {
			is_subject = no
			owns_state = 523
			controls_state = 523
			757 = {
				has_state_flag = AST_claimed_anderson
				is_claimed_by = AST
				owner = {
					has_war = yes
					OR = {
						has_capitulated = yes
						surrender_progress > 0.5
						AND = {
							is_subject = yes
							overlord = { surrender_progress > 0.5 }
						}
					}
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						has_war_with = AST
						has_war_together_with = AST
						AST = { is_subject_of = PREV }
						AND = {
							has_global_flag = ENT_agree_colonies
							AST = { is_in_faction_with = ENT }
							is_in_faction_with = GER
						}
					}
				}
			}
		}

		fire_only_once = yes

		cost = 50

		ai_will_do = {
			factor = 50
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_seize_new_guinea"
			757 = {
				owner = {
					country_event = austral.364
				}
			}
			if = {
				limit = {
					757 = {
						owner = {
							owns_state = 737 #Bismark Archipelago
							divisions_in_state = { state = 737 size < 1 }
						}
					}
				}
				effect_tooltip = {
					transfer_state = 737
				}
			}
			effect_tooltip = {
				transfer_state = 757
			}
		}
	}

	AST_seize_western_new_guinea = {
		icon = infiltrate_state

		allowed = {
			original_tag = AST
		}

		available = {
			is_subject = no
			OR = {
				divisions_in_state = { state = 523 size > 0 } #New Guinea
				divisions_in_state = { state = 757 size > 0 } #Kaiser-Wilhelmsland
			}
		}

		visible = {
			is_subject = no
			OR = {
				523 = { is_owned_and_controlled_by = AST }
				757 = { is_owned_and_controlled_by = AST }
			}
			OR = {
				843 = {
					has_state_flag = AST_claimed_anderson
					is_claimed_by = AST
					owner = {
						has_war = yes
						OR = {
							has_capitulated = yes
							surrender_progress > 0.5
							AND = {
								is_subject = yes
								overlord = { surrender_progress > 0.5 }
							}
						}
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
							has_war_with = AST
							has_war_together_with = AST
							AST = { is_subject_of = PREV }
						}
					}
				}
				669 = {
					has_state_flag = AST_claimed_anderson
					is_claimed_by = AST
					owner = {
						has_war = yes
						OR = {
							has_capitulated = yes
							surrender_progress > 0.5
							AND = {
								is_subject = yes
								overlord = { surrender_progress > 0.5 }
							}
						}
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
							has_war_with = AST
							has_war_together_with = AST
							AST = { is_subject_of = PREV }
						}
					}
				}
			}
		}

		fire_only_once = no

		cost = 50

		ai_will_do = {
			factor = 50
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_seize_western_new_guinea"
			every_other_country = {
				limit = {
					has_war = yes
					any_owned_state = {
						OR = {
							state = 843 #Southwest New Guinea
							state = 669 #Northwest New Guinea
						}
					}
					OR = {
						has_capitulated = yes
						surrender_progress > 0.5
						AND = {
							is_subject = yes
							overlord = { surrender_progress > 0.5 }
						}
					}
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						has_war_with = AST
						has_war_together_with = AST
						AST = { is_subject_of = PREV }
					}
				}
				country_event = austral.365
				if = {
					limit = {
						owns_state = 843
					}
					effect_tooltip = {
						AST = { transfer_state = 843 }
					}
				}
				if = {
					limit = {
						owns_state = 669
					}
					effect_tooltip = {
						AST = { transfer_state = 669 }
					}
				}
			}
		}
	}

	AST_seize_timor = {
		icon = infiltrate_state

		allowed = {
			original_tag = AST
		}

		available = {
			is_subject = no
			divisions_in_state = { state = 520 size > 0 } #Northern Territory
		}

		visible = {
			is_subject = no
			520 = { is_owned_and_controlled_by = AST }
			OR = {
				721 = {
					has_state_flag = AST_claimed_anderson
					is_claimed_by = AST
					owner = {
						has_war = yes
						OR = {
							has_capitulated = yes
							surrender_progress > 0.5
							AND = {
								is_subject = yes
								overlord = { surrender_progress > 0.5 }
							}
						}
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
							has_war_with = AST
							has_war_together_with = AST
							AST = { is_subject_of = PREV }
						}
					}
				}
				1017 = {
					has_state_flag = AST_claimed_anderson
					is_claimed_by = AST
					owner = {
						has_war = yes
						OR = {
							has_capitulated = yes
							surrender_progress > 0.5
							AND = {
								is_subject = yes
								overlord = { surrender_progress > 0.5 }
							}
						}
						NOT = {
							tag = AST
							is_in_faction_with = AST
							is_subject_of = AST
							has_war_with = AST
							has_war_together_with = AST
							AST = { is_subject_of = PREV }
						}
					}
				}
			}
		}

		fire_only_once = no

		cost = 50

		ai_will_do = {
			factor = 50
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_seize_timor"
			every_other_country = {
				limit = {
					has_war = yes
					any_owned_state = {
						OR = {
							state = 721
							state = 972
							state = 1017
						}
					}
					OR = {
						has_capitulated = yes
						surrender_progress > 0.5
						AND = {
							is_subject = yes
							overlord = { surrender_progress > 0.5 }
						}
					}
					NOT = {
						tag = AST
						is_in_faction_with = AST
						is_subject_of = AST
						has_war_with = AST
						has_war_together_with = AST
						AST = { is_subject_of = PREV }
					}
				}
				country_event = austral.365
				if = {
					limit = {
						owns_state = 721
					}
					effect_tooltip = {
						AST = { transfer_state = 721 }
					}
				}
				if = {
					limit = {
						owns_state = 972
					}
					effect_tooltip = {
						AST = { transfer_state = 972 }
					}
				}
				if = {
					limit = {
						owns_state = 1017
					}
					effect_tooltip = {
						AST = { transfer_state = 1017 }
					}
				}
			}
		}
	}
}

AST_exploit_resources = {

	AST_develop_queensland_coal_mines = {
		icon = steel

		allowed = {
			tag = AST
		}

		highlight_states = {
highlight_state_targets = {
			state = 521
		}
}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			521 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_new_resources_1
		}

		visible = {
			521 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_coal_mines_developed }
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_queensland_coal_mines"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_queensland_coal_mines"
			521 = {
				set_state_flag = AST_coal_mines_developed
				add_resource = {
					type = steel
					amount = 10
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_victoria_aluminium_deposits = {
		icon = aluminium

		allowed = {
			tag = AST
		}

		highlight_states = {
highlight_state_targets = {
			state = 517
		}
}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			517 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_new_resources_1
		}

		visible = {
			517 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_aluminium_mines_developed }
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_victoria_aluminium_deposits"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_victoria_aluminium_deposits"
			517 = {
				set_state_flag = AST_aluminium_mines_developed
				add_resource = {
					type = aluminium
					amount = 12
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_tasmania_iron_mines = {
		icon = steel

		allowed = {
			tag = AST
		}

		highlight_states = {
highlight_state_targets = {
			state = 518
		}
}

		available = {
			num_of_civilian_factories_available_for_projects > 1
			518 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_new_resources_1
		}

		visible = {
			518 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_steel_mines_developed }
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 2
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_tasmania_iron_mines"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_tasmania_iron_mines"
			518 = {
				set_state_flag = AST_steel_mines_developed
				add_resource = {
					type = steel
					amount = 4
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_new_zealand_coal_mines = {
		icon = steel

		allowed = {
			OR = {
				tag = AST
				tag = NZL
			}
		}

		highlight_states = {
highlight_state_targets = {
			state = 284
		}
}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			284 = { is_owned_and_controlled_by = ROOT }
			OR = {
				has_completed_focus = AST_new_resources_2
				AND = {
					has_tech = excavation2
					NOT = { tag = AST }
				}
			}
		}

		visible = {
			284 = {
				is_owned_and_controlled_by = ROOT
				NOT = { has_state_flag = AST_coal_mines_developed }
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_new_zealand_coal_mines"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_new_zealand_coal_mines"
			284 = {
				set_state_flag = AST_coal_mines_developed
				add_resource = {
					type = steel
					amount = 10
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_nsw_aluminium_deposits = {
		icon = aluminium

		allowed = {
			tag = AST
		}

		highlight_states = {
highlight_state_targets = {
			state = 285
		}
}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			285 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_new_resources_2
		}

		visible = {
			285 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_aluminium_mines_developed }
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_nsw_aluminium_deposits"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_nsw_aluminium_deposits"
			285 = {
				set_state_flag = AST_aluminium_mines_developed
				add_resource = {
					type = aluminium
					amount = 8
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_kimberley_iron_mines = {
		icon = steel

		allowed = {
			tag = AST
		}

		highlight_states = {
highlight_state_targets = {
			state = 987
		}
}

		available = {
			num_of_civilian_factories_available_for_projects > 1
			987 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_new_resources_1
		}

		visible = {
			987 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_steel_mines_developed }
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 2
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_kimberley_iron_mines"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_kimberley_iron_mines"
			987 = {
				set_state_flag = AST_steel_mines_developed
				add_resource = {
					type = steel
					amount = 3
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_queensland_oil_deposits = {
		icon = oil

		allowed = {
			tag = AST
		}

		highlight_states = {
highlight_state_targets = {
			state = 521
		}
}

		available = {
			num_of_civilian_factories_available_for_projects > 2
			521 = { is_owned_and_controlled_by = AST }
			has_completed_focus = AST_oil_exploration
		}

		visible = {
			521 = {
				is_owned_and_controlled_by = AST
				NOT = { has_state_flag = AST_oil_developed }
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_queensland_oil_deposits"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_queensland_oil_deposits"
			521 = {
				set_state_flag = AST_oil_developed
				add_resource = {
					type = oil
					amount = 12
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}

	AST_develop_new_zealand_oil_deposits = {
		icon = oil

		allowed = {
			OR = {
				tag = AST
				tag = NZL
			}
		}

		highlight_states = {
highlight_state_targets = {
			state = 284
		}
}

		available = {
			num_of_civilian_factories_available_for_projects > 1
			284 = { is_owned_and_controlled_by = ROOT }
			OR = {
				has_completed_focus = AST_oil_exploration
				AND = {
					has_tech = excavation3
					NOT = { tag = AST }
				}
			}
		}

		visible = {
			284 = {
				is_owned_and_controlled_by = ROOT
				NOT = { has_state_flag = AST_oil_developed }
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 2
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision AST_develop_new_zealand_oil_deposits"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove AST_develop_new_zealand_oil_deposits"
			284 = {
				set_state_flag = AST_oil_developed
				add_resource = {
					type = oil
					amount = 5
				}
			}
		}

		ai_will_do = {
			factor = 1
		}
	}
}

