create_communal_government = {
	create_country_leader = {
		name = "Central Committee"
		desc = "POLITICS_COMMUNAL_DESC"
		picture = "gfx/leaders/ENG/Portrait_England_Trade_Union_Congress.png"
		expire = "1.1.1"
		ideology = radical_socialist_subtype
	}
}

ENG_get_tuc_outcome = {
	set_temp_variable = { aut_anc_total = ENG_tuc_Anarchist }
	add_to_temp_variable = {
		aut_anc_total = ENG_tuc_autonomist
	} 
	if = {#BSP
		limit = {
			check_variable = {
				ENG_tuc_maximist > 2
			}
		}
		country_event = {
			id = uobplaceholder.13
		}
	}
	if = {#BSP
		limit = {
			check_variable = {
				ENG_tuc_hardliner > 2
			}
		}
		country_event = {
			id = uobplaceholder.14
		}
	}
	if = {#autonomists
		limit = {
			OR = {
				AND = {
					has_country_flag = ENG_Anarchist_Autonomist_Coalition
					check_variable = {
						aut_anc_total > 2
					}
				}
				check_variable = {
					ENG_tuc_autonomist > 2
				}
			}
		}
		country_event = {
			id = uobplaceholder.15
		}
	}
	if = {#anarchists
		limit = {
			check_variable = {
				ENG_tuc_Anarchist > 2
			}
		}
		country_event = {
			id = uobplaceholder.16
		}
	}
	if = {#feds
		limit = {
			check_variable = {
				ENG_tuc_federalist > 2
			}
		}
		country_event = {
			id = uobplaceholder.17
		}
	}
	if = {#wspu
		limit = {
			check_variable = {
				ENG_tuc_WSPU > 2
			}
		}
		country_event = {
			id = uobplaceholder.18
		}
	}

}

ENG_anarchist_do_activity_low = {
	random_list = {
		10 = {  
			add_power_balance_value = {
				id = ENG_Anarchist_Totalist_balance
				value = -0.2
			} 
		}
		30 = {  
			add_power_balance_value = {
				id = ENG_Anarchist_Totalist_balance
				value = -0.15
			} 
		}
		30 = {  
			add_power_balance_value = {
				id = ENG_Anarchist_Totalist_balance
				value = -0.1
			} 
		}
		20 = {  
			add_power_balance_value = {
				id = ENG_Anarchist_Totalist_balance
				value = -0.075
			} 
		}
		10 = {}
	}
}

ENG_anarchist_do_activity_med = {
	random_list = {
		15 = {  
			add_power_balance_value = {
				id = ENG_Anarchist_Totalist_balance
				value = -0.2
			} 
		}
		30 = {  
			add_power_balance_value = {
				id = ENG_Anarchist_Totalist_balance
				value = -0.15
			} 
		}
		30 = {  
			add_power_balance_value = {
				id = ENG_Anarchist_Totalist_balance
				value = -0.1
			} 
		}
		15 = {  
			add_power_balance_value = {
				id = ENG_Anarchist_Totalist_balance
				value = -0.075
			} 
		}
		10 = {}
	}
}

ENG_anarchist_do_activity_med = {
	random_list = {
		15 = {  
			add_power_balance_value = {
				id = ENG_Anarchist_Totalist_balance
				value = -0.2
			} 
		}
		35 = {  
			add_power_balance_value = {
				id = ENG_Anarchist_Totalist_balance
				value = -0.15
			} 
		}
		35 = {  
			add_power_balance_value = {
				id = ENG_Anarchist_Totalist_balance
				value = -0.1
			} 
		}
		10 = {  
			add_power_balance_value = {
				id = ENG_Anarchist_Totalist_balance
				value = -0.075
			} 
		}
		5 = {}
	}
}

ENG_anarchist_do_activity_high = {
	random_list = {
		15 = {  
			add_power_balance_value = {
				id = ENG_Anarchist_Totalist_balance
				value = -0.2
			} 
		}
		40 = {  
			add_power_balance_value = {
				id = ENG_Anarchist_Totalist_balance
				value = -0.15
			} 
		}
		35 = {  
			add_power_balance_value = {
				id = ENG_Anarchist_Totalist_balance
				value = -0.1
			} 
		}
		5 = {  
			add_power_balance_value = {
				id = ENG_Anarchist_Totalist_balance
				value = -0.075
			} 
		}
		5 = {}
	}
}		

ENG_AUT_ITS_DEVOLUTION_BABY = {
		set_cosmetic_tag = ENG_england 
		ENG = {
			remove_ideas = {
				ENG_AUT_fight_home_rule_army_idea
				ENG_AUT_fight_homeland_idea
			}
			if = {
				limit = {
					has_country_flag = ENG_AUT_snell_picked
				}
				create_country_leader = {
					name = "Henry Snell"
					desc = ""
					picture = "gfx/leaders/ENG/Portrait_ENG_Henry_Snell.png"
					expire = "1.1.1"
					ideology = radsoc_georgism_subtype
				}
			}
			else_if = {
				limit = {
					has_country_flag = ENG_AUT_acland_picked
				}
				create_country_leader = {
					name = "Richard Acland"
					desc = ""
					picture = "gfx/leaders/ENG/Portrait_ENG_Richard_Acland.png"
					expire = "1.1.1"
					ideology = radsoc_liberal_socialism_subtype
				}
			}
			else_if = {
				limit = {
					has_country_flag = ENG_AUT_cole_picked
				}
				create_country_leader = {
					name = "G.D.H Cole"
					desc = ""
					picture = "gfx/leaders/ENG/Portrait_ENG_G.D.H_Cole.png"
					expire = "1.1.1"
					ideology = radsoc_guild_socialism_subtype
				}
			}
			else = { #failsafe
				create_country_leader = {
					name = "Fenner Brockway"
					desc = ""
					picture = "gfx/leaders/ENG/Portrait_England_Fenner_Brockway.png"
					expire = "1.1.1"
					ideology = moderate_socialist_subtype
				}
			}
		}
		set_nationality = {
			target_country = SCT
			character = SCT_David_Forbes_Martyn
		}

		SCT = {
			add_state_core = 133
			add_state_core = 121
			add_state_core = 136
			add_state_core = 120
			add_state_core = 938
			set_cosmetic_tag = SCT_union
			set_country_flag = devolved_government
			set_country_flag = army_reform
			add_ideas = SCT_new_economy
			if = {
				limit = {
					ENG = {
						has_completed_focus = ENG_AUT_infiltrate_homeland_watch
					}
				}
				add_ideas = ENG_AUT_homeland_dead_idea
				add_popularity = {
					ideology = authoritarian_democrat
					popularity = -0.08
				}
			}
			if = {
				limit = {
					ENG = {
						has_country_flag = ENG_AUT_sct_kirkwood
					}
				}
				create_country_leader = {
					name = "David Kirkwood"
					desc = "POLITICS_TE_LAWRENCE_DESC"
					picture = "gfx/leaders/ENG/Portrait_ENG_David_Kirkwood.png"
					expire = "1.1.1"
					ideology = radsoc_council_communism_subtype
				}
			}
			else_if = {
				limit = {
					ENG = {
						has_country_flag = ENG_AUT_sct_moffat
					}
				}
				create_country_leader = {
					name = "Abraham Moffat"
					desc = "POLITICS_TE_LAWRENCE_DESC"
					picture = "gfx/leaders/ENG/Placeholder_Leader.png"
					expire = "1.1.1"
					ideology = radsoc_national_communism_subtype
				}
			}

		}
		WAL = {
			add_state_core = 122
			add_state_core = 1225
			set_country_flag = devolved_government
			set_country_flag = army_reform
			set_cosmetic_tag = WAL_union
			if = {
				limit = {
				ENG = {
					has_completed_focus = ENG_AUT_break_homerule_army
				}
				}
				add_ideas = ENG_AUT_home_rule_army_dead_idea
			}
			if = {
				limit = {
					ENG = {
						has_country_flag = ENG_AUT_wal_griffiths
					}
				}
				create_country_leader = {
					name = "James Griffiths"
					desc = "POLITICS_TE_LAWRENCE_DESC"
					picture = "gfx/leaders/WAL/Portrait_Wales_Jim_Griffiths.png"
					expire = "1.1.1"
					ideology = left_nationalism_subtype
				}
			}
			if = {
				limit = {
					ENG = {
						has_country_flag = ENG_AUT_wal_bevan
					}
				}
				create_country_leader = {
					name = "Aneurin Bevan"
					desc = "POLITICS_TE_LAWRENCE_DESC"
					picture = "gfx/leaders/ENG/Portrait_ENG_Aneurin_Bevan.png"
					expire = "1.1.1"
					ideology = radical_progressivism_subtype
				}
			}
		}
		release = WAL
		release = SCT
		if = {
			limit = {
				ENG = {
					has_idea = ENG_AUT_native_army_idea
				}
			}
			SCT = {
				add_ideas = ENG_AUT_native_army_HN_idea
			}
			WAL = {
				add_ideas = ENG_AUT_native_army_HN_idea
			}
		}
		if = {
			limit = { is_faction_leader = yes }
			add_to_faction = WAL
			add_to_faction = SCT
		}
		else_if = {
			limit = {
				is_in_faction = yes
				is_faction_leader = no
			}
			random_country = {
				limit = {
					is_faction_leader = yes
					is_in_faction_with = ENG
				}
				add_to_faction = WAL
				add_to_faction = SCT
			}
		}
		add_opinion_modifier = { target = SCT modifier = ENG_devolution_op }
		SCT = { add_opinion_modifier = { target = ENG modifier = ENG_devolution_op } }
		add_opinion_modifier = { target = WAL modifier = ENG_devolution_op }
		WAL = {	add_opinion_modifier = { target = ENG modifier = ENG_devolution_op } }
		SCT = { set_politics = { ruling_party = radical_socialist } }
		WAL = {	set_politics = { ruling_party = radical_socialist } }
		
}

ENG_AUT_set_up_council_basic = {
		load_focus_tree = generic_focus
		set_party_name = {
			ideology = totalist
			long_name = ENG_AUT_council_socialists_party_long
			name = ENG_AUT_council_socialists_party
		}
		set_party_name = {
			ideology = syndicalist
			long_name = ENG_AUT_council_socialists_party_long
			name = ENG_AUT_council_socialists_party
		}
		set_party_name = {
			ideology = radical_socialist
			long_name = ENG_AUT_council_socialists_party_long
			name = ENG_AUT_council_socialists_party
		}
		set_party_name = {
			ideology = social_democrat
			long_name = ENG_AUT_council_socialists_party_long
			name = ENG_AUT_council_socialists_party
		}
		set_party_name = {
			ideology = social_liberal
			long_name = ENG_AUT_council_opposition_party_long
			name = ENG_AUT_council_opposition_party
		}
		set_party_name = {
			ideology = market_liberal
			long_name = ENG_AUT_council_opposition_party_long
			name = ENG_AUT_council_opposition_party
		}
		set_party_name = {
			ideology = social_conservative
			long_name = ENG_AUT_council_opposition_party_long
			name = ENG_AUT_council_opposition_party
		}
		set_party_name = {
			ideology = authoritarian_democrat
			long_name = ENG_AUT_council_nationalists_radicals_party_long
			name = ENG_AUT_council_nationalists_radicals_party
		}
		set_party_name = {
			ideology = paternal_autocrat
			long_name = ENG_AUT_council_nationalists_radicals_party_long
			name = ENG_AUT_council_nationalists_radicals_party
		}
		set_party_name = {
			ideology = national_populist
			long_name = ENG_AUT_council_nationalists_radicals_party_long
			name = ENG_AUT_council_nationalists_radicals_party
		}
		add_tot_to_coalition = yes
		add_synd_to_coalition = yes
		add_radsoc_to_coalition = yes
		add_socdem_to_coalition = yes
}

ENG_AUT_set_up_council_south = {
	hidden_effect = {
		create_dynamic_country = {
			original_tag = SRI
			every_core_state = {
				remove_core_of = PREV
			}
			every_state = {
				limit = {
					OR = {
						is_european_italy = yes
						is_portugal = yes
						is_spain = yes
						region = 25
						state = 1
					}
					NOT = {
						state = 341
					}
				}
				transfer_state_to = SRI
				add_core_of = SRI
			}
			ENG = {
				set_autonomy = {
					target = SRI
					autonomous_state = kx_colored_puppet
				}
			}
			SRI = {
				remove_ideas = SRI_divided_nation
				set_popularities = {
					totalist = 11
					syndicalist = 15
					radical_socialist = 35
					social_democrat = 19
					social_liberal = 8
					market_liberal = 4
					social_conservative = 2
					authoritarian_democrat = 1
					paternal_autocrat = 2
					national_populist = 3
				}
				set_cosmetic_tag = ENG_AUT_southern_europe
				ENG_AUT_set_up_council_basic = yes
				set_politics = {
					ruling_party = radical_socialist
					elections_allowed = no
				}
				set_war_support = 0.47
				set_stability = 0.85
				set_capital = {
					state = 2
				}
			}
		}
	}	
}

ENG_AUT_set_up_council_balkans = {
	hidden_effect = {
		create_dynamic_country = {
			original_tag = SER
			every_core_state = {
				remove_core_of = PREV
			}
			every_state = {
				limit = {
					is_balkans = yes
				}
				transfer_state_to = SER
				add_core_of = SER
			}
			ENG = {
				set_autonomy = {
					target = SER
					autonomous_state = kx_colored_puppet
				}
			}
			SER = {
				set_popularities = {
					totalist = 11
					syndicalist = 15
					radical_socialist = 35
					social_democrat = 19
					social_liberal = 8
					market_liberal = 4
					social_conservative = 2
					authoritarian_democrat = 1
					paternal_autocrat = 2
					national_populist = 3
				}
				set_cosmetic_tag = ENG_AUT_balkan_europe
				ENG_AUT_set_up_council_basic = yes
				set_politics = {
					ruling_party = radical_socialist
					elections_allowed = no
				}
				set_war_support = 0.47
				set_stability = 0.85
				set_capital = {
					state = 107
				}
			}
		}
	}	
}

ENG_AUT_set_up_council_central = {
	hidden_effect = {
		create_dynamic_country = {
			original_tag = POL
			every_core_state = {
				remove_core_of = PREV
			}
			every_state = {
				limit = {
					OR = {
						is_germany = yes
						region = 38
						region = 115
						region = 145
						region = 22
						region = 21
						region = 131
						region = 155
					}
				}
				transfer_state_to = POL
				add_core_of = POL
			}
			ENG = {
				set_autonomy = {
					target = POL
					autonomous_state = kx_colored_puppet
				}
			}
			POL = {
				set_popularities = {
					totalist = 11
					syndicalist = 15
					radical_socialist = 35
					social_democrat = 19
					social_liberal = 8
					market_liberal = 4
					social_conservative = 2
					authoritarian_democrat = 1
					paternal_autocrat = 2
					national_populist = 3
				}
				set_cosmetic_tag = ENG_AUT_central_europe
				ENG_AUT_set_up_council_basic = yes
				set_politics = {
					ruling_party = radical_socialist
					elections_allowed = no
				}
				set_war_support = 0.47
				set_stability = 0.85
				set_capital = {
					state = 1129
				}
			}
		}
	}	
}

ENG_AUT_set_up_council_north = {
	hidden_effect = {
		create_dynamic_country = {
			original_tag = NOR
			every_core_state = {
				remove_core_of = PREV
			}
			every_state = {
				limit = {
					OR = {
						is_scandinavia = yes
						is_finland = yes
						state = 1147
						state = 1146
						state = 100
					}
				}
				transfer_state_to = NOR
				add_core_of = NOR
			}
			ENG = {
				set_autonomy = {
					target = NOR
					autonomous_state = kx_colored_puppet
				}
			}
			NOR = {
				set_popularities = {
					totalist = 11
					syndicalist = 15
					radical_socialist = 35
					social_democrat = 19
					social_liberal = 8
					market_liberal = 4
					social_conservative = 2
					authoritarian_democrat = 1
					paternal_autocrat = 2
					national_populist = 3
				}
				set_cosmetic_tag = ENG_AUT_northern_europe
				ENG_AUT_set_up_council_basic = yes
				set_politics = {
					ruling_party = radical_socialist
					elections_allowed = no
				}
				set_war_support = 0.47
				set_stability = 0.85
				set_capital = {
					state = 141
				}
			}
		}
	}	
}