### Transfer Technology
### Written by wyandotte
### Automated by Dr_Njitram
#
# How to use:
#
#	TAG = {
#		transfer_technology = yes
#	}
#
# As it uses 'PREV', you need to make sure the previous TAG is the one you transfer from
# And the TAG you transfer *to* is the scope in which the effect is called.
#
# For example, an event fires for FOO. That country wants to transfer techs to BAR
# In an event option:
#
# BAR = {
#	transfer_technology = yes
#

transfer_technology_and_slots = {
	hidden_effect = { set_research_slots = PREV.amount_research_slots }
	transfer_technology = yes
}
transfer_technology = {
	transfer_special_projects = yes
	transfer_other_technologies = yes
	transfer_tank_technologies = yes
	transfer_naval_technologies = yes
	transfer_plane_technologies = yes
	transfer_doctrines = yes
}

transfer_technology_without_doctrines = {
	transfer_special_projects = yes
	transfer_other_technologies = yes
	transfer_tank_technologies = yes
	transfer_naval_technologies = yes
	transfer_plane_technologies = yes
}

transfer_doctrines = {
	hidden_effect = {
		###air_doctrine###
		if = {
			limit = {
				PREV = { has_tech = air_superiority }
				NOT = { has_tech = force_rotation }
				NOT = { has_tech = formation_flying }
			}
			set_technology = { air_superiority = 1 popup = no }
			if = {
				limit = { PREV = { has_tech = infrastructure_destruction } }
				set_technology = { infrastructure_destruction = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = home_defence } }
				set_technology = { home_defence = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = naval_strike_tactics } }
				set_technology = { naval_strike_tactics = 1 popup = no }
			}
			if = {
				limit = {
					NOT = { has_tech = dogfighting_experience }
					PREV = { has_tech = fighter_sweeps }
				}
				set_technology = { fighter_sweeps = 1 popup = no }
			}
			if = {
				limit = {
					NOT = { has_tech = fighter_sweeps }
					PREV = { has_tech = dogfighting_experience }
				}
				set_technology = { dogfighting_experience = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = multialtitude_flying } }
				set_technology = { multialtitude_flying = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = logistical_bombing } }
				set_technology = { logistical_bombing = 1 popup = no }
			}
			if = {
				limit = {
					NOT = { has_tech = day_bombing }
					PREV = { has_tech = night_bombing }
				}
				set_technology = { night_bombing = 1 popup = no }
			}
			if = {
				limit = {
					NOT = { has_tech = night_bombing }
					PREV = { has_tech = day_bombing }
				}
				set_technology = { day_bombing = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = massed_bomber_formations } }
				set_technology = { massed_bomber_formations = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = air_offense } }
				set_technology = { air_offense = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = flying_fortress } }
				set_technology = { flying_fortress = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = offensive_formations } }
				set_technology = { offensive_formations = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = mass_destruction } }
				set_technology = { mass_destruction = 1 popup = no }
			}
		}
		else_if = {
			limit = {
				PREV = { has_tech = formation_flying }
				NOT = { has_tech = force_rotation }
				NOT = { has_tech = air_superiority }
			}
			set_technology = { formation_flying = 1 popup = no }
			if = {
				limit = { PREV = { has_tech = dive_bombing } }
				set_technology = { dive_bombing = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = direct_ground_support } }
				set_technology = { direct_ground_support = 1 popup = no }
			}
			if = {
				limit = {
					NOT = { has_tech = fighter_ace_initiative }
					PREV = { has_tech = formation_fighting }
				}
				set_technology = { formation_fighting = 1 popup = no }
			}
			if = {
				limit = {
					NOT = { has_tech = formation_fighting }
					PREV = { has_tech = fighter_ace_initiative }
				}
				set_technology = { fighter_ace_initiative = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = hunt_and_destroy } }
				set_technology = { hunt_and_destroy = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = combat_unit_destruction } }
				set_technology = { combat_unit_destruction = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = battlefield_support } }
				set_technology = { battlefield_support = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = keypoint_bombing } }
				set_technology = { keypoint_bombing = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = ground_support_integration } }
				set_technology = { ground_support_integration = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = naval_strike_torpedo_tactics } }
				set_technology = { naval_strike_torpedo_tactics = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = strategic_destruction } }
				set_technology = { strategic_destruction = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = forward_interception } }
				set_technology = { forward_interception = 1 popup = no }
			}
		}
		else_if = {
			limit = {
				PREV = { has_tech = force_rotation }
				NOT = { has_tech = formation_flying }
				NOT = { has_tech = air_superiority }
			}
			set_technology = { force_rotation = 1 popup = no }
			if = {
				limit = { PREV = { has_tech = fighter_baiting } }
				set_technology = { fighter_baiting = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = low_echelon_support } }
				set_technology = { low_echelon_support = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = dispersed_fighting } }
				set_technology = { dispersed_fighting = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = operational_destruction } }
				set_technology = { operational_destruction = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = fighter_veteran_initiative } }
				set_technology = { fighter_veteran_initiative = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = naval_strike_torpedo_tactics_oi } }
				set_technology = { naval_strike_torpedo_tactics_oi = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = cas_veteran_initiative } }
				set_technology = { cas_veteran_initiative = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = carousel_bombing } }
				set_technology = { carousel_bombing = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = infiltration_bombing } }
				set_technology = { infiltration_bombing = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = air_skirmish } }
				set_technology = { air_skirmish = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = high_level_bombing } }
				set_technology = { high_level_bombing = 1 popup = no }
			}
		}
		###land_doctrine###
		if = {
			limit = {
				PREV = { has_tech = mobile_warfare }
				NOT = { has_tech = superior_firepower }
				NOT = { has_tech = trench_warfare }
				NOT = { has_tech = mass_assault }
			}
			set_technology = { mobile_warfare = 1 popup = no }
			if = {
				limit = { PREV = { has_tech = delay } }
				set_technology = { delay = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = elastic_defence } }
				set_technology = { elastic_defence = 1 popup = no }
			}
			if = {
				limit = {
					NOT = { has_tech = armored_spearhead }
					PREV = { has_tech = mobile_infantry }
				}
				set_technology = { mobile_infantry = 1 popup = no }
				if = {
					limit = { PREV = { has_tech = mass_motorization } }
					set_technology = { mass_motorization = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = mechanised_offensive } }
					set_technology = { mechanised_offensive = 1 popup = no }
				}
			}
			else_if = {
				limit = {
					NOT = { has_tech = mobile_infantry }
					PREV = { has_tech = armored_spearhead }
				}
				set_technology = { armored_spearhead = 1 popup = no }
				if = {
					limit = { PREV = { has_tech = schwerpunk } }
					set_technology = { schwerpunk = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = blitzkrieg } }
					set_technology = { blitzkrieg = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = kampfgruppe } }
					set_technology = { kampfgruppe = 1 popup = no }
				}
			}
			if = {
				limit = {
					NOT = { has_tech = volkssturm }
					PREV = { has_tech = firebrigades }
				}
				set_technology = { firebrigades = 1 popup = no }
				if = {
					limit = { PREV = { has_tech = backhand_blow } }
					set_technology = { backhand_blow = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = modern_blitzkrieg } }
					set_technology = { modern_blitzkrieg = 1 popup = no }
				}
			}
			if = {
				limit = {
					NOT = { has_tech = firebrigades }
					PREV = { has_tech = volkssturm }
				}
				set_technology = { volkssturm = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = nd_conscription } }
				set_technology = { nd_conscription = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = werwolf_guerillas } }
				set_technology = { werwolf_guerillas = 1 popup = no }
			}
		}
		else_if = {
			limit = {
				PREV = { has_tech = superior_firepower }
				NOT = { has_tech = mobile_warfare }
				NOT = { has_tech = trench_warfare }
				NOT = { has_tech = mass_assault }
			}
			set_technology = { superior_firepower = 1 popup = no }
			if = {
				limit = { PREV = { has_tech = sup_delay } }
				set_technology = { sup_delay = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = mobile_defence } }
				set_technology = { mobile_defence = 1 popup = no }
			}
			if = {
				limit = {
					PREV = { has_tech = intergrated_support }
					NOT = { has_tech = dispersed_support }
				}
				set_technology = { intergrated_support = 1 popup = no }
				if = {
					limit = { PREV = { has_tech = regimental_combat_teams } }
					set_technology = { regimental_combat_teams = 1 popup = no }
				}
			}
			else_if = {
				limit = {
					PREV = { has_tech = dispersed_support }
					NOT = { has_tech = intergrated_support }
				}
				set_technology = { dispersed_support = 1 popup = no }
				if = {
					limit = { PREV = { has_tech = overwhelming_firepower } }
					set_technology = { overwhelming_firepower = 1 popup = no }
				}
			}
			if = {
				limit = { PREV = { has_tech = sup_mechanized_offensive } }
				set_technology = { sup_mechanized_offensive = 1 popup = no }
			}
			if = {
				limit = {
					PREV = { has_tech = concentrated_fire_plans }
					NOT = { has_tech = centralized_fire_control }
				}
				set_technology = { concentrated_fire_plans = 1 popup = no }
				if = {
					limit = { PREV = { has_tech = combined_arms } }
					set_technology = { combined_arms = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = tactical_control } }
					set_technology = { tactical_control = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = air_land_battle } }
					set_technology = { air_land_battle = 1 popup = no }
				}
			}
			else_if = {
				limit = {
					PREV = { has_tech = centralized_fire_control }
					NOT = { has_tech = concentrated_fire_plans }
				}
				set_technology = { centralized_fire_control = 1 popup = no }
				if = {
					limit = { PREV = { has_tech = forward_observers } }
					set_technology = { forward_observers = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = advanced_firebases } }
					set_technology = { advanced_firebases = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = shock_and_awe } }
					set_technology = { shock_and_awe = 1 popup = no }
				}
			}
		}
		else_if = {
			limit = {
				PREV = { has_tech = trench_warfare }
				NOT = { has_tech = mobile_warfare }
				NOT = { has_tech = superior_firepower }
				NOT = { has_tech = mass_assault }
			}
			set_technology = { trench_warfare = 1 popup = no }
			if = {
				limit = { PREV = { has_tech = grand_battle_plan } }
				set_technology = { grand_battle_plan = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = prepared_defense } }
				set_technology = { prepared_defense = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = grand_assault } }
				set_technology = { grand_assault = 1 popup = no }
			}
			if = {
				limit = {
					PREV = { has_tech = grand_mechanized_offensive }
					NOT = { has_tech = infantry_offensive }
				}
				set_technology = { grand_mechanized_offensive = 1 popup = no }
				if = {
					limit = { PREV = { has_tech = assault_concentration } }
					set_technology = { assault_concentration = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = branch_interoperation } }
					set_technology = { branch_interoperation = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = assault_breakthrough } }
					set_technology = { assault_breakthrough = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = central_planning } }
					set_technology = { central_planning = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = c3i_theory } }
					set_technology = { c3i_theory = 1 popup = no }
				}
			}
			else_if = {
				limit = {
					PREV = { has_tech = infantry_offensive }
					NOT = { has_tech = grand_mechanized_offensive }
				}
				set_technology = { infantry_offensive = 1 popup = no }
				if = {
					limit = { PREV = { has_tech = armored_operations } }
					set_technology = { armored_operations = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = infiltration_assault } }
					set_technology = { infiltration_assault = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = night_assault_tactics } }
					set_technology = { night_assault_tactics = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = attritional_containment } }
					set_technology = { attritional_containment = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = infiltration_in_depth } }
					set_technology = { infiltration_in_depth = 1 popup = no }
				}
			}
		}
		else_if = {
			limit = {
				PREV = { has_tech = mass_assault }
				NOT = { has_tech = mobile_warfare }
				NOT = { has_tech = superior_firepower }
				NOT = { has_tech = trench_warfare }
			}
			set_technology = { mass_assault = 1 popup = no }
			if = {
				limit = { PREV = { has_tech = pocket_defence } }
				set_technology = { pocket_defence = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = defence_in_depth } }
				set_technology = { defence_in_depth = 1 popup = no }
			}
			if = {
				limit = {
					PREV = { has_tech = large_front_operations }
					NOT = { has_tech = peoples_army }
				}
				set_technology = { large_front_operations = 1 popup = no }
				if = {
					limit = { PREV = { has_tech = deep_operations } }
					set_technology = { deep_operations = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = operational_concentration } }
					set_technology = { operational_concentration = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = vast_offensives } }
					set_technology = { vast_offensives = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = breakthrough_priority } }
					set_technology = { breakthrough_priority = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = mechanized_wave } }
					set_technology = { mechanized_wave = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = continuous_offensive } }
					set_technology = { continuous_offensive = 1 popup = no }
				}
			}
			else_if = {
				limit = {
					PREV = { has_tech = peoples_army }
					NOT = { has_tech = large_front_operations }
				}
				set_technology = { peoples_army = 1 popup = no }
				if = {
					limit = { PREV = { has_tech = human_infantry_offensive } }
					set_technology = { human_infantry_offensive = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = large_front_offensive } }
					set_technology = { large_front_offensive = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = human_wave_offensive } }
					set_technology = { human_wave_offensive = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = guerilla_warfare } }
					set_technology = { guerilla_warfare = 1 popup = no }
				}
			}
		}
		###naval_doctrine###
		if = {
			limit = {
				PREV = { has_tech = fleet_in_being }
				NOT = { has_tech = trade_interdiction }
				NOT = { has_tech = base_strike }
			}
			set_technology = { fleet_in_being = 1 popup = no }
			if = {
				limit = { PREV = { has_tech = battlefleet_concentration } }
				set_technology = { battlefleet_concentration = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = subsidiary_carrier_role } }
				set_technology = { subsidiary_carrier_role = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = hunter_killer_groups } }
				set_technology = { hunter_killer_groups = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = floating_fortress } }
				set_technology = { floating_fortress = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = floating_airfield } }
				set_technology = { floating_airfield = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = grand_battlefleet } }
				set_technology = { grand_battlefleet = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = convoy_sailing } }
				set_technology = { convoy_sailing = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = convoy_escorts } }
				set_technology = { convoy_escorts = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = escort_carriers } }
				set_technology = { escort_carriers = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = integrated_convoy_defence } }
				set_technology = { integrated_convoy_defence = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = submarine_operations } }
				set_technology = { submarine_operations = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = undersea_blockade } }
				set_technology = { undersea_blockade = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = convoy_interdiction } }
				set_technology = { convoy_interdiction = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = submarine_offensive } }
				set_technology = { submarine_offensive = 1 popup = no }
			}
		}
		else_if = {
			limit = {
				PREV = { has_tech = trade_interdiction }
				NOT = { has_tech = fleet_in_being }
				NOT = { has_tech = base_strike }
			}
			set_technology = { trade_interdiction = 1 popup = no }
			if = {
				limit = { PREV = { has_tech = convoy_interdiction_ti } }
				set_technology = { convoy_interdiction_ti = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = unrestricted_submarine_warfare } }
				set_technology = { unrestricted_submarine_warfare = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = wolfpacks } }
				set_technology = { wolfpacks = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_submarine_warfare } }
				set_technology = { advanced_submarine_warfare = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = combined_operations_raiding } }
				set_technology = { combined_operations_raiding = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = raider_patrols } }
				set_technology = { raider_patrols = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = capital_ship_raiders } }
				set_technology = { capital_ship_raiders = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = battlefleet_concentration_ti } }
				set_technology = { battlefleet_concentration_ti = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = floating_fortress_ti } }
				set_technology = { floating_fortress_ti = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = floating_airfield_ti } }
				set_technology = { floating_airfield_ti = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = carrier_operations } }
				set_technology = { carrier_operations = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = convoy_sailing_ti } }
				set_technology = { convoy_sailing_ti = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = subsidiary_carrier_role_ti } }
				set_technology = { subsidiary_carrier_role_ti = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = naval_air_operations } }
				set_technology = { naval_air_operations = 1 popup = no }
			}
		}
		else_if = {
			limit = {
				PREV = { has_tech = base_strike }
				NOT = { has_tech = fleet_in_being }
				NOT = { has_tech = trade_interdiction }
			}
			set_technology = { base_strike = 1 popup = no }
			if = {
				limit = { PREV = { has_tech = carrier_primacy } }
				set_technology = { carrier_primacy = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = carrier_task_forces } }
				set_technology = { carrier_task_forces = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = floating_airfield_bs } }
				set_technology = { floating_airfield_bs = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = massed_strikes } }
				set_technology = { massed_strikes = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = floating_fortress_bs } }
				set_technology = { floating_fortress_bs = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = carrier_battlegroups } }
				set_technology = { carrier_battlegroups = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = submarine_operations_bs } }
				set_technology = { submarine_operations_bs = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = undersea_blockade_bs } }
				set_technology = { undersea_blockade_bs = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = convoy_interdiction_bs } }
				set_technology = { convoy_interdiction_bs = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = submarine_offensive_bs } }
				set_technology = { submarine_offensive_bs = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = convoy_escorts_bs } }
				set_technology = { convoy_escorts_bs = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = escort_patrols } }
				set_technology = { escort_patrols = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = convoy_sailing_bs } }
				set_technology = { convoy_sailing_bs = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = integrated_convoy_defence_bs } }
				set_technology = { integrated_convoy_defence_bs = 1 popup = no }
			}
		}
		###special_forces_doctrine###
		if = {
			limit = { has_dlc_aat = yes }
			if = {
				limit = { PREV = { has_tech = special_forces_mountaineers } }
				set_technology = { special_forces_mountaineers = 1 popup = no }
				if = {
					limit = {
						PREV = { has_tech = ski_troops }
						NOT = { has_tech = rangers }
					}
					set_technology = { ski_troops = 1 popup = no }
				}
				else_if = {
					limit = {
						PREV = { has_tech = rangers }
						NOT = { has_tech = ski_troops }
					}
					set_technology = { rangers = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = special_forces_recon } }
					set_technology = { special_forces_recon = 1 popup = no }
				}
				if = {
					limit = {
						PREV = { has_tech = mountaineers_combat_1 }
						NOT = { has_tech = mountaineers_combat_2 }
					}
					set_technology = { mountaineers_combat_1 = 1 popup = no }
				}
				else_if = {
					limit = {
						PREV = { has_tech = mountaineers_combat_2 }
						NOT = { has_tech = mountaineers_combat_1 }
					}
					set_technology = { mountaineers_combat_2 = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = mountaineers_combat_3 } }
					set_technology = { mountaineers_combat_3 = 1 popup = no }
				}
				if = {
					limit = {
						PREV = { has_tech = mountaineers_keystone_1 }
						NOT = { has_tech = mountaineers_keystone_2 }
					}
					set_technology = { mountaineers_keystone_1 = 1 popup = no }
				}
				else_if = {
					limit = {
						PREV = { has_tech = mountaineers_keystone_2 }
						NOT = { has_tech = mountaineers_keystone_1 }
					}
					set_technology = { mountaineers_keystone_2 = 1 popup = no }
				}
			}
			if = {
				limit = { PREV = { has_tech = special_forces_marines } }
				set_technology = { special_forces_marines = 1 popup = no }
				if = {
					limit = {
						PREV = { has_tech = marines_jungle_troops }
						NOT = { has_tech = marines_shore_parties }
					}
					set_technology = { marines_jungle_troops = 1 popup = no }
				}
				else_if = {
					limit = {
						PREV = { has_tech = marines_shore_parties }
						NOT = { has_tech = marines_jungle_troops }
					}
					set_technology = { marines_shore_parties = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = marines_recon } }
					set_technology = { marines_recon = 1 popup = no }
				}
				if = {
					limit = {
						PREV = { has_tech = marines_commandoes }
						NOT = { has_tech = marines_expeditionary }
					}
					set_technology = { marines_commandoes = 1 popup = no }
					if = {
						limit = { PREV = { has_tech = marines_commandos_demolition } }
						set_technology = { marines_commandos_demolition = 1 popup = no }
					}
					if = {
						limit = { PREV = { has_tech = marines_commandoes_mechanised } }
						set_technology = { marines_commandoes_mechanised = 1 popup = no }
					}
					if = {
						limit = { PREV = { has_tech = marines_commandoes_mechanised_non_mtg } }
						set_technology = { marines_commandoes_mechanised_non_mtg = 1 popup = no }
					}
				}
				else_if = {
					limit = {
						PREV = { has_tech = marines_expeditionary }
						NOT = { has_tech = marines_commandoes }
					}
					set_technology = { marines_expeditionary = 1 popup = no }
					if = {
						limit = { PREV = { has_tech = marines_expeditionary_blowtorch } }
						set_technology = { marines_expeditionary_blowtorch = 1 popup = no }
					}
					if = {
						limit = { PREV = { has_tech = marines_expeditionary_support } }
						set_technology = { marines_expeditionary_support = 1 popup = no }
					}
				}
			}
			if = {
				limit = { PREV = { has_tech = special_forces_paratroopers } }
				set_technology = { special_forces_paratroopers = 1 popup = no }
				if = {
					limit = {
						PREV = { has_tech = paras_dispersed_drop }
						NOT = { has_tech = paras_combat_drop }
					}
					set_technology = { paras_dispersed_drop = 1 popup = no }
				}
				else_if = {
					limit = {
						PREV = { has_tech = paras_combat_drop }
						NOT = { has_tech = paras_dispersed_drop }
					}
					set_technology = { paras_combat_drop = 1 popup = no }
				}
				if = {
					limit = { PREV = { has_tech = paras_airborne_light_armor } }
					set_technology = { paras_airborne_light_armor = 1 popup = no }
				}
				if = {
					limit = {
						PREV = { has_tech = paras_combat_1 }
						NOT = { has_tech = paras_combat_2 }
					}
					set_technology = { paras_combat_1 = 1 popup = no }
					if = {
						limit = { PREV = { has_tech = paras_bonus_1 } }
						set_technology = { paras_bonus_1 = 1 popup = no }
					}
					if = {
						limit = { PREV = { has_tech = paras_keystone_1 } }
						set_technology = { paras_keystone_1 = 1 popup = no }
					}
				}
				else_if = {
					limit = {
						PREV = { has_tech = paras_combat_2 }
						NOT = { has_tech = paras_combat_1 }
					}
					set_technology = { paras_combat_2 = 1 popup = no }
					if = {
						limit = { PREV = { has_tech = paras_bonus_2 } }
						set_technology = { paras_bonus_2 = 1 popup = no }
					}
					if = {
						limit = { PREV = { has_tech = paras_keystone_2 } }
						set_technology = { paras_keystone_2 = 1 popup = no }
					}
				}
			}
		}
	}
}

transfer_naval_technologies = {
	hidden_effect = {
		###MTG_naval###
		if = {
			limit = { has_dlc = "Man the Guns" }
			if = {
				limit = { PREV = { has_tech = early_ship_hull_light } }
				set_technology = { early_ship_hull_light = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_ship_hull_light } }
				set_technology = { basic_ship_hull_light = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_ship_hull_light } }
				set_technology = { improved_ship_hull_light = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_ship_hull_light } }
				set_technology = { advanced_ship_hull_light = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = smoke_generator } }
				set_technology = { smoke_generator = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_depth_charges } }
				set_technology = { basic_depth_charges = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_depth_charges } }
				set_technology = { improved_depth_charges = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_depth_charges } }
				set_technology = { advanced_depth_charges = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = modern_depth_charges } }
				set_technology = { modern_depth_charges = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = sonar } }
				set_technology = { sonar = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_sonar } }
				set_technology = { improved_sonar = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = early_ship_hull_cruiser } }
				set_technology = { early_ship_hull_cruiser = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_ship_hull_cruiser } }
				set_technology = { basic_ship_hull_cruiser = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_ship_hull_cruiser } }
				set_technology = { improved_ship_hull_cruiser = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_ship_hull_cruiser } }
				set_technology = { advanced_ship_hull_cruiser = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_airplane_launcher } }
				set_technology = { improved_airplane_launcher = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_cruiser_armor_scheme } }
				set_technology = { basic_cruiser_armor_scheme = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = early_ship_hull_heavy } }
				set_technology = { early_ship_hull_heavy = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_ship_hull_heavy } }
				set_technology = { basic_ship_hull_heavy = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = ship_hull_super_heavy } }
				set_technology = { ship_hull_super_heavy = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_ship_hull_heavy } }
				set_technology = { improved_ship_hull_heavy = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_ship_hull_heavy } }
				set_technology = { advanced_ship_hull_heavy = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_heavy_armor_scheme } }
				set_technology = { basic_heavy_armor_scheme = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_heavy_armor_scheme } }
				set_technology = { improved_heavy_armor_scheme = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = early_ship_hull_carrier } }
				set_technology = { early_ship_hull_carrier = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_ship_hull_carrier } }
				set_technology = { basic_ship_hull_carrier = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_ship_hull_carrier } }
				set_technology = { improved_ship_hull_carrier = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_ship_hull_carrier } }
				set_technology = { advanced_ship_hull_carrier = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = early_ship_hull_submarine } }
				set_technology = { early_ship_hull_submarine = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_ship_hull_submarine } }
				set_technology = { basic_ship_hull_submarine = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_ship_hull_submarine } }
				set_technology = { improved_ship_hull_submarine = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_ship_hull_submarine } }
				set_technology = { advanced_ship_hull_submarine = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_submarine_snorkel } }
				set_technology = { basic_submarine_snorkel = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_submarine_snorkel } }
				set_technology = { improved_submarine_snorkel = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = panzerschiffe } }
				set_technology = { panzerschiffe = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = torpedo_cruiser_mtg } }
				set_technology = { torpedo_cruiser_mtg = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = pre_dreadnoughts } }
				set_technology = { pre_dreadnoughts = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = coastal_defense_ships } }
				set_technology = { coastal_defense_ships = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = cruiser_submarines } }
				set_technology = { cruiser_submarines = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = midget_submarines } }
				set_technology = { midget_submarines = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_battery } }
				set_technology = { basic_battery = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_light_battery } }
				set_technology = { basic_light_battery = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_light_shell } }
				set_technology = { basic_light_shell = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_light_battery } }
				set_technology = { improved_light_battery = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_light_shell } }
				set_technology = { improved_light_shell = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_light_battery } }
				set_technology = { advanced_light_battery = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_medium_battery } }
				set_technology = { basic_medium_battery = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_medium_shell } }
				set_technology = { basic_medium_shell = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_medium_battery } }
				set_technology = { improved_medium_battery = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_medium_shell } }
				set_technology = { improved_medium_shell = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_medium_battery } }
				set_technology = { advanced_medium_battery = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_heavy_battery } }
				set_technology = { basic_heavy_battery = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_heavy_battery } }
				set_technology = { improved_heavy_battery = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_heavy_battery } }
				set_technology = { advanced_heavy_battery = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_heavy_shell } }
				set_technology = { basic_heavy_shell = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_heavy_shell } }
				set_technology = { improved_heavy_shell = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_dp_light_battery } }
				set_technology = { basic_dp_light_battery = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_dp_light_battery } }
				set_technology = { improved_dp_light_battery = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_dp_light_battery } }
				set_technology = { advanced_dp_light_battery = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_dp_medium_battery } }
				set_technology = { basic_dp_medium_battery = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_torpedo } }
				set_technology = { basic_torpedo = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = magnetic_detonator } }
				set_technology = { magnetic_detonator = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = homing_torpedo } }
				set_technology = { homing_torpedo = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = electric_torpedo } }
				set_technology = { electric_torpedo = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_ship_torpedo_launcher } }
				set_technology = { improved_ship_torpedo_launcher = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_ship_torpedo_launcher } }
				set_technology = { advanced_ship_torpedo_launcher = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = modern_ship_torpedo_launcher } }
				set_technology = { modern_ship_torpedo_launcher = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = damage_control_1 } }
				set_technology = { damage_control_1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = damage_control_2 } }
				set_technology = { damage_control_2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = damage_control_3 } }
				set_technology = { damage_control_3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = fire_control_methods_1 } }
				set_technology = { fire_control_methods_1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = fire_control_methods_2 } }
				set_technology = { fire_control_methods_2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = fire_control_methods_3 } }
				set_technology = { fire_control_methods_3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_naval_mines } }
				set_technology = { basic_naval_mines = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = submarine_mine_laying } }
				set_technology = { submarine_mine_laying = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_submarine_mine_laying } }
				set_technology = { improved_submarine_mine_laying = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_naval_mines } }
				set_technology = { improved_naval_mines = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = degaussing } }
				set_technology = { degaussing = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_naval_mines } }
				set_technology = { advanced_naval_mines = 1 popup = no }
			}
			if = {
				limit = {
					OR = {
						PREV = { has_tech = airdrop_mines }
						PREV = { has_tech = airdrop_mines_bba }
					}
				}
				if = {
					limit = { has_dlc = "By Blood Alone" }
					set_technology = { airdrop_mines_bba = 1 popup = no }
				}
				else = {
					set_technology = { airdrop_mines = 1 popup = no }
				}
			}
			if = {
				limit = { PREV = { has_tech = modern_naval_mines } }
				set_technology = { modern_naval_mines = 1 popup = no }
			}
			if = {
				limit = {
					OR = {
						PREV = { has_tech = airsweep_mines }
						PREV = { has_tech = airsweep_mines_bba }
					}
				}
				if = {
					limit = { has_dlc = "By Blood Alone" }
					set_technology = { airsweep_mines_bba = 1 popup = no }
				}
				else = {
					set_technology = { airsweep_mines = 1 popup = no }
				}
			}
			if = {
				limit = { PREV = { has_tech = mtg_transport } }
				set_technology = { mtg_transport = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = mtg_landing_craft } }
				set_technology = { mtg_landing_craft = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = mtg_tank_landing_craft } }
				set_technology = { mtg_tank_landing_craft = 1 popup = no }
			}
		}
		###naval###
		else = {
			if = {
				limit = { PREV = { has_tech = early_destroyer } }
				set_technology = { early_destroyer = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_destroyer } }
				set_technology = { basic_destroyer = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_destroyer } }
				set_technology = { improved_destroyer = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_destroyer } }
				set_technology = { advanced_destroyer = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = early_light_cruiser } }
				set_technology = { early_light_cruiser = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_light_cruiser } }
				set_technology = { basic_light_cruiser = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_light_cruiser } }
				set_technology = { improved_light_cruiser = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_light_cruiser } }
				set_technology = { advanced_light_cruiser = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = early_heavy_cruiser } }
				set_technology = { early_heavy_cruiser = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_heavy_cruiser } }
				set_technology = { basic_heavy_cruiser = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_heavy_cruiser } }
				set_technology = { improved_heavy_cruiser = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_heavy_cruiser } }
				set_technology = { advanced_heavy_cruiser = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = early_battlecruiser } }
				set_technology = { early_battlecruiser = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_battlecruiser } }
				set_technology = { basic_battlecruiser = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = early_battleship } }
				set_technology = { early_battleship = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_battleship } }
				set_technology = { basic_battleship = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_battleship } }
				set_technology = { improved_battleship = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_battleship } }
				set_technology = { advanced_battleship = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = heavy_battleship } }
				set_technology = { heavy_battleship = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = heavy_battleship2 } }
				set_technology = { heavy_battleship2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = transport } }
				set_technology = { transport = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = landing_craft } }
				set_technology = { landing_craft = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = tank_landing_craft } }
				set_technology = { tank_landing_craft = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = early_carrier } }
				set_technology = { early_carrier = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_carrier } }
				set_technology = { basic_carrier = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_carrier } }
				set_technology = { improved_carrier = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_carrier } }
				set_technology = { advanced_carrier = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = early_submarine } }
				set_technology = { early_submarine = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_submarine } }
				set_technology = { basic_submarine = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_submarine } }
				set_technology = { improved_submarine = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_submarine } }
				set_technology = { advanced_submarine = 1 popup = no }
			}
		}

		### special project-related techs ###
		if = {
			limit = { PREV = { has_tech = sp_aip_engine_improved_tech } }
			set_technology = { sp_aip_engine_improved_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_aip_engine_advanced_tech } }
			set_technology = { sp_aip_engine_advanced_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_refined_pykrete } }
			set_technology = { sp_refined_pykrete = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_ice_composite_runawayas } }
			set_technology = { sp_ice_composite_runawayas = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_naval_proximity_fuze_tech } }
			set_technology = { sp_naval_proximity_fuze_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_naval_underway_replenishment_pick_a } }
			set_technology = { sp_naval_underway_replenishment_pick_a = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_naval_underway_replenishment_pick_b } }
			set_technology = { sp_naval_underway_replenishment_pick_b = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_multi_product_supply_ships } }
			set_technology = { sp_multi_product_supply_ships = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_standard_tenshioned_replenishment_alongside_method } }
			set_technology = { sp_standard_tenshioned_replenishment_alongside_method = 1 popup = no }
		}
	}
}

transfer_tank_technologies = {
	hidden_effect = {
	### nsb armor ###
		if = {
			limit = { has_dlc = "No Step Back" }
			if = {
				limit = { PREV = { has_tech = gwtank_chassis } }
				set_technology = { gwtank_chassis = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_light_tank_chassis } }
				set_technology = { basic_light_tank_chassis = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_light_tank_chassis } }
				set_technology = { improved_light_tank_chassis = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = amphibious_tank_chassis } }
				set_technology = { amphibious_tank_chassis = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = amphibious_drive } }
				set_technology = { amphibious_drive = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_light_tank_chassis } }
				set_technology = { advanced_light_tank_chassis = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_medium_tank_chassis } }
				set_technology = { basic_medium_tank_chassis = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_medium_tank_chassis } }
				set_technology = { improved_medium_tank_chassis = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_medium_tank_chassis } }
				set_technology = { advanced_medium_tank_chassis = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = main_battle_tank_chassis } }
				set_technology = { main_battle_tank_chassis = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_heavy_tank_chassis } }
				set_technology = { basic_heavy_tank_chassis = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_heavy_tank_chassis } }
				set_technology = { improved_heavy_tank_chassis = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_heavy_tank_chassis } }
				set_technology = { advanced_heavy_tank_chassis = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = super_heavy_tank_chassis } }
				set_technology = { super_heavy_tank_chassis = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = armor_tech_1 } }
				set_technology = { armor_tech_1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = armor_tech_2 } }
				set_technology = { armor_tech_2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = armor_tech_3 } }
				set_technology = { armor_tech_3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = armor_tech_4 } }
				set_technology = { armor_tech_4 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = engine_tech_1 } }
				set_technology = { engine_tech_1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = engine_tech_2 } }
				set_technology = { engine_tech_2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = engine_tech_3 } }
				set_technology = { engine_tech_3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = engine_tech_4 } }
				set_technology = { engine_tech_4 = 1 popup = no }
			}
		}
		else = {
			if = {
				limit = { PREV = { has_tech = gwtank } }
				set_technology = { gwtank = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_light_tank } }
				set_technology = { basic_light_tank = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_light_td } }
				set_technology = { basic_light_td = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_light_art } }
				set_technology = { basic_light_art = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_light_spaa } }
				set_technology = { basic_light_spaa = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_light_tank } }
				set_technology = { improved_light_tank = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_light_td } }
				set_technology = { improved_light_td = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_light_art } }
				set_technology = { improved_light_art = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_light_spaa } }
				set_technology = { improved_light_spaa = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_light_tank } }
				set_technology = { advanced_light_tank = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_light_td } }
				set_technology = { advanced_light_td = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_light_art } }
				set_technology = { advanced_light_art = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_light_spaa } }
				set_technology = { advanced_light_spaa = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_medium_tank } }
				set_technology = { basic_medium_tank = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_medium_td } }
				set_technology = { basic_medium_td = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_medium_art } }
				set_technology = { basic_medium_art = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_medium_spaa } }
				set_technology = { basic_medium_spaa = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_medium_tank } }
				set_technology = { improved_medium_tank = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_medium_td } }
				set_technology = { improved_medium_td = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_medium_art } }
				set_technology = { improved_medium_art = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_medium_spaa } }
				set_technology = { improved_medium_spaa = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_medium_tank } }
				set_technology = { advanced_medium_tank = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_medium_td } }
				set_technology = { advanced_medium_td = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_medium_art } }
				set_technology = { advanced_medium_art = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_medium_spaa } }
				set_technology = { advanced_medium_spaa = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = main_battle_tank } }
				set_technology = { main_battle_tank = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = modern_td } }
				set_technology = { modern_td = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = modern_art } }
				set_technology = { modern_art = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = modern_spaa } }
				set_technology = { modern_spaa = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_heavy_tank } }
				set_technology = { basic_heavy_tank = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_heavy_td } }
				set_technology = { basic_heavy_td = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_heavy_art } }
				set_technology = { basic_heavy_art = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_heavy_spaa } }
				set_technology = { basic_heavy_spaa = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_heavy_tank } }
				set_technology = { improved_heavy_tank = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_heavy_td } }
				set_technology = { improved_heavy_td = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_heavy_art } }
				set_technology = { improved_heavy_art = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_heavy_spaa } }
				set_technology = { improved_heavy_spaa = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_heavy_tank } }
				set_technology = { advanced_heavy_tank = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_heavy_td } }
				set_technology = { advanced_heavy_td = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_heavy_art } }
				set_technology = { advanced_heavy_art = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_heavy_spaa } }
				set_technology = { advanced_heavy_spaa = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = super_heavy_tank } }
				set_technology = { super_heavy_tank = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = super_heavy_td } }
				set_technology = { super_heavy_td = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = super_heavy_art } }
				set_technology = { super_heavy_art = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = super_heavy_spaa } }
				set_technology = { super_heavy_spaa = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = amphibious_tank } }
				set_technology = { amphibious_tank = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = amphibious_tank_2 } }
				set_technology = { amphibious_tank_2 = 1 popup = no }
			}
		}

		### special project-related techs ###
		if = {
			limit = { PREV = { has_tech = sp_armored_advanced_flamethrower_tech } }
			set_technology = { sp_armored_advanced_flamethrower_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_armored_lc_naval_engine_conversion_tech } }
			set_technology = { sp_armored_lc_naval_engine_conversion_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_armored_lc_transmission_improvements_tech } }
			set_technology = { sp_armored_lc_transmission_improvements_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_armored_lc_specialized_field_manuals_tech } }
			set_technology = { sp_armored_lc_specialized_field_manuals_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_armored_lc_weapon_fire_control_tech } }
			set_technology = { sp_armored_lc_weapon_fire_control_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_armored_lc_high_impact_obliterator_cannon_tech } }
			set_technology = { sp_armored_lc_high_impact_obliterator_cannon_tech = 1 popup = no }
		}
	}
}

transfer_plane_technologies = {
	hidden_effect = {
		###bba_air_techs###
		if = {
			limit = { has_dlc = "By Blood Alone" }
			if = {
				limit = { PREV = { has_tech = bba_early_transport_plane } }
				set_technology = { bba_early_transport_plane = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = bba_improved_transport_plane } }
				set_technology = { bba_improved_transport_plane = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = bba_strategic_airlifter } }
				set_technology = { bba_strategic_airlifter = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = iw_small_airframe } }
				set_technology = { iw_small_airframe = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_small_airframe } }
				set_technology = { basic_small_airframe = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_small_airframe } }
				set_technology = { improved_small_airframe = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_small_airframe } }
				set_technology = { advanced_small_airframe = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = modern_small_airframe } }
				set_technology = { modern_small_airframe = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = iw_medium_airframe } }
				set_technology = { iw_medium_airframe = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_medium_airframe } }
				set_technology = { basic_medium_airframe = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_medium_airframe } }
				set_technology = { improved_medium_airframe = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_medium_airframe } }
				set_technology = { advanced_medium_airframe = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = modern_medium_airframe } }
				set_technology = { modern_medium_airframe = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = iw_large_airframe } }
				set_technology = { iw_large_airframe = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = basic_large_airframe } }
				set_technology = { basic_large_airframe = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_large_airframe } }
				set_technology = { improved_large_airframe = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = advanced_large_airframe } }
				set_technology = { advanced_large_airframe = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = modern_large_airframe } }
				set_technology = { modern_large_airframe = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = early_bombs } }
				set_technology = { early_bombs = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = heavy_bombs } }
				set_technology = { heavy_bombs = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = armor_piercing_bombs } }
				set_technology = { armor_piercing_bombs = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = photo_reconnaisance } }
				set_technology = { photo_reconnaisance = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = air_torpedoe_1 } }
				set_technology = { air_torpedoe_1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = air_torpedoe_2 } }
				set_technology = { air_torpedoe_2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = air_torpedoe_3 } }
				set_technology = { air_torpedoe_3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = aa_lmg } }
				set_technology = { aa_lmg = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = survivability_studies } }
				set_technology = { survivability_studies = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = aa_hmg } }
				set_technology = { aa_hmg = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = aa_cannon_1 } }
				set_technology = { aa_cannon_1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = aa_cannon_2 } }
				set_technology = { aa_cannon_2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = aa_cannon_3 } }
				set_technology = { aa_cannon_3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = engines_1 } }
				set_technology = { engines_1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = engines_2 } }
				set_technology = { engines_2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = engines_3 } }
				set_technology = { engines_3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = engines_4 } }
				set_technology = { engines_4 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = range_improvements } }
				set_technology = { range_improvements = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = aircraft_construction } }
				set_technology = { aircraft_construction = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = suicide_charge } }
				set_technology = { suicide_charge = 1 popup = no }
			}
		}
		###air_techs###
		else = {
			if = {
				limit = { PREV = { has_tech = early_transport_plane } }
				set_technology = { early_transport_plane = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = improved_transport_plane } }
				set_technology = { improved_transport_plane = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = strategic_airlifter } }
				set_technology = { strategic_airlifter = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = early_fighter } }
				set_technology = { early_fighter = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = cv_early_fighter } }
				set_technology = { cv_early_fighter = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = fighter1 } }
				set_technology = { fighter1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = cv_fighter1 } }
				set_technology = { cv_fighter1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = fighter2 } }
				set_technology = { fighter2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = cv_fighter2 } }
				set_technology = { cv_fighter2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = fighter3 } }
				set_technology = { fighter3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = cv_fighter3 } }
				set_technology = { cv_fighter3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = jet_fighter1 } }
				set_technology = { jet_fighter1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = jet_fighter2 } }
				set_technology = { jet_fighter2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = CAS1 } }
				set_technology = { CAS1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = cv_CAS1 } }
				set_technology = { cv_CAS1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = CAS2 } }
				set_technology = { CAS2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = cv_CAS2 } }
				set_technology = { cv_CAS2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = CAS3 } }
				set_technology = { CAS3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = cv_CAS3 } }
				set_technology = { cv_CAS3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = naval_bomber1 } }
				set_technology = { naval_bomber1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = cv_naval_bomber1 } }
				set_technology = { cv_naval_bomber1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = naval_bomber2 } }
				set_technology = { naval_bomber2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = cv_naval_bomber2 } }
				set_technology = { cv_naval_bomber2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = naval_bomber3 } }
				set_technology = { naval_bomber3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = cv_naval_bomber3 } }
				set_technology = { cv_naval_bomber3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = early_bomber } }
				set_technology = { early_bomber = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = heavy_fighter1 } }
				set_technology = { heavy_fighter1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = heavy_fighter2 } }
				set_technology = { heavy_fighter2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = heavy_fighter3 } }
				set_technology = { heavy_fighter3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = scout_plane1 } }
				set_technology = { scout_plane1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = scout_plane2 } }
				set_technology = { scout_plane2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = tactical_bomber1 } }
				set_technology = { tactical_bomber1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = tactical_bomber2 } }
				set_technology = { tactical_bomber2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = tactical_bomber3 } }
				set_technology = { tactical_bomber3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = jet_tactical_bomber1 } }
				set_technology = { jet_tactical_bomber1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = jet_tactical_bomber2 } }
				set_technology = { jet_tactical_bomber2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = strategic_bomber1 } }
				set_technology = { strategic_bomber1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = strategic_bomber2 } }
				set_technology = { strategic_bomber2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = strategic_bomber3 } }
				set_technology = { strategic_bomber3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = jet_strategic_bomber1 } }
				set_technology = { jet_strategic_bomber1 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = suicide_craft } }
				set_technology = { suicide_craft = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = helicopter } }
				set_technology = { helicopter = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = airships1 } }
				set_technology = { airships1 = 1 popup = no }
			}

		}

		### special project-related techs ###
		if = {
			limit = { PREV = { has_tech = sp_centrifugal_jet_tech } }
			set_technology = { sp_centrifugal_jet_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = reinforced_wings_mothership } }
			set_technology = { reinforced_wings_mothership = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = miniature_fighters } }
			set_technology = { miniature_fighters = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = aerial_hangars } }
			set_technology = { aerial_hangars = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_centrifugal_jet_tech } }
			set_technology = { sp_centrifugal_jet_tech = 1 popup = no }
		}
	}
}

transfer_other_technologies = {
	hidden_effect = {
		###artillery###
		if = {
			limit = { PREV = { has_tech = gw_artillery } }
			set_technology = { gw_artillery = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = interwar_artillery } }
			set_technology = { interwar_artillery = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = artillery1 } }
			set_technology = { artillery1 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = artillery2 } }
			set_technology = { artillery2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = artillery3 } }
			set_technology = { artillery3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = artillery4 } }
			set_technology = { artillery4 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = artillery5 } }
			set_technology = { artillery5 = 1 popup = no }
		}
		if = {
			limit = {
				PREV = { has_tech = mountain_gun }
			}
			set_technology = { mountain_gun = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = rocket_artillery } }
			set_technology = { rocket_artillery = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = rocket_artillery2 } }
			set_technology = { rocket_artillery2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = rocket_artillery3 } }
			set_technology = { rocket_artillery3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = rocket_artillery4 } }
			set_technology = { rocket_artillery4 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = interwar_antiair } }
			set_technology = { interwar_antiair = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = antiair1 } }
			set_technology = { antiair1 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = antiair2 } }
			set_technology = { antiair2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = antiair3 } }
			set_technology = { antiair3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = antiair4 } }
			set_technology = { antiair4 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = antiair5 } }
			set_technology = { antiair5 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = interwar_antitank } }
			set_technology = { interwar_antitank = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = antitank1 } }
			set_technology = { antitank1 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = antitank2 } }
			set_technology = { antitank2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = antitank3 } }
			set_technology = { antitank3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = antitank4 } }
			set_technology = { antitank4 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = antitank5 } }
			set_technology = { antitank5 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_artillery_rocket_assisted_projectiles_tech } }
			set_technology = { sp_artillery_rocket_assisted_projectiles_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_artillery_purpose_built_gun_motor_carriages_tech } }
			set_technology = { sp_artillery_purpose_built_gun_motor_carriages_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_shock_hardening_techniques } }
			set_technology = { sp_shock_hardening_techniques = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_variable_time_fuze_shells } }
			set_technology = { sp_variable_time_fuze_shells = 1 popup = no }
		}
		###electronic_mechanical_engineering###
		if = {
			limit = { PREV = { has_tech = electronic_mechanical_engineering } }
			set_technology = { electronic_mechanical_engineering = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = radio } }
			set_technology = { radio = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = improved_radio } }
			set_technology = { improved_radio = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = advanced_radio } }
			set_technology = { advanced_radio = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = radio_detection } }
			set_technology = { radio_detection = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = cavity_magnatron } }
			set_technology = { cavity_magnatron = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = centimetric_radar } }
			set_technology = { centimetric_radar = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = phased_array } }
			set_technology = { phased_array = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = monopulse_radar } }
			set_technology = { monopulse_radar = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = mechanical_computing } }
			set_technology = { mechanical_computing = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = computing_machine } }
			set_technology = { computing_machine = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = improved_computing_machine } }
			set_technology = { improved_computing_machine = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = advanced_computing_machine } }
			set_technology = { advanced_computing_machine = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = basic_encryption } }
			set_technology = { basic_encryption = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = improved_encryption } }
			set_technology = { improved_encryption = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = advanced_encryption } }
			set_technology = { advanced_encryption = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = basic_decryption } }
			set_technology = { basic_decryption = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = improved_decryption } }
			set_technology = { improved_decryption = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = advanced_decryption } }
			set_technology = { advanced_decryption = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = basic_fire_control_system } }
			set_technology = { basic_fire_control_system = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = improved_fire_control_system } }
			set_technology = { improved_fire_control_system = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = advanced_fire_control_system } }
			set_technology = { advanced_fire_control_system = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = basic_fortification_tech } }
			set_technology = { basic_fortification_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = land_fort_tech_1 } }
			set_technology = { land_fort_tech_1 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = land_fort_tech_2 } }
			set_technology = { land_fort_tech_2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = coastal_fort_tech_1 } }
			set_technology = { coastal_fort_tech_1 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = coastal_fort_tech_2 } }
			set_technology = { coastal_fort_tech_2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = experimental_rockets } }
			set_technology = { experimental_rockets = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = rocket_engines } }
			set_technology = { rocket_engines = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_rockets_improved_guidance } }
			set_technology = { sp_rockets_improved_guidance = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_rockets_rocket_bomber } }
			set_technology = { sp_rockets_rocket_bomber = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_rockets_improved_rocket_bomber } }
			set_technology = { sp_rockets_improved_rocket_bomber = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = improved_rocket_engines } }
			set_technology = { improved_rocket_engines = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = advanced_rocket_engines } }
			set_technology = { advanced_rocket_engines = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = jet_engines } }
			set_technology = { jet_engines = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = atomic_research } }
			set_technology = { atomic_research = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = nuclear_reactor } }
			set_technology = { nuclear_reactor = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = nuclear_reactor_heavy_water } }
			set_technology = { nuclear_reactor_heavy_water = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = nukes } }
			set_technology = { nukes = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_rockets_dual_chamber_rocket_engine_1 } }
			set_technology = { sp_rockets_dual_chamber_rocket_engine_1 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_rockets_dual_chamber_rocket_engine_2 } }
			set_technology = { sp_rockets_dual_chamber_rocket_engine_2 = 1 popup = no }
		}
		if = {
			limit = {
				PREV = { has_tech = lar_decryption_bonus_tech }
			}
			set_technology = { lar_decryption_bonus_tech = 1 popup = no }
		}
		###hidden###
		if = {
			limit = {
				PREV = { has_tech = camel_corps_tech }
			}
			set_technology = { camel_corps_tech = 1 popup = no }
		}
		if = {
			limit = {
				PREV = { has_tech = tech_ski_infantry }
			}
			set_technology = { tech_ski_infantry = 1 popup = no }
		}
		if = {
			limit = {
				PREV = { has_tech = tech_marine_bonus }
			}
			set_technology = { tech_marine_bonus = 1 popup = no }
		}
		if = {
			limit = {
				PREV = { has_tech = tech_marine_bonus_2 }
			}
			set_technology = { tech_marine_bonus_2 = 1 popup = no }
		}
		if = {
			limit = {
				PREV = { has_tech = jungle_warfare }
			}
			set_technology = { jungle_warfare = 1 popup = no }
		}
		if = {
			limit = {
				PREV = { has_tech = improved_field_hospitals }
			}
			set_technology = { improved_field_hospitals = 1 popup = no }
		}
		if = {
			limit = {
				PREV = { has_tech = expanded_engineer_corps_tech }
			}
			set_technology = { expanded_engineer_corps_tech = 1 popup = no }
		}
		if = {
			limit = {
				PREV = { has_tech = mountain_training_tech }
			}
			set_technology = { mountain_training_tech = 1 popup = no }
		}
		if = {
			limit = {
				PREV = { has_tech = improved_recon_units_tech }
			}
			set_technology = { improved_recon_units_tech = 1 popup = no }
		}
		if = {
			limit = {
				PREV = { has_tech = asymmetrical_warfare }
			}
			set_technology = { asymmetrical_warfare = 1 popup = no }
		}
		if = {
			limit = {
				PREV = { has_tech = desert_warfare }
			}
			set_technology = { desert_warfare = 1 popup = no }
		}
		if = {
			limit = {
				PREV = { has_tech = anti_fortification_artillery }
			}
			set_technology = { anti_fortification_artillery = 1 popup = no }
		}
		###industry###
		if = {
			limit = { PREV = { has_tech = basic_machine_tools } }
			set_technology = { basic_machine_tools = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = improved_machine_tools } }
			set_technology = { improved_machine_tools = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = advanced_machine_tools } }
			set_technology = { advanced_machine_tools = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = assembly_line_production } }
			set_technology = { assembly_line_production = 1 popup = no }
		}
		if = {
			limit = {
				NOT = { has_tech = streamlined_line }
				PREV = { has_tech = flexible_line }
			}
			set_technology = { flexible_line = 1 popup = no }
		}
		else_if = {
			limit = {
				NOT = { has_tech = flexible_line }
				PREV = { has_tech = streamlined_line }
			}
			set_technology = { streamlined_line = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = improved_equipment_conversion } }
			set_technology = { improved_equipment_conversion = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = advanced_equipment_conversion } }
			set_technology = { advanced_equipment_conversion = 1 popup = no }
		}
		if = {
			limit = {
				NOT = { has_tech = dispersed_industry }
				PREV = { has_tech = concentrated_industry }
			}
			set_technology = { concentrated_industry = 1 popup = no }
			if = {
				limit = { PREV = { has_tech = concentrated_industry2 } }
				set_technology = { concentrated_industry2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = concentrated_industry3 } }
				set_technology = { concentrated_industry3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = concentrated_industry4 } }
				set_technology = { concentrated_industry4 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = concentrated_industry5 } }
				set_technology = { concentrated_industry5 = 1 popup = no }
			}
		}
		else_if = {
			limit = {
				NOT = { has_tech = concentrated_industry }
				PREV = { has_tech = dispersed_industry }
			}
			set_technology = { dispersed_industry = 1 popup = no }
			if = {
				limit = { PREV = { has_tech = dispersed_industry2 } }
				set_technology = { dispersed_industry2 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = dispersed_industry3 } }
				set_technology = { dispersed_industry3 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = dispersed_industry4 } }
				set_technology = { dispersed_industry4 = 1 popup = no }
			}
			if = {
				limit = { PREV = { has_tech = dispersed_industry5 } }
				set_technology = { dispersed_industry5 = 1 popup = no }
			}
		}
		if = {
			limit = { PREV = { has_tech = fuel_silos } }
			set_technology = { fuel_silos = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = fuel_refining } }
			set_technology = { fuel_refining = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = fuel_refining2 } }
			set_technology = { fuel_refining2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = fuel_refining3 } }
			set_technology = { fuel_refining3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = fuel_refining4 } }
			set_technology = { fuel_refining4 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = fuel_refining5 } }
			set_technology = { fuel_refining5 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = synth_oil_experiments } }
			set_technology = { synth_oil_experiments = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = oil_processing } }
			set_technology = { oil_processing = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = improved_oil_processing } }
			set_technology = { improved_oil_processing = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = advanced_oil_processing } }
			set_technology = { advanced_oil_processing = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = modern_oil_processing } }
			set_technology = { modern_oil_processing = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = rubber_processing } }
			set_technology = { rubber_processing = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = improved_rubber_processing } }
			set_technology = { improved_rubber_processing = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = advanced_rubber_processing } }
			set_technology = { advanced_rubber_processing = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = modern_rubber_processing } }
			set_technology = { modern_rubber_processing = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = construction1 } }
			set_technology = { construction1 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = excavation1 } }
			set_technology = { excavation1 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = construction2 } }
			set_technology = { construction2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = excavation2 } }
			set_technology = { excavation2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = construction3 } }
			set_technology = { construction3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = excavation3 } }
			set_technology = { excavation3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = construction4 } }
			set_technology = { construction4 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = excavation4 } }
			set_technology = { excavation4 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = construction5 } }
			set_technology = { construction5 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = excavation5 } }
			set_technology = { excavation5 = 1 popup = no }
		}
		###infantry###
		if = {
			limit = { PREV = { has_tech = infantry_weapons } }
			set_technology = { infantry_weapons = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = infantry_weapons1 } }
			set_technology = { infantry_weapons1 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = infantry_weapons2 } }
			set_technology = { infantry_weapons2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = improved_infantry_weapons } }
			set_technology = { improved_infantry_weapons = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = improved_infantry_weapons_2 } }
			set_technology = { improved_infantry_weapons_2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = infantry_at } }
			set_technology = { infantry_at = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = infantry_at2 } }
			set_technology = { infantry_at2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = advanced_infantry_weapons } }
			set_technology = { advanced_infantry_weapons = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = advanced_infantry_weapons2 } }
			set_technology = { advanced_infantry_weapons2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = paratroopers } }
			set_technology = { paratroopers = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = paratroopers2 } }
			set_technology = { paratroopers2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = paratroopers3 } }
			set_technology = { paratroopers3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = marines } }
			set_technology = { marines = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = marines2 } }
			set_technology = { marines2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = marines3 } }
			set_technology = { marines3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_mountaineers } }
			set_technology = { tech_mountaineers = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_mountaineers2 } }
			set_technology = { tech_mountaineers2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_mountaineers3 } }
			set_technology = { tech_mountaineers3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_special_forces } }
			set_technology = { tech_special_forces = 1 popup = no }
		}
		if = {
			limit = {
				NOT = { has_tech = improved_special_forces }
				PREV = { has_tech = advanced_special_forces }
			}
			set_technology = { advanced_special_forces = 1 popup = no }
		}
		if = {
			limit = {
				NOT = { has_tech = advanced_special_forces }
				PREV = { has_tech = improved_special_forces }
			}
			set_technology = { improved_special_forces = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = extreme_environment_training } }
			set_technology = { extreme_environment_training = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = survival_training } }
			set_technology = { survival_training = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = elite_forces } }
			set_technology = { elite_forces = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = night_vision } }
			set_technology = { night_vision = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = night_vision2 } }
			set_technology = { night_vision2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = support_weapons } }
			set_technology = { support_weapons = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = support_weapons2 } }
			set_technology = { support_weapons2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = support_weapons3 } }
			set_technology = { support_weapons3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = support_weapons4 } }
			set_technology = { support_weapons4 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_trucks } }
			set_technology = { tech_trucks = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = motorised_infantry } }
			set_technology = { motorised_infantry = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = motorized_rocket_unit } }
			set_technology = { motorized_rocket_unit = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = armored_car1 } }
			set_technology = { armored_car1 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = armored_car2 } }
			set_technology = { armored_car2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = armored_car3 } }
			set_technology = { armored_car3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = armored_car_at_upgrade } }
			set_technology = { armored_car_at_upgrade = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = mechanised_infantry } }
			set_technology = { mechanised_infantry = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = amphibious_mechanized_infantry } }
			set_technology = { amphibious_mechanized_infantry = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = amphibious_mechanized_infantry_2 } }
			set_technology = { amphibious_mechanized_infantry_2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = mechanised_infantry2 } }
			set_technology = { mechanised_infantry2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = mechanised_infantry3 } }
			set_technology = { mechanised_infantry3 = 1 popup = no }
		}
		##special infantry tech##
		if = {
			limit = { PREV = { has_tech = bicycle_infantry } }
			set_technology = { bicycle_infantry = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = camelry } }
			set_technology = { camelry = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = penal_infantry } }
			set_technology = { penal_infantry = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sturmtruppe_battalion_tech } }
			set_technology = { sturmtruppe_battalion_tech = 1 popup = no }
		}
		###support###
		if = {
			limit = { PREV = { has_tech = tech_support } }
			set_technology = { tech_support = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_engineers } }
			set_technology = { tech_engineers = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_engineers2 } }
			set_technology = { tech_engineers2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_engineers3 } }
			set_technology = { tech_engineers3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_engineers4 } }
			set_technology = { tech_engineers4 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_recon } }
			set_technology = { tech_recon = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_recon2 } }
			set_technology = { tech_recon2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_recon3 } }
			set_technology = { tech_recon3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_recon4 } }
			set_technology = { tech_recon4 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_military_police } }
			set_technology = { tech_military_police = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_military_police2 } }
			set_technology = { tech_military_police2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_military_police3 } }
			set_technology = { tech_military_police3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_military_police4 } }
			set_technology = { tech_military_police4 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_maintenance_company } }
			set_technology = { tech_maintenance_company = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_maintenance_company2 } }
			set_technology = { tech_maintenance_company2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_maintenance_company3 } }
			set_technology = { tech_maintenance_company3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_maintenance_company4 } }
			set_technology = { tech_maintenance_company4 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_field_hospital } }
			set_technology = { tech_field_hospital = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_field_hospital2 } }
			set_technology = { tech_field_hospital2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_field_hospital3 } }
			set_technology = { tech_field_hospital3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_field_hospital4 } }
			set_technology = { tech_field_hospital4 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_logistics_company } }
			set_technology = { tech_logistics_company = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_logistics_company2 } }
			set_technology = { tech_logistics_company2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_logistics_company3 } }
			set_technology = { tech_logistics_company3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_logistics_company4 } }
			set_technology = { tech_logistics_company4 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_signal_company } }
			set_technology = { tech_signal_company = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_signal_company2 } }
			set_technology = { tech_signal_company2 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_signal_company3 } }
			set_technology = { tech_signal_company3 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = tech_signal_company4 } }
			set_technology = { tech_signal_company4 = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = basic_train } }
			set_technology = { basic_train = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = railway_gun } }
			set_technology = { railway_gun = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = wartime_train } }
			set_technology = { wartime_train = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = armored_train } }
			set_technology = { armored_train = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_armored_engineer_tech } }
			set_technology = { sp_armored_engineer_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_armored_maintenance_tech } }
			set_technology = { sp_armored_maintenance_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_armored_signal_tech } }
			set_technology = { sp_armored_signal_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_helicopter_transport_pods_tech } }
			set_technology = { sp_helicopter_transport_pods_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_helicopter_artillery_observers_tech } }
			set_technology = { sp_helicopter_artillery_observers_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_helicopter_med_evac_tech } }
			set_technology = { sp_helicopter_med_evac_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = sp_armored_motorized_military_police_tech } }
			set_technology = { sp_armored_motorized_military_police_tech = 1 popup = no }
		}
	}
}

transfer_special_projects = {
	hidden_effect = {
		####################
		### air_projects ###
		####################
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_air_bouncing_bomb }
				NOT = { is_special_project_completed = sp:sp_air_bouncing_bomb }
			}
			complete_special_project = sp:sp_air_bouncing_bomb
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_air_earthshaker_bomb }
				NOT = { is_special_project_completed = sp:sp_air_earthshaker_bomb }
			}
			complete_special_project = sp:sp_air_earthshaker_bomb
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_air_intercontinental_bomber }
				NOT = { is_special_project_completed = sp:sp_air_intercontinental_bomber }
			}
			complete_special_project = sp:sp_air_intercontinental_bomber
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_air_mothership_aircraft }
				NOT = { is_special_project_completed = sp:sp_air_mothership_aircraft }
			}
			complete_special_project = sp:sp_air_mothership_aircraft
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_air_jet_engine }
				NOT = { is_special_project_completed = sp:sp_air_jet_engine }
			}
			complete_special_project = sp:sp_air_jet_engine
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_air_axial_jet_engine }
				NOT = { is_special_project_completed = sp:sp_air_axial_jet_engine }
			}
			complete_special_project = sp:sp_air_axial_jet_engine
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_air_supersonic_jet }
				NOT = { is_special_project_completed = sp:sp_air_supersonic_jet }
			}
			complete_special_project = sp:sp_air_supersonic_jet
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_air_helicopter }
				NOT = { is_special_project_completed = sp:sp_air_helicopter }
			}
			complete_special_project = sp:sp_air_helicopter
		}

		#####################
		### land_projects ###
		#####################
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_land_flamethrower_tank }
				NOT = { is_special_project_completed = sp:sp_land_flamethrower_tank }
			}
			complete_special_project = sp:sp_land_flamethrower_tank
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_land_military_engineering_vehicles }
				NOT = { is_special_project_completed = sp:sp_land_military_engineering_vehicles }
			}
			complete_special_project = sp:sp_land_military_engineering_vehicles
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_land_land_cruiser }
				NOT = { is_special_project_completed = sp:sp_land_land_cruiser }
			}
			complete_special_project = sp:sp_land_land_cruiser
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_land_super_heavy_howitzer }
				NOT = { is_special_project_completed = sp:sp_land_super_heavy_howitzer }
			}
			complete_special_project = sp:sp_land_super_heavy_howitzer
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_land_self_propelled_super_heavy_howitzer }
				NOT = { is_special_project_completed = sp:sp_land_self_propelled_super_heavy_howitzer }
			}
			complete_special_project = sp:sp_land_self_propelled_super_heavy_howitzer
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_land_super_heavy_railway_gun }
				NOT = { is_special_project_completed = sp:sp_land_super_heavy_railway_gun }
			}
			complete_special_project = sp:sp_land_super_heavy_railway_gun
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_land_multi_charge_large_caliber_gun }
				NOT = { is_special_project_completed = sp:sp_land_multi_charge_large_caliber_gun }
			}
			complete_special_project = sp:sp_land_multi_charge_large_caliber_gun
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_land_stronghold_network }
				NOT = { is_special_project_completed = sp:sp_land_stronghold_network }
			}
			complete_special_project = sp:sp_land_stronghold_network
		}

		######################
		### naval_projects ###
		######################
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_naval_cruiser_submarine }
				NOT = { is_special_project_completed = sp:sp_naval_cruiser_submarine }
			}
			complete_special_project = sp:sp_naval_cruiser_submarine
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_naval_fleet_submarine }
				NOT = { is_special_project_completed = sp:sp_naval_fleet_submarine }
			}
			complete_special_project = sp:sp_naval_fleet_submarine
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_naval_nuclear_submarine }
				NOT = { is_special_project_completed = sp:sp_naval_nuclear_submarine }
			}
			complete_special_project = sp:sp_naval_nuclear_submarine
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_naval_rocket_launching_submarine }
				NOT = { is_special_project_completed = sp:sp_naval_rocket_launching_submarine }
			}
			complete_special_project = sp:sp_naval_rocket_launching_submarine
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_naval_nuclear_missile_submarine }
				NOT = { is_special_project_completed = sp:sp_naval_nuclear_missile_submarine }
			}
			complete_special_project = sp:sp_naval_nuclear_missile_submarine
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_naval_nuclear_torpedo }
				NOT = { is_special_project_completed = sp:sp_naval_nuclear_torpedo }
			}
			complete_special_project = sp:sp_naval_nuclear_torpedo
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_naval_midget_submarine }
				NOT = { is_special_project_completed = sp:sp_naval_midget_submarine }
			}
			complete_special_project = sp:sp_naval_midget_submarine
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_naval_aip_engine }
				NOT = { is_special_project_completed = sp:sp_naval_aip_engine }
			}
			complete_special_project = sp:sp_naval_aip_engine
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_naval_anechoic_tiles }
				NOT = { is_special_project_completed = sp:sp_naval_anechoic_tiles }
			}
			complete_special_project = sp:sp_naval_anechoic_tiles
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_naval_torpedo_cruiser }
				NOT = { is_special_project_completed = sp:sp_naval_torpedo_cruiser }
			}
			complete_special_project = sp:sp_naval_torpedo_cruiser
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_naval_super_heavy_battleship }
				NOT = { is_special_project_completed = sp:sp_naval_super_heavy_battleship }
			}
			complete_special_project = sp:sp_naval_super_heavy_battleship
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_naval_modern_battleship }
				NOT = { is_special_project_completed = sp:sp_naval_modern_battleship }
			}
			complete_special_project = sp:sp_naval_modern_battleship
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_naval_modern_carrier }
				NOT = { is_special_project_completed = sp:sp_naval_modern_carrier }
			}
			complete_special_project = sp:sp_naval_modern_carrier
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_naval_ice_carrier }
				NOT = { is_special_project_completed = sp:sp_naval_ice_carrier }
			}
			complete_special_project = sp:sp_naval_ice_carrier
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_naval_underway_replenishment }
				NOT = { is_special_project_completed = sp:sp_naval_underway_replenishment }
			}
			complete_special_project = sp:sp_naval_underway_replenishment
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_naval_proximity_fuze }
				NOT = { is_special_project_completed = sp:sp_naval_proximity_fuze }
			}
			complete_special_project = sp:sp_naval_proximity_fuze
		}

		########################
		### nuclear_projects ###
		########################
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_nuclear_reactor }
				NOT = { is_special_project_completed = sp:sp_nuclear_reactor }
			}
			complete_special_project = sp:sp_nuclear_reactor
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_commercial_nuclear_reactor }
				NOT = { is_special_project_completed = sp:sp_commercial_nuclear_reactor }
			}
			complete_special_project = sp:sp_commercial_nuclear_reactor
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_nuclear_engines }
				NOT = { is_special_project_completed = sp:sp_nuclear_engines }
			}
			complete_special_project = sp:sp_nuclear_engines
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_nuclear_bomb }
				NOT = { is_special_project_completed = sp:sp_nuclear_bomb }
			}
			complete_special_project = sp:sp_nuclear_bomb
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_thermo_nuclear_bomb }
				NOT = { is_special_project_completed = sp:sp_thermo_nuclear_bomb }
			}
			complete_special_project = sp:sp_thermo_nuclear_bomb
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_nuclear_warheads }
				NOT = { is_special_project_completed = sp:sp_nuclear_warheads }
			}
			complete_special_project = sp:sp_nuclear_warheads
		}

		######################
		### radar_projects ###
		######################
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_air_radar }
				NOT = { is_special_project_completed = sp:sp_air_radar }
			}
			complete_special_project = sp:sp_air_radar
		}

		#######################
		### rocket_projects ###
		#######################
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_rockets_flying_bomb }
				NOT = { is_special_project_completed = sp:sp_rockets_flying_bomb }
			}
			complete_special_project = sp:sp_rockets_flying_bomb
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_rockets_ballistic_missile }
				NOT = { is_special_project_completed = sp:sp_rockets_ballistic_missile }
			}
			complete_special_project = sp:sp_rockets_ballistic_missile
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_rockets_medium_range_ballistic_missile }
				NOT = { is_special_project_completed = sp:sp_rockets_medium_range_ballistic_missile }
			}
			complete_special_project = sp:sp_rockets_medium_range_ballistic_missile
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_rockets_long_range_ballistic_missile }
				NOT = { is_special_project_completed = sp:sp_rockets_long_range_ballistic_missile }
			}
			complete_special_project = sp:sp_rockets_long_range_ballistic_missile
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_rockets_ground_to_air_missile }
				NOT = { is_special_project_completed = sp:sp_rockets_ground_to_air_missile }
			}
			complete_special_project = sp:sp_rockets_ground_to_air_missile
		}
		if = {
			limit = {
				PREV = { is_special_project_completed = sp:sp_rocket_interceptor }
				NOT = { is_special_project_completed = sp:sp_rocket_interceptor }
			}
			complete_special_project = sp:sp_rocket_interceptor
		}

		############################
		### special_project_tech ###
		############################
		if = {
			limit = { PREV = { has_tech = advanced_modern_tank_turret_tech } }
			set_technology = { advanced_modern_tank_turret_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = land_multi_charge_large_caliber_gun_tech } }
			set_technology = { land_multi_charge_large_caliber_gun_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = commercial_nuclear_reactor_tech } }
			set_technology = { commercial_nuclear_reactor_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = stronghold_network_tech } }
			set_technology = { stronghold_network_tech = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = isotope_separation_centrifugal } }
			set_technology = { isotope_separation_centrifugal = 1 popup = no }
		}
		if = {
			limit = { PREV = { has_tech = thermonuclear_bombs } }
			set_technology = { thermonuclear_bombs = 1 popup = no }
		}
	}
}