COL_elected_soclib = {
	hidden_effect = {
		retire_country_leader = yes
		remove_all_ministers = yes
	}
	set_politics = {
		ruling_party = social_liberal
		election_frequency = 48
		elections_allowed = yes
	}
	if = {
		limit = { #first election
			date < 1939.1.1
		}
		create_country_leader = {
			name = "Eduardo Santos Montejo"
			desc = "POLITICS_COL_MONTEJO_DESC"
			picture = "Portrait_Columbia_Eduardo_Montejo.tga"
			expire = "1965.1.1"
			ideology = social_liberal_subtype
		}
		add_ideas = COL_Eduardo_Santos_Montejo_hog_sli
		if = { 
			limit = {
				has_country_flag = COL_gesuit_minister_chosen
			}
			add_ideas = COL_Felix_Restrepo_Mejia_S_J_for_sde
		}
		if = { 
			limit = {
				has_country_flag = COL_contrarian_minister_chosen
			}
			add_ideas = COL_Carlos_Lozano_y_Lozano_for_sli
		}
		else = {
			add_ideas = COL_Alejandro_Galvis_Galvis_for_sde
		}
		add_ideas = COL_Francisco_Cardona_Santa_eco_sli
		add_ideas = COL_Dario_Echandia_Olaya_sec_sli
		add_political_power = -50
		add_stability = -0.05
		hidden_effect = {
			set_country_flag = COL_liberal
			country_event = { id = col.23 days = 103 }
			set_temp_variable = { coalition_partner_var = token:social_democrat }
			add_to_coalition = yes
		}
	}
	else = { #future elections
		create_country_leader = {
			name = "SOME OTHER GUY"
			desc = "POLITICS_COL_MONTEJO_DESC"
			picture = "Portrait_Columbia_Eduardo_Montejo.tga"
			expire = "1965.1.1"
			ideology = social_liberal_subtype
		}
		add_political_power = 15
	}
	add_popularity = {
		ideology = social_liberal
		popularity = 0.07
	}
}

COL_elected_demsoc = {
	hidden_effect = {
		retire_country_leader = yes
		remove_all_ministers = yes
	}
	set_politics = {
		ruling_party = social_democrat
		election_frequency = 48
		elections_allowed = yes
	}
	if = {
		limit = { #second election
			date < 1943.1.1
		}
		create_country_leader = {
			name = "Alfonso López Pumarejo"
			desc = "POLITICS_COL_PUMAREJO_DESC"
			picture = "Portrait_Columbia_Alfonso_Pumarejo.tga"
			expire = "1965.1.1"
			ideology = social_democrat_subtype
		}
		add_ideas = COL_Alfonso_Lopez_Pumarejo_hog_sde
		if = { 
			limit = {
				has_country_flag = COL_gesuit_minister_chosen
			}
			add_ideas = COL_Felix_Restrepo_Mejia_S_J_for_sde
		}
		if = { 
			limit = {
				has_country_flag = COL_contrarian_minister_chosen
			}
			add_ideas = COL_Carlos_Lozano_y_Lozano_for_sli
		}
		else = {
			add_ideas = COL_Alejandro_Galvis_Galvis_for_sde
		}
		add_ideas = COL_Carlos_Arango_Velez_eco_sli
		add_ideas = COL_Tulio_Enrique_Tascon_Quintero_sec_sde
		add_political_power = -25
		hidden_effect = {
			set_country_flag = COL_liberal_2
			set_temp_variable = { coalition_partner_var = token:social_liberal }
			add_to_coalition = yes
		}
	}
	else_if = {
		limit = { #third election
			date < 1947.1.1
			has_country_flag = COL_gaitan_is_new_candidate
		}
		create_country_leader = {
			name = "Jorge Eliécer Gaitán"
			desc = "POLITICS_COL_GAITAN_DESC"
			picture = "Portrait_Columbia_Jorge_Gaitan.tga"
			expire = "1965.1.1"
			ideology = social_democrat_subtype
		}
		add_ideas = COL_Jorge_Gaitan_hog_rso
		add_ideas = COL_Alejandro_Galvis_Galvis_for_sli
		add_ideas = COL_Jorge_Soto_Del_Corral_eco_sde
		add_ideas = COL_Tulio_Enrique_Tascon_Quintero_sec_sde
		add_stability = -0.1
		hidden_effect = {
			clr_country_flag = COL_liberal
			clr_country_flag = COL_liberal_2
			set_temp_variable = { coalition_partner_var = token:social_liberal }
			add_to_coalition = yes
		}
	}
	else = { #future elections
		create_country_leader = {
			name = "SOMEONE ELSE"
			desc = "POLITICS_COL_PUMAREJO_DESC"
			picture = "Portrait_Columbia_Alfonso_Pumarejo.tga"
			expire = "1965.1.1"
			ideology = social_democrat_subtype
		}
		add_political_power = 15
	}
	add_popularity = {
		ideology = social_democrat
		popularity = 0.07
	}
}

COL_elected_soccon = {
	hidden_effect = {
		retire_country_leader = yes
		remove_all_ministers = yes
	}
	set_politics = {
		ruling_party = social_conservative
		election_frequency = 48
		elections_allowed = yes
	}
	if = {
		limit = { #first and second election
			date < 1943.1.1
		}
		create_country_leader = {
			name = "Mariano Ospina Pérez"
			desc = "POLITICS_COL_PEREZ_DESC"
			picture = "Portrait_Columbia_Mariano_Ospina.tga"
			expire = "1965.1.1"
			ideology = social_conservative_subtype
		}
		if = {
			limit = { #first election
				date < 1939.1.1
			}
			add_ideas = COL_Mariano_Ospina_Perez_hog_sco
			add_ideas = COL_Roberto_Urdaneta_Arbelaez_for_sco
			add_ideas = COL_Fernando_Gomez_Martinez_eco_sco
			add_ideas = COL_Francisco_Jose_Urrutia_Olano_sec_sco
			hidden_effect = {
				set_country_flag = COL_conservative
				country_event = { id = col.23 days = 103 }
				set_temp_variable = { coalition_partner_var = token:market_liberal }
				add_to_coalition = yes
			}
		}
		else = { #second election
			add_ideas = COL_Mariano_Ospina_Perez_hog_sco
			add_ideas = COL_Roberto_Urdaneta_Arbelaez_for_sco
			add_ideas = COL_Nemesio_Camacho_Macias_eco_mli
			add_ideas = COL_Aquilino_Villegas_Hoyos_sec_mli
			hidden_effect = {
				set_country_flag = COL_conservative_2
				set_temp_variable = { coalition_partner_var = token:market_liberal }
				add_to_coalition = yes
			}
		}
		add_political_power = -25
	}
	else_if = { #TO FIX
		limit = { #third election
			date < 1947.1.1
			has_country_flag = COL_acevedo_is_new_candidate
		}
		create_country_leader = {
			name = "Efrain Rojas Acevedo"
			desc = "POLITICS_COL_ACEVEDO_DESC"
			picture = "Portrait_Columbia_Efrain_Rojas.tga"
			expire = "1965.1.1"
			ideology = social_conservative_subtype
		}
		add_ideas = COL_Efrain_Rojas_Acevedo_hog_sco
		add_ideas = COL_Roberto_Urdaneta_Arbelaez_for_sco
		add_ideas = COL_Fernando_Gomez_Martinez_eco_sco
		add_ideas = COL_Aquilino_Villegas_Hoyos_sec_mli
		add_political_power = -40
		hidden_effect = {
			clr_country_flag = COL_conservative
			clr_country_flag = COL_conservative_2
			set_temp_variable = { coalition_partner_var = token:market_liberal }
			add_to_coalition = yes
		}
	}
	else = { #future elections
	}
	add_popularity = {
		ideology = social_conservative
		popularity = 0.07
	}
}

COL_elected_radsoc = {
	hidden_effect = {
		retire_country_leader = yes
		remove_all_ministers = yes
	}
	set_politics = {
		ruling_party = radical_socialist
		elections_allowed = no
	}
	create_country_leader = {
		name = "Jorge Eliécer Gaitán"
		desc = "POLITICS_COL_GAITAN_DESC"
		picture = "Portrait_Columbia_Jorge_Gaitan.tga"
		expire = "1965.1.1"
		ideology = radical_socialist_subtype
	}
	add_ideas = COL_Jorge_Gaitan_hog_rso
	add_ideas = COL_Leon_de_Greiff_for_rso
	add_ideas = COL_Antonio_Garcia_Nossa_eco_rso
	add_ideas = COL_Juan_de_la_Cruz_Varela_sec_rso
	add_stability = -0.05
	add_political_power = 70
	hidden_effect = {
		set_country_flag = COL_unir
		country_event = { id = col.904 days = 1 }
		country_event = { id = col.40 days = 9 }
		set_temp_variable = { coalition_partner_var = token:syndicalist }
		add_to_coalition = yes
		set_temp_variable = { coalition_partner_var = token:totalist }
		add_to_coalition = yes
	}
	add_popularity = {
		ideology = radical_socialist
		popularity = 0.07
	}
}

COL_elected_syndie = {
	hidden_effect = {
		retire_country_leader = yes
		remove_all_ministers = yes
	}
	set_politics = {
		ruling_party = syndicalist
		elections_allowed = no
	}
	create_country_leader = {
		name = "Diego Luis Córdoba"
		desc = "POLITICS_COL_LUIS_CORDOBA_DESC"
		expire = "1965.1.1"
		picture = "Portrait_Colombia_Diego_Luis_Cordoba.png"
		ideology = syndicalist_subtype
	}
	add_ideas = COL_Diego_Luis_Cordoba_hog_syn
	add_ideas = COL_Pedro_Nel_Gomez_Agudelo_for_syn
	add_ideas = COL_Jose_Eustasio_Rivera_eco_syn
	add_ideas = COL_Eduardo_Zalamea_Borda_sec_syn
	add_stability = -0.05
	add_political_power = 70
	hidden_effect = {
		set_country_flag = COL_unir
		country_event = { id = col.904 days = 1 }
		country_event = { id = col.40 days = 9 }
	}
	add_popularity = {
		ideology = radical_socialist
		popularity = 0.07
	}
}

COL_elected_tot = {
	hidden_effect = {
		retire_country_leader = yes
		remove_all_ministers = yes
	}
	set_politics = {
		ruling_party = totalist
		elections_allowed = no
	}
	if = {
		limit = {
			has_country_flag = COL_totalist_Vieira_leadership
		}
		create_country_leader = {
			name = "Gilberto Vieira"
			desc = "POLITICS_COL_VIEIRA_DESC"
			picture = "Portrait_Columbia_Gilberto_Vieira.tga"
			expire = "1965.1.1"
			ideology = totalist_subtype
		}
		add_ideas = COL_Gilberto_Vieira_hog_tot
		add_ideas = COL_Pedro_Maria_Carreno_for_tot
		add_ideas = COL_Raul_Eduardo_Mahecha_eco_tot
		add_ideas = COL_Ignacio_Torres_Giraldo_sec_tot
		add_stability = -0.1
		hidden_effect = {
			set_country_flag = COL_totalist
			country_event = { id = col.904 days = 1 }
			country_event = { id = col.40 days = 9 }
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.07
		}
	}
	else = {
		create_country_leader = {
			name = "Augusto Durán Ospino"
			desc = "POLITICS_COL_AUGUSTO_DURAN_OSPINO_DESC"
			picture = "Portrait_Colombia_Augusto_Duran_Ospino.png"
			expire = "1965.1.1"
			ideology = totalist_subtype
		}
		add_ideas = COL_Augusto_Duran_Ospino_hog_tot
		add_ideas = COL_Luis_Vidales_for_tot
		add_ideas = COL_Raul_Eduardo_Mahecha_eco_tot
		add_ideas = COL_Ignacio_Torres_Giraldo_sec_tot
		add_stability = -0.1
		hidden_effect = {
			set_country_flag = COL_totalist
			country_event = { id = col.904 days = 1 }
			country_event = { id = col.40 days = 9 }
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.07
		}
	}	
}

COL_elected_autdem = {
	hidden_effect = {
		retire_country_leader = yes
		remove_all_ministers = yes
	}
	set_politics = {
		ruling_party = authoritarian_democrat
		elections_allowed = no
	}
	create_country_leader = {
		name = "Laureano Gómez Castro"
		desc = "POLITICS_COL_GOMEZ_CASTRO_DESC"
		picture = "Portrait_Columbia_Lauro_Gomez_Castro.tga"
		expire = "1965.1.1"
		ideology = authoritarian_democrat_subtype
	}
	add_ideas = COL_Laureano_Eleuterio_Gomez_Castro_hog_ade
	add_ideas = COL_Ismael_Perdomo_Borrero_for_ade
	add_ideas = COL_Esteban_Jaramillo_eco_ade
	add_ideas = COL_Pedro_Jose_Berrio_Diaz_sec_ade
	if = {
		limit = {
			date < 1947.1.1
		}
		add_stability = -0.03
		add_political_power = 55
	}
	else = {
		add_stability = -0.1	
	}
	hidden_effect = {
		set_country_flag = COL_authoritarian
		country_event = { id = col.130 days = 4 }
		set_temp_variable = { coalition_partner_var = token:national_populist }
		add_to_coalition = yes
	}
	add_popularity = {
		ideology = authoritarian_democrat
		popularity = 0.07
	}
}

COL_elected_marlib = { #TO FIX/TO DO
	hidden_effect = {
		retire_country_leader = yes
		remove_all_ministers = yes
	}
	set_politics = {
		ruling_party = market_liberal
		election_frequency = 48
		elections_allowed = yes
	}
	create_country_leader = {
		name = "Biófilo Panclasta"
		desc = "POLITICS_COL_BIOFILO_PANCLASTA_DESC"
		picture = "Portrait_Columbia_Biofilo_Panclasta.tga"
		expire = "1965.1.1"
		ideology = market_liberal_subtype
	}
	add_ideas = COL_Biofilo_Panclasta_hog_mli
	add_ideas = COL_Benito_Hernandez_Bustos_eco_mli
	add_ideas = COL_Nemesio_Camacho_Macias_hog_mli
	add_ideas = COL_Aquilino_Villegas_Hoyos_sec_mli
	add_stability = 0.07
	add_political_power = 100
	hidden_effect = {
		set_country_flag = COL_biofilo
	}
	add_popularity = {
		ideology = market_liberal
		popularity = 0.07
	}
}

COL_coup_risk_increase = {
	custom_effect_tooltip = COL_army_coup_risk_rise_tt
	hidden_effect = {
		add_to_variable = {
			var = COL_army_coup_risk
			value = 1
		}
	}
}

COL_coup_risk_decrease = {
	#if = {
		#limit = {
			#check_variable = {
				#var = COL_army_coup_risk
				#value = 1
				#compare = greater_than_or_equals
			#}
		#}
		custom_effect_tooltip = COL_army_coup_risk_lower_tt
		hidden_effect = {
			subtract_from_variable = {
				var = COL_army_coup_risk
				value = 1
			}
		}
	#}
}

COL_choose_industrialist_hardline = {
	if = {
		limit = {
			has_country_flag = COL_hardline_protest_commune
		}
		country_event = {
			id = col.43
			days = 3
		}
	}
	if = {
		limit = {
			NOT = {
				has_country_flag = COL_hardline_protest_commune
			}
		}
		country_event = {
			id = col.57
			days = 3
		}
	}
}

COL_setup_for_COLCW = { #SETUP CIVIL WAR
	#COL_remove_all_generals = yes
	#COC = { COL_remove_all_generals = yes }
	#COL_add_government_generals = yes
	#COL_add_neutral_generals = yes
	
	COC = { transfer_state = 486 }
	COC = { transfer_state = 851 }
	custom_effect_tooltip = COL_CW_militia_unit_tt
	
	hidden_effect = {
		COC = {
			add_state_core = 486 #meta
			add_state_core = 851 #caqueta
			#every_owned_state = {
				#limit = { is_core_of = COC }
				#COC = { transfer_state = PREV }
			#}
			every_state = {
				limit = {
					is_core_of = COL
					NOT = { is_core_of = COC }
					NOT = { is_claimed_by = COC }
				}
				add_claim_by = COC
			}
			#set_capital = 486
			every_owned_state = {
				teleport_armies = {
					limit = { 
						OR = {
							tag = COL 
							tag = CAU
						}
					}
					to_state_array = owned_controlled_states
				}
			}
			COC_military_and_political = yes
			if = { #PLAY AS REBELS/COMMUNE - UNIR
				limit = { has_global_flag = COL_communeUNIR }
				add_popularity = {
					ideology = syndicalist
					popularity = 0.07
				}
				add_popularity = {
					ideology = totalist
					popularity = 0.07
				}
				add_popularity = {
					ideology = radical_socialist
					popularity = 0.07
				}
				set_politics = {
					ruling_party = radical_socialist
					elections_allowed = no
				}
				set_country_flag = COL_playcommuneunir
			}
			if = { #PLAY AS REBELS/COMMUNE - SYNDIE
				limit = { has_global_flag = COL_communesyndicalist }
				add_popularity = {
					ideology = syndicalist
					popularity = 0.09
				}
				add_popularity = {
					ideology = totalist
					popularity = 0.07
				}
				add_popularity = {
					ideology = radical_socialist
					popularity = 0.05
				}
				set_politics = {
					ruling_party = syndicalist
					elections_allowed = no
				}
				set_country_flag = COL_playcommunesyndie
			}
			if = { #PLAY AS REBELS/COMMUNE - TOTALIST
				limit = { has_global_flag = COL_communetotalist }
				add_popularity = {
					ideology = syndicalist
					popularity = 0.07
				}
				add_popularity = {
					ideology = totalist
					popularity = 0.09
				}
				add_popularity = {
					ideology = radical_socialist
					popularity = 0.03
				}
				#COL_add_royalist_generals  = yes
				set_politics = {
					ruling_party = totalist
					elections_allowed = no
				}
				set_country_flag = COL_playcommunetot
			}
			division_template = {
				name = "Division Gaitanista Colombiana" #INF
				division_names_group = COC_INF_01
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
				}
			}
			division_template = {
				name = "Milicia Socialista Revolucionaria" #MILITIA
				division_names_group = COC_MIL_01
				regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
					militia = { x = 0 y = 2 }
					militia = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
					militia = { x = 1 y = 2 }
					militia = { x = 2 y = 0 }
				}
			}
			if = {
				limit = {
					COL = {
						has_country_flag = COL_is_training_foreign_militians
					}
				}
				division_template = {
					name = "Milicia Extranjera" #MILITIA
					division_names_group = COC_MIL_02
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 0 y = 2 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
						militia = { x = 1 y = 2 }
						militia = { x = 2 y = 0 }
					}
				}
				create_unit = {
					division = "division_template = \"Milicia Extranjera\" start_experience_factor = 0.2"
					owner = COC
					prioritize_location = 1887 #florencia
				}
			}
			set_variable = { strength = COL.num_divisions }
			multiply_variable = { var = strength value = 0.75 }
			clamp_variable = { var = strength max = 20 min = 4 }
			set_variable = { counter = 0 }
			486 = { #meta
				create_unit = {
					division = "division_template = \"Milicia Socialista Revolucionaria\" start_experience_factor = 0.3"
					owner = COC
					prioritize_location = 1887 #villavicencio
				}
				create_unit = {
					division = "division_template = \"Division Gaitanista Colombiana\" start_experience_factor = 0.3"
					owner = COC
					prioritize_location = 1887 #villavicencio
				}
			}
			851 = { #caqueta			
				create_unit = {
					division = "division_template = \"Milicia Socialista Revolucionaria\" start_experience_factor = 0.2"
					owner = COC
					prioritize_location = 13391 #florencia
				}
			}
			subtract_from_variable = { var = strength value = 3 }
			COL_add_rebel_units = yes
			clear_veriable = strength
			if = {
				limit = { has_template = "División de Infanteria" }
				delete_unit_template_and_units = { division_template = "División de Infanteria" }
			}
			if = {
				limit = { has_template = "División de Caballeria" }
				delete_unit_template_and_units = { division_template = "División de Caballeria" }
			}
			if = {
				limit = { has_template = "Guardia" }
				delete_unit_template_and_units = { division_template = "Guardia" }
			}
			if = {
				limit = {
					NOT = { has_global_flag = KR_no_unit_limits }
				}
				calculate_maximum_divisions = yes
			}
			country_event = { id = col.100 hours = 5 } #COLCW starts
			add_stability = 0.10 #Player's Buff
		}
		
		COL = {
			COC = { transfer_technology = yes }
			destroy_ships = {
				type = destroyer
				count = all
			}
			destroy_ships = {
				type = light_cruiser
				count = all
			}
			destroy_ships = {
				type = submarine
				count = all
			}
			hidden_effect = {
				add_popularity = {
					ideology = paternal_autocrat
					popularity = 0.13
				}
				add_popularity = {
					ideology = authoritarian_democrat
					popularity = 0.03
				}
				add_popularity = {
					ideology = national_populist
					popularity = 0.03
				}
				add_popularity = {
					ideology = social_conservative
					popularity = 0.02
				}
				add_popularity = {
					ideology = market_liberal
					popularity = 0.02
				}
				add_popularity = {
					ideology = social_democrat
					popularity = 0.02
				}
				add_popularity = {
					ideology = social_liberal
					popularity = 0.01
				}
				add_popularity = {
					ideology = radical_socialist
					popularity = -0.02
				}
			}
			send_equipment_fraction = { target = COC value = 0.40 }
			every_owned_state = {
				teleport_armies = {
					limit = { 
						OR = {
							tag = CAU 
							tag = COC 
						}
					}
					to_state_array = owned_controlled_states
				}
			}
			add_war_support = 0.15
			COL_CW_ideas_removal = yes
			COC = { COC_CW_idea_add = yes }
		}
	}
}

COC_military_and_political = { #for Colombian CV setup
	set_popularities = {
		totalist = var:COL.party_popularity_100@totalist
		syndicalist = var:COL.party_popularity_100@syndicalist
		radical_socialist = var:COL.party_popularity_100@radical_socialist
		social_democrat = var:COL.party_popularity_100@social_democrat
		social_liberal = var:COL.party_popularity_100@social_liberal
		market_liberal = var:COL.party_popularity_100@market_liberal
		social_conservative = var:COL.party_popularity_100@social_conservative
		authoritarian_democrat = var:COL.party_popularity_100@authoritarian_democrat
		paternal_autocrat = var:COL.party_popularity_100@paternal_autocrat
		national_populist = var:COL.party_popularity_100@national_populist
	}
	add_popularity = {
		ideology = paternal_autocrat
		popularity = -0.15
	}
	add_popularity = {
		ideology = authoritarian_democrat
		popularity = -0.1
	}
	add_popularity = {
		ideology = national_populist
		popularity = -0.1
	}
	add_manpower = 15000
	#retire_country_leader = yes
	#retire_ideology_leader = radical_socialist
	#retire_ideology_leader = syndicalist
	#retire_ideology_leader = totalist
	add_ideas = COL_Leon_de_Greiff_hog_rso
	add_ideas = COL_Jose_Antonio_Osorio_for_rso
	add_ideas = COL_Ignacio_Torres_Giraldo_eco_rso
	add_ideas = COL_Juan_de_la_Cruz_Varela_sec_rso
	#event_target:SIA_Phraya_Srisitthisongkhram = { set_nationality = PREV }
	#event_target:SIA_Prince_Boworadet = { set_nationality = PREV }
	#event_target:SIA_Phrayra_Rithhi_arkaney = { set_nationality = PREV }
}

COL_add_rebel_units = { #always fire
	random_owned_controlled_state = {
		create_unit = {
			division = "division_template = \"Milicia Socialista Revolucionaria\" start_experience_factor = 0.2"
			owner = COC
		}
	}
	subtract_from_variable = { var = strength value = 1 }
	if = {
		limit = { 
			check_variable = { strength > 0.99 } 
		}
		add_to_variable = { var = counter value = 1 }
		if = {
			limit = { 
				check_variable = { counter > 3.99 } 
			}
			COL_add_inf_rebel_units = yes
		}
		if = {
			limit = { 
				check_variable = { counter < 4 } 
			}
			COL_add_rebel_units = yes
		}
	}
}

COL_add_inf_rebel_units = { #always fire
	random_owned_controlled_state = {
		create_unit = {
			division = "division_template = \"Division Gaitanista Colombiana\" start_experience_factor = 0.3"
			owner = COC
			prioritize_location = 1887 #villavicencio
		}
	}
	subtract_from_variable = { var = strength value = 1 }
	if = {
		limit = { check_variable = { strength > 0.99 } }
		COL_add_rebel_units = yes
	}
}

COL_leftwing_idea_removal = { #idea removal leftwing governament for COL
	hidden_effect = {
		COL = {
			if = {
				limit = { has_idea = COL_religious_schools }
				remove_ideas = COL_religious_schools
				set_country_flag = COL_had_religious_schools
			}
			if = {
				limit = { has_idea = COL_reform_mil_academies }
				remove_ideas = COL_reform_mil_academies
				set_country_flag = COL_had_reform_mil_academies
			}
			if = {
				limit = { has_idea = COL_helping_the_darien }
				remove_ideas = COL_helping_the_darien
				set_country_flag = COL_had_helping_the_darien
			}
			if = {
				limit = { has_idea = COL_exiling_enemies }
				remove_ideas = COL_exiling_enemies
				set_country_flag = COL_had_exiling_enemies
			}
			if = {
				limit = { has_idea = COL_exiling_enemies_heavy }
				remove_ideas = COL_exiling_enemies_heavy
				set_country_flag = COL_had_exiling_enemies_heavy
			}
			if = {
				limit = { has_idea = COL_airdisaster }
				remove_ideas = COL_airdisaster
				set_country_flag = COL_had_airdisaster
			}
		}
	}
}

COL_rightwing_idea_removal = { #idea removal rightwing governament for COL
	hidden_effect = {
		COL = {
			if = {
				limit = { has_idea = COL_industrialist_protest }
				remove_ideas = COL_industrialist_protest
				set_country_flag = COL_had_industrialist_protest
			}
			if = {
				limit = { has_idea = COL_industrialist_protest_crushed }
				remove_ideas = COL_industrialist_protest_crushed
				set_country_flag = COL_had_industrialist_protest_crushed
			}
			if = {
				limit = { has_idea = COL_armedminorities }
				remove_ideas = COL_armedminorities
				set_country_flag = COL_had_armedminorities
			}
			if = {
				limit = { has_idea = COL_tradecongress }
				remove_ideas = COL_tradecongress
				set_country_flag = COL_had_tradecongress
			}
			if = {
				limit = { has_idea = COL_airdisaster }
				remove_ideas = COL_airdisaster
				set_country_flag = COL_had_airdisaster
			}
		}
	}
}

COL_CW_ideas_removal = { #ideas removal rightwing COL CW
	hidden_effect = {
		COL = {
			if = {
				limit = { has_idea = COL_political_turmoil }
				swap_ideas = { 
					remove_idea = COL_political_turmoil
					add_idea = COL_civilwar_pataut_1
				}
				set_country_flag = COL_had_political_turmoil
			}
			if = {
				limit = { has_idea = COL_bogotazo }
				swap_ideas = { 
					remove_idea = COL_bogotazo
					add_idea = COL_civilwar_pataut_2
				}
				set_country_flag = COL_had_bogotazo
			}
			if = {
				limit = { has_idea = COL_bogotazo_2 }
				swap_ideas = { 
					remove_idea = COL_bogotazo_2
					add_idea = COL_civilwar_pataut_3
				}
				set_country_flag = COL_had_bogotazo_2
			}
		}
	}
}
	
COC_CW_idea_add = { #idea add for COC CW
	hidden_effect = {
		if = {
			limit = { has_country_flag = COL_had_political_turmoil }
			COC = {
				add_manpower = 1200
			}
		}
		if = {
			limit = { has_country_flag = COL_had_bogotazo }
			COC = {
				add_manpower = 1700
			}
		}
		if = {
			limit = { has_country_flag = COL_had_bogotazo_2 }
			COC = {
				add_manpower = 2200
			}
		}
		if = {
			limit = { has_country_flag = COL_had_industrialist_protest }
			COC = {
				add_ideas = COL_industrialist_protest
			}
		}
		if = {
			limit = { has_country_flag = COL_had_industrialist_protest_crushed }
			COC = {
				add_ideas = COL_industrialist_protest_crushed
			}
		}
		if = {
			limit = { has_country_flag = COL_had_armedminorities }
			COC = {
				add_ideas = COL_armedminorities
			}
		}
		if = {
			limit = { has_country_flag = COL_had_tradecongress }
			COC = {
				add_ideas = COL_tradecongress
			}
		}
	}
}

COL_native_setup = {

	CAU = { transfer_state = 852 }
	#COL = {
		#set_province_controller = 7936
		#set_province_controller = 10790
	#}
	
	hidden_effect = {
		CAU = {
			add_state_core = 852 #cauca
			every_state = {
				limit = {
					is_core_of = COL
					NOT = { is_core_of = CAU }
					NOT = { is_claimed_by = CAU }
				}
				add_claim_by = CAU
			}
			every_owned_state = {
				teleport_armies = {
					limit = { 
						OR = {
							tag = COL 
							tag = COC 
						}
					}
					to_state_array = owned_controlled_states
				}
			}
			CAU_military_and_political = yes
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.12
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = -0.07
			}
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}

			division_template = {
				name = "Milicia Armada Indigenas" #INF
				division_names_group = SPAN_MIL_01
				regiments = {
					militia = { x = 0 y = 0 }
					militia = { x = 0 y = 1 }
					militia = { x = 0 y = 2 }
					militia = { x = 1 y = 0 }
					militia = { x = 1 y = 1 }
					militia = { x = 1 y = 2 }
					militia = { x = 2 y = 0 }
				}
			}
			set_variable = { strengthnat = COL.num_divisions }
			multiply_variable = { var = strengthnat value = 0.7 }
			clamp_variable = { var = strengthnat max = 12 min = 3 }
			set_variable = { counternat = 0 }
			852 = { #cauca
				create_unit = {
					division = "division_template = \"Milicia Armada Indigenas\" start_experience_factor = 0.7"
					owner = CAU
					prioritize_location = 13404 #medellin
				}
			}
			subtract_from_variable = { var = strengthnat value = 1 }
			COL_add_natives_units = yes
			clear_veriable = strengthnat
			if = {
				limit = { has_template = "División de Infanteria" }
				delete_unit_template_and_units = { division_template = "División de Infanteria" }
			}
			if = {
				limit = { has_template = "División de Caballeria" }
				delete_unit_template_and_units = { division_template = "División de Caballeria" }
			}
			if = {
				limit = { has_template = "Guardia" }
				delete_unit_template_and_units = { division_template = "Guardia" }
			}
			if = {
				limit = {
					NOT = { has_global_flag = KR_no_unit_limits }
				}
				calculate_maximum_divisions = yes
			}
			add_stability = 0.10 #Player's Buff
		}
		
		COL = {
			COC = { transfer_technology = yes }
			send_equipment_fraction = { target = COC value = 0.35 }
			every_owned_state = {
				teleport_armies = {
					limit = { 
						OR = {
							tag = CAU 
							tag = COC 
						}
					}
					to_state_array = owned_controlled_states
				}
			}
			add_war_support = 0.15
			country_event = { id = col.600 days = 16 }
		}
	}
}

COL_spread_ideology_effect_1 = {
	if = {
		limit = {
			COL = {
				has_government = totalist
			}
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.03
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.015
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.007
		}
		set_country_flag = COL_had_boost_1
	}
	else_if = {
		limit = {
			COL = {
				has_government = radical_socialist
			}
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.03
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.015
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.007
		}
		set_country_flag = COL_had_boost_1
	}
}
COL_spread_ideology_effect_2 = {
	if = {
		limit = {
			COL = {
				has_government = totalist
			}
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.03
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.015
		}
		set_country_flag = COL_had_boost_2
	}
	else_if = {
		limit = {
			COL = {
				has_government = radical_socialist
			}
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.03
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.015
		}
		set_country_flag = COL_had_boost_2
	}
}

CAU_military_and_political = { #for Colombian CV setup
	set_popularities = {
		totalist = var:COL.party_popularity_100@totalist
		syndicalist = var:COL.party_popularity_100@syndicalist
		radical_socialist = var:COL.party_popularity_100@radical_socialist
		social_democrat = var:COL.party_popularity_100@social_democrat
		social_liberal = var:COL.party_popularity_100@social_liberal
		market_liberal = var:COL.party_popularity_100@market_liberal
		social_conservative = var:COL.party_popularity_100@social_conservative
		authoritarian_democrat = var:COL.party_popularity_100@authoritarian_democrat
		paternal_autocrat = var:COL.party_popularity_100@paternal_autocrat
		national_populist = var:COL.party_popularity_100@national_populist
	}
	add_manpower = 8000
	add_ideas = COL_Leon_de_Greiff_hog_rso
	add_ideas = COL_Jose_Antonio_Osorio_for_rso
	add_ideas = COL_Ignacio_Torres_Giraldo_eco_rso
	add_ideas = COL_Juan_de_la_Cruz_Varela_sec_rso
}

COL_add_natives_units = { #always fire
	random_owned_controlled_state = {
		create_unit = {
			division = "division_template = \"Milicia Armada Indigenas\" start_experience_factor = 0.2"
			owner = CAU
		}
	}
	subtract_from_variable = { var = strengthnat value = 1 }
	if = {
		limit = { 
			check_variable = { strengthnat > 0.99 } 
		}
		add_to_variable = { var = counternat value = 1 }
			COL_add_natives_units = yes
		}
	}
}

#COL_build_air_bases_event_launcher = {
	#if = {
		#limit = {
			#306 = { air_base > 1 }
			#852 = { air_base > 0 }
			#493 = { air_base > 0 }
		#}
		#country_event = { id = col.200 days = 1 }
	#}
#}