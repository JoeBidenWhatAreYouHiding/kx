CAN_introduce_bill_c7_effects = {
	# add conscription changes
	if = {
		limit = { has_country_flag = CAN_C7_full_cons }
		clr_country_flag = cannot_have_conscription
		add_ideas = extensive_conscription
	}
	if = {
		limit = { has_country_flag = CAN_C7_limited_cons }
		clr_country_flag = cannot_have_conscription
		set_country_flag = cannot_have_extensive_conscription
		add_ideas = limited_conscription
	}
	if = {
		limit = { has_country_flag = CAN_C7_no_cons }
		add_ideas = CAN_professional_army
	}
	if = {
		limit = { has_country_flag = CAN_C7_training_no_cons }
		add_ideas = CAN_expanded_training
		set_country_flag = CAN_C7_training_no_cons_flag
	}
	if = {
		limit = { has_country_flag = CAN_C7_better_conditions }
		add_ideas = CAN_C7_better_conditions
	}
	# add industry changes
	if = {
		limit = { has_country_flag = CAN_C7_econ_lib }
		add_ideas = CAN_billc7_liberal
		276 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		832 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		466 = {
			add_extra_state_shared_building_slots = 1
		}
		739 = {
			add_extra_state_shared_building_slots = 1
		}
	}
	if = {
		limit = { has_country_flag = CAN_C7_econ_conserv }
		add_ideas = CAN_billc7_tory
		276 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		464 = {
		add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
	}
	if = {
		limit = { has_country_flag = CAN_C7_econ_comp }
		add_ideas = CAN_billc7_mix
		276 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		832 = {
			add_extra_state_shared_building_slots = 1
		}
	}
	if = {
		limit = { has_country_flag = CAN_C7_econ_free_market }
		add_ideas = CAN_billc7_freemarket
		276 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		832 = {
			add_extra_state_shared_building_slots = 1
		}
	}
	if = {
		limit = { has_country_flag = CAN_C7_econ_welfare }
		add_ideas = CAN_billc7_welfare
		276 = {
			add_extra_state_shared_building_slots = 2
		}
		832 = {
			add_extra_state_shared_building_slots = 2
		}
	}
	# add security changes
	if = {
		limit = { has_country_flag = CAN_C7_sec_knight }
		add_ideas = CAN_mounties_1
		hidden_effect = { remove_ideas_with_trait = security_minister }
		add_ideas = CAN_Maxwell_Knight_sec_pau
	}
	if = {
		limit = { has_country_flag = CAN_C7_sec_lapointe }
		add_ideas = CAN_mounties_2
		hidden_effect = { remove_ideas_with_trait = security_minister }
		add_ideas = CAN_Ernest_Lapointe_sec_mli
	}
	if = {
		limit = { has_country_flag = CAN_C7_sec_pm }
		add_ideas = CAN_mounties_3
	}
	if = {
		limit = { has_country_flag = CAN_C7_sec_sg }
		add_ideas = CAN_mounties_4
	}
	if = {
		limit = { has_country_flag = CAN_C7_sec_st_laurent }
		add_ideas = CAN_stlaurent_police
		hidden_effect = { remove_ideas_with_trait = security_minister }
		add_ideas = CAN_Louis_St_Laurent_sec_sli
	}

	set_country_flag = CAN_C7_passed
	clr_country_flag = CAN_C7_full_cons
	clr_country_flag = CAN_C7_limited_cons
	clr_country_flag = CAN_C7_no_cons
	clr_country_flag = CAN_C7_econ_lib
	clr_country_flag = CAN_C7_econ_conserv
	clr_country_flag = CAN_C7_econ_comp
	clr_country_flag = CAN_C7_sec_knight
	clr_country_flag = CAN_C7_sec_lapointe

	hidden_effect = {
		if = {
			limit = { has_idea = extensive_conscription }
			country_event = { 
				id = canada.100 
				days = 3 
				random_days = 5
			}
			set_country_flag = CAN_C7_full_cons_complete
		}
		else_if = {
			limit = { has_idea = limited_conscription }
			country_event = { id = canada.60 days = 3 }
		}
		if = {
			limit = { has_liberal_government = yes }
			country_event = { id = canada.630 days = 90 } #Manion replaces Bennett
		}
	}
}

CAN_train_bigtime = {
	CAN_recalculate_monthly_unit_training_rate = yes
	CAN_recalculate_monthly_unit_training_rate = yes
	CAN_recalculate_monthly_unit_training_rate = yes
}

CAN_train_superbigtime = {
	CAN_train_bigtime = yes
	CAN_train_bigtime = yes
	CAN_train_bigtime = yes
}

CAN_recalculate_monthly_unit_training_rate = {
	add_to_variable = { CAN_months_elapsed = 1 }
}

CAN_check_unit_progress = {
	if = {
		limit = {
			check_variable = {
				var = CAN_months_elapsed
				value = 3
				compare = equals
			}
		}
		clear_variable = CAN_months_elapsed	
		add_to_variable = { CAN_num_of_units = 1 }
	}
}

CAN_add_units = {
	set_temp_variable_to_random = {
		var = CAN_num_of_spawned_units
		min = CAN_num_of_units
		max = CAN_num_of_units
	}
	random_owned_state = {
		limit = { is_capital = yes }
		create_unit = {
			division = "division_template = \"Infantry Division\" start_experience_factor = 0.3 start_equipment_factor = 1"
			owner = CAN
			count = CAN_num_of_spawned_units
		}
	}
}

CAN_transfer_iedc_leadership = {
	random_country = {
		limit = { has_idea = CAN_iedc_main }
		remove_ideas = CAN_iedc_main
	}
	add_ideas = CAN_iedc_main
	hidden_effect = {
		clr_country_flag = CAN_refused_iedc
	}
}

CAN_remove_from_iedc = {
	custom_effect_tooltip = CAN_leave_the_iedc
	clr_country_flag = CAN_joined_iedc
	clear_variable = iedc_contribution
	if = {
		limit = { has_idea = CAN_iedc_econ1 }
		remove_ideas = CAN_iedc_econ1
	}
	if = {
		limit = { has_idea = CAN_iedc_econ2 }
		remove_ideas = CAN_iedc_econ2
	}
	if = {
		limit = { has_idea = CAN_iedc_econ3 }
		remove_ideas = CAN_iedc_econ3
	}
	if = {
		limit = { has_idea = CAN_iedc_naval1 }
		remove_ideas = CAN_iedc_naval1
	}
	if = {
		limit = { has_idea = CAN_iedc_naval2 }
		remove_ideas = CAN_iedc_naval2
	}
	if = {
		limit = { has_idea = CAN_iedc_naval3 }
		remove_ideas = CAN_iedc_naval3
	}
	if = {
		limit = { has_idea = CAN_iedc_const1 }
		remove_ideas = CAN_iedc_const1
	}
	if = {
		limit = { has_idea = CAN_iedc_const2 }
		remove_ideas = CAN_iedc_const2
	}
	if = {
		limit = { has_idea = CAN_iedc_const3 }
		remove_ideas = CAN_iedc_const3
	}
	if = {
		limit = { check_variable = { iedc_civ_factories > 0 } }
		custom_effect_tooltip = CAN_remove_iedc_civ
		hidden_effect = {
			set_variable = { tempvar1 = 0 }
			subtract_from_variable = { var = tempvar1 value = iedc_civ_factories }
			add_offsite_building = { type = industrial_complex level = tempvar1 }
			clear_variable = tempvar1
		}
	}
	if = {
		limit = { check_variable = { iedc_mil_factories > 0 } }
		custom_effect_tooltip = CAN_remove_iedc_mil
		hidden_effect = {
			set_variable = { tempvar2 = 0 }
			subtract_from_variable = { var = tempvar2 value = iedc_mil_factories }
			add_offsite_building = { type = arms_factory level = tempvar2 }
			clear_variable = tempvar2
		}
	}
	if = {
		limit = { check_variable = { iedc_nav_factories > 0 } }
		custom_effect_tooltip = CAN_remove_iedc_nav
		hidden_effect = {
			set_variable = { tempvar3 = 0 }
			subtract_from_variable = { var = tempvar3 value = iedc_nav_factories }
			add_offsite_building = { type = dockyard level = tempvar3 }
			clear_variable = tempvar3
		}
	}
	hidden_effect = {
		clear_variable = iedc_civ_factories
		clear_variable = iedc_mil_factories
		clear_variable = iedc_nav_factories
		random_country = {
			limit = { has_idea = CAN_iedc_main }
			remove_opinion_modifier = { target = ROOT modifier = CAN_iedc_member }
		}
	}
}

CAN_find_entente_leader = {
	if = {
		limit = {
			GBR = {
				exists = yes
				is_in_faction_with = ROOT
				is_subject = no
				surrender_progress < 0.40
				NOT = {
					tag = ROOT
					has_capitulated = yes
				}
			}
		}
		set_global_flag = KR_entente_transfer
		GBR = { save_event_target_as = entente_transfer_to }
	}
	else_if = {
		limit = {
			CAN = {
				exists = yes
				is_in_faction_with = ROOT
				is_subject = no
				surrender_progress < 0.40
				NOT = {
					tag = ROOT
					has_capitulated = yes
				}
			}
		}
		set_global_flag = KR_entente_transfer
		CAN = { save_event_target_as = entente_transfer_to }
	}
	else_if = {
		limit = {
			NFA = {
				exists = yes
				is_in_faction_with = ROOT
				is_subject = no
				surrender_progress < 0.40
				NOT = {
					tag = ROOT
					has_capitulated = yes
				}
			}
		}
		set_global_flag = KR_entente_transfer
		NFA = { save_event_target_as = entente_transfer_to }
	}
	else_if = {
		limit = {
			any_other_country = {
				exists = yes
				is_in_faction_with = ROOT
				is_subject = no
				is_actual_major = yes
				surrender_progress < 0.40
				NOT = {
					tag = AST
					tag = NZL
					tag = GEX
					tag = ROOT
					has_capitulated = yes
				}
			}
		}
		set_global_flag = KR_entente_transfer
		random_country = {
			limit = {
				exists = yes
				is_in_faction_with = ROOT
				is_subject = no
				is_actual_major = yes
				surrender_progress < 0.40
				NOT = {
					tag = AST
					tag = NZL
					tag = GEX
					tag = ROOT
					has_capitulated = yes
				}
			}
			save_event_target_as = entente_transfer_to
		}
	}
	else = {
		set_global_flag = KR_entente_collapse
	}
}

CAN_transfer_entente_leader = {
	event_target:entente_transfer_to = {
		set_faction_leader = yes
		if = {
			limit = {
				NOT = {
					has_idea = CAN_rally_the_country
					has_idea = CAN_all_hands_on_deck_idea
					has_idea = CAN_darkest_hour
					has_idea = has_scripted_peace
				}
				has_war = yes
				any_owned_state = {
					is_core_of = PREV
					NOT = { is_controlled_by = PREV }
				}
			}
			add_ideas = CAN_darkest_hour
		}
		if = {
			limit = { has_idea = CAN_all_hands_on_deck_idea }
			swap_ideas = {
				remove_idea = CAN_all_hands_on_deck_idea
				add_idea = CAN_darkest_hour
			}
		}
		else_if = {
			limit = { has_idea = has_scripted_peace }
			swap_ideas = {
				remove_idea = has_scripted_peace
				add_idea = CAN_darkest_hour
			}
		}
		hidden_effect = {
			save_global_event_target_as = KR_entente_leader
		}
	}
	if = {
		limit = { has_global_flag = CAN_iedc_created }
		event_target:entente_transfer_to = {
			CAN_transfer_iedc_leadership = yes
		}
	}
}

CAN_transfer_king_base = {
	set_country_flag = KR_british_king_base
	clr_country_flag = CAN_king_toured
	clr_global_flag = CAN_king_on_tour
	clr_global_flag = CAN_king_busy
	set_global_flag = { flag = CAN_king_busy days = 30 value = 1 }
	clr_country_flag = CAN_visit_cancel
	set_variable = { king_popularity = event_target:KR_king_base.king_popularity }
	event_target:KR_king_base = {
		if = {
			limit = { check_variable = { king_civ_factories > 0 } }
			custom_effect_tooltip = CAN_remove_king_civ
			hidden_effect = {
				set_variable = { tempvar1 = 0 }
				subtract_from_variable = { var = tempvar1 value = king_civ_factories }
				add_offsite_building = { type = industrial_complex level = tempvar1 }
				clear_variable = tempvar1
			}
		}
		if = {
			limit = { check_variable = { king_mil_factories > 0 } }
			custom_effect_tooltip = CAN_remove_king_mil
			hidden_effect = {
				set_variable = { tempvar2 = 0 }
				subtract_from_variable = { var = tempvar2 value = king_mil_factories }
				add_offsite_building = { type = arms_factory level = tempvar2 }
				clear_variable = tempvar2
			}
		}
	}
	set_variable = { king_civ_factories = 0 }
	set_variable = { king_mil_factories = 0 }
	if = {
		limit = { NOT = { tag = GBR } }
		set_variable = { king_influence = 1 }
	}
	if = {
		limit = {
			tag = GBR
			check_variable = { king_popularity < 5 }
		}
		add_to_variable = { king_popularity = 1 }
	}
	if = {
		limit = {
			event_target:KR_king_base = { has_country_flag = CAN_speech_home_isles }
		}
		set_country_flag = CAN_speech_home_isles
	}
	if = {
		limit = {
			event_target:KR_king_base = { has_country_flag = CAN_speech_war_eng }
		}
		set_country_flag = CAN_speech_war_eng
	}
	if = {
		limit = {
			event_target:KR_king_base = { has_country_flag = CAN_speech_war_ger }
		}
		set_country_flag = CAN_speech_war_ger
	}
	if = {
		limit = {
			event_target:KR_king_base = { has_country_flag = CAN_speech_war_acw }
		}
		set_country_flag = CAN_speech_war_acw
	}
	if = {
		limit = {
			event_target:KR_king_base = { has_country_flag = CAN_speech_france_taken }
		}
		set_country_flag = CAN_speech_france_taken
	}
	if = {
		limit = {
			event_target:KR_king_base = { has_country_flag = CAN_speech_france_mainland }
		}
		set_country_flag = CAN_speech_france_mainland
	}
	if = {
		limit = {
			event_target:KR_king_base = { has_country_flag = CAN_speech_india_united }
		}
		set_country_flag = CAN_speech_india_united
	}
	if = {
		limit = {
			event_target:KR_king_base = { has_country_flag = CAN_speech_italy_united }
		}
		set_country_flag = CAN_speech_italy_united
	}
	if = {
		limit = {
			event_target:KR_king_base = { has_country_flag = CAN_speech_india_defeated }
		}
		set_country_flag = CAN_speech_india_defeated
	}
	if = {
		limit = {
			event_target:KR_king_base = { has_country_flag = CAN_speech_aus_syndicalist }
		}
		set_country_flag = CAN_speech_aus_syndicalist
	}
	if = {
		limit = {
			event_target:KR_king_base = { has_country_flag = CAN_speech_caf_syndicalist }
		}
		set_country_flag = CAN_speech_caf_syndicalist
	}
	if = {
		limit = {
			event_target:KR_king_base = { has_country_flag = CAN_speech_acw_begins }
		}
		set_country_flag = CAN_speech_acw_begins
	}
	event_target:KR_king_base = {
		set_country_flag = CAN_visit_cancel
		clr_country_flag = KR_british_king_base
		clr_country_flag = CAN_speech_home_isles
		clr_country_flag = CAN_speech_war_eng
		clr_country_flag = CAN_speech_war_ger
		clr_country_flag = CAN_speech_war_acw
		clr_country_flag = CAN_speech_france_taken
		clr_country_flag = CAN_speech_france_mainland
		clr_country_flag = CAN_speech_india_united
		clr_country_flag = CAN_speech_italy_united
		clr_country_flag = CAN_speech_india_defeated
		clr_country_flag = CAN_speech_aus_syndicalist
		clr_country_flag = CAN_speech_caf_syndicalist
		clr_country_flag = CAN_speech_acw_begins
		clr_country_flag = CAN_suppressed_exiles
		clr_country_flag = CAN_supported_government
		clr_country_flag = CAN_exile_inc_influence
		clr_country_flag = CAN_exile_inc_industry
		clr_country_flag = CAN_exile_inc_popularity
		if = {
			limit = { tag = CAN }
			set_variable = { CAN_was_king_popularity = king_popularity }
		}
		clear_variable = king_popularity
		clear_variable = king_influence
		clear_variable = CAN_visit_stability
		clear_variable = CAN_visit_war_support
		clear_variable = CAN_visit_mobilization
		clear_variable = CAN_visit_morale
		clear_variable = king_civ_factories
		clear_variable = king_mil_factories
		clear_variable = CAN_exile_building
		clear_variable = CAN_exile_factory
		clear_variable = CAN_exile_power
		clear_variable = CAN_exile_stability
		clear_global_event_target = ENT_Prince_Albert_Target
	}
	save_global_event_target_as = KR_king_base
	save_global_event_target_as = ENT_Prince_Albert_Target
	CAN_calc_royal_visit_effects = yes
	if = {
		limit = { NOT = { tag = GBR } }
		CAN_calc_exile_influence_effects = yes
	}
	if = {
		limit = {
			NOT = {
				has_idea = CAN_rally_the_country
				has_idea = CAN_all_hands_on_deck_idea
				has_idea = CAN_darkest_hour
				has_idea = has_scripted_peace
			}
			has_war = yes
			any_owned_state = {
				is_core_of = PREV
				NOT = { is_controlled_by = PREV }
			}
		}
		add_ideas = CAN_rally_the_country
	}
	if = {
		limit = { has_idea = CAN_all_hands_on_deck_idea }
		swap_ideas = {
			remove_idea = CAN_all_hands_on_deck_idea
			add_idea = CAN_rally_the_country
		}
	}
	else_if = {
		limit = { has_idea = CAN_darkest_hour }
		swap_ideas = {
			remove_idea = CAN_darkest_hour
			add_idea = CAN_rally_the_country
		}
	}
	else_if = {
		limit = { has_idea = has_scripted_peace }
		swap_ideas = {
			remove_idea = has_scripted_peace
			add_idea = CAN_rally_the_country
		}
	}
	hidden_effect = {
		country_event = { id = entente.50 days = 90 random = 1440 } #restart random royal events
	}
}

CAN_add_ws_based_on_popularity_cw = {
	if = {
		limit = {
			check_variable = { event_target:king_home.king_popularity > 4 }
		}
		add_war_support = 0.10
	}
	else_if = {
		limit = {
			check_variable = { event_target:king_home.king_popularity > 3 }
			check_variable = { event_target:king_home.king_popularity < 5 }
		}
		add_war_support = 0.075
	}
	else_if = {
		limit = {
			check_variable = { event_target:king_home.king_popularity > 2 }
			check_variable = { event_target:king_home.king_popularity < 4 }
		}
		add_war_support = 0.05
	}
	else_if = {
		limit = {
			check_variable = { event_target:king_home.king_popularity > 1 }
			check_variable = { event_target:king_home.king_popularity < 3 }
		}
		add_war_support = 0.035
	}
	else = {
		add_war_support = 0.025
	}
}

CAN_add_ws_based_on_popularity = {
	if = {
		limit = {
			check_variable = { event_target:king_home.king_popularity > 5 }
		}
		add_war_support = 0.10
	}
	else_if = {
		limit = {
			check_variable = { event_target:king_home.king_popularity > 4 }
			check_variable = { event_target:king_home.king_popularity < 6 }
		}
		add_war_support = 0.075
	}
	else_if = {
		limit = {
			check_variable = { event_target:king_home.king_popularity > 3 }
			check_variable = { event_target:king_home.king_popularity < 5 }
		}
		add_war_support = 0.05
	}
	else_if = {
		limit = {
			check_variable = { event_target:king_home.king_popularity > 2 }
			check_variable = { event_target:king_home.king_popularity < 4 }
		}
		add_war_support = 0.035
	}
	else = {
		add_war_support = 0.025
	}
}

CAN_calc_royal_visit_effects = {
	hidden_effect = {
		event_target:KR_king_base = {
			if = {
				limit = {
					check_variable = { king_popularity > 4 }
				}
				set_variable = { CAN_visit_stability = 0.05 }
				set_variable = { CAN_visit_war_support = 0.20 }
				set_variable = { CAN_visit_mobilization = 0.20 }
				set_variable = { CAN_visit_morale = 0.20 }
			}
			else_if = {
				limit = {
					check_variable = { king_popularity > 3 }
					check_variable = { king_popularity < 5 }
				}
				set_variable = { CAN_visit_stability = 0.04 }
				set_variable = { CAN_visit_war_support = 0.15 }
				set_variable = { CAN_visit_mobilization = 0.15 }
				set_variable = { CAN_visit_morale = 0.15 }
			}
			else_if = {
				limit = {
					check_variable = { king_popularity > 2 }
					check_variable = { king_popularity < 4 }
				}
				set_variable = { CAN_visit_stability = 0.03 }
				set_variable = { CAN_visit_war_support = 0.10 }
				set_variable = { CAN_visit_mobilization = 0.10 }
				set_variable = { CAN_visit_morale = 0.10 }
			}
			else_if = {
				limit = {
					check_variable = { king_popularity > 1 }
					check_variable = { king_popularity < 3 }
				}
				set_variable = { CAN_visit_stability = 0.02 }
				set_variable = { CAN_visit_war_support = 0.075 }
				set_variable = { CAN_visit_mobilization = 0.075 }
				set_variable = { CAN_visit_morale = 0.075 }
			}
			else = {
				set_variable = { CAN_visit_stability = 0.01 }
				set_variable = { CAN_visit_war_support = 0.05 }
				set_variable = { CAN_visit_mobilization = 0.05 }
				set_variable = { CAN_visit_morale = 0.05 }
			}
		}
	}
}

CAN_calc_exile_influence_effects = {
	hidden_effect = {
		event_target:KR_king_base = {
			if = {
				limit = {
					check_variable = { king_influence > 4 }
				}
				set_variable = { CAN_exile_building = 0.25 }
				set_variable = { CAN_exile_factory = 0.25 }
				set_variable = { CAN_exile_power = 0.25 }
				set_variable = { CAN_exile_stability = 0.10 }
			}
			else_if = {
				limit = {
					check_variable = { king_influence > 3 }
					check_variable = { king_influence < 5 }
				}
				set_variable = { CAN_exile_building = 0.20 }
				set_variable = { CAN_exile_factory = 0.20 }
				set_variable = { CAN_exile_power = 0.20 }
				set_variable = { CAN_exile_stability = 0.08 }
			}
			else_if = {
				limit = {
					check_variable = { king_influence > 2 }
					check_variable = { king_influence < 4 }
				}
				set_variable = { CAN_exile_building = 0.15 }
				set_variable = { CAN_exile_factory = 0.15 }
				set_variable = { CAN_exile_power = 0.15 }
				set_variable = { CAN_exile_stability = 0.06 }
			}
			else_if = {
				limit = {
					check_variable = { king_influence > 1 }
					check_variable = { king_influence < 3 }
				}
				set_variable = { CAN_exile_building = 0.10 }
				set_variable = { CAN_exile_factory = 0.10 }
				set_variable = { CAN_exile_power = 0.10 }
				set_variable = { CAN_exile_stability = 0.04 }
			}
			else = {
				set_variable = { CAN_exile_building = 0.05 }
				set_variable = { CAN_exile_factory = 0.05 }
				set_variable = { CAN_exile_power = 0.05 }
				set_variable = { CAN_exile_stability = 0.02 }
			}
		}
	}
}

CAN_improve_exile_influence_bop = {
	add_power_balance_value = {
		id = CAN_brit_exile_balance
		value = 0.10	
	}
}

CAN_improve_exile_influence_small_bop = {
	add_power_balance_value = {
		id = CAN_brit_exile_balance
		value = 0.05
	}
}

CAN_improve_exile_influence_big_bop = {
	add_power_balance_value = {
		id = CAN_brit_exile_balance
		value = 0.20
	}
}

CAN_improve_exile_influence_huge_bop = {
	add_power_balance_value = {
		id = CAN_brit_exile_balance
		value = 0.50
	}
}

CAN_improve_canadian_influence_bop = {
	add_power_balance_value = {
		id = CAN_brit_exile_balance
		value = -0.10	
	}
}

CAN_improve_canadian_influence_small_bop = {
	add_power_balance_value = {
		id = CAN_brit_exile_balance
		value = -0.05
	}
}

CAN_improve_canadian_influence_big_bop = {
	add_power_balance_value = {
		id = CAN_brit_exile_balance
		value = -0.2
	}
}

CAN_improve_canadian_influence_huge_bop = {
	add_power_balance_value = {
		id = CAN_brit_exile_balance
		value = -0.5
	}
}

CAN_improve_depression_idea = {
	if = {
		limit = { has_idea = CAN_great_depression_1 }
		swap_ideas = {
			remove_idea = CAN_great_depression_1
			add_idea = CAN_great_depression_2
		}
	}
	else_if = {
		limit = { has_idea = CAN_great_depression_2 }
		swap_ideas = {
			remove_idea = CAN_great_depression_2
			add_idea = CAN_great_depression_3
		}
	}
	else_if = {
		limit = { has_idea = CAN_great_depression_3 }
		remove_ideas = CAN_great_depression_3
	}
}

CAN_improve_french_tensions_idea = {
	if = {
		limit = { has_idea = CAN_anglo_french_tensions_1 }
		swap_ideas = {
			remove_idea = CAN_anglo_french_tensions_1
			add_idea = CAN_anglo_french_tensions_2
		}
	}
	else_if = {
		limit = { has_idea = CAN_anglo_french_tensions_2 }
		swap_ideas = {
			remove_idea = CAN_anglo_french_tensions_2
			add_idea = CAN_anglo_french_tensions_3
		}
	}
	else_if = {
		limit = { has_idea = CAN_anglo_french_tensions_3 }
		remove_ideas = CAN_anglo_french_tensions_3
	}
}

CAN_reduce_french_resistance = {
	hidden_effect = {
		if = {
			limit = { has_dynamic_modifier = { modifier = CAN_french_resistance_3 } }
			remove_dynamic_modifier = { modifier = CAN_french_resistance_3 }
			add_dynamic_modifier = { modifier = CAN_french_resistance_2 }
		}
		else_if = {
			limit = { has_dynamic_modifier = { modifier = CAN_french_resistance_2 } }
			remove_dynamic_modifier = { modifier = CAN_french_resistance_2 }
			add_dynamic_modifier = { modifier = CAN_french_resistance_1 }
		}
		else_if = {
			limit = { has_dynamic_modifier = { modifier = CAN_french_resistance_1 } }
			remove_dynamic_modifier = { modifier = CAN_french_resistance_1 }
		}
	}
}

CAN_remove_french_tensions = {
	if = {
		limit = { has_idea = CAN_anglo_french_tensions_1 }
		remove_ideas = CAN_anglo_french_tensions_1
	}
	else_if = {
		limit = { has_idea = CAN_anglo_french_tensions_2 }
		remove_ideas = CAN_anglo_french_tensions_2
	}
	else_if = {
		limit = { has_idea = CAN_anglo_french_tensions_3 }
		remove_ideas = CAN_anglo_french_tensions_3
	}
}

CAN_remove_french_resistance = {
	hidden_effect = {
		if = {
			limit = { has_dynamic_modifier = { modifier = CAN_french_resistance_3 } }
			remove_dynamic_modifier = { modifier = CAN_french_resistance_3 }
		}
		else_if = {
			limit = { has_dynamic_modifier = { modifier = CAN_french_resistance_2 } }
			remove_dynamic_modifier = { modifier = CAN_french_resistance_2 }
		}
		else_if = {
			limit = { has_dynamic_modifier = { modifier = CAN_french_resistance_1 } }
			remove_dynamic_modifier = { modifier = CAN_french_resistance_1 }
		}
	}
}

CAN_decrease_synd_resistance_in_state = {
	hidden_effect = {
		if = {
			limit = { has_dynamic_modifier = { modifier = CAN_syndicalist_resistance_3 } }
			remove_dynamic_modifier = { modifier = CAN_syndicalist_resistance_3 }
			add_dynamic_modifier = { modifier = CAN_syndicalist_resistance_2 }
		}
		else_if = {
			limit = { has_dynamic_modifier = { modifier = CAN_syndicalist_resistance_2 } }
			remove_dynamic_modifier = { modifier = CAN_syndicalist_resistance_2 }
			add_dynamic_modifier = { modifier = CAN_syndicalist_resistance_1 }
		}
		else_if = {
			limit = { has_dynamic_modifier = { modifier = CAN_syndicalist_resistance_1 } }
			remove_dynamic_modifier = { modifier = CAN_syndicalist_resistance_1 }
		}
	}
}

CAN_remove_synd_resistance_in_state = {
	hidden_effect = {
		if = {
			limit = { has_dynamic_modifier = { modifier = CAN_syndicalist_resistance_3 } }
			remove_dynamic_modifier = { modifier = CAN_syndicalist_resistance_3 }
		}
		else_if = {
			limit = { has_dynamic_modifier = { modifier = CAN_syndicalist_resistance_2 } }
			remove_dynamic_modifier = { modifier = CAN_syndicalist_resistance_2 }
		}
		else_if = {
			limit = { has_dynamic_modifier = { modifier = CAN_syndicalist_resistance_1 } }
			remove_dynamic_modifier = { modifier = CAN_syndicalist_resistance_1 }
		}
	}
}

CAN_decrease_yank_resistance_in_state = {
	hidden_effect = {
		if = {
			limit = { has_dynamic_modifier = { modifier = CAN_american_resistance_3 } }
			remove_dynamic_modifier = { modifier = CAN_american_resistance_3 }
			add_dynamic_modifier = { modifier = CAN_american_resistance_2 }
		}
		else_if = {
			limit = { has_dynamic_modifier = { modifier = CAN_american_resistance_2 } }
			remove_dynamic_modifier = { modifier = CAN_american_resistance_2 }
			add_dynamic_modifier = { modifier = CAN_american_resistance_1 }
		}
		else_if = {
			limit = { has_dynamic_modifier = { modifier = CAN_american_resistance_1 } }
			remove_dynamic_modifier = { modifier = CAN_american_resistance_1 }
		}
	}
}

CAN_remove_yank_resistance_in_state = {
	hidden_effect = {
		if = {
			limit = { has_dynamic_modifier = { modifier = CAN_american_resistance_3 } }
			remove_dynamic_modifier = { modifier = CAN_american_resistance_3 }
		}
		else_if = {
			limit = { has_dynamic_modifier = { modifier = CAN_american_resistance_2 } }
			remove_dynamic_modifier = { modifier = CAN_american_resistance_2 }
		}
		else_if = {
			limit = { has_dynamic_modifier = { modifier = CAN_american_resistance_1 } }
			remove_dynamic_modifier = { modifier = CAN_american_resistance_1 }
		}
	}
}

CAN_create_uk_cores = {
	every_state = {
		limit = { is_british_isles = yes }
		add_core_of = GBR
		remove_claim_by = CAN
	}
	every_state = {
		limit = {
			OR = {
				is_core_of = GBR
				is_british_colonial_claim = yes
				state = 118 #Gibraltar
				state = 753 #Suez Canal
				state = 299 #Falkland Islands
				state = 720 #South Georgia Islands
				state = 116 #Malta
				state = 183 #Cyprus
			}
		}
		clear_variable = ambition_area_@CAN
	}
}

CAN_release_uk = {
	random_state = {
		limit = {
			is_core_of = GBR
			is_owned_and_controlled_by_ROOT_or_subject = yes
		}
		GBR = { transfer_state = PREV }
	}
	every_state = {
		limit = {
			OR = {
				is_core_of = GBR
				AND = {
					is_core_of = IRE
					is_not_claim_or_core_of_ROOT = yes
					is_owned_by = ROOT
				}
			}
			is_owned_by_ROOT_or_subject = yes
		}
		GBR = { transfer_state = PREV }
	}
	GBR = {
		get_current_government_type = yes
	}
	CAN = {
		set_autonomy = {
			target = GBR
			autonomy_state = kr_default_puppet
		}
	}
	GBR = {
		restore_previous_government_type = yes
	}
}

CAN_add_british_pm_in_exile = {
	if = {
		limit = { GBR = { has_country_flag = GBR_Croft_PM } }
		add_ideas = CAN_Henry_Page_Croft_lobe_pau
	}
	else_if = {
		limit = { GBR = { has_country_flag = GBR_Cecil_PM } }
		add_ideas = CAN_Robert_Cecil_lobe_ade
	}
	else_if = {
		limit = { GBR = { has_country_flag = GBR_Eden_PM } }
		add_ideas = CAN_Anthony_Eden_lobe_ade
	}
	else_if = {
		limit = { GBR = { has_country_flag = GBR_Halifax_PM } }
		add_ideas = CAN_Edward_Halifax_lobe_sco
	}
	else_if = {
		limit = { GBR = { has_country_flag = GBR_Vansittart_PM } }
		add_ideas = CAN_Robert_Vansittart_lobe_ade
	}
	else_if = {
		limit = { GBR = { has_country_flag = GBR_Hogg_PM } }
		add_ideas = CAN_Douglas_Hogg_lobe_ade
	}
	else_if = {
		limit = { GBR = { has_country_flag = GBR_Baldwin_PM } }
		add_ideas = CAN_Stanley_Baldwin_lobe_ade
	}
	else_if = {
		limit = { GBR = { has_country_flag = GBR_Beaverbrook_PM } }
		add_ideas = CAN_Lord_Beaverbrook_lobe_pau
	}
	else_if = {
		limit = { GBR = { has_country_flag = GBR_Harmsworth_PM } }
		add_ideas = CAN_Harold_Harmsworth_lobe_pau
	}
	else_if = {
		limit = { GBR = { has_country_flag = GBR_Douglas_PM } }
		add_ideas = CAN_CH_Douglas_lobe_pau
	}
	else_if = {
		limit = { GBR = { has_country_flag = GBR_Hargrave_PM } }
		add_ideas = CAN_John_Hargrave_lobe_pau
	}
}

CAN_setup_uk_government = {
	remove_all_ministers = yes
	if = {
		limit = { has_country_flag = GBR_Croft_PM }
		set_country_flag = GBR_cons_leader_croft
		add_ideas = {
			GBR_Henry_Page_Croft_hog_ade
			GBR_Arthur_Wellesley_for_ade
			GBR_John_Carnegie_eco_ade
			GBR_Maxwell_Knight_sec_ade
		}
	}
	else_if = {
		limit = { has_country_flag = GBR_Cecil_PM }
		set_country_flag = GBR_cons_leader_cecil
		add_ideas = {
			GBR_Robert_Cecil_hog_sco
			GBR_Adrian_Carton_de_Wiart_for_sco
			GBR_George_Lane_Fox_eco_sco
			GBR_Desmond_Morton_sec_sco
		}
	}
	else_if = {
		limit = { has_country_flag = GBR_Eden_PM }
		set_country_flag = GBR_cons_leader_eden
		add_ideas = {
			GBR_Anthony_Eden_hog_sco
			GBR_John_Colville_for_sco
			GBR_John_Siddeley_eco_sco
			GBR_Edward_Cavendish_sec_sco
		}
	}
	else_if = {
		limit = { has_country_flag = GBR_Hogg_PM }
		set_country_flag = GBR_cons_leader_eden
		add_ideas = {
			GBR_Douglas_Hogg_hog_sco
			GBR_John_Colville_for_sco
			GBR_John_Siddeley_eco_sco
			GBR_Edward_Cavendish_sec_sco
		}
	}
	else_if = {
		limit = { has_country_flag = GBR_Halifax_PM }
		set_country_flag = GBR_cons_leader_halifax
		add_ideas = {
			GBR_Edward_Halifax_hog_sco
			GBR_John_Colville_for_sco
			GBR_John_Siddeley_eco_sco
			GBR_Edward_Cavendish_sec_sco
		}
	}
	else_if = {
		limit = { has_country_flag = GBR_Baldwin_PM }
		set_country_flag = GBR_cons_leader_baldwin
		add_ideas = {
			GBR_Stanley_Baldwin_hog_sco
			GBR_John_Colville_for_sco
			GBR_John_Siddeley_eco_sco
			GBR_Edward_Cavendish_sec_sco
		}
	}
	else_if = {
		limit = { has_country_flag = GBR_Chamberlain_PM }
		set_country_flag = GBR_cons_leader_chamberlain
		add_ideas = {
			GBR_Neville_Chamberlain_hog_sco
			GBR_John_Colville_for_sco
			GBR_John_Siddeley_eco_sco
			GBR_Edward_Cavendish_sec_sco
		}
	}
	else_if = {
		limit = { has_country_flag = GBR_Vansittart_PM }
		set_country_flag = GBR_cons_leader_vansittart
		add_ideas = {
			GBR_Robert_Vansittart_hog_sco
			GBR_Robert_Boothby_for_sco
			GBR_Philip_Lloyd_Greame_eco_sco
			GBR_Randolph_Churchill_sec_sco
		}
	}
	else_if = {
		limit = { has_country_flag = GBR_Douglas_PM }
		set_country_flag = GBR_soccreds_leader_douglas
		set_country_flag = GBR_soccreds_exist
		add_ideas = {
			CAN_CH_Douglas_hog_ade
			GBR_Ezra_Pound_for_ade
			GBR_Rolf_Gardiner_eco_ade
			GBR_Wilfred_Townend_sec_ade
		}
	}
	else_if = {
		limit = { has_country_flag = GBR_Pound_PM }
		set_country_flag = GBR_soccreds_leader_pound
		set_country_flag = GBR_soccreds_exist
		add_ideas = {
			GBR_Ezra_Pound_hog_ade
			GBR_Ross_Nichols_for_ade
			GBR_John_Carnegie_eco_ade
			GBR_Maxwell_Knight_sec_ade
		}
	}
	
	else_if = {
		limit = { has_country_flag = GBR_MacDonald_PM }
		set_country_flag = GBR_labour_leader_macdonald
		add_ideas = {
			GBR_Malcolm_MacDonald_hog_sde
			GBR_Herbert_Morrison_for_sde
			GBR_Hugh_Dalton_eco_sde
			GBR_James_Chuter_Ede_sec_sde
		}
	}
	
	else_if = {
		limit = { has_country_flag = GBR_Sinclair_PM }
		set_country_flag = GBR_liberal_leader_sinclair
		add_ideas = {
			GBR_Archibald_Sinclair_hog_mli
			GBR_Violet_Bonham_Carter_for_mli
			GBR_Isaac_Foot_eco_mli
			GBR_John_Anderson_sec_mli
		}
	}
	else_if = {
		limit = { has_country_flag = GBR_Douglas_PM }
		set_country_flag = GBR_soccreds_leader_douglas
		set_country_flag = GBR_soccreds_exist
		add_ideas = {
			CAN_CH_Douglas_hog_ade
			GBR_Arthur_Wellesley_for_ade
			GBR_John_Carnegie_eco_ade
			GBR_Maxwell_Knight_sec_ade
		}
	}
	
	
	else_if = {
		limit = { has_country_flag = GBR_Beaverbrook_PM }
		set_country_flag = GBR_king_party_leader_beaverbrook
		add_ideas = {
			CAN_Lord_Beaverbrook_hog_pau
			GBR_John_Hugo_Russell_for_pau
			GBR_Noel_Pemberton_Billing_eco_pau
			GBR_Jeffrey_Hamm_sec_pau
		}
	}
	
	else_if = {
		limit = { has_country_flag = GBR_Harmsworth_PM }
		set_country_flag = GBR_king_party_leader_harmsworth
		add_ideas = {
			CAN_Harold_Harmsworth_hog_pau
			GBR_John_Hugo_Russell_for_pau
			GBR_Noel_Pemberton_Billing_eco_pau
			GBR_Jeffrey_Hamm_sec_pau
		}
	}
}

GBR_reset_GB_PM = {
	if = {
		limit = { has_idea = CAN_Henry_Page_Croft_lobe_pau }
		remove_ideas = CAN_Henry_Page_Croft_lobe_pau
		GBR = { clr_country_flag = GBR_Croft_PM }
	}
	if = {
		limit = { has_idea = CAN_Robert_Cecil_lobe_ade }
		remove_ideas = CAN_Robert_Cecil_lobe_ade
		GBR = { clr_country_flag = GBR_Cecil_PM }
	}
	if = {
		limit = { has_idea = CAN_Edward_Halifax_lobe_sco }
		remove_ideas = CAN_Edward_Halifax_lobe_sco
		GBR = { clr_country_flag = GBR_Halifax_PM }
	}
	if = {
		limit = { has_idea = CAN_Robert_Vansittart_lobe_ade }
		remove_ideas = CAN_Robert_Vansittart_lobe_ade
		GBR = { clr_country_flag = GBR_Vansittart_PM }
	}
	if = {
		limit = { has_idea = CAN_Stanley_Baldwin_lobe_ade }
		remove_ideas = CAN_Stanley_Baldwin_lobe_ade
		GBR = { clr_country_flag = GBR_Baldwin_PM }
	}
	if = {
		limit = { has_idea = CAN_Neville_Chamberlain_lobe_ade }
		remove_ideas = CAN_Neville_Chamberlain_lobe_ade
		GBR = { clr_country_flag = GBR_Chamberlain_PM }
	}
	if = {
		limit = { has_idea = CAN_Anthony_Eden_lobe_ade }
		remove_ideas = CAN_Anthony_Eden_lobe_ade
		GBR = { clr_country_flag = GBR_Eden_PM }
	}
	if = {
		limit = { has_idea = CAN_Archibald_Sinclair_lobe_mli }
		remove_ideas = CAN_Archibald_Sinclair_lobe_mli
		GBR = { clr_country_flag = GBR_Sinclair_PM }
	}
	if = {
		limit = { has_idea = CAN_Malcolm_MacDonald_lobe_sde }
		remove_ideas = CAN_Malcolm_MacDonald_lobe_sde
		GBR = { clr_country_flag = GBR_MacDonald_PM }
	}	
	if = {
		limit = { has_idea = CAN_JFC_Fuller_lobe_npo }
		remove_ideas = CAN_JFC_Fuller_lobe_npo
		GBR = { clr_country_flag = GBR_Fuller_PM }
	}
	if = {
		limit = { has_idea = CAN_Anthony_Ludovici_lobe_npo }
		remove_ideas = CAN_Anthony_Ludovici_lobe_npo
		GBR = { clr_country_flag = GBR_Ludovici_PM }
	}
	if = {
		limit = { has_idea = CAN_Harold_Harmsworth_lobe_pau }
		remove_ideas = CAN_Harold_Harmsworth_lobe_pau
		GBR = { clr_country_flag = GBR_Harmsworth_PM }
	}
	if = {
		limit = { has_idea = CAN_Lord_Beaverbrook_lobe_pau }
		remove_ideas = CAN_Lord_Beaverbrook_lobe_pau
		GBR = { clr_country_flag = GBR_Beaverbrook_PM }
	}
	if = {
		limit = { has_idea = CAN_CH_Douglas_lobe_pau }
		remove_ideas = CAN_CH_Douglas_lobe_pau
		GBR = { clr_country_flag = GBR_Douglas_PM }
	}
	if = {
		limit = { has_idea = CAN_John_Hargrave_lobe_pau }
		remove_ideas = CAN_John_Hargrave_lobe_pau
		GBR = { clr_country_flag = GBR_Hargrave_PM }
	}
	if = {
		limit = { has_idea = CAN_Ezra_Pound_lobe_pau }
		remove_ideas = CAN_Ezra_Pound_lobe_pau
		GBR = { clr_country_flag = GBR_Pound_PM }
	}
}

CAN_create_monarchy = {
	if = {
		limit = { has_global_flag = CAN_king_george_V }
		create_country_leader = {
			name = "George V"
			desc = "POLITICS_GEORGE_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_George.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
		}
		create_country_leader = {
			name = "George V"
			desc = "POLITICS_GEORGE_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_George.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
		}
		create_country_leader = {
			name = "George V"
			desc = "POLITICS_GEORGE_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_George.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
		}
		create_country_leader = {
			name = "George V"
			desc = "POLITICS_GEORGE_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_George.png"
			expire = "1.1.1"
			ideology = toryism_subtype
		}
		create_country_leader = {
			name = "George V"
			desc = "POLITICS_GEORGE_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_George.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
		}
		create_country_leader = {
			name = "George V"
			desc = "POLITICS_GEORGE_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_George.png"
			expire = "1.1.1"
			ideology = absolute_monarchy_subtype
		}
	}
	else_if = {
		limit = { has_global_flag = CAN_king_edward_VIII }
		create_country_leader = {
			name = "Edward VIII"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Edward_VIII.png"
			desc = "POLITICS_EDWARD_DESC"
			expire = "1.1.1"
			ideology = social_democrat_subtype
			traits = {
				CAN_autocratic_tendencies
			}
		}
		create_country_leader = {
			name = "Edward VIII"
			desc = "POLITICS_EDWARD_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Edward_VIII.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
			traits = {
				CAN_autocratic_tendencies
			}
		}
		create_country_leader = {
			name = "Edward VIII"
			desc = "POLITICS_EDWARD_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Edward_VIII.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
			traits = {
				CAN_autocratic_tendencies
			}
		}
		create_country_leader = {
			name = "Edward VIII"
			desc = "POLITICS_EDWARD_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Edward_VIII_SocCon.png"
			expire = "1.1.1"
			ideology = toryism_subtype
			traits = {
				CAN_autocratic_tendencies
			}
		}
		create_country_leader = {
			name = "Edward VIII"
			desc = "POLITICS_EDWARD_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Edward_VIII_SocCon.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
			traits = {
				CAN_autocratic_tendencies
			}
		}
		create_country_leader = {
			name = "Edward VIII"
			desc = "POLITICS_EDWARD_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Edward_VIII.png"
			expire = "1.1.1"
			ideology = absolute_monarchy_subtype
			traits = {
				CAN_autocratic_tendencies
			}
		}
		create_country_leader = {
			name = "Edward VIII"
			desc = "POLITICS_EDWARD_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Edward_VIII.png"
			expire = "1.1.1"
			ideology = legionarism_subtype
			traits = {
				CAN_autocratic_tendencies
			}
		}
	}
	else_if = {
		limit = { has_global_flag = CAN_king_albert_I }
		create_country_leader = {
			name = "Albert I"
			desc = "POLITICS_ALBERT_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Albert.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
			traits = {
				CAN_popular_figurehead CAN_humble
			}
		}
		create_country_leader = {
			name = "Albert I"
			desc = "POLITICS_ALBERT_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Albert.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
			traits = {
				CAN_popular_figurehead CAN_humble
			}
		}
		create_country_leader = {
			name = "Albert I"
			desc = "POLITICS_ALBERT_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Albert.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
			traits = {
				CAN_popular_figurehead CAN_humble
			}
		}
		create_country_leader = {
			name = "Albert I"
			desc = "POLITICS_ALBERT_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Albert.png"
			expire = "1.1.1"
			ideology = toryism_subtype
			traits = {
				CAN_popular_figurehead CAN_humble
			}
		}
		create_country_leader = {
			name = "Albert I"
			desc = "POLITICS_ALBERT_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Albert.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
			traits = {
				CAN_popular_figurehead CAN_humble
			}
		}
		create_country_leader = {
			name = "Albert I"
			desc = "POLITICS_ALBERT_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Albert.png"
			expire = "1.1.1"
			ideology = absolute_monarchy_subtype
			traits = {
				CAN_popular_figurehead CAN_humble
			}
		}
		create_country_leader = {
			name = "Albert I"
			desc = "POLITICS_ALBERT_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Albert.png"
			expire = "1.1.1"
			ideology = legionarism_subtype
			traits = {
				CAN_popular_figurehead CAN_humble
			}
		}
		hidden_effect = {
			country_event = {
				id = entente.732
				days = 420
				random_days = 23
			}
			if = {
				limit = { has_country_flag = CAN_lionel_logue_flag }
				country_event = { id = entente.356 days = 30 random_days = 90 }
			}
		}
	}
	else_if = {
		limit = { has_global_flag = CAN_queen_elizabeth_II }
		create_country_leader = {
			name = "Elizabeth II"
			desc = "POLITICS_ELIZABETH_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Elizabeth_II.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
			female = yes
			traits = {
				CAN_popular_figurehead CAN_the_queen
			}
		}
		create_country_leader = {
			name = "Elizabeth II"
			desc = "POLITICS_ELIZABETH_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Elizabeth_II.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
			female = yes
			traits = {
				CAN_popular_figurehead CAN_the_queen
			}
		}
		create_country_leader = {
			name = "Elizabeth II"
			desc = "POLITICS_ELIZABETH_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Elizabeth_II.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
			female = yes
			traits = {
				CAN_popular_figurehead CAN_the_queen
			}
		}
		create_country_leader = {
			name = "Elizabeth II"
			desc = "POLITICS_ELIZABETH_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Elizabeth_II.png"
			expire = "1.1.1"
			ideology = toryism_subtype
			female = yes
			traits = {
				CAN_popular_figurehead CAN_the_queen
			}
		}
		create_country_leader = {
			name = "Elizabeth II"
			desc = "POLITICS_ELIZABETH_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Elizabeth_II.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
			female = yes
			traits = {
				CAN_popular_figurehead CAN_the_queen
			}
		}
		create_country_leader = {
			name = "Elizabeth II"
			desc = "POLITICS_ELIZABETH_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Elizabeth_II.png"
			expire = "1.1.1"
			ideology = absolute_monarchy_subtype
			female = yes
			traits = {
				CAN_popular_figurehead CAN_the_queen
			}
		}
		create_country_leader = {
			name = "Elizabeth II"
			desc = "POLITICS_ELIZABETH_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Elizabeth_II.png"
			expire = "1.1.1"
			ideology = legionarism_subtype
			female = yes
			traits = {
				CAN_popular_figurehead CAN_the_queen
			}
		}
	}
	else_if = {
		limit = { has_global_flag = CAN_king_henry_IX }
		create_country_leader = {
			name = "Henry IX"
			desc = "POLITICS_KING_HENRY_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Henry.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
			traits = {
				CAN_biddable CAN_army_experience
			}
		}
		create_country_leader = {
			name = "Henry IX"
			desc = "POLITICS_KING_HENRY_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Henry.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
			traits = {
				CAN_biddable CAN_army_experience
			}
		}
		create_country_leader = {
			name = "Henry IX"
			desc = "POLITICS_KING_HENRY_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Henry.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
			traits = {
				CAN_biddable CAN_army_experience
			}
		}
		create_country_leader = {
			name = "Henry IX"
			desc = "POLITICS_KING_HENRY_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Henry.png"
			expire = "1.1.1"
			ideology = toryism_subtype
			traits = {
				CAN_biddable CAN_army_experience
			}
		}
		create_country_leader = {
			name = "Henry IX"
			desc = "POLITICS_KING_HENRY_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Henry.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
			traits = {
				CAN_biddable CAN_army_experience
			}
		}
		create_country_leader = {
			name = "Henry IX"
			desc = "POLITICS_KING_HENRY_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Henry.png"
			expire = "1.1.1"
			ideology = absolute_monarchy_subtype
			traits = {
				CAN_biddable CAN_army_experience
			}
		}
		create_country_leader = {
			name = "Henry IX"
			desc = "POLITICS_KING_HENRY_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Henry.png"
			expire = "1.1.1"
			ideology = legionarism_subtype
			traits = {
				CAN_biddable CAN_army_experience
			}
		}
	}
	else_if = {
		limit = { has_global_flag = CAN_king_george_VI }
		create_country_leader = {
			name = "George VI"
			desc = "POLITICS_KING_GEORGE_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_GeorgeVI.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
			traits = {
				CAN_smooth_talking_charmer CAN_hedonist
			}
		}
		create_country_leader = {
			name = "George VI"
			desc = "POLITICS_KING_GEORGE_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_GeorgeVI.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
			traits = {
				CAN_smooth_talking_charmer CAN_hedonist
			}
		}
		create_country_leader = {
			name = "George VI"
			desc = "POLITICS_KING_GEORGE_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_GeorgeVI.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
			traits = {
				CAN_smooth_talking_charmer CAN_hedonist
			}
		}
		create_country_leader = {
			name = "George VI"
			desc = "POLITICS_KING_GEORGE_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_GeorgeVI.png"
			expire = "1.1.1"
			ideology = toryism_subtype
			traits = {
				CAN_smooth_talking_charmer CAN_hedonist
			}
		}
		create_country_leader = {
			name = "George VI"
			desc = "POLITICS_KING_GEORGE_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_GeorgeVI.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
			traits = {
				CAN_smooth_talking_charmer CAN_hedonist
			}
		}
		create_country_leader = {
			name = "George VI"
			desc = "POLITICS_KING_GEORGE_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_GeorgeVI.png"
			expire = "1.1.1"
			ideology = absolute_monarchy_subtype
			traits = {
				CAN_smooth_talking_charmer CAN_hedonist
			}
		}
		create_country_leader = {
			name = "George VI"
			desc = "POLITICS_KING_GEORGE_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_GeorgeVI.png"
			expire = "1.1.1"
			ideology = legionarism_subtype
			traits = {
				CAN_smooth_talking_charmer CAN_hedonist
			}
		}
	}
	if = {
		limit = {
			has_country_flag = CAN_subtype_change 
			CAN_leader_has_lost_subideology = yes
		}
		CAN_restore_leader_subtypes = yes
	}
	CAN_fire_royal_flavour_events = yes
}

CAN_create_republic = {
	set_country_flag = CAN_pm_is_hos
	if = {
		limit = { has_country_flag = CAN_ccf_leader_coldwell }
		create_country_leader = {
			name = "Major James Coldwell"
			picture = "gfx/leaders/CAN/Portrait_Canada_Major_James_Coldwell.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
		}
	}
	else_if = {
		limit = { has_country_flag = CAN_ccf_leader_douglas }
		create_country_leader = {
			name = "Tommy Douglas"
			picture = "gfx/leaders/CAN/Portrait_Canada_Tommy_Douglas.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
		}
	}
	else_if = {
		limit = { has_country_flag = CAN_ccf_leader_argue }
		create_country_leader = {
			name = "Hazen Argue"
			picture = "gfx/leaders/CAN/Portrait_Canada_Hazen_Argue.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
		}
	}
	else = {
		create_country_leader = {
			name = "J.S. Woodsworth"
			picture = "gfx/leaders/CAN/Portrait_Canada_JS_Woodsworth.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
		}
	}
	if = {
		limit = { has_country_flag = CAN_lib_leader_stlaurent }
		create_country_leader = {
			name = "Louis St. Laurent"
			picture = "gfx/leaders/CAN/Portrait_Canada_Louis_St_Laurent.png"
			expire = "1.1.1"
			ideology = national_liberalism_subtype
		}
	}
	if = {
		limit = { has_country_flag = CAN_lib_leader_pearson }
		create_country_leader = {
			name = "Lester B. Pearson"
			picture = "gfx/leaders/CAN/Portrait_Canada_Lester_B_Pearson.png"
			expire = "1.1.1"
			ideology = national_liberalism_subtype
		}
	}
	if = {
		limit = { 
			OR = {
				has_country_flag = CAN_lib_leader_stlaurent 
				has_country_flag = CAN_lib_leader_pearson 
			}
		}
		create_country_leader = {
			name = "Charles Gavan Power"
			picture = "gfx/leaders/CAN/Portrait_Canada_Charles_Gavan_Power.png"
			expire = "1.1.1"
			ideology = marlib_national_liberalism_subtype
		}
	}
	else = {
		create_country_leader = {
			name = "William Lyon Mackenzie King"
			picture = "gfx/leaders/CAN/Portrait_Canada_William_Lyon_Mackenzie_King.png"
			expire = "1.1.1"
			ideology = national_liberalism_subtype
		}
		create_country_leader = {
			name = "William Lyon Mackenzie King"
			picture = "gfx/leaders/CAN/Portrait_Canada_William_Lyon_Mackenzie_King.png"
			expire = "1.1.1"
			ideology = marlib_national_liberalism_subtype
		}
	}
	if = {
		limit = { has_country_flag = CAN_cons_leader_bracken }
		create_country_leader = {
			name = "John Bracken"
			picture = "gfx/leaders/CAN/Portrait_Canada_John_Bracken.png"
			expire = "1.1.1"
			ideology = progressive_conservatism_subtype
		}
	}
	else_if = {
		limit = { has_country_flag = CAN_cons_leader_manion }
		create_country_leader = {
			name = "Robert Manion"
			picture = "gfx/leaders/CAN/Portrait_Canada_Robert_Manion.png"
			expire = "1.1.1"
			ideology = moderate_authoritarianism_subtype
		}
	}
	else_if = {
		limit = { has_country_flag = CAN_cons_leader_meighen }
		create_country_leader = {
			name = "Arthur Meighen"
			picture = "gfx/leaders/CAN/Portrait_Canada_Arthur_Meighen.png"
			expire = "1.1.1"
			ideology = moderate_authoritarianism_subtype
		}
	}
	else_if = {
		limit = { has_country_flag = CAN_cons_leader_drew }
		create_country_leader = {
			name = "George A. Drew"
			picture = "gfx/leaders/CAN/Portrait_Canada_George_A_Drew.png"
			expire = "1.1.1"
			ideology = progressive_conservatism_subtype
		}
	}
	else_if = {
		limit = { has_country_flag = CAN_cons_leader_diefenbaker }
		create_country_leader = {
			name = "John Diefenbaker"
			picture = "gfx/leaders/CAN/Portrait_Canada_John_Diefenbaker.png"
			expire = "1.1.1"
			ideology = progressive_conservatism_subtype
		}
	}
	else_if = {
		limit = { has_country_flag = CAN_cons_leader_manning }
		create_country_leader = {
			name = "Ernest Manning"
			picture = "gfx/leaders/CAN/Portrait_Canada_Ernest_Manning.png"
			expire = "1.1.1"
			ideology = moderate_authoritarianism_subtype
		}
	}
	else_if = {
		limit = { has_country_flag = CAN_cons_leader_stevens }
		create_country_leader = {
			name = "Henry Herbert Stevens"
			picture = "gfx/leaders/CAN/Portrait_Canada_Henry_Herbert_Stevens.png"
			expire = "1.1.1"
			ideology = national_conservative_subtype
		}
	}
	else = {
		create_country_leader = {
			name = "R.B. Bennett"
			picture = "gfx/leaders/CAN/Portrait_Canada_RB_Bennett.png"
			expire = "1.1.1"
			ideology = toryism_subtype
		}
	}
	if = {
		limit = {
			has_country_flag = CAN_soccreds_exist
			has_country_flag = CAN_soccred_leader_blackmore
		}
		create_country_leader = {
			name = "John Horne Blackmore"
			picture = "gfx/leaders/CAN/Portrait_Canada_JH_Blackmore.png"
			expire = "1.1.1"
			ideology = authdem_social_credit_subtype
		}
	}
	else_if = {
		limit = {
			has_country_flag = CAN_soccreds_exist
			has_country_flag = CAN_soccred_leader_caouette
		}
		create_country_leader = {
			name = "Réal Caouette"
			picture = "gfx/leaders/QUE/Portrait_Quebec_Real_Caouette.png"
			expire = "1.1.1"
			ideology = social_credit_subtype
		}
	}
	else_if = {
		limit = {
			has_country_flag = CAN_soccreds_exist
			has_country_flag = CAN_soccred_leader_douglas
		}
		create_country_leader = {
			name = "C. H. Douglas"
			picture = "gfx/leaders/CAN/Portrait_Britain_Clifford_Hugh_Douglas.png"
			expire = "1.1.1"
			ideology = authdem_social_credit_subtype
		}
	}
	else_if = {
		limit = {
			has_country_flag = CAN_soccreds_exist
			has_country_flag = CAN_soccred_leader_hargrave
		}
		create_country_leader = {
			name = "John Hargrave"
			picture = "gfx/leaders/CAN/Portrait_Britain_John_Hargrave.png"
			expire = "1.1.1"
			ideology = authdem_social_credit_subtype
		}
	}
	else_if = {
		limit = {
			has_country_flag = CAN_soccreds_exist
			has_country_flag = CAN_soccred_leader_aberhart
		}
		create_country_leader = {
			name = "William Aberhart"
			picture = "gfx/leaders/CAN/Portrait_Canada_William_Aberhart.png"
			expire = "1.1.1"
			ideology = authdem_social_credit_subtype
		}
	}
	else_if = {
		limit = {
			has_country_flag = CAN_soccreds_exist
			has_country_flag = CAN_soccred_leader_manning
		}
		create_country_leader = {
			name = "Ernest Manning"
			picture = "gfx/leaders/CAN/Portrait_Canada_Ernest_Manning.png"
			expire = "1.1.1"
			ideology = authdem_social_credit_subtype
		}
	}
	else_if = {
		limit = {
			has_country_flag = CAN_soccreds_exist
			has_country_flag = CAN_soccred_leader_bennett
		}
		create_country_leader = {
			name = "W.A.C. Bennett"
			picture = "gfx/leaders/CAN/Portrait_Canada_W_A_C_Bennett.png"
			expire = "1.1.1"
			ideology = authdem_social_credit_subtype
		}
	}
	else_if = {
		limit = {
			has_country_flag = CAN_soccreds_exist
			has_country_flag = CAN_soccred_leader_herridge
		}
		create_country_leader = {
			name = "William Duncan Herridge"
			picture = "gfx/leaders/CAN/Portrait_Canada_William_Duncan_Herridge.png"
			expire = "1.1.1"
			ideology = authdem_social_credit_subtype
		}
	}
	else_if = {
		limit = {
			has_country_flag = CAN_soccreds_exist
			has_country_flag = CAN_soccred_leader_low
		}
		create_country_leader = {
			name = "Solon Earl Low"
			picture = "gfx/leaders/CAN/Portrait_Canada_Solon_Earl_Low.png"
			expire = "1.1.1"
			ideology = authdem_social_credit_subtype
		}
	}
	else_if = {
		limit = {
			has_country_flag = CAN_soccreds_exist
			has_country_flag = CAN_soccred_leader_haldeman
		}
		if = {
			limit = { has_country_flag = CAN_authdems_are_social_credit }
			create_country_leader = {
				name = "Joshua N. Haldeman"
				picture = "gfx/leaders/CAN/Portrait_Canada_Joshua_N_Haldeman.png"
				expire = "1.1.1"
				ideology = authdem_social_credit_subtype
			}
		}
		else = {
			create_country_leader = {
				name = "Joshua N. Haldeman"
				picture = "gfx/leaders/CAN/Portrait_Canada_Joshua_N_Haldeman.png"
				expire = "1.1.1"
				ideology = social_credit_subtype
			}
		}
	}
	else = {
		create_country_leader = {
			name = "Arthur Meighen"
			picture = "gfx/leaders/CAN/Portrait_Canada_Arthur_Meighen.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
		}
	}
	create_country_leader = {
		name = "Harry Crerar"
		picture = "gfx/leaders/CAN/Portrait_Canada_Harry_Crerar.png"
		expire = "1.1.1"
		ideology = junta_subtype
	}
	create_country_leader = {
		name = "Adrien Arcand"
		picture = "gfx/leaders/CAN/Portrait_Canada_Adrien_Arcand_Suit.png"
		expire = "1.1.1"
		ideology = legionarism_subtype
	}
	if = {
		limit = {
			has_country_flag = CAN_subtype_change 
			CAN_leader_has_lost_subideology = yes
		}
		CAN_restore_leader_subtypes = yes
	}
}

CAN_set_king_albert = {
	custom_effect_tooltip = CAN_albert_king_tt
	hidden_effect = {
		set_global_flag = CAN_canadian_king_albert
		create_country_leader = {
			name = "Albert I"
			desc = "POLITICS_ALBERT_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Albert.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
			traits = {
				CAN_popular_figurehead CAN_humble
			}
		}
		create_country_leader = {
			name = "Albert I"
			desc = "POLITICS_ALBERT_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Albert.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
			traits = {
				CAN_popular_figurehead CAN_humble
			}
		}
		create_country_leader = {
			name = "Albert I"
			desc = "POLITICS_ALBERT_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Albert.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
			traits = {
				CAN_popular_figurehead CAN_humble
			}
		}
		create_country_leader = {
			name = "Albert I"
			desc = "POLITICS_ALBERT_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Albert.png"
			expire = "1.1.1"
			ideology = toryism_subtype
			traits = {
				CAN_popular_figurehead CAN_humble
			}
		}
		create_country_leader = {
			name = "Albert I"
			desc = "POLITICS_ALBERT_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Albert.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
			traits = {
				CAN_popular_figurehead CAN_humble
			}
		}
		create_country_leader = {
			name = "Albert I"
			desc = "POLITICS_ALBERT_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Albert.png"
			expire = "1.1.1"
			ideology = absolute_monarchy_subtype
			traits = {
				CAN_popular_figurehead CAN_humble
			}
		}
		create_country_leader = {
			name = "Albert I"
			desc = "POLITICS_ALBERT_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_King_Albert.png"
			expire = "1.1.1"
			ideology = legionarism_subtype
			traits = {
				CAN_popular_figurehead CAN_humble
			}
		}
		if = {
			limit = {
				has_country_flag = CAN_subtype_change 
				CAN_leader_has_lost_subideology = yes
			}
			CAN_restore_leader_subtypes = yes
		}
		country_event = {
			id = entente.732
			days = 420
			random_days = 23
		}
	}
}

CAN_set_queen_elizabeth = {
	custom_effect_tooltip = CAN_elizabeth_queen_tt
	hidden_effect = {
		create_country_leader = {
			name = "Elizabeth I"
			desc = "POLITICS_ELIZABETH_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Elizabeth_II.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
			traits = {
				CAN_popular_figurehead CAN_the_queen
			}
		}
		create_country_leader = {
			name = "Elizabeth I"
			desc = "POLITICS_ELIZABETH_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Elizabeth_II.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
			traits = {
				CAN_popular_figurehead CAN_the_queen
			}
		}
		create_country_leader = {
			name = "Elizabeth I"
			desc = "POLITICS_ELIZABETH_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Elizabeth_II.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
			traits = {
				CAN_popular_figurehead CAN_the_queen
			}
		}
		create_country_leader = {
			name = "Elizabeth I"
			desc = "POLITICS_ELIZABETH_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Elizabeth_II.png"
			expire = "1.1.1"
			ideology = toryism_subtype
			traits = {
				CAN_popular_figurehead CAN_the_queen
			}
		}
		create_country_leader = {
			name = "Elizabeth I"
			desc = "POLITICS_ELIZABETH_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Elizabeth_II.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
			traits = {
				CAN_popular_figurehead CAN_the_queen
			}
		}
		create_country_leader = {
			name = "Elizabeth I"
			desc = "POLITICS_ELIZABETH_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Elizabeth_II.png"
			expire = "1.1.1"
			ideology = absolute_monarchy_subtype
			traits = {
				CAN_popular_figurehead CAN_the_queen
			}
		}
		create_country_leader = {
			name = "Elizabeth I"
			desc = "POLITICS_ELIZABETH_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Elizabeth_II.png"
			expire = "1.1.1"
			ideology = legionarism_subtype
			traits = {
				CAN_popular_figurehead CAN_the_queen
			}
		}
		if = {
			limit = {
				has_country_flag = CAN_subtype_change 
				CAN_leader_has_lost_subideology = yes
			}
			CAN_restore_leader_subtypes = yes
		}
	}
}

CAN_setup_transitional_committee = {
	custom_effect_tooltip = CAN_form_committee_tt
	hidden_effect = {
		create_country_leader = {
			name = "Transitional Committee"
			picture = "gfx/leaders/CAN/Portrait_Canada_Vacant_Office_2.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
			
		}
		create_country_leader = {
			name = "Transitional Committee"
			picture = "gfx/leaders/CAN/Portrait_Canada_Vacant_Office_2.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
			
		}
		create_country_leader = {
			name = "Transitional Committee"
			picture = "gfx/leaders/CAN/Portrait_Canada_Vacant_Office_2.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
			
		}
		create_country_leader = {
			name = "Transitional Committee"
			picture = "gfx/leaders/CAN/Portrait_Canada_Vacant_Office_2.png"
			expire = "1.1.1"
			ideology = toryism_subtype
			
		}
		create_country_leader = {
			name = "Transitional Committee"
			picture = "gfx/leaders/CAN/Portrait_Canada_Vacant_Office_2.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
			
		}
		create_country_leader = {
			name = "Transitional Committee"
			picture = "gfx/leaders/CAN/Portrait_Canada_Vacant_Office_2.png"
			expire = "1.1.1"
			ideology = absolute_monarchy_subtype
			
		}
		create_country_leader = {
			name = "Transitional Committee"
			picture = "gfx/leaders/CAN/Portrait_Canada_Vacant_Office_2.png"
			expire = "1.1.1"
			ideology = legionarism_subtype
			
		}
		if = {
			limit = {
				has_country_flag = CAN_subtype_change 
				CAN_leader_has_lost_subideology = yes
			}
			CAN_restore_leader_subtypes = yes
		}
	}
}

CAN_setup_GG_massey = {
	custom_effect_tooltip = CAN_massey_gg_tt
	hidden_effect = {
		create_country_leader = {
			name = "Vincent Massey"
			picture = "gfx/leaders/CAN/Portrait_Canada_Vincent_Massey.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
		}
		create_country_leader = {
			name = "Vincent Massey"
			picture = "gfx/leaders/CAN/Portrait_Canada_Vincent_Massey.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
		}
		create_country_leader = {
			name = "Vincent Massey"
			picture = "gfx/leaders/CAN/Portrait_Canada_Vincent_Massey.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
		}
		create_country_leader = {
			name = "Vincent Massey"
			picture = "gfx/leaders/CAN/Portrait_Canada_Vincent_Massey.png"
			expire = "1.1.1"
			ideology = toryism_subtype
		}
		create_country_leader = {
			name = "Vincent Massey"
			picture = "gfx/leaders/CAN/Portrait_Canada_Vincent_Massey.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
		}
		create_country_leader = {
			name = "Vincent Massey"
			picture = "gfx/leaders/CAN/Portrait_Canada_Vincent_Massey.png"
			expire = "1.1.1"
			ideology = paternal_autocrat_subtype
		}
		create_country_leader = {
			name = "Vincent Massey"
			picture = "gfx/leaders/CAN/Portrait_Canada_Vincent_Massey.png"
			expire = "1.1.1"
			ideology = national_populist_subtype
		}
		if = {
			limit = {
				has_country_flag = CAN_subtype_change 
				CAN_leader_has_lost_subideology = yes
			}
			CAN_restore_leader_subtypes = yes
		}
		country_event = {
			id = canada.3148
			days = 64
			random_days = 42
		}
	}
}

CAN_setup_GG_vanier = {
	custom_effect_tooltip = CAN_vanier_gg_tt
	hidden_effect = {
		if = {
			limit = { has_unit_leader = 923 }
			random_unit_leader = {
				limit = { has_id = 923 }
				remove_unit_leader = yes
			}
		}
		create_country_leader = {
			name = "Georges Vanier"
			picture = "gfx/leaders/CAN/Portrait_Canada_Georges_Vanier_GG.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
		}
		create_country_leader = {
			name = "Georges Vanier"
			picture = "gfx/leaders/CAN/Portrait_Canada_Georges_Vanier_GG.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
		}
		create_country_leader = {
			name = "Georges Vanier"
			picture = "gfx/leaders/CAN/Portrait_Canada_Georges_Vanier_GG.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
		}
		create_country_leader = {
			name = "Georges Vanier"
			picture = "gfx/leaders/CAN/Portrait_Canada_Georges_Vanier_GG.png"
			expire = "1.1.1"
			ideology = toryism_subtype
		}
		create_country_leader = {
			name = "Georges Vanier"
			picture = "gfx/leaders/CAN/Portrait_Canada_Georges_Vanier_GG.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
		}
		create_country_leader = {
			name = "Georges Vanier"
			picture = "gfx/leaders/CAN/Portrait_Canada_Georges_Vanier_GG.png"
			expire = "1.1.1"
			ideology = paternal_autocrat_subtype
		}
		create_country_leader = {
			name = "Georges Vanier"
			picture = "gfx/leaders/CAN/Portrait_Canada_Georges_Vanier_GG.png"
			expire = "1.1.1"
			ideology = national_populist_subtype
		}
		if = {
			limit = {
				has_country_flag = CAN_subtype_change 
				CAN_leader_has_lost_subideology = yes
			}
			CAN_restore_leader_subtypes = yes
		}
		country_event = {
			id = canada.3147
			days = 64
			random_days = 42
		}
	}
}

CAN_setup_GG_mcnaughton = {	
	custom_effect_tooltip = CAN_mcnaughton_gg_tt
	hidden_effect = {
		if = {
			limit = { has_unit_leader = 2938 }
			random_unit_leader = {
				limit = { has_id = 2938 }
				remove_unit_leader = yes
			}
		}
		create_country_leader = {
			name = "Andrew McNaughton"
			picture = "gfx/leaders/CAN/Portrait_Canada_Andrew_McNaughton_GG.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
		}
		create_country_leader = {
			name = "Andrew McNaughton"
			picture = "gfx/leaders/CAN/Portrait_Canada_Andrew_McNaughton_GG.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
		}
		create_country_leader = {
			name = "Andrew McNaughton"
			picture = "gfx/leaders/CAN/Portrait_Canada_Andrew_McNaughton_GG.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
		}
		create_country_leader = {
			name = "Andrew McNaughton"
			picture = "gfx/leaders/CAN/Portrait_Canada_Andrew_McNaughton_GG.png"
			expire = "1.1.1"
			ideology = toryism_subtype
		}
		create_country_leader = {
			name = "Andrew McNaughton"
			picture = "gfx/leaders/CAN/Portrait_Canada_Andrew_McNaughton_GG.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
		}
		create_country_leader = {
			name = "Andrew McNaughton"
			picture = "gfx/leaders/CAN/Portrait_Canada_Andrew_McNaughton_GG.png"
			expire = "1.1.1"
			ideology = paternal_autocrat_subtype
		}
		create_country_leader = {
			name = "Andrew McNaughton"
			picture = "gfx/leaders/CAN/Portrait_Canada_Andrew_McNaughton_GG.png"
			expire = "1.1.1"
			ideology = national_populist_subtype
		}
		if = {
			limit = {
				has_country_flag = CAN_subtype_change 
				CAN_leader_has_lost_subideology = yes
			}
			CAN_restore_leader_subtypes = yes
		}
		country_event = {
			id = canada.3146
			days = 64
			random_days = 42
		}
	}
}

CAN_setup_GG_banting = {
	custom_effect_tooltip = CAN_banting_gg_tt
	hidden_effect = {
		create_country_leader = {
			name = "Frederick Banting"
			picture = "gfx/leaders/CAN/Portrait_Canada_Frederick_Banting.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
		}
		create_country_leader = {
			name = "Frederick Banting"
			picture = "gfx/leaders/CAN/Portrait_Canada_Frederick_Banting.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
		}
		create_country_leader = {
			name = "Frederick Banting"
			picture = "gfx/leaders/CAN/Portrait_Canada_Frederick_Banting.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
		}
		create_country_leader = {
			name = "Frederick Banting"
			picture = "gfx/leaders/CAN/Portrait_Canada_Frederick_Banting.png"
			expire = "1.1.1"
			ideology = toryism_subtype
		}
		create_country_leader = {
			name = "Frederick Banting"
			picture = "gfx/leaders/CAN/Portrait_Canada_Frederick_Banting.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
		}
		create_country_leader = {
			name = "Frederick Banting"
			picture = "gfx/leaders/CAN/Portrait_Canada_Frederick_Banting.png"
			expire = "1.1.1"
			ideology = paternal_autocrat_subtype
		}
		create_country_leader = {
			name = "Frederick Banting"
			picture = "gfx/leaders/CAN/Portrait_Canada_Frederick_Banting.png"
			expire = "1.1.1"
			ideology = national_populist_subtype
		}
		if = {
			limit = {
				has_country_flag = CAN_subtype_change 
				CAN_leader_has_lost_subideology = yes
			}
			CAN_restore_leader_subtypes = yes
		}
		country_event = {
			id = canada.3145
			days = 64
			random_days = 42
		}
	}
}


CAN_setup_GG_albert = {
	custom_effect_tooltip = CAN_albert_gg_tt
	hidden_effect = {
		GBR = {
			clear_global_event_target = ENT_Prince_Albert_Target
		}
		save_global_event_target_as = ENT_Prince_Albert_Target
		create_country_leader = {
			name = "Prince Albert"
			desc = "POLITICS_ALBERT_WINDSOR_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Prince_Albert.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
		}
		create_country_leader = {
			name = "Prince Albert"
			desc = "POLITICS_ALBERT_WINDSOR_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Prince_Albert.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
		}
		create_country_leader = {
			name = "Prince Albert"
			desc = "POLITICS_ALBERT_WINDSOR_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Prince_Albert.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
		}
		create_country_leader = {
			name = "Prince Albert"
			desc = "POLITICS_ALBERT_WINDSOR_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Prince_Albert.png"
			expire = "1.1.1"
			ideology = toryism_subtype
		}
		create_country_leader = {
			name = "Prince Albert"
			desc = "POLITICS_ALBERT_WINDSOR_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Prince_Albert.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
		}
		create_country_leader = {
			name = "Prince Albert"
			desc = "POLITICS_ALBERT_WINDSOR_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Prince_Albert.png"
			expire = "1.1.1"
			ideology = paternal_autocrat_subtype
		}
		create_country_leader = {
			name = "Prince Albert"
			desc = "POLITICS_ALBERT_WINDSOR_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Prince_Albert.png"
			expire = "1.1.1"
			ideology = national_populist_subtype
		}
		if = {
			limit = {
				has_country_flag = CAN_subtype_change 
				CAN_leader_has_lost_subideology = yes
			}
			CAN_restore_leader_subtypes = yes
		}
		country_event = {
			id = canada.3149
			days = 64
			random_days = 42
		}
		country_event = {
			id = entente.732
			days = 420
			random_days = 23
		}
		set_global_flag = CAN_canadian_gg_albert
	}
}

CAN_setup_GG_elizabeth = {
	custom_effect_tooltip = CAN_elizabeth_gg_tt
	hidden_effect = {
		create_country_leader = {
			name = "Princess Elizabeth"
			desc = "POLITICS_LIZZY_GG_CAN_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Princess_Elizabeth.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
			female = yes
		}
		create_country_leader = {
			name = "Princess Elizabeth"
			desc = "POLITICS_LIZZY_GG_CAN_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Princess_Elizabeth.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
			female = yes
		}
		create_country_leader = {
			name = "Princess Elizabeth"
			desc = "POLITICS_LIZZY_GG_CAN_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Princess_Elizabeth.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
			female = yes
		}
		create_country_leader = {
			name = "Princess Elizabeth"
			desc = "POLITICS_LIZZY_GG_CAN_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Princess_Elizabeth.png"
			expire = "1.1.1"
			ideology = toryism_subtype
			female = yes
		}
		create_country_leader = {
			name = "Princess Elizabeth"
			desc = "POLITICS_LIZZY_GG_CAN_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Princess_Elizabeth.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
			female = yes
		}
		create_country_leader = {
			name = "Princess Elizabeth"
			desc = "POLITICS_LIZZY_GG_CAN_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Princess_Elizabeth.png"
			expire = "1.1.1"
			ideology = paternal_autocrat_subtype
			female = yes
		}
		create_country_leader = {
			name = "Princess Elizabeth"
			desc = "POLITICS_LIZZY_GG_CAN_DESC"
			picture = "gfx/leaders/CAN/Portrait_Canada_Princess_Elizabeth.png"
			expire = "1.1.1"
			ideology = national_populist_subtype
			female = yes
		}
		if = {
			limit = {
				has_country_flag = CAN_subtype_change 
				CAN_leader_has_lost_subideology = yes
			}
			CAN_restore_leader_subtypes = yes
		}
	}
}

CAN_setup_GG_alexander = {	
	custom_effect_tooltip = CAN_alexander_gg_tt
	hidden_effect = {
		GBR = {
			if = {
				limit = { has_unit_leader = 9203 }
				random_unit_leader = {
					limit = { has_id = 9203 }
					remove_unit_leader = yes
				}
			}
		}
		create_country_leader = {
			name = "Harold Alexander"
			picture = "gfx/leaders/CAN/Portrait_Canada_Harold_Alexander_GG.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
		}
		create_country_leader = {
			name = "Harold Alexander"
			picture = "gfx/leaders/CAN/Portrait_Canada_Harold_Alexander_GG.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
		}
		create_country_leader = {
			name = "Harold Alexander"
			picture = "gfx/leaders/CAN/Portrait_Canada_Harold_Alexander_GG.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
		}
		create_country_leader = {
			name = "Harold Alexander"
			picture = "gfx/leaders/CAN/Portrait_Canada_Harold_Alexander_GG.png"
			expire = "1.1.1"
			ideology = toryism_subtype
		}
		create_country_leader = {
			name = "Harold Alexander"
			picture = "gfx/leaders/CAN/Portrait_Canada_Harold_Alexander_GG.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
		}
		create_country_leader = {
			name = "Harold Alexander"
			picture = "gfx/leaders/CAN/Portrait_Canada_Harold_Alexander_GG.png"
			expire = "1.1.1"
			ideology = paternal_autocrat_subtype
		}
		create_country_leader = {
			name = "Harold Alexander"
			picture = "gfx/leaders/CAN/Portrait_Canada_Harold_Alexander_GG.png"
			expire = "1.1.1"
			ideology = national_populist_subtype
		}
		if = {
			limit = {
				has_country_flag = CAN_subtype_change 
				CAN_leader_has_lost_subideology = yes
			}
			CAN_restore_leader_subtypes = yes
		}
		country_event = {
			id = canada.3150
			days = 64
			random_days = 42
		}
	}
}

CAN_setup_GG_buchan = {
	custom_effect_tooltip = CAN_buchan_gg_tt
	hidden_effect = {
		create_country_leader = {
			name = "John Buchan"
			picture = "gfx/leaders/CAN/Portrait_Canada_John_Buchan.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
		}
		create_country_leader = {
			name = "John Buchan"
			picture = "gfx/leaders/CAN/Portrait_Canada_John_Buchan.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
		}
		create_country_leader = {
			name = "John Buchan"
			picture = "gfx/leaders/CAN/Portrait_Canada_John_Buchan.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
		}
		create_country_leader = {
			name = "John Buchan"
			picture = "gfx/leaders/CAN/Portrait_Canada_John_Buchan.png"
			expire = "1.1.1"
			ideology = toryism_subtype
		}
		create_country_leader = {
			name = "John Buchan"
			picture = "gfx/leaders/CAN/Portrait_Canada_John_Buchan.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
		}
		create_country_leader = {
			name = "John Buchan"
			picture = "gfx/leaders/CAN/Portrait_Canada_John_Buchan.png"
			expire = "1.1.1"
			ideology = paternal_autocrat_subtype
		}
		create_country_leader = {
			name = "John Buchan"
			picture = "gfx/leaders/CAN/Portrait_Canada_John_Buchan.png"
			expire = "1.1.1"
			ideology = national_populist_subtype
		}
		if = {
			limit = {
				has_country_flag = CAN_subtype_change 
				CAN_leader_has_lost_subideology = yes
			}
			CAN_restore_leader_subtypes = yes
		}
		country_event = {
			id = canada.3151
			days = 64
			random_days = 42
		}
	}
}

CAN_setup_GG_cambridge = {
	custom_effect_tooltip = CAN_cambridge_gg_tt
	hidden_effect = {
		if = {
			limit = { has_unit_leader = 92011 }
			random_unit_leader = {
				limit = { has_id = 92011 }
				remove_unit_leader = yes
			}
		}
		create_country_leader = {
			name = "Alexander Cambridge"
			picture = "gfx/leaders/CAN/Portrait_Canada_Alexander_Cambridge_GG.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
		}
		create_country_leader = {
			name = "Alexander Cambridge"
			picture = "gfx/leaders/CAN/Portrait_Canada_Alexander_Cambridge_GG.png"
			expire = "1.1.1"
			ideology = classical_liberalism_subtype
		}
		create_country_leader = {
			name = "Alexander Cambridge"
			picture = "gfx/leaders/CAN/Portrait_Canada_Alexander_Cambridge_GG.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
		}
		create_country_leader = {
			name = "Alexander Cambridge"
			picture = "gfx/leaders/CAN/Portrait_Canada_Alexander_Cambridge_GG.png"
			expire = "1.1.1"
			ideology = toryism_subtype
		}
		create_country_leader = {
			name = "Alexander Cambridge"
			picture = "gfx/leaders/CAN/Portrait_Canada_Alexander_Cambridge_GG.png"
			expire = "1.1.1"
			ideology = authdem_toryism_subtype
		}
		create_country_leader = {
			name = "Alexander Cambridge"
			picture = "gfx/leaders/CAN/Portrait_Canada_Alexander_Cambridge_GG.png"
			expire = "1.1.1"
			ideology = paternal_autocrat_subtype
		}
		create_country_leader = {
			name = "Alexander Cambridge"
			picture = "gfx/leaders/CAN/Portrait_Canada_Alexander_Cambridge_GG.png"
			expire = "1.1.1"
			ideology = national_populist_subtype
		}
		if = {
			limit = {
				has_country_flag = CAN_subtype_change 
				CAN_leader_has_lost_subideology = yes
			}
			CAN_restore_leader_subtypes = yes
		}
		country_event = {
			id = canada.3152
			days = 64
			random_days = 42
		}
	}
}

CAN_restore_leader_subtypes = {
	if = {
		limit = {
			has_country_flag = CAN_authdems_are_social_credit
			has_government = authoritarian_democrat
			NOT = {
				has_country_leader_ideology = authdem_social_credit_subtype
			}
		}
		set_country_leader_ideology = authdem_social_credit_subtype
	}
	if = {
		limit = {
			has_country_flag = CAN_patauts_are_social_credit
			has_government = paternal_autocrat
			NOT = {
				has_country_leader_ideology = social_credit_subtype
			}
		}
		set_country_leader_ideology = social_credit_subtype
	}
	if = {
		limit = {
			has_country_flag = CAN_soclibs_are_natlib
			has_government = social_liberal
			NOT = {
				has_country_leader_ideology = national_liberalism_subtype
			}
		}
		set_country_leader_ideology = national_liberalism_subtype
	}
	if = {
		limit = {
			has_country_flag = CAN_soclibs_are_agrarian
			has_government = social_liberal
			NOT = {
				has_country_leader_ideology = soclib_agrarianism_subtype
			}
		}
		set_country_leader_ideology = soclib_agrarianism_subtype
	}
	if = {
		limit = {
			has_country_flag = CAN_soclibs_are_spiritualist
			has_government = social_liberal
			NOT = {
				has_country_leader_ideology = soclib_spiritualism_subtype
			}
		}
		set_country_leader_ideology = soclib_spiritualism_subtype
	}
	if = {
		limit = {
			has_country_flag = CAN_soccons_are_progcon
			has_government = social_conservative
			NOT = {
				has_country_leader_ideology = progressive_conservatism_subtype
			}
		}
		set_country_leader_ideology = progressive_conservatism_subtype
	}
	if = {
		limit = {
			has_country_flag = CAN_soccons_are_modauth
			has_government = social_conservative
			NOT = {
				has_country_leader_ideology = moderate_authoritarianism_subtype
			}
		}
		set_country_leader_ideology = moderate_authoritarianism_subtype
	}
	if = {
		limit = {
			has_country_flag = CAN_soccons_are_natcon
			has_government = social_conservative
			NOT = {
				has_country_leader_ideology = national_conservative_subtype
			}
		}
		set_country_leader_ideology = national_conservative_subtype
	}
	if = {
		limit = {
			has_country_flag = CAN_socdems_are_demsoc
			has_government = social_democrat
			NOT = {
				has_country_leader_ideology = socdem_democratic_socialism_subtype
			}
		}
		set_country_leader_ideology = socdem_democratic_socialism_subtype
	}
}

CAN_fire_royal_flavour_events = {
	if = {
		limit = {
			has_global_flag = CAN_king_edward_VIII
		}
		event_target:KR_british_king_base = {
			country_event = {
				id = entente.62
				days = 300
				random_days = 423
			}
		}
	}
	if = {
		limit = {
			has_global_flag = CAN_king_albert_I
		}
		event_target:KR_british_king_base = {
			country_event = {
				id = entente.71
				days = 300
				random_days = 423
			}
			country_event = {
				id = entente.72
				days = 122
				random_days = 200
			}
			country_event = {
				id = entente.732
				days = 1600
				random_days = 800
			}
		}
	}
	if = {
		limit = {
			has_global_flag = CAN_king_henry_IX
		}
		event_target:KR_british_king_base = {
			country_event = {
				id = entente.74
				days = 300
				random_days = 423
			}
		}
	}
	if = {
		limit = {
			has_global_flag = CAN_king_george_VI
		}
		event_target:KR_british_king_base = {
			country_event = {
				id = entente.77
				days = 800
				random_days = 500
			}
			country_event = {
				id = entente.780
				days = 600
				random_days = 423
			}
		}
	}
}

CAN_peace_out_us = {
			if = { ##ask american tag if they want to peace out with the entente
				limit = {
					USA = {
						has_war_with = CAN
						is_subject = no
					}
				}
				USA = {
					country_event = {
						id = entente.2510
						days = 14
					}
				}
			}
			if = { ##ask american tag if they want to peace out with the entente
				limit = {
					CSA = {
						has_war_with = CAN
						is_subject = no
					}
				}
				CSA = {
					country_event = {
						id = entente.2510
						days = 14
					}
				}
			}
			if = { ##ask american tag if they want to peace out with the entente
				limit = {
					NEE = {
						has_war_with = CAN
						is_subject = no
					}
				}
				NEE = {
					country_event = {
						id = entente.2510
						days = 14
					}
				}
			}
			if = { ##ask american tag if they want to peace out with the entente
				limit = {
					COR = {
						has_war_with = CAN
						is_subject = no
					}
				}
				COR = {
					country_event = {
						id = entente.2510
						days = 14
					}
				}
			}
			if = { ##ask american tag if they want to peace out with the entente
				limit = {
					TEX = {
						has_war_with = CAN
						is_subject = no
					}
				}
				TEX = {
					country_event = {
						id = entente.2510
						days = 14
					}
				}
			}
			if = { ##ask american tag if they want to peace out with the entente
				limit = {
					CAL = {
						has_war_with = CAN
						is_subject = no
					}
				}
				CAL = {
					country_event = {
						id = entente.2510
						days = 14
					}
				}
			}
			if = { ##ask american tag if they want to peace out with the entente
				limit = {
					WCC = {
						has_war_with = CAN
						is_subject = no
					}
				}
				WCC = {
					country_event = {
						id = entente.2510
						days = 14
					}
				}
			}
			if = { ##ask american tag if they want to peace out with the entente
				limit = {
					TXS = {
						has_war_with = CAN
						is_subject = no
					}
				}
				TXS = {
					country_event = {
						id = entente.2510
						days = 14
					}
				}
			}
			if = { ##ask american tag if they want to peace out with the entente
				limit = {
					ALA = {
						has_war_with = CAN
						is_subject = no
					}
				}
				ALA = {
					country_event = {
						id = entente.2510
						days = 14
					}
				}
			}
			if = { ##ask american tag if they want to peace out with the entente
				limit = {
					HAW = {
						has_war_with = CAN
						is_subject = no
					}
				}
				HAW = {
					country_event = {
						id = entente.2510
						days = 14
					}
				}
			}
}

CAN_fuck_up_US = {
	custom_effect_tooltip = CAN_split_up_us_tt
	hidden_effect = {
		CAN = {
			add_state_core = 463
			add_state_core = 1273
			add_state_core = 386
			add_state_core = 385
			add_state_core = 387
		}
		CAN = {
			puppet = NEE
			add_to_faction = NEE
			set_autonomy = {
				target = NEE
				autonomous_state = kx_colored_puppet
			}
			puppet = CGL
			add_to_faction = CGL
			set_autonomy = {
				target = CGL
				autonomous_state = kx_colored_puppet
			}
			puppet = FSA
			add_to_faction = FSA
			set_autonomy = {
				target = FSA
				autonomous_state = kx_colored_puppet
			}
			puppet = CAL
			add_to_faction = CAL
			set_autonomy = {
				target = CAL
				autonomous_state = kx_colored_puppet
			}
			puppet = TXS
			add_to_faction = TXS
			set_autonomy = {
				target = TXS
				autonomous_state = kx_colored_puppet
			}
			puppet = DSR
			add_to_faction = DSR
			set_autonomy = {
				target = DSR
				autonomous_state = kx_colored_puppet
			}
			puppet = AML
			add_to_faction = AML
			set_autonomy = {
				target = AML
				autonomous_state = kx_colored_puppet
			}
			puppet = USA
			add_to_faction = USA
			transfer_state = 386
			transfer_state = 385
			transfer_state = 387
			#set_cosmetic_tag = CAN_NUMEROUNO
		}
		AML = {
			add_state_core = 388
			add_state_core = 389
			add_state_core = 390
			add_state_core = 381
			add_state_core = 384
			add_state_core = 382
			add_state_core = 383
			add_state_core = 387
			add_state_core = 373
			add_state_core = 1175
			add_state_core = 1164
			add_state_core = 1157
			add_state_core = 1163
			add_state_core = 1150
			transfer_state = 388
			transfer_state = 389
			transfer_state = 390
			transfer_state = 381
			transfer_state = 384
			transfer_state = 382
			transfer_state = 383
			transfer_state = 373
			transfer_state = 1175
			transfer_state = 1164
			transfer_state = 1157
			transfer_state = 1163
			transfer_state = 1150
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}
			set_party_name = {
				ideology = authoritarian_democrat
				long_name = "Midwestern Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = paternal_autocrat
				long_name = "Midwestern Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = national_populist
				long_name = "Midwestern Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_cosmetic_tag = AML_Dominion
			create_country_leader = {
				name = "Harold Alexander"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_Harold_Alexander.png"
				expire = "1.1.1"
				ideology = authdem_junta_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Harold Alexander"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_Harold_Alexander.png"
				expire = "1.1.1"
				ideology = junta_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Harold Alexander"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_Harold_Alexander.png"
				expire = "1.1.1"
				ideology = militarism_subtype
				traits = {}
			}
		}
		DSR = {
			add_state_core = 380
			add_state_core = 377
			add_state_core = 376
			add_state_core = 1174
			add_state_core = 379
			transfer_state = 377
			transfer_state = 376
			transfer_state = 380
			transfer_state = 1174
			transfer_state = 379
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}
			set_party_name = {
				ideology = authoritarian_democrat
				long_name = "Utahn Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = paternal_autocrat
				long_name = "Utahn Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = national_populist
				long_name = "Utahn Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_cosmetic_tag = DSR_Dominion
			create_country_leader = {
				name = "Harry Crerar"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_Harry_Crerar.png"
				expire = "1.1.1"
				ideology = authdem_junta_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Harry Crerar"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_Harry_Crerar.png"
				expire = "1.1.1"
				ideology = junta_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Harry Crerar"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_Harry_Crerar.png"
				expire = "1.1.1"
				ideology = militarism_subtype
				traits = {}
			}
		}
		TXS = {
			add_state_core = 375
			add_state_core = 833
			add_state_core = 1096
			add_state_core = 1161
			add_state_core = 1166
			transfer_state = 375
			transfer_state = 833
			transfer_state = 1096
			transfer_state = 1161
			transfer_state = 1166
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}
			set_party_name = {
				ideology = authoritarian_democrat
				long_name = "Texan Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = paternal_autocrat
				long_name = "Texan Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = national_populist
				long_name = "Texan Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_cosmetic_tag = TXS_Dominion
			create_country_leader = {
				name = "Bernard Montgomery"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Texas_Bernard_Montgomery.png"
				expire = "1.1.1"
				ideology = authdem_junta_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Bernard Montgomery"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Texas_Bernard_Montgomery.png"
				expire = "1.1.1"
				ideology = junta_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Bernard Montgomery"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Texas_Bernard_Montgomery.png"
				expire = "1.1.1"
				ideology = militarism_subtype
				traits = {}
			}
		}
		CAL = {
			transfer_state = 378
			transfer_state = 829
			transfer_state = 797
			transfer_state = 798
			transfer_state = 1165
			add_state_core = 386
			add_state_core = 378
			add_state_core = 829
			add_state_core = 385
			add_state_core = 797
			add_state_core = 798
			add_state_core = 1165
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}
			set_party_name = {
				ideology = authoritarian_democrat
				long_name = "Californian Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = paternal_autocrat
				long_name = "Californian Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = national_populist
				long_name = "Californian Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_cosmetic_tag = CAL_Dominion
			create_country_leader = {
				name = "Andrew McNaughton"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_Andrew_McNaughton.png"
				expire = "1.1.1"
				ideology = authdem_junta_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Andrew McNaughton"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_Andrew_McNaughton.png"
				expire = "1.1.1"
				ideology = junta_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Andrew McNaughton"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_Andrew_McNaughton.png"
				expire = "1.1.1"
				ideology = militarism_subtype
				traits = {}
			}
		}
		FSA = {
			add_state_core = 375
			add_state_core = 1131
			add_state_core = 833
			add_state_core = 374
			add_state_core = 372
			add_state_core = 371
			add_state_core = 370
			add_state_core = 369
			add_state_core = 368
			add_state_core = 367
			add_state_core = 366
			add_state_core = 365
			add_state_core = 364
			add_state_core = 363
			add_state_core = 362
			add_state_core = 1155
			add_state_core = 1158
			add_state_core = 1156
			add_state_core = 1168
			add_state_core = 1170
			add_state_core = 1169
			add_state_core = 1167
			add_state_core = 1171
			add_state_core = 1172
			transfer_state = 372
			transfer_state = 374
			transfer_state = 371
			transfer_state = 370
			transfer_state = 369
			transfer_state = 368
			transfer_state = 367
			transfer_state = 366
			transfer_state = 365
			transfer_state = 364
			transfer_state = 363
			transfer_state = 362
			transfer_state = 1155
			transfer_state = 1158
			transfer_state = 1156
			transfer_state = 1168
			transfer_state = 1170
			transfer_state = 1169
			transfer_state = 1167
			transfer_state = 1171
			transfer_state = 1172
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}
			set_party_name = {
				ideology = authoritarian_democrat
				long_name = "Southern Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = paternal_autocrat
				long_name = "Southern Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = national_populist
				long_name = "Southern Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_cosmetic_tag = FSA_Dominion
			create_country_leader = {
				name = "J.F.C Fuller"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_JFC_Fuller.png"
				expire = "1.1.1"
				ideology = authdem_junta_subtype
				traits = {}
			}
			create_country_leader = {
				name = "J.F.C Fuller"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_JFC_Fuller.png"
				expire = "1.1.1"
				ideology = junta_subtype
				traits = {}
			}
			create_country_leader = {
				name = "J.F.C Fuller"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_JFC_Fuller.png"
				expire = "1.1.1"
				ideology = militarism_subtype
				traits = {}
			}
		}
		CGL = {
			add_state_core = 394
			add_state_core = 393
			add_state_core = 395
			add_state_core = 396
			add_state_core = 261
			add_state_core = 391
			add_state_core = 392
			add_state_core = 1173
			add_state_core = 1152
			add_state_core = 1154
			add_state_core = 1151
			add_state_core = 1153
			transfer_state = 391
			transfer_state = 392
			transfer_state = 394
			transfer_state = 393
			transfer_state = 395
			transfer_state = 396
			transfer_state = 261
			transfer_state = 1173
			transfer_state = 1152
			transfer_state = 1154
			transfer_state = 1151
			transfer_state = 1153
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}
			set_party_name = {
				ideology = authoritarian_democrat
				long_name = "Great Lake Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = paternal_autocrat
				long_name = "Great Lake Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = national_populist
				long_name = "Great Lake Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_cosmetic_tag = CGL_Dominion
			create_country_leader = {
				name = "Orde Wingate"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_Orde_Wingate.png"
				expire = "1.1.1"
				ideology = authdem_junta_subtype
				traits = {}
				}
			create_country_leader = {
				name = "Orde Wingate"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_Orde_Wingate.png"
				expire = "1.1.1"
				ideology = junta_subtype
				traits = {}
				}
			create_country_leader = {
				name = "Orde Wingate"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_Orde_Wingate.png"
				expire = "1.1.1"
				ideology = militarism_subtype
				traits = {}
			}
		}
		NEE = {
			add_state_core = 357 #Maine
			add_state_core = 358 #NYC
			add_state_core = 796 #Upstate
			add_state_core = 934 #New Hampshire
			add_state_core = 933 #Vermont
			add_state_core = 932 #Massachusetts
			add_state_core = 931 #Connecticut
			add_state_core = 935 #Rhode Island
			transfer_state = 357
			transfer_state = 796
			transfer_state = 934
			transfer_state = 933
			transfer_state = 932
			transfer_state = 931
			transfer_state = 935
			set_politics = {
				ruling_party = paternal_autocrat
				elections_allowed = no
			}
			set_party_name = {
				ideology = authoritarian_democrat
				long_name = "New English Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = paternal_autocrat
				long_name = "New English Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = national_populist
				long_name = "New English Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_cosmetic_tag = NEE_Dominion_other
			create_country_leader = {
				name = "Georges Vanier"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_Georges_Vanier.png"
				expire = "1.1.1"
				ideology = authdem_junta_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Georges Vanier"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_Georges_Vanier.png"
				expire = "1.1.1"
				ideology = junta_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Georges Vanier"
				desc = ""
				picture = "gfx/leaders/CAN/Portrait_Canada_Georges_Vanier.png"
				expire = "1.1.1"
				ideology = militarism_subtype
				traits = {}
			}
		}
		USA = {
			transfer_state = 361
			transfer_state = 1159
			transfer_state = 1160
			transfer_state = 360
			transfer_state = 930
			transfer_state = 1162
			transfer_state = 358
			transfer_state = 929
			transfer_state = 359
			set_politics = {
				ruling_party = paternal_autocrat
				elections_allowed = no
			}
			set_party_name = {
				ideology = authoritarian_democrat
				long_name = "Federal Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = paternal_autocrat
				long_name = "Federal Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = national_populist
				long_name = "Federal Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_cosmetic_tag = USA_Dominion
			create_country_leader = {
				name = "Joseph Kennedy Sr."
				desc = ""
				picture = "gfx/leaders/NEE/Portrait_NEE_Kennedy_governor_general.png"
				expire = "1.1.1"
				ideology = authdem_junta_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Joseph Kennedy Sr."
				desc = ""
				picture = "gfx/leaders/NEE/Portrait_NEE_Kennedy_governor_general.png"
				expire = "1.1.1"
				ideology = junta_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Joseph Kennedy Sr."
				desc = ""
				picture = "gfx/leaders/NEE/Portrait_NEE_Kennedy_governor_general.png"
				expire = "1.1.1"
				ideology = militarism_subtype
				traits = {}
			}
		}
	}
}


CAN_form_US_puppet = {
	custom_effect_tooltip = CAN_form_us_puppet_tt
	hidden_effect = {
		CAN = {
			add_state_core = 463
			add_state_core = 1273
			add_state_core = 386
			add_state_core = 385
			add_state_core = 387
		}
		add_stability = 0.1
		CAN = {
			puppet = USA
			add_to_faction = USA
			transfer_state = 386
			transfer_state = 385
			transfer_state = 387
		}
		USA = {
			transfer_state = 361
			transfer_state = 1159
			transfer_state = 1160
			transfer_state = 360
			transfer_state = 930
			transfer_state = 1162
			transfer_state = 358
			transfer_state = 929
			transfer_state = 359
			transfer_state = 391
			transfer_state = 392
			transfer_state = 394
			transfer_state = 393
			transfer_state = 395
			transfer_state = 396
			transfer_state = 261
			transfer_state = 1173
			transfer_state = 1152
			transfer_state = 1154
			transfer_state = 1151
			transfer_state = 1153
			transfer_state = 372
			transfer_state = 374
			transfer_state = 371
			transfer_state = 370
			transfer_state = 369
			transfer_state = 368
			transfer_state = 367
			transfer_state = 366
			transfer_state = 365
			transfer_state = 364
			transfer_state = 363
			transfer_state = 362
			transfer_state = 1155
			transfer_state = 1158
			transfer_state = 1156
			transfer_state = 1168
			transfer_state = 1170
			transfer_state = 1169
			transfer_state = 1167
			transfer_state = 1171
			transfer_state = 1172
			transfer_state = 378
			transfer_state = 829
			transfer_state = 797
			transfer_state = 798
			transfer_state = 1165
			transfer_state = 375
			transfer_state = 833
			transfer_state = 1096
			transfer_state = 1161
			transfer_state = 1166
			transfer_state = 377
			transfer_state = 376
			transfer_state = 380
			transfer_state = 1174
			transfer_state = 379
			transfer_state = 388
			transfer_state = 389
			transfer_state = 390
			transfer_state = 381
			transfer_state = 384
			transfer_state = 382
			transfer_state = 383
			transfer_state = 373
			transfer_state = 1175
			transfer_state = 1164
			transfer_state = 1157
			transfer_state = 1163
			transfer_state = 1150
			set_politics = {
				ruling_party = paternal_autocrat
				elections_allowed = no
			}
			set_party_name = {
				ideology = authoritarian_democrat
				long_name = "Federal Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = paternal_autocrat
				long_name = "Federal Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_party_name = {
				ideology = national_populist
				long_name = "Federal Administration Zone"
				name = "Canadian Military Occupation"
			}
			set_cosmetic_tag = USA_Dominion
			create_country_leader = {
				name = "Joseph Kennedy Sr."
				desc = ""
				picture = "gfx/leaders/NEE/Portrait_NEE_Kennedy_governor_general.png"
				expire = "1.1.1"
				ideology = authdem_junta_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Joseph Kennedy Sr."
				desc = ""
				picture = "gfx/leaders/NEE/Portrait_NEE_Kennedy_governor_general.png"
				expire = "1.1.1"
				ideology = junta_subtype
				traits = {}
			}
			create_country_leader = {
				name = "Joseph Kennedy Sr."
				desc = ""
				picture = "gfx/leaders/NEE/Portrait_NEE_Kennedy_governor_general.png"
				expire = "1.1.1"
				ideology = militarism_subtype
				traits = {}
			}
			every_state = {
				limit = {
					is_core_of = CAN
				}
				CAN = {
					transfer_state = PREV
				}
			}
		}
	}
}

CAN_add_US_cores = {
	custom_effect_tooltip = CAN_gain_us_cores_tt
	hidden_effect = {
		add_state_core = 361
		add_state_core = 1159
		add_state_core = 1160
		add_state_core = 360
		add_state_core = 930
		add_state_core = 1162
		add_state_core = 358
		add_state_core = 929
		add_state_core = 359
		add_state_core = 391
		add_state_core = 392
		add_state_core = 394
		add_state_core = 393
		add_state_core = 395
		add_state_core = 396
		add_state_core = 261
		add_state_core = 1173
		add_state_core = 1152
		add_state_core = 1154
		add_state_core = 1151
		add_state_core = 1153
		add_state_core = 372
		add_state_core = 374
		add_state_core = 371
		add_state_core = 370
		add_state_core = 369
		add_state_core = 368
		add_state_core = 367
		add_state_core = 366
		add_state_core = 365
		add_state_core = 364
		add_state_core = 363
		add_state_core = 362
		add_state_core = 1155
		add_state_core = 1158
		add_state_core = 1156
		add_state_core = 1168
		add_state_core = 1170
		add_state_core = 1169
		add_state_core = 1167
		add_state_core = 1171
		add_state_core = 1172
		add_state_core = 378
		add_state_core = 829
		add_state_core = 797
		add_state_core = 798
		add_state_core = 1165
		add_state_core = 375
		add_state_core = 833
		add_state_core = 1096
		add_state_core = 1161
		add_state_core = 1166
		add_state_core = 377
		add_state_core = 376
		add_state_core = 380
		add_state_core = 1174
		add_state_core = 379
		add_state_core = 388
		add_state_core = 389
		add_state_core = 390
		add_state_core = 381
		add_state_core = 384
		add_state_core = 382
		add_state_core = 383
		add_state_core = 373
		add_state_core = 1175
		add_state_core = 1164
		add_state_core = 1157
		add_state_core = 1163
		add_state_core = 1150
		add_state_core = 386
		add_state_core = 385
		add_state_core = 387
		add_state_core = 463
		add_state_core = 1273
		add_state_core = 357
		add_state_core = 934
		add_state_core = 933
		add_state_core = 932
		add_state_core = 935
		add_state_core = 931
		add_state_core = 358
		add_state_core = 796
		add_state_core = 629
		add_state_core = 631
		add_state_core = 630
		add_state_core = 632
		add_state_core = 638
		add_state_core = 642
		add_state_core = 726
		add_state_core = 727
	}
}

CAN_setup_miskito_protectorate = {
	NIC = {
		clear_global_event_target = Miskitu_Coast
	}
	create_dynamic_country = {	#Protectorate Guard
		original_tag = NIC
		copy_tag = NIC

		#State
		transfer_state = 1247
		add_state_core = 1247
			
		### Leader
		create_country_leader = {
			name = "Herbert Henry Clarence"
			picture = "gfx/leaders/NIC/Portrait_NIC_Herbert_Henry_Clarence.png"
			expire = "1.1.1"
			ideology = radsoc_indigenous_communitarianism_subtype
			traits = {}
		}

		create_country_leader = {
			name = "Herbert Henry Clarence"
			picture = "gfx/leaders/NIC/Portrait_NIC_Herbert_Henry_Clarence.png"
			expire = "1.1.1"
			ideology = indigenous_communitarianism_subtype
			traits = {}
		}

		create_country_leader = {
			name = "Herbert Henry Clarence"
			picture = "gfx/leaders/NIC/Portrait_NIC_Herbert_Henry_Clarence.png"
			expire = "1.1.1"
			ideology = soclib_indigenous_communitarianism_subtype
			traits = {}
		}

		create_country_leader = {
			name = "Herbert Henry Clarence"
			picture = "gfx/leaders/NIC/Portrait_NIC_Herbert_Henry_Clarence.png"
			expire = "1.1.1"
			ideology = autocratic_colonial_govt_subtype
			traits = {}
		}

		create_country_leader = {
			name = "Herbert Henry Clarence"
			picture = "gfx/leaders/NIC/Portrait_NIC_Herbert_Henry_Clarence.png"
			expire = "1.1.1"
			ideology = natpop_tribal_chiefdom_subtype
			traits = { }
		}

		### Field Marshals ###
		create_field_marshal = {
			name = "Herbert Henry Clarence"
			desc = ""
			portrait_path = "gfx/leaders/NIC/Portrait_NIC_Herbert_Henry_Clarence.png"
			traits = {
				commando
				inspirational_leader
			}
			id = 13320
			skill = 3
			attack_skill = 3
			defense_skill = 2
			planning_skill = 1
			logistics_skill = 4
		}

		### Politics
		set_popularities = {
			totalist = 0
			syndicalist = 0
			radical_socialist = 25
			social_democrat = 25
			social_liberal = 25
			market_liberal = 0
			social_conservative = 0
			authoritarian_democrat = 0
			paternal_autocrat = 20
			national_populist = 5
		}
		set_party_name = {
			ideology = totalist
			long_name = MKT_totalist_party_long
			name = MKT_totalist_party
		}
		set_party_name = {
			ideology = syndicalist
			long_name = MKT_radical_socialist_party_long
			name = MKT_radical_socialist_party
		}
		set_party_name = {
			ideology = syndicalist
			long_name = MKT_radical_socialist_party_long
			name = MKT_radical_socialist_party
		}
		set_party_name = {
			ideology = social_democrat
			long_name = MKT_social_democrat_party_long
			name = MKT_social_democrat_party
		}
		set_party_name = {
			ideology = social_liberal
			long_name = MKT_social_liberal_party_long
			name = MKT_social_liberal_party
		}
		set_party_name = {
			ideology = market_liberal
			long_name = MKT_market_liberal_party_long
			name = MKT_market_liberal_party
		}
		set_party_name = {
			ideology = social_conservative
			long_name = MKT_social_conservative_party_long
			name = MKT_social_conservative_party
		}
		set_party_name = {
			ideology = authoritarian_democrat
			long_name = MKT_authoritarian_democrat_party_long
			name = MKT_authoritarian_democrat_party
		}
		set_party_name = {
			ideology = paternal_autocrat
			long_name = MKT_paternal_autocrat_party_long
			name = MKT_paternal_autocrat_party
		}
		set_party_name = {
			ideology = national_populist
			long_name = MKT_national_populist_party_long
			name = MKT_national_populist_party
		}
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		set_cosmetic_tag = MKT_BRIT

		#Units
		division_template = {
			name = "Protectorate Guard"
			division_names_group = SAU_CAV_01
			regiments = {
				cavalry = { x = 0 y = 0 }
				cavalry = { x = 0 y = 1 }
				cavalry = { x = 1 y = 0 }
				cavalry = { x = 1 y = 1 }
			}
		}
		1247 = {
			create_unit = {
				division = "name = \"Protectorate Guard\" division_template = \"Protectorate Guard\"  start_experience_factor = 0.3"
				allow_spawning_on_enemy_provs = yes
				owner = PREV
			}
			create_unit = {
				division = "name = \"Protectorate Guard\" division_template = \"Protectorate Guard\"  start_experience_factor = 0.3"
				allow_spawning_on_enemy_provs = yes
				owner = PREV
			}
		}

		#Event Target
		save_global_event_target_as = Miskitu_Coast
	}
}

########################
### Socialist Canada ###
########################

CAN_become_socialist = {	
	if = {
		limit = { 
			NOT = { 
				has_country_flag = CAN_added_soc_generals
			}
		}
		CAN_add_socialist_generals_effect = yes
	}
	set_global_flag = CAN_became_socialist
	set_country_flag = CAN_is_socialist_canada
	mark_focus_tree_layout_dirty = yes
	hidden_effect = {
		### Parties ###
		set_party_name = {
			long_name = SCC_totalist_party_long
			name = SCC_totalist_party
			ideology = totalist
		}
		if = {
			limit = { tag = NFL }
			set_party_name = {
				long_name = SCC_syndicalist_party_long
				name = SCC_syndicalist_party
				ideology = syndicalist
			}
		}
		else = {
			set_party_name = {
				long_name = SCC_syndicalist_party2_long
				name = SCC_syndicalist_party2
				ideology = syndicalist
			}
		}
		set_party_name = {
			long_name = SCC_radical_socialist_party_long
			name = SCC_radical_socialist_party
			ideology = radical_socialist
		}
		set_party_name = {
			long_name = SCC_social_democrat_party_long
			name = SCC_social_democrat_party
			ideology = social_democrat
		}
		set_party_name = {
			long_name = SCC_social_liberal_party_long
			name = SCC_social_liberal_party
			ideology = social_liberal
		}
		set_party_name = {
			long_name = SCC_market_liberal_party_long
			name = SCC_market_liberal_party
			ideology = market_liberal
		}
		set_party_name = {
			long_name = SCC_social_conservative_party_long
			name = SCC_social_conservative_party
			ideology = social_conservative
		}
		set_party_name = {
			long_name = SCC_authoritarian_democrat_party_long
			name = SCC_authoritarian_democrat_party
			ideology = authoritarian_democrat
		}
		set_party_name = {
			long_name = SCC_paternal_autocrat_party_long
			name = SCC_paternal_autocrat_party
			ideology = paternal_autocrat
		}
		set_party_name = {
			long_name = SCC_national_populist_party_long
			name = SCC_national_populist_party
			ideology = national_populist
		}
		
		end_coalition = yes
		
		### Leaders ###
		
		create_country_leader = {
			name = "Congress of Canadian Socialists"
			picture = "gfx/leaders/CAN/Portrait_Canada_Vacant_Office_2.png"
			expire = "1.1.1"
			ideology = totalist_subtype
		}
		if = {
			limit = { NOT = { tag = NFL } }
			create_country_leader = {
				name = "Congress of Canadian Socialists"
				picture = "gfx/leaders/CAN/Portrait_Canada_Vacant_Office_2.png"
				expire = "1.1.1"
				ideology = syndicalist_subtype
			}
		}
		
		create_country_leader = {
			name = "Congress of Canadian Socialists"
			picture = "gfx/leaders/CAN/Portrait_Canada_Vacant_Office_2.png"
			expire = "1.1.1"
			ideology = radical_socialist_subtype
		}
		
		if = {
			limit = { date > 1942.3.21 }
				create_country_leader = {
				name = "J.S. Woodsworth"
				picture = "gfx/leaders/CAN/Portrait_Canada_JS_Woodsworth.png"
				expire = "1.1.1"
				ideology = socdem_democratic_socialism_subtype
			}
		}
		else = {
			create_country_leader = {
				name = "Major James Coldwell"
				picture = "gfx/leaders/CAN/Portrait_Canada_Major_James_Coldwell.png"
				expire = "1.1.1"
				ideology = socdem_democratic_socialism_subtype
			}
		}
		
		create_country_leader = {
			name = "Humphrey Mitchell"
			picture = "gfx/leaders/CAN/Portrait_Canada_Humphrey_Mitchell.png"
			expire = "1.1.1"
			ideology = soclib_liberal_socialism_subtype
		}
		
		create_country_leader = {
			name = "Charles Gavan Power"
			picture = "gfx/leaders/CAN/Portrait_Canada_Charles_Gavan_Power.png"
			expire = "1.1.1"
			ideology = marlib_national_liberalism_subtype
		}
		
		create_country_leader = {
			name = "John Bracken"
			picture = "gfx/leaders/CAN/Portrait_Canada_John_Bracken.png"
			expire = "1.1.1"
			ideology = progressive_conservatism_subtype
		}
		
		create_country_leader = {
			name = "Henry Herbert Stevens"
			picture = "gfx/leaders/CAN/Portrait_Canada_Henry_Herbert_Stevens.png"
			expire = "1.1.1"
			ideology = authdem_national_conservative_subtype
		}
		
		create_country_leader = {
			name = "William Duncan Herridge"
			picture = "gfx/leaders/CAN/Portrait_Canada_William_Duncan_Herridge.png"
			expire = "1.1.1"
			ideology = social_credit_subtype
		}
		
		create_country_leader = {
			name = "Adrien Arcand"
			picture = "gfx/leaders/CAN/Portrait_Canada_Adrien_Arcand_Suit.png"
			expire = "1.1.1"
			ideology = legionarism_subtype
		}

		### Ideas ###
		
		add_ideas = CAN_reactionary_resistance
		if = {
			limit = { NOT = { country_exists = QUE } }
			add_ideas = CAN_red_quebec_issue
		}
		add_ideas = CAN_reactionary_resistance
		add_ideas = CAN_ruined_nation
		
		### Events ###
		
		country_event = { id = canada_soc.17 days = 340 random_days = 120 }
		country_event = { id = canada_soc_flavour.2 days = 10 }
		country_event = { id = canada_soc_flavour.3 days = 250 random_days = 140 }
		country_event = { id = canada_soc_flavour.8 days = 400 }
		country_event = { id = canada_soc_flavour.9 days = 320 }
		country_event = { id = canada_soc_flavour.11 days = 500 }
	}
}

CAN_add_socialist_generals_effect = {
	set_country_flag = CAN_added_soc_generals
	create_field_marshal = {# Edward Cecil-Smith
		name = "Edward Cecil-Smith"
		portrait_path = "gfx/leaders/CAN/Portrait_Canada_Edward_Cecil_Smith.png"
		traits = {
			fast_planner
			media_personality
			politically_connected
			organizer
			CAN_socialist_officer 
		}
		skill = 2
		attack_skill = 3
		defense_skill = 2
		planning_skill = 2
		logistics_skill = 3
	}
	create_corps_commander = {# Bill Kardash
		name = "Bill Kardash "
		portrait_path = "gfx/leaders/CAN/Portrait_Canada_Bill_Kardash_General.png"
		traits = {
			trait_cautious
			politically_connected
			organizer
			CAN_socialist_officer 
		}
		skill = 1
		attack_skill = 1
		defense_skill = 1
		planning_skill = 1
		logistics_skill = 2
	}
	create_corps_commander = {# Norman Bethune
		name = "Norman Bethune"
		portrait_path = "gfx/leaders/CAN/Portrait_Canada_Norman_Bethune.png"
		traits = {
			brilliant_strategist
			politically_connected
			logistics_wizard
			CAN_socialist_officer 
		}
		skill = 2
		attack_skill = 1
		defense_skill = 2
		planning_skill = 3
		logistics_skill = 3
	}
	create_corps_commander = {# Roy Leitch
		name = "Roy Leitch"
		portrait_path = "gfx/leaders/CAN/Portrait_Canada_Roy_Leitch.png"
		traits = {
			war_hero
			politically_connected
			trait_engineer
			CAN_socialist_officer 
		}
		skill = 2
		attack_skill = 1
		defense_skill = 2
		planning_skill = 3
		logistics_skill = 3
	}
	create_corps_commander = {# Hannes Sula
		name = "Hannes Sula"
		portrait_path = "gfx/leaders/CAN/Portrait_Canada_Hannes_Sula.png"
		traits = {
			war_hero
			politically_connected
			infantry_leader
			CAN_socialist_officer 
		}
		skill = 2
		attack_skill = 2
		defense_skill = 3
		planning_skill = 3
		logistics_skill = 3
	}
	create_navy_leader = {# Vilhjalmur Stefansson
		name = "Vilhjalmur Stefansson"
		portrait_path = "gfx/leaders/CAN/Portrait_Canada_Vilhjalmur_Stefansson.png"
		traits = {
			arctic_water_expert
			CAN_socialist_officer 
		}
		skill = 1
		attack_skill = 1
		defense_skill = 1
		maneuvering_skill = 2
		coordination_skill = 2
	}
}

CAN_set_puppet_leader = {
	set_country_flag = CAN_congress_over
	mark_focus_tree_layout_dirty = yes
	if = {
		limit = { has_government = totalist }
		set_politics = {
			ruling_party = totalist
			elections_allowed = no
		}
		if = {
			limit = {
				OVERLORD = { 	
					OR = {
						has_country_leader_ideology = natsynd_subtype 
						has_country_leader_ideology = sorelianism_subtype 
						has_country_leader_ideology = british_maximism_subtype 
					}
				}
			}
			create_country_leader = {
				name = "Chuck Crate"
				picture = "gfx/leaders/CAN/Portrait_Canada_Chuck_Crate.png"
				expire = "1.1.1"
				ideology = tot_reformed_natsynd_subtype
			}
			set_party_name = {
				name = SCC_maximist_party
				long_name = SCC_maximist_party_long
				ideology = totalist
			}
			set_country_flag = CAN_CUM_Victory
		}
		else_if = {
			limit = {
				OVERLORD = { 	
					OR = {
						has_country_leader_ideology = popcom_subtype 
						has_country_leader_ideology = authcom_subtype 
						has_country_leader_ideology = national_communism_subtype 
						has_country_leader_ideology = corn_communism_subtype 
						has_country_leader_ideology = broad_communism_subtype 
					}
				}
			}
			create_country_leader = {
				name = "Tim Buck"
				picture = "gfx/leaders/CAN/Portrait_Canada_Tim_Buck_kr.png"
				expire = "1.1.1"
				ideology = popcom_subtype
			}
			set_party_name = {
				name = SCC_buck_party
				long_name = SCC_buck_party_long
				ideology = totalist
			}
			set_country_flag = CAN_tots_are_communists
			set_country_flag = CAN_CPC_Victory
		}
		else_if = {
			limit = {
				OVERLORD = { 	
					OR = {
						has_country_leader_ideology = lovestoneism_subtype 
						has_country_leader_ideology = internationalism_subtype 
					}
				}
			}
			create_country_leader = {
				name = "William Moriarty"
				picture = "gfx/leaders/CAN/Portrait_Canada_William_Moriarty.png"
				expire = "1.1.1"
				ideology = lovestoneism_subtype
			}
			set_party_name = {
				name = SCC_lovestone_party
				long_name = SCC_lovestone_party_long
				ideology = totalist
			}
			set_country_flag = CAN_MEL_Victory
		}	
		else = {
			country_event = canada_soc.12
		}
	}
	else_if = {
		limit = { has_government = syndicalist }
		country_event = canada_soc.14
		set_politics = {
			ruling_party = syndicalist
			elections_allowed = no
		}
	}
	else_if = {
		limit = { has_government = radical_socialist }
		country_event = canada_soc.15
		set_politics = {
			ruling_party = radical_socialist
			elections_allowed = no
		}
	}
	else_if = {
		limit = { has_government = social_democrat }
		country_event = canada_soc.1500
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = no
		}
		set_country_flag = CAN_CCF_Victory
	}
}

#########################
### Leauge of Nations ###
#########################

LON_add_to_lon_council = {
	if = {
		limit = { NOT = { has_country_flag = lon_council_vote } }
		set_country_flag = lon_council_vote
		add_to_array = { global.LON_voters = THIS }
		if = {
			limit = { NOT = { tag = CAN } }
			diplomatic_relation = {
				country = CAN
				relation = non_aggression_pact
			}
		}
		hidden_effect = { add_ideas = LON_member }
	}
}

LON_create_array_of_potential_members = {
	every_country = {
		limit = {
			NOT = {
				OR = {
					has_government = totalist
					has_government = syndicalist
					has_government = national_populist
				}
			}
		}
		add_to_array = { global.LON_potential_lon_members = THIS }
	}
}

LON_add_to_security_council = {
	random_country = { 
		limit = { 
			has_idea = LON_member
			is_in_array = { global.LON_voters = FROM } 
			is_major = no 
		} 
		add_to_array = { global.LON_security_council = THIS }
		add_ideas = LON_security_council_minor_idea
		country_event = { id = leauge_of_nations.57 days = 2 }  
	}
}


LON_remove_from_lon_council = {
	remove_ideas = LON_member
	remove_from_array = { global.LON_voters = ROOT }
	if = {
		limit = {
			has_idea = LON_security_council_major_idea
		}
		random_country = { 
			limit = { 
				is_in_array = { global.LON_voters = FROM } 
				NOT = {
					has_country_flag = LON_temporary_sec_council_member
					has_idea = LON_security_council_major_idea
				}
			} 
			country_event = { id = leauge_of_nations.56 days = 2 } 
		}
		clr_country_flag = LON_temporary_sec_council_member
		remove_ideas = LON_security_council_minor_idea
		remove_from_array = { global.LON_security_council = ROOT }
	}
}
