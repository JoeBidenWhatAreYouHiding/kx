scripted_gui = {
	EUROPEAN_UNION_OVERVIEW = { #Economic Integration, Military Integration, Pressure value. All in percents except for pressure value. Hovering over these boxes will tell total factory count, total division count, pressure daily/monthly gain respectively.
		context_type = decision_category
		window_name = "EU_DECISION_GUI"
		
		ai_enabled = {
			#OR = {
			#	has_army_experience > 50
			#	has_navy_experience > 50
			#	has_air_experience > 50
			#}
			#political_power_daily > 1
			#num_of_civilian_factories_available_for_projects > 5
			#NOT = {
			#	has_global_flag = EUU_federalized
			#}
			always = yes
		}
		
		ai_weights = {
            EU_factories_button_click = {
                ai_will_do = {
                    factor = 0
                    
                    modifier = {
                        add = 20
						num_of_civilian_factories_available_for_projects > 15
						NOT = {
							check_variable = {
								var = THIS.EUU_civ_allocation_penalty
								value = 30
								compare = greater_than_or_equals
							}
						}
                    }
                }
            }
			EU_factories_button_right_click = {
                ai_will_do = {
                    factor = 0
                    
                    modifier = {
                        add = 20
                        
                        num_of_civilian_factories_available_for_projects < 15
                    }
                }
            }
			
			
			
			
			
			
			EU_pressure_button_click = {
                ai_will_do = {
                    factor = 0
                    
                    modifier = {
                        add = 20
                        
                        political_power_daily > 1
                    }
                }
            }
			EU_pressure_button_right_click = {
                ai_will_do = {
                    factor = 0
                    
                    modifier = {
                        add = 20
                        
                        political_power_daily < 1
                    }
                }
            }
			
			
			
			
			
			EU_army_button_click = {
                ai_will_do = {
                    factor = 0
                    
                    modifier = {
                        add = 10
                        
                        has_army_experience > 110
                    }
                }
            }
			
			EU_army_button_control_click = {
                ai_will_do = {
                    factor = 0
                    
                    modifier = {
                        add = 10
                        
                        has_navy_experience > 110
                    }
                }
            }
			
			EU_army_button_alt_click = {
                ai_will_do = {
                    factor = 0
                    
                    modifier = {
                        add = 10
                        
                        has_air_experience > 110
                    }
                }
            }
			
			EU_army_button_shift_click = {
                ai_will_do = {
                    factor = 0
                    
                    modifier = {
                        add = 10
                        
                        has_army_experience > 110
                        has_navy_experience > 110
                        has_air_experience > 110
                    }
                }
            }
			
        }
		
		ai_test_interval = 168
		
		effects = {
			EU_factories_button_click = {
				force_update_dynamic_modifier = yes
				if = {
					limit = {
						num_of_civilian_factories_available_for_projects > 0
						check_variable = {
							var = EUU_civ_allocation_penalty
							value = 30
							compare = less_than
						}
					}
					add_to_variable = {
						var = EUU_civ_allocation_penalty
						value = 1
					}
					EU_add_one_civ_to_total = yes

					clamp_variable = {
						var = EUU_civ_allocation_penalty
						min = 0
						max = 30
					}
				}
			}
			EU_factories_button_right_click = {
				force_update_dynamic_modifier = yes
				
				if = {
					limit = {
						check_variable = {
							var = EUU_civ_allocation_penalty
							value = 1
							compare = greater_than_or_equals
						}
					}
					subtract_from_variable = {
						var = EUU_civ_allocation_penalty
						value = 1
					}
					EU_remove_one_civ_to_total = yes
					clamp_variable = {
						var = EUU_civ_allocation_penalty
						min = 0
						max = 30
					}
				}
				
			}
		
			EU_pressure_button_click = {
				add_to_variable = {
					var = extra_pp_allocation
					value = 0.1
				}
				subtract_from_variable = {
					var = EUU_pp_allocation_penalty
					value = 0.1
				}
				clamp_variable = {
					var = extra_pp_allocation
					min = 0
					max = 0.5
				}
				clamp_variable = {
					var = EUU_pp_allocation_penalty
					min = -0.5
					max = 0
				}
			}
			EU_pressure_button_right_click = {
				subtract_from_variable = {
					var = extra_pp_allocation
					value = 0.1
				}
				add_to_variable = {
					var = EUU_pp_allocation_penalty
					value = 0.1
				}
				clamp_variable = {
					var = extra_pp_allocation
					min = 0
					max = 0.5
				}
				clamp_variable = {
					var = EUU_pp_allocation_penalty
					min = -0.5
					max = 0
				}
			}
			
			EU_army_button_click = {
				if = {
					limit = {
						has_army_experience > 9
					}
					army_experience = -10
					add_to_variable = {
						var = global.EU_army_xp_pool
						value = 10
					}
					EU_faction_do_military_integration = yes
				}
				
			}
			
			EU_army_button_control_click = {
				navy_experience = -10
				add_to_variable = {
					var = global.EU_army_xp_pool
					value = 10
				}
				EU_faction_do_military_integration = yes
			}
			
			EU_army_button_alt_click = {
				air_experience = -10
				add_to_variable = {
					var = global.EU_army_xp_pool
					value = 10
				}
				EU_faction_do_military_integration = yes
			}
			
			EU_army_button_shift_click = {
				army_experience = -10
				navy_experience = -10
				air_experience = -10
				add_to_variable = {
					var = global.EU_army_xp_pool
					value = 30
				}
				EU_faction_do_military_integration = yes
			}
			
			
			
		}
		
		triggers = {
			EU_pressure_button_right_click_enabled = {
				check_variable = {
					var = THIS.extra_pp_allocation
					value = 0
					compare = greater_than
				}
			}
			#EU_factories_button_click_enabled = {
			#	num_of_civilian_factories_available_for_projects > 0
			#}
			EU_army_button_click_enabled = {
				OR = {
					has_army_experience > 9
					has_navy_experience > 9
					has_air_experience > 9
				}
			}
			EU_army_button_control_click_enabled = {
				has_navy_experience > 9
			}
			EU_army_button_alt_click_enabled = {
				has_air_experience > 9
			}
			EU_army_button_shift_click_enabled = {
				AND = {
					has_army_experience > 9
					has_navy_experience > 9
					has_air_experience > 9
				}
			}
			
			
			EUU_member_entry_visible = {
				country_exists = THIS
				EUU_EU_member = yes
			}
			
			euumemberflag_frame_leader_visible = {
				tag = EUU
			}
			
			euumemberflag_frame_visible = {
				NOT = {
					tag = EUU
				}
			}
			
		}		
		
		dynamic_lists = {
			EUU_member_grid = {
				array = EUU.EUU_EU_members
				entry_container = EUU_member_entry
				change_scope = yes
			}
		}
		
		properties = {
			euumemberflag = {
				image = "[THIS.GetFlag]"
			}
		
			pie0 = { frame = pie_chart^0 }
			pie1 = { frame = pie_chart^1 }
			pie2 = { frame = pie_chart^2 }
			pie3 = { frame = pie_chart^3 }
			pie4 = { frame = pie_chart^4 }
			pie5 = { frame = pie_chart^5 }
			pie6 = { frame = pie_chart^6 }
			pie7 = { frame = pie_chart^7 }
			pie8 = { frame = pie_chart^8 }
			pie9 = { frame = pie_chart^9 }
			pie10 = { frame = pie_chart^10 }
			pie11 = { frame = pie_chart^11 }
			pie12 = { frame = pie_chart^12 }
			pie13 = { frame = pie_chart^13 }
			pie14 = { frame = pie_chart^14 }
			pie15 = { frame = pie_chart^15 }
			pie16 = { frame = pie_chart^16 }
			pie17 = { frame = pie_chart^17 }
			pie18 = { frame = pie_chart^18 }
			pie19 = { frame = pie_chart^19 }
			pie20 = { frame = pie_chart^20 }
			pie21 = { frame = pie_chart^21 }
			pie22 = { frame = pie_chart^22 }
			pie23 = { frame = pie_chart^23 }
			pie24 = { frame = pie_chart^24 }
			pie25 = { frame = pie_chart^25 }
			pie26 = { frame = pie_chart^26 }
			pie27 = { frame = pie_chart^27 }
			pie28 = { frame = pie_chart^28 }
			pie29 = { frame = pie_chart^29 }
			pie30 = { frame = pie_chart^30 }
			pie31 = { frame = pie_chart^31 }
			pie32 = { frame = pie_chart^32 }
			pie33 = { frame = pie_chart^33 }
			pie34 = { frame = pie_chart^34 }
			pie35 = { frame = pie_chart^35 }
			pie36 = { frame = pie_chart^36 }
			pie37 = { frame = pie_chart^37 }
			pie38 = { frame = pie_chart^38 }
			pie39 = { frame = pie_chart^39 }
			pie40 = { frame = pie_chart^40 }
			pie41 = { frame = pie_chart^41 }
			pie42 = { frame = pie_chart^42 }
			pie43 = { frame = pie_chart^43 }
			pie44 = { frame = pie_chart^44 }
			pie45 = { frame = pie_chart^45 }
			pie46 = { frame = pie_chart^46 }
			pie47 = { frame = pie_chart^47 }
			pie48 = { frame = pie_chart^48 }
			pie49 = { frame = pie_chart^49 }
			pie50 = { frame = pie_chart^50 }
			pie51 = { frame = pie_chart^51 }
			pie52 = { frame = pie_chart^52 }
			pie53 = { frame = pie_chart^53 }
			pie54 = { frame = pie_chart^54 }
			pie55 = { frame = pie_chart^55 }
			pie56 = { frame = pie_chart^56 }
			pie57 = { frame = pie_chart^57 }
			pie58 = { frame = pie_chart^58 }
			pie59 = { frame = pie_chart^59 }
			pie60 = { frame = pie_chart^60 }
			pie61 = { frame = pie_chart^61 }
			pie62 = { frame = pie_chart^62 }
			pie63 = { frame = pie_chart^63 }
			pie64 = { frame = pie_chart^64 }
			pie65 = { frame = pie_chart^65 }
			pie66 = { frame = pie_chart^66 }
			pie67 = { frame = pie_chart^67 }
			pie68 = { frame = pie_chart^68 }
			pie69 = { frame = pie_chart^69 }
			pie70 = { frame = pie_chart^70 }
			pie71 = { frame = pie_chart^71 }
			pie72 = { frame = pie_chart^72 }
			pie73 = { frame = pie_chart^73 }
			pie74 = { frame = pie_chart^74 }
			pie75 = { frame = pie_chart^75 }
			pie76 = { frame = pie_chart^76 }
			pie77 = { frame = pie_chart^77 }
			pie78 = { frame = pie_chart^78 }
			pie79 = { frame = pie_chart^79 }
			pie80 = { frame = pie_chart^80 }
			pie81 = { frame = pie_chart^81 }
			pie82 = { frame = pie_chart^82 }
			pie83 = { frame = pie_chart^83 }
			pie84 = { frame = pie_chart^84 }
			pie85 = { frame = pie_chart^85 }
			pie86 = { frame = pie_chart^86 }
			pie87 = { frame = pie_chart^87 }
			pie88 = { frame = pie_chart^88 }
			pie89 = { frame = pie_chart^89 }
			pie90 = { frame = pie_chart^90 }
			pie91 = { frame = pie_chart^91 }
			pie92 = { frame = pie_chart^92 }
			pie93 = { frame = pie_chart^93 }
			pie94 = { frame = pie_chart^94 }
			pie95 = { frame = pie_chart^95 }
			pie96 = { frame = pie_chart^96 }
			pie97 = { frame = pie_chart^97 }
			pie98 = { frame = pie_chart^98 }
			pie99 = { frame = pie_chart^99 }
		}
	}
	
	
	EUROPEAN_UNION_INFLUENCE = {
		context_type = player_context
		#parent_window_token = top_bar
		window_name = "EUU_influence_menu_container"
		
		visible = {
			has_country_flag = EUU_influence_menu_open
		}
		
		triggers = {

			EUU_influence_close_click_enabled = {
				has_country_flag = EUU_influence_menu_open
			}
			
			EUU_add_to_EU_click_enabled = {
				EU_sufficient_invitee_pressure = yes
			}
			
			EUU_submit_click_enabled = {
				NOT = {
					check_variable = {
						var = EUM.influence_to_add
						value = 0
						compare = less_than_or_equals
					}
					check_variable = {
						var = EUM.influence_to_add
						value = global.EU_pressure_value
						compare = greater_than
					}
				}
			}
			
			EUU_influence_subtract_click_enabled = {
				NOT = {
					check_variable = {
						var = EUM.influence_to_add
						value = 1
						compare = less_than
					}
				}
			}
			
			EUU_influence_subtract_control_click_enabled = {
				NOT = {
					check_variable = {
						var = EUM.influence_to_add
						value = 10
						compare = less_than
					}
				}
			}
			
			EUU_influence_subtract_shift_click_enabled = {
				NOT = {
					check_variable = {
						var = EUM.influence_to_add
						value = 100
						compare = less_than
					}
				}
			}
			
			EUU_influence_subtract_control_shift_click_enabled = {
				NOT = {
					check_variable = {
						var = EUM.influence_to_add
						value = 1000
						compare = less_than
					}
				}
			}
			
			
			
			EUU_influence_add_click_enabled = {
				NOT = {
					check_variable = {
						var = global.influence_one
						value = global.EU_pressure_value
						compare = greater_than
					}
				}
			}
			
			EUU_influence_add_control_click_enabled = {
				NOT = {
					check_variable = {
						var = global.influence_ten
						value = global.EU_pressure_value
						compare = greater_than
					}
				}
			}
			
			EUU_influence_add_shift_click_enabled = {
				NOT = {
					check_variable = {
						var = global.influence_hundred
						value = global.EU_pressure_value
						compare = greater_than
					}
				}
			}
			
			EUU_influence_add_control_shift_click_enabled = {
				NOT = {
					check_variable = {
						var = global.influence_thousand
						value = global.EU_pressure_value
						compare = greater_than
					}
				}
			}
			
		}
		effects = {
			EUU_influence_close_click = {
				EUU_close_influence_menu = yes
			}
			EUU_submit_click = {
				EUU_add_pressure_to_nation = yes
			}
			EUU_influence_subtract_click = {
				EUU_subtract_one_pressure_counter = yes
			}
			EUU_influence_subtract_control_click = {
				EUU_subtract_ten_pressure_counter = yes
			}
			EUU_influence_subtract_shift_click = {
				EUU_subtract_hundred_pressure_counter = yes
			}
			EUU_influence_subtract_control_shift_click = {
				EUU_subtract_thousand_pressure_counter = yes
			}
			
			EUU_influence_add_click = {
				EUU_add_one_pressure_counter = yes
			}
			EUU_influence_add_control_click = {
				EUU_add_ten_pressure_counter = yes
			}
			EUU_influence_add_shift_click = {
				EUU_add_hundred_pressure_counter = yes
			}
			EUU_influence_add_control_shift_click = {
				EUU_add_thousand_pressure_counter = yes
			}
			
			EUU_add_to_EU_click = {
				EUM = {
					country_event = {
						id = bdeeu.1
					}
				}
			
				EUU_close_influence_menu = yes
			}
		}
		properties = {
			euuflag = {
				image = "[get_euuflag_gfx]"
			}
		}
	}
}