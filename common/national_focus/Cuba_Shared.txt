###########################
###Cuban Shared Focuses ###
###########################
###	By Pietrus	###
###########################

###Base Tree
#Political

shared_focus = {
	id = CUB_general_election
	icon = GFX_goal_generic_elections
	x = 8
	y = 0
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass1_tooltip
		}
	}

	bypass = {
		OR = {
			has_country_flag = trejo_elected
			has_country_flag = barnet_elected
			has_country_flag = mendieta_elected
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_general_election"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_havana_strike
	icon = GFX_RUS_General_Strike
	x = 0
	y = 1
	cost = 1
	relative_position_id = CUB_general_election

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass2_tooltip
		}
	}

	bypass = {
		has_country_flag = CUB_start_havana_revolt
	}

	prerequisite = {
		focus = CUB_general_election
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_havana_strike"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}
shared_focus = {
	id = CUB_chaos
	icon = GFX_goal_CSA_emergency_powers
	x = -3
	y = 2
	relative_position_id = CUB_general_election
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass3_tooltip
		}
	}

	bypass = {
		has_country_flag = CUB_general_chaos
	}

	prerequisite = {
		focus = CUB_havana_strike
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_chaos"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_strike_crushed
	icon = GFX_goal_UMN_strikebreakers
	x = 3
	y = 2
	relative_position_id = CUB_general_election
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass4_tooltip
		}
	}

	bypass = {
		has_country_flag = CUB_crushed_general_strike
	}

	prerequisite = {
		focus = CUB_havana_strike
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_strike_crushed"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_order_restored
	icon = GFX_RUS_Condemn_Radicalism
	x = -1
	y = 3
	relative_position_id = CUB_general_election
	cost = 1

	prerequisite = {
		focus = CUB_chaos
	}
	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass5_tooltip
		}
	}
	bypass = {
		OR = {
			has_country_flag = CUB_crushed_general_strike_mil
			hidden_trigger = {
				has_country_flag = CUB_milcoup_flag
			}
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_order_restored"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_tamayo_steps_in
	icon = GFX_RUS_Destroy_Democracy
	x = -1
	y = 4
	relative_position_id = CUB_general_election
	cost = 1
	prerequisite = {
		focus = CUB_order_restored
	}

	ai_will_do = {
		factor = 15
	}

	bypass = {
		hidden_trigger = {
			has_country_flag = CUB_milcoup_flag
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_tamayo_steps_in"
		set_country_flag = CUB_mildirectrule

		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		add_popularity = {
			ideology = national_populist
			popularity = -0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.05
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.15
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.10
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_strike_expands
	icon = GFX_RUS_Fighting_Reactionaries
	x = -5
	y = 3
	relative_position_id = CUB_general_election
	cost = 1

	prerequisite = {
		focus = CUB_chaos
	}
	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass6_tooltip
		}
	}
	bypass = {
		has_country_flag = CUB_strike_success
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_strike_expands"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}
shared_focus = {
	id = CUB_leftists
	icon = GFX_goal_CSA_centralised_syndicalism
	x = -7
	y = 4
	relative_position_id = CUB_general_election
	cost = 1
	mutually_exclusive = {
		focus = CUB_march_on_havana
	}
	prerequisite = {
		focus = CUB_strike_expands
	}
	available = {
		has_country_flag = CUB_socialists_consolidate
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_leftists"
		country_event = cuba.9
	}
}

shared_focus = {
	id = CUB_coalition_and_conflict
	icon = GFX_RUS_Fissures_Among_Mensheviks
	x = -7
	y = 5
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_leftists
	}
	available = {
		has_government = syndicalist
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_coalition_and_conflict"
		country_event = cuba.10
	}
}
shared_focus = {
	id = CUB_agrarianism
	icon = GFX_goal_MEX_Agrarian_Foundation
	x = -8
	y = 6
	relative_position_id = CUB_general_election
	cost = 5
	mutually_exclusive = {
		focus = CUB_syndic_indust
	}
	prerequisite = {
		focus = CUB_coalition_and_conflict
	}
	available = {
		custom_trigger_tooltip = {
			OR = {
				has_country_flag = no_congress_mellacoup
				has_country_flag = radsoccongvic
				has_country_flag = CUB_radsoccoup
				AND = {
					has_country_flag = totalistcongvic
					has_country_flag = mella_back
				}
			}
			tooltip = cubagrarianismindust_tooltip
		}
		has_socialist_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_agrarianism"
		country_event = cuba.11
	}
}

shared_focus = {
	id = CUB_syndic_indust
	icon = GFX_RUS_Cautious_Industrialization
	x = -6
	y = 6
	relative_position_id = CUB_general_election
	cost = 5
	mutually_exclusive = {
		focus = CUB_agrarianism
	}
	prerequisite = {
		focus = CUB_coalition_and_conflict
	}
	available = {
		custom_trigger_tooltip = {
			OR = {
				has_country_flag = syndiecongvic
				has_country_flag = no_congress
				AND = {
					has_country_flag = totalistcongvic
					NOT = {
						has_country_flag = mella_back
					}
				}
			}
			tooltip = cubagrarianismindust_tooltip
		}
		has_socialist_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndic_indust"
		country_event = cuba.12
	}
}

shared_focus = {
	id = CUB_seize_assets
	icon = GFX_focus_rus_industry
	x = -7
	y = 7
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_syndic_indust
		focus = CUB_agrarianism
	}
	available = {
		has_socialist_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_seize_assets"
		country_event = cuba.51
	}
}

shared_focus = {
	id = CUB_land_reform
	icon = GFX_RUS_Land_Socialization
	x = -7
	y = 8
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_seize_assets
	}
	available = {
		has_socialist_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_land_reform"
		add_stability = 0.05
		if = {
			limit = {
				has_idea = CUB_modsyndagr
			}
			swap_ideas = {
				remove_idea = CUB_modsyndagr
				add_idea = CUB_modsyndagr_2
			}
		}
		else_if = {
			limit = {
				has_idea = CUB_extsyndagr
			}
			swap_ideas = {
				remove_idea = CUB_extsyndagr
				add_idea = CUB_extsyndagr_2
			}
		}
		else_if = {
			limit = {
				has_idea = CUB_modsyndindust
			}
			swap_ideas = {
				remove_idea = CUB_modsyndindust
				add_idea = CUB_modsyndindust_2
			}
		}
		else_if = {
			limit = {
				has_idea = CUB_extsyndindust
			}
			swap_ideas = {
				remove_idea = CUB_extsyndindust
				add_idea = CUB_extsyndindust_2
			}
		}
		else_if = {
			limit = {
				NOT = {
					has_idea = CUB_modsyndindust
					has_idea = CUB_extsyndindust
					has_idea = CUB_modsyndagr
					has_idea = CUB_extsyndagr
				}
			}
			custom_effect_tooltip = cublandref_tooltip
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_MANPOWER }
}

shared_focus = {
	id = CUB_collect_ind
	icon = GFX_RUS_Labour_Collectives
	x = -7
	y = 9
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_land_reform
	}
	available = {
		has_socialist_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_collect_ind"
		if = {
			limit  = {
				has_idea = CUB_double_dip
			}
			swap_ideas = {
				remove_idea = CUB_double_dip
				add_idea = CUB_recovering
			}
		}
		else_if = {
			limit  = {
				NOT = {
					has_idea = CUB_recovering
					has_idea = CUB_double_dip
				}
			}
			custom_effect_tooltip = cublaborrelief_tooltip
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 315
					state = 820
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_econ_integrate
	icon = GFX_goal_CSA_economy_of_scale
	x = -7
	y = 10
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_collect_ind
	}
	available = {
		has_socialist_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_econ_integrate"
		if = {
			limit = {
				has_idea = CUB_recovering
			}
			remove_ideas = CUB_recovering
			add_timed_idea = {
				idea = CUB_recovering_2
				days = 270
			}
		}
		else = {
			custom_effect_tooltip = cublaborrelief_tooltip
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_red_nation
	icon = GFX_goal_CZE_red_autonomism
	x = -7
	y = 11
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_econ_integrate
	}
	available = {
		has_socialist_government = yes
		has_completed_focus = CUB_crush_reactionaries
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_red_nation"
		add_ideas = CUB_rev_society
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_protect_revolution
	icon = GFX_goal_CSA_protect_working_class
	x = -5
	y = 8
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_seize_assets
	}
	available = {
		has_socialist_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_protect_revolution"
		country_event = cuba.47
	}
}

shared_focus = {
	id = CUB_crush_reactionaries
	icon = GFX_goal_CSA_overwhelm_reactionaries
	x = -5
	y = 9
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_protect_revolution
	}
	available = {
		has_socialist_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_crush_reactionaries"
		add_political_power = -150
		if = {
			limit = {
				has_government = totalist
			}
			add_popularity = {
				ideology = social_democrat
				popularity = -0.10
			}
			add_popularity = {
				ideology = social_liberal
				popularity = -0.10
			}
			add_popularity = {
				ideology = market_liberal
				popularity = -0.10
			}
			add_popularity = {
				ideology = social_conservative
				popularity = -0.10
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = -0.10
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = -0.10
			}
			add_popularity = {
				ideology = national_populist
				popularity = -0.10
			}
			else = {
				add_popularity = {
					ideology = social_liberal
					popularity = -0.10
				}
				add_popularity = {
					ideology = market_liberal
					popularity = -0.10
				}
				add_popularity = {
					ideology = social_conservative
					popularity = -0.10
				}
				add_popularity = {
					ideology = authoritarian_democrat
					popularity = -0.10
				}
				add_popularity = {
					ideology = paternal_autocrat
					popularity = -0.10
				}
				add_popularity = {
					ideology = national_populist
					popularity = -0.10
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_march_on_havana
	icon = GFX_goal_CUB_March_on_Havana
	x = -3
	y = 4
	relative_position_id = CUB_general_election
	cost = 1
	mutually_exclusive = {
		focus = CUB_leftists
	}
	prerequisite = {
		focus = CUB_strike_expands
	}
	available = {
		has_country_flag = CUB_natpop_march
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_march_on_havana"
		country_event = cuba.53
	}
}

shared_focus = {
	id = CUB_the_siege
	icon = GFX_RUS_Ban_All_Socialist_Parties
	x = -2
	y = 5
	relative_position_id = CUB_general_election
	cost = 2
	prerequisite = {
		focus = CUB_march_on_havana
	}
	available = {
		has_government = national_populist
		has_country_leader = {
			name = "Ramón Grau San Martín"
			ruling_only = yes
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_the_siege"
		country_event = cuba.68
	}
}

shared_focus = {
	id = CUB_national_and_social
	icon = GFX_RUS_Partial_Nationalization
	x = -4
	y = 5
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_march_on_havana
	}
	available = {
		has_government = national_populist
		has_country_leader = {
			name = "Ramón Grau San Martín"
			ruling_only = yes
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_national_and_social"
		country_event = cuba.54
	}
}

shared_focus = {
	id = CUB_cuba_for_cubans
	icon = GFX_goal_NFA_army_merger
	x = -3
	y = 6
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_national_and_social
	}
	prerequisite = {
		focus = CUB_the_siege
	}
	available = {
		has_government = national_populist
		has_country_leader = {
			name = "Ramón Grau San Martín"
			ruling_only = yes
		}
		custom_trigger_tooltip = {
			AND = {
				OR = {
					has_country_flag = CUB_natsseizedstuff
					has_idea = CUB_natplantdeal
				}
				OR = {
					has_country_flag = CUB_stormed_embassy
					has_country_flag = CUB_nostorm
				}
			}
			tooltip = forthecubans_tooltip
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_cuba_for_cubans"
		country_event = cuba.70
	}
}

shared_focus = {
	id = CUB_red_coats
	icon = GFX_RUS_Arm_The_Combat_Squads
	x = -4
	y = 7
	relative_position_id = CUB_general_election
	cost = 5
	mutually_exclusive = {
		focus = CUB_mass_action
	}
	prerequisite = {
		focus = CUB_cuba_for_cubans
	}
	available = {
		has_government = national_populist
		has_country_leader = {
			name = "Ramón Grau San Martín"
			ruling_only = yes
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_red_coats"
		add_ideas = CUB_npop_Greenshirts_est
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_mass_action
	icon = GFX_RUS_Corporatist_Lean
	x = -2
	y = 7
	relative_position_id = CUB_general_election
	cost = 5
	mutually_exclusive = {
		focus = CUB_red_coats
	}
	prerequisite = {
		focus = CUB_cuba_for_cubans
	}
	available = {
		has_government = national_populist
		has_country_leader = {
			name = "Ramón Grau San Martín"
			ruling_only = yes
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mass_action"
		add_ideas = CUB_mass_act_est
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER }
}

shared_focus = {
	id = CUB_authentic_youth
	icon = GFX_goal_CZE_youth_service
	x = -3
	y = 8
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_red_coats
		focus = CUB_mass_action
	}
	available = {
		has_government = national_populist
		has_country_leader = {
			name = "Ramón Grau San Martín"
			ruling_only = yes
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authentic_youth"
		if = {
			limit  = {
				has_idea = CUB_mass_act_est
			}
			swap_ideas = {
				remove_idea = CUB_mass_act_est
				add_idea = CUB_mass_act_edu
			}
		}
		else_if = {
			limit  = {
				has_idea = CUB_npop_Greenshirts_est
			}
			swap_ideas = {
				remove_idea = CUB_npop_Greenshirts_est
				add_idea = CUB_npop_Greenshirts_edu
			}
		}
		else_if = {
			limit  = {
				NOT = {
					has_idea = CUB_npop_Greenshirts_est
					has_idea = CUB_mass_act_est
				}
			}
			custom_effect_tooltip = cubauthenticedu_tooltip
		}
		add_war_support = 0.1
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_collaborativism
	icon = GFX_MAF_rights_of_ascociation
	x = -3
	y = 9
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_authentic_youth
	}
	available = {
		has_government = national_populist
		has_country_leader = {
			name = "Ramón Grau San Martín"
			ruling_only = yes
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_collaborativism"
		if = {
			limit  = {
				has_idea = CUB_double_dip
			}
			swap_ideas = {
				remove_idea = CUB_double_dip
				add_idea = CUB_recovering
			}
		}
		else_if = {
			limit  = {
				NOT = {
					has_idea = CUB_recovering
					has_idea = CUB_double_dip
				}
			}
			custom_effect_tooltip = cublaborrelief_tooltip
		}
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_infrastructural_equity
	icon = GFX_goal_KIV_develop_rural
	x = -3
	y = 10
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_collaborativism
	}
	available = {
		has_government = national_populist
		has_country_leader = {
			name = "Ramón Grau San Martín"
			ruling_only = yes
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_infrastructural_equity"
		if = {
			limit = {
				has_idea = CUB_recovering
			}
			swap_ideas = {
				remove_idea = CUB_recovering
				add_idea = CUB_eqindidea
			}
			add_timed_idea = {
				idea = CUB_recovering_2
				days = 270
			}
		}
		else = {
			custom_effect_tooltip = cublaborrelief_tooltip
			add_ideas = CUB_eqindidea
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_emergency_powers
	icon = GFX_goal_ARZ_Eternal_Emergency
	x = 1
	y = 3
	relative_position_id = CUB_general_election
	cost = 1
	mutually_exclusive = {
		focus = CUB_appease_strikers
	}
	prerequisite = {
		focus = CUB_strike_crushed
	}
	available = {
		has_country_flag = CUB_enacted_emergency_powers
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_emergency_powers"
		swap_ideas = {
			remove_idea = CUB_strike_destroyed
			add_idea = CUB_emergency_powersidea
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_appoint_tamayo
	icon = GFX_goal_NFA_military_supremacy
	x = 1
	y = 4
	relative_position_id = CUB_general_election
	cost = 2
	prerequisite = {
		focus = CUB_emergency_powers
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_appoint_tamayo"
		country_event = cuba.80
	}
}

shared_focus = {
	id = CUB_suspend_constitution
	icon = GFX_goal_NFA_rewrite_constitution
	x = 0
	y = 5
	relative_position_id = CUB_general_election
	cost = 5
	mutually_exclusive = {
		focus = CUB_new_elections
	}
	prerequisite = {
		focus = CUB_appoint_tamayo
		focus = CUB_tamayo_steps_in
		focus = CUB_presidential_guard
	}

	available = {
		OR = {
			has_country_flag = CUB_presgcoup
			has_country_flag = CUB_diazauthdem
			has_country_flag = CUB_mildirectrule
			has_country_flag = CUB_USpuppet
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_suspend_constitution"
		country_event = cuba.78
	}
}

shared_focus = {
	id = CUB_subjugate_unions
	icon = GFX_goal_TEX_outlaw_union
	x = 0
	y = 6
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_suspend_constitution
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_subjugate_unions"
		if = {
			limit = {
				has_government = authoritarian_democrat
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.05
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.15
			}
		}
		else = {
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.15
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.05
			}
		}
	}
}

shared_focus = {
	id = CUB_tamayo_industry
	icon = GFX_RUS_State_Regulation_Act
	x = 0
	y = 7
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_subjugate_unions
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_tamayo_industry"
		if = {
			limit  = {
				has_idea = CUB_double_dip
			}
			swap_ideas = {
				remove_idea = CUB_double_dip
				add_idea = CUB_recovering
			}
		}
		else_if = {
			limit  = {
				NOT = {
					has_idea = CUB_recovering
					has_idea = CUB_double_dip
				}
			}
			custom_effect_tooltip = cublaborrelief_tooltip
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_urbanisation_effort
	icon = GFX_goal_KIV_urban
	x = -1
	y = 8
	relative_position_id = CUB_general_election
	cost = 5
	mutually_exclusive = {
		focus = CUB_chicago_boys
	}
	prerequisite = {
		focus = CUB_tamayo_industry
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_urbanisation_effort"
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_incent_foreign_invest
	icon = GFX_goal_generic_foreign_investments
	x = -1
	y = 9
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_urbanisation_effort
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_incent_foreign_invest"
		if = {
			limit = {
				has_idea = CUB_recovering
			}
			remove_ideas = CUB_recovering
			add_timed_idea = {
				idea = CUB_recovering_2
				days = 270
			}
		}
		if = {
			limit = {
				OR = {
					has_idea = CUB_partial_great_depression
					has_idea = CUB_double_dip
				}
			}
			custom_effect_tooltip = cublaborrelief_tooltip
		}
		add_ideas = CUB_forinvestidea
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_crackdown
	icon = GFX_goal_RUS_fight_corruption
	x = -1
	y = 10
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_incent_foreign_invest
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_crackdown"
		add_ideas = CUB_corruption_elim
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_industrial_nation
	icon = GFX_goal_MAF_allign_industrialists
	x = -2
	y = 11
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_crackdown
		focus = CUB_infrastructural_equity
	}
	available = {
		has_authoritarian_government = yes
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_industrial_nation"
		add_ideas = CUB_industcountry
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_chicago_boys
	icon = GFX_goal_NYC_criminal_empire
	x = 1
	y = 8
	relative_position_id = CUB_general_election
	cost = 5
	mutually_exclusive = {
		focus = CUB_urbanisation_effort
	}
	prerequisite = {
		focus = CUB_tamayo_industry
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_chicago_boys"
		country_event = cuba.79
	}
}

shared_focus = {
	id = CUB_foreign_vices
	icon = GFX_RUS_Foreign_Investments
	x = 1
	y = 9
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_chicago_boys
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_foreign_vices"
		if = {
			limit = {
				has_idea = CUB_recovering
			}
			remove_ideas = CUB_recovering
			add_timed_idea = {
				idea = CUB_recovering_2
				days = 270
			}
		}
		if = {
			limit = {
				OR = {
					has_idea = CUB_partial_great_depression
					has_idea = CUB_double_dip
				}
			}
			custom_effect_tooltip = cublaborrelief_tooltip
		}
		add_ideas = CUB_forvice
	}
}

shared_focus = {
	id = CUB_international_capital
	icon = GFX_goal_WCC_side_with_capital
	x = 1
	y = 10
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_foreign_vices
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_international_capital"
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_appease_strikers
	icon = GFX_TRM_Appease_Workers
	x = 5
	y = 3
	relative_position_id = CUB_general_election
	cost = 1
	mutually_exclusive = {
		focus = CUB_emergency_powers
	}
	prerequisite = {
		focus = CUB_strike_crushed
	}
	available = {
		has_country_flag = CUB_no_emergency_powers
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_appease_strikers"
		swap_ideas = {
			remove_idea = CUB_strike_destroyed
			add_idea = CUB_strikers_appeased
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_presidential_guard
	icon = GFX_RUS_Presidents_Mainstay
	x = 3
	y = 4
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_appease_strikers
	}

	available = {
		custom_trigger_tooltip = {
			AND = {
				has_country_flag = CUB_demreform1
				has_country_flag = CUB_demreform2
			}
			tooltip = bypasspresg_tooltip
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_presidential_guard"
		add_stability = 0.05
		add_ideas = CUB_presiguard
		hidden_effect = {
			country_event = {
				id = cuba.74
				days = 14
			}
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_STABILITY }
}
shared_focus = {
	id = CUB_negotiate_tariffs
	icon = GFX_goal_NFA_merchant_marine
	x = 5
	y = 4
	relative_position_id = CUB_general_election
	cost = 2
	prerequisite = {
		focus = CUB_appease_strikers
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_negotiate_tariffs"
		set_country_flag = CUB_demreform2
		if = {
			limit = {
				has_completed_focus = CUB_labor_relief
				has_idea = CUB_strikers_appeased
			}
			remove_ideas = CUB_strikers_appeased
		}
		USA = {
			country_event = {
				id = cuba.71
				days = 1
			}
		}
	}
}

shared_focus = {
	id = CUB_labor_relief
	icon = GFX_goal_TEX_loyal_labor
	x = 7
	y = 4
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_appease_strikers
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_labor_relief"
		set_country_flag = CUB_demreform1
		if = {
			limit = {
				has_completed_focus = CUB_negotiate_tariffs
				has_idea = CUB_strikers_appeased
			}
			remove_ideas = CUB_strikers_appeased
		}
		if = {
			limit  = {
				has_idea = CUB_recovering
			}
			remove_ideas = CUB_recovering
			add_timed_idea = {
				idea = CUB_recovering_2
				days = 270
			}
		}
		if = {
			limit  = {
				has_idea = CUB_double_dip
			}
			swap_ideas = {
				remove_idea = CUB_double_dip
				add_idea = CUB_recovering
			}
		}
		if = {
			limit  = {
				NOT = {
					has_idea = CUB_recovering
					has_idea = CUB_double_dip
				}
			}
			custom_effect_tooltip = cublaborrelief_tooltip
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_new_elections
	icon = GFX_goal_LIC_elections
	x = 5
	y = 5
	relative_position_id = CUB_general_election
	cost = 3
	mutually_exclusive = {
		focus = CUB_suspend_constitution
	}
	prerequisite = {
		focus = CUB_labor_relief
	}
	prerequisite = {
		focus = CUB_negotiate_tariffs
	}
	prerequisite = {
		focus = CUB_presidential_guard
	}

	available = {
		has_country_flag = CUB_failpresgcoup
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_new_elections"
		country_event = cuba.75
	}
}

shared_focus = {
	id = CUB_republican_victory
	icon = GFX_goal_ideology_market_liberal
	x = 3
	y = 6
	relative_position_id = CUB_general_election
	cost = 1
	prerequisite = {
		focus = CUB_new_elections
	}
	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass7_tooltip
		}
	}
	bypass = {
		has_country_flag = republicanovicelectwo
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_republican_victory"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_dereg_financial
	icon = GFX_MAF_workplace_regulations
	x = 2
	y = 7
	relative_position_id = CUB_general_election
	cost = 5
	mutually_exclusive = {
		focus = CUB_invite_multi_finan
	}
	prerequisite = {
		focus = CUB_republican_victory
	}
	available = {
		has_government = market_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_dereg_financial"
		add_political_power = 35
		add_ideas = CUB_finandereg
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_invite_multi_finan
	icon = GFX_goal_MEX_open_markets_for_entente
	x = 4
	y = 7
	relative_position_id = CUB_general_election
	cost = 5
	mutually_exclusive = {
		focus = CUB_dereg_financial
	}
	prerequisite = {
		focus = CUB_republican_victory
	}
	available = {
		has_government = market_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_invite_multi_finan"
		add_political_power = 35
		add_ideas = CUB_multinafin
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_slash_corp_tax
	icon = GFX_GRU_CONS_TAX_CUT
	x = 3
	y = 8
	cost = 5
	relative_position_id = CUB_general_election
	prerequisite = {
		focus = CUB_dereg_financial
		focus = CUB_invite_multi_finan
	}
	available = {
		has_government = market_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_slash_corp_tax"
		add_political_power = 35
		if = {
			limit = {
				has_idea = CUB_multinafin
			}
			swap_ideas = {
				remove_idea = CUB_multinafin
				add_idea = CUB_corpslash
			}
		}
		if = {
			limit = {
				has_idea = CUB_finandereg
			}
			swap_ideas = {
				remove_idea = CUB_finandereg
				add_idea = CUB_corpslashtwo
			}
		}
		if = {
			limit = {
				NOT = {
					has_idea = CUB_finandereg
					has_idea = CUB_multinafin
				}
			}
			custom_effect_tooltip = cubplant_tooltip
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_reduce_subsidy
	icon = GFX_goal_TEX_union_subsidy
	x = 3
	y = 9
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_slash_corp_tax
	}
	available = {
		has_government = market_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_reduce_subsidy"
		add_political_power = 35
		if = {
			limit = {
				has_idea = CUB_corpslash
			}
			swap_ideas = {
				remove_idea = CUB_corpslash
				add_idea = CUB_redsub
			}
		}
		else = {
			swap_ideas = {
				remove_idea = CUB_corpslashtwo
				add_idea = CUB_redsubtwo
			}
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_free_society
	icon = GFX_goal_CZE_defend_freedom
	x = 3
	y = 10
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_reduce_subsidy
	}
	available = {
		has_government = market_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_free_society"
		add_political_power = 35
		if = {
			limit = {
				has_idea = CUB_redsub
			}
			swap_ideas = {
				remove_idea = CUB_redsub
				add_idea = CUB_freesocidea
			}
		}
		else = {
			swap_ideas = {
				remove_idea = CUB_redsubtwo
				add_idea = CUB_freesocideatwo
			}
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_commercial_nation
	icon = GFX_RUS_Encourage_Private_Property
	x = 2
	y = 11
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_international_capital
		focus = CUB_free_society
	}
	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
			has_government = market_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_commercial_nation"
		add_ideas = CUB_comnatidea
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_coalition_victory
	icon = GFX_goal_ideology_social_liberal
	x = 6
	y = 6
	relative_position_id = CUB_general_election
	cost = 1
	prerequisite = {
		focus = CUB_new_elections
	}

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass71_tooltip
		}
	}
	bypass = {
		has_country_flag = liberalvicelectwo
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_coalition_victory"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_modernise_plantations
	icon = GFX_goal_plantation_grants
	x = 6
	y = 7
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_coalition_victory
	}
	available = {
		has_government = social_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_modernise_plantations"
		add_political_power = 35
		add_ideas = CUB_plantamodern
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_prom_immigration
	icon = GFX_NEE_immigrant_aid
	x = 6
	y = 8
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_modernise_plantations
	}
	available = {
		has_government = social_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_prom_immigration"
		add_political_power = 35
		swap_ideas = {
			remove_idea = CUB_plantamodern
			add_idea = CUB_ampleworkers
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_foreign_agr_experts
	icon = GFX_RUS_Agriculture_Secure_Council
	x = 5
	y = 9
	relative_position_id = CUB_general_election
	cost = 5
	mutually_exclusive = {
		focus = CUB_agr_uni
	}
	prerequisite = {
		focus = CUB_prom_immigration
	}
	available = {
		has_government = social_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_foreign_agr_experts"
		add_political_power = 35
		swap_ideas = {
			remove_idea = CUB_ampleworkers
			add_idea = CUB_foragrexp
		}
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_agr_uni
	icon = GFX_goal_UMN_university
	x = 7
	y = 9
	relative_position_id = CUB_general_election
	cost = 5
	mutually_exclusive = {
		focus = CUB_foreign_agr_experts
	}
	prerequisite = {
		focus = CUB_prom_immigration
	}
	available = {
		has_government = social_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_agr_uni"
		add_political_power = 35
		swap_ideas = {
			remove_idea = CUB_ampleworkers
			add_idea = CUB_agun
		}
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_agr_sup_industries
	icon = GFX_RUS_Agricultural_Adjustment_Act
	x = 6
	y = 10
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_foreign_agr_experts
		focus = CUB_agr_uni
	}
	available = {
		has_government = social_liberal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_agr_sup_industries"
		add_political_power = 35
		if = {
			limit = {
				has_idea = CUB_foragrexp
			}
			swap_ideas = {
				remove_idea = CUB_foragrexp
				add_idea = CUB_agrsup
			}
		}
		else_if = {
			limit = {
				has_idea = CUB_agun
			}
			swap_ideas = {
				remove_idea = CUB_agun
				add_idea = CUB_agrsup_2
			}
		}
		else_if = {
			limit = {
				NOT = {
					has_idea = CUB_foragrexp
					has_idea = CUB_agun
				}
			}
			custom_effect_tooltip = cubagrsup_tooltip
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_export_nation
	icon = GFX_goal_CZE_export_work
	x = 7
	y = 11
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_agr_sup_industries
		focus = CUB_ind_exports
	}
	available = {
		OR = {
			has_government = social_liberal
			has_government = social_democrat
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_export_nation"
		add_ideas = CUB_exportcidea
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_unionista_victory
	icon = GFX_goal_ideology_social_democrat
	x = 9
	y = 6
	relative_position_id = CUB_general_election
	cost = 1
	prerequisite = {
		focus = CUB_new_elections
	}

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass72_tooltip
		}
	}
	bypass = {
		has_country_flag = unionistavicelectwo
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_unionista_victory"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}
shared_focus = {
	id = CUB_public_works
	icon = GFX_NEE_public_kickbacks
	x = 9
	y = 7
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_unionista_victory
	}
	available = {
		has_government = social_democrat
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_public_works"
		add_political_power = 35
		add_ideas = CUB_pubworkidea
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_priv_pub_joint_ven
	icon = GFX_NEE_swaying_public_opinion
	x = 8
	y = 8
	relative_position_id = CUB_general_election
	cost = 5
	mutually_exclusive = {
		focus = CUB_inc_subsidies
	}
	prerequisite = {
		focus = CUB_public_works
	}
	available = {
		has_government = social_democrat
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_priv_pub_joint_ven"
		add_political_power = 35
		swap_ideas = {
			remove_idea = CUB_pubworkidea
			add_idea = CUB_privpubidea
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_inc_subsidies
	icon = GFX_subsidiselabourmovement
	x = 10
	y = 8
	relative_position_id = CUB_general_election
	cost = 5
	mutually_exclusive = {
		focus = CUB_priv_pub_joint_ven
	}
	prerequisite = {
		focus = CUB_public_works
	}
	available = {
		has_government = social_democrat
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_inc_subsidies"
		add_political_power = 35
		swap_ideas = {
			remove_idea = CUB_pubworkidea
			add_idea = CUB_goodsubidea
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_intermed_indust
	icon = GFX_RUS_Industrial_Draft_Scheme
	x = 9
	y = 9
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_priv_pub_joint_ven
		focus = CUB_inc_subsidies
	}
	available = {
		has_government = social_democrat
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_intermed_indust"
		add_political_power = 35
		if = {
			limit = {
				has_idea = CUB_goodsubidea
			}
			swap_ideas = {
				remove_idea = CUB_goodsubidea
				add_idea = CUB_intermedidea
			}
		}
		else_if = {
			limit = {
				has_idea = CUB_privpubidea
			}
			swap_ideas = {
				remove_idea = CUB_privpubidea
				add_idea = CUB_intermedideatwo
			}
		}
		else_if = {
			limit = {
				NOT = {
					has_idea = CUB_goodsubidea
					has_idea = CUB_privpubidea
				}
			}
			custom_effect_tooltip = cubintermed_tooltip
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_ind_exports
	icon = GFX_goal_CSA_strenght_through_industry
	x = 9
	y = 10
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_intermed_indust
	}
	available = {
		has_government = social_democrat
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_ind_exports"
		add_political_power = 35
		if = {
			limit = {
				has_idea = CUB_intermedidea
			}
			swap_ideas = {
				remove_idea = CUB_intermedidea
				add_idea = CUB_industexpidea
			}
		}
		else = {
			swap_ideas = {
				remove_idea = CUB_intermedideatwo
				add_idea = CUB_industexpideatwo
			}
		}
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_new_cuba
	icon = GFX_CAR_cuba_secured
	x = 0
	y = 12
	relative_position_id = CUB_general_election
	cost = 5
	prerequisite = {
		focus = CUB_red_nation
		focus = CUB_industrial_nation
		focus = CUB_commercial_nation
		focus = CUB_export_nation
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_new_cuba"
		set_country_flag = CUB_pol_tree_finished
		add_stability = 0.05
		add_political_power = 25

		country_event = cuba.82
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

#Economic

shared_focus = {
	id = CUB_new_economic_expansion
	icon = GFX_goal_COR_goods_of_cuba
	x = 22
	y = 0
	offset = {
		x = -9
		y = 0
		trigger = {
			has_country_flag = CUB_nineoffset
		}
	}
	offset = {
		x = -8
		y = 0
		trigger = {
			has_country_flag = CUB_eightoffset
		}
	}
	offset = {
		x = -1
		y = 0
		trigger = {
			has_country_flag = CUB_oneoffset
		}
	}
	cost = 4
	available = {
		has_country_flag = CUB_pol_tree_finished
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_new_economic_expansion"
		add_timed_idea = {
			idea = CUB_econexpidea
			days = 200
		}
	}
}

shared_focus = {
	id = CUB_resource_boom
	icon = GFX_all_resource
	x = 3
	y = 1
	relative_position_id = CUB_new_economic_expansion
	cost = 5
	prerequisite = {
		focus = CUB_new_economic_expansion
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_resource_boom"
		add_ideas = CUB_resoexplo
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = { # Oil
	id = CUB_resource_foc_1
	icon = GFX_goal_AUS_galicia_oil
	x = 0
	y = 2
	relative_position_id = CUB_new_economic_expansion
	cost = 5
	prerequisite = {
		focus = CUB_resource_boom
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_resource_foc_1"
		315 = {
			add_resource = {
				type = oil
				amount = 2
			}
		}
		country_event = {
			id = cuba.83
			days = 1
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_resource_foc_2
	icon = GFX_goal_chromium
	x = 2
	y = 2
	relative_position_id = CUB_new_economic_expansion
	cost = 5
	prerequisite = {
		focus = CUB_resource_boom
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_resource_foc_2"
		820 = {
			add_resource = {
				type = chromium
				amount = 140
			}
		}
		country_event = {
			id = cuba.87
			days = 1
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_resource_foc_3
	icon = GFX_goal_FIU_austrian_steel
	x = 4
	y = 2
	relative_position_id = CUB_new_economic_expansion
	cost = 5
	prerequisite = {
		focus = CUB_resource_boom
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_resource_foc_3"
		315 = {
			add_resource = {
				type = steel
				amount = 6
			}
		}
		country_event = {
			id = cuba.88
			days = 1
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_resource_foc_4
	icon = GFX_goal_DEI_focus_moar_rubber
	x = 6
	y = 2
	relative_position_id = CUB_new_economic_expansion
	cost = 5
	prerequisite = {
		focus = CUB_resource_boom
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_resource_foc_4"
		country_event = {
			id = cuba.89
			days = 1
		}
	}
}

shared_focus = {
	id = CUB_protect_miners
	icon = GFX_goal_SRD_federate_miners_union
	x = 3
	y = 3
	relative_position_id = CUB_new_economic_expansion
	cost = 5
	prerequisite = {
		focus = CUB_resource_foc_1
	}
	prerequisite = {
		focus = CUB_resource_foc_2
	}
	prerequisite = {
		focus = CUB_resource_foc_3
	}
	prerequisite = {
		focus = CUB_resource_foc_4
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_protect_miners"
		swap_ideas = {
			remove_idea = CUB_resoexplo
			add_idea = CUB_minerprotect_idea
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_further_econ_reform
	icon = GFX_RUS_Fiscal_Reform
	x = -3
	y = 1
	relative_position_id = CUB_new_economic_expansion
	cost = 5
	prerequisite = {
		focus = CUB_new_economic_expansion
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_further_econ_reform"
		if = {
			limit = {
				has_socialist_government = yes
			}
			add_ideas = CUB_socecobureau
		}
		else_if = {
			limit = {
				has_elected_government = yes
			}
			add_ideas = CUB_demecobureau
		}
		else_if = {
			limit = {
				OR = {
					AND = {
						has_government = national_populist
						NOT = {
							has_country_leader = {
								name = "Ramón Grau San Martín"
								ruling_only = yes
							}
						}
					}
					has_government = paternal_autocrat
				}
				has_idea = CUB_industcountry
			}
			add_ideas = CUB_industecobureau
		}
		else_if = {
			limit = {
				OR = {
					has_government = authoritarian_democrat
					has_government = paternal_autocrat
				}
				has_idea = CUB_comnatidea
			}
			add_ideas = CUB_comerecobureau
		}
		else_if = {
			limit = {
				OR = {
					has_government = national_populist
					has_government = social_conservative
					AND = {
						has_government = national_populist
						has_country_leader = {
							name = "Ramón Grau San Martín"
							ruling_only = yes
						}
					}
				}
			}
			add_ideas = CUB_npopecobureau
		}
	}
}

shared_focus = {
	id = CUB_shipping_reform
	icon = GFX_goal_CAL_trade_fleet
	x = -4
	y = 2
	relative_position_id = CUB_new_economic_expansion
	cost = 5
	prerequisite = {
		focus = CUB_further_econ_reform
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_shipping_reform"
		add_ideas = CUB_ship_reform
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_port_expand
	icon = GFX_goal_FIU_Rebuild_Adriatic_Shipping_Lanes
	x = -2
	y = 2
	relative_position_id = CUB_new_economic_expansion
	cost = 5
	prerequisite = {
		focus = CUB_further_econ_reform
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_port_expand"
		315 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
		820 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = dockyard
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_improve_live_cond
	icon = GFX_goal_NFA_Happy_Workers
	x = -3
	y = 3
	relative_position_id = CUB_new_economic_expansion
	cost = 5
	prerequisite = {
		focus = CUB_shipping_reform
	}
	prerequisite = {
		focus = CUB_port_expand
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_improve_live_cond"
		add_stability = 0.05
		add_offsite_building = {
			type = dockyard
			level = 2
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_encour_consumpt # actually is research
	icon = GFX_goal_AUS_big_brain
	x = 0
	y = 4
	relative_position_id = CUB_new_economic_expansion
	cost = 5
	prerequisite = {
		focus = CUB_improve_live_cond
	}
	prerequisite = {
		focus = CUB_protect_miners
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_encour_consumpt"
		add_research_slot = 1
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_gem_carib
	icon = GFX_goal_COS_Leadership_Caribbean_Legion
	x = 0
	y = 5
	relative_position_id = CUB_new_economic_expansion
	cost = 5
	prerequisite = {
		focus = CUB_encour_consumpt
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = no
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_gem_carib"
		add_ideas = CUB_cargemidea
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

#Military

shared_focus = {
	id = CUB_begin_mil_reform
	icon = GFX_goal_reform_socialist_army
	x = 38
	y = 0
	offset = {
		x = -9
		y = 0
		trigger = {
			has_country_flag = CUB_nineoffset
		}
	}
	offset = {
		x = -8
		y = 0
		trigger = {
			has_country_flag = CUB_eightoffset
		}
	}
	offset = {
		x = -1
		y = 0
		trigger = {
			has_country_flag = CUB_oneoffset
		}
	}
	cost = 3

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_begin_mil_reform"
		if = {
			limit = {
				NOT = {
					has_country_flag = CUB_pol_tree_finished
				}
			}
			country_event = cuba.97
			else = {
				add_political_power = 100
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_assess_army
	icon = GFX_goal_CUB_army
	x = -6
	y = 1
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	prerequisite = {
		focus = CUB_begin_mil_reform
	}
	available = {
		custom_trigger_tooltip = {
			has_country_flag = CUB_pol_tree_finished
			OR = {
				has_government = paternal_autocrat
				has_country_flag = CUB_officersimprisoned
				has_country_flag = CUB_officerskilled
				has_country_flag = CUB_officerspardon
				AND = {
					has_government = authoritarian_democrat
					NOT = {
						has_country_flag = CUB_USpuppet
					}
				}
			}
			tooltip = CUB_milassess_tooltip
		}
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_assess_army"
		country_event = cuba.99
	}
}

shared_focus = {
	id = CUB_infantry_doctrs
	icon = GFX_goal_LEC_police3
	x = -7
	y = 2
	relative_position_id = CUB_begin_mil_reform
	cost = 5

	mutually_exclusive = {
		focus = CUB_armament_doctrs
	}

	prerequisite = {
		focus = CUB_assess_army
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_infantry_doctrs"
		add_doctrine_cost_reduction = {
	name = land_doc_bonus
	cost_reduction = 0.5
	uses = 1
	category = land_doctrine
		}
		country_event = cuba.100
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_new_squad_tactics
	icon = GFX_goal_POL_Integrated_Infantry_Tactics
	x = -7
	y = 4
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	prerequisite = {
		focus = CUB_infantry_doctrs
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_new_squad_tactics"
		if = {
			limit = {
				OR = {
					has_country_flag = CUB_officersimprisoned
					has_country_flag = CUB_officerskilled
				}
			}
			add_doctrine_cost_reduction = {
				name = CUB_new_squad_tactics
				cost_reduction = 0.66
				uses = 2
				category = land_doctrine
			}
		}
		else_if = {
			limit = {
				has_country_flag = CUB_officerspardon
			}
			add_doctrine_cost_reduction = {
				name = CUB_new_squad_tactics
				cost_reduction = 0.66
				uses = 2
				category = land_doctrine
			}
			add_political_power = 25
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = CUB_officersimprisoned
					has_country_flag = CUB_officerskilled
					has_country_flag = CUB_officerspardon
				}
			}
			add_doctrine_cost_reduction = {
	name = land_doc_bonus
	cost_reduction = 0.5
	uses = 1
	category = land_doctrine
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_armament_doctrs
	icon = GFX_goal_POL_New_Polish_Rifle
	x = -5
	y = 2
	relative_position_id = CUB_begin_mil_reform
	cost = 5

	mutually_exclusive = {
		focus = CUB_infantry_doctrs
	}

	prerequisite = {
		focus = CUB_assess_army
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_armament_doctrs"
		add_doctrine_cost_reduction = {
	name = land_doc_bonus
	cost_reduction = 0.5
	uses = 1
	category = land_doctrine
		}
		country_event = cuba.101
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_weltkrieg_analysis
	icon = GFX_goal_NFA_Verdun_memories
	x = -6
	y = 3
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	prerequisite = {
		focus = CUB_armament_doctrs
		focus = CUB_infantry_doctrs
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_weltkrieg_analysis"
		if = {
			limit = {
				OR = {
					has_country_flag = CUB_officersimprisoned
					has_country_flag = CUB_officerskilled
				}
			}
			army_experience = 125
		}
		else_if = {
			limit = {
				has_country_flag = CUB_officerspardon
			}
			army_experience = 125
			add_political_power = 25
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = CUB_officersimprisoned
					has_country_flag = CUB_officerskilled
					has_country_flag = CUB_officerspardon
				}
			}
			army_experience = 150
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_modernisation
	icon = GFX_RUS_Equipment_Modernisation
	x = -5
	y = 4
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	prerequisite = {
		focus = CUB_armament_doctrs
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_modernisation"
		if = {
			limit = {
				OR = {
					has_country_flag = CUB_officersimprisoned
					has_country_flag = CUB_officerskilled
				}
			}
			add_doctrine_cost_reduction = {
				name = CUB_modernisation
				cost_reduction = 0.66
				uses = 2
				category = land_doctrine
			}
		}
		else_if = {
			limit = {
				has_country_flag = CUB_officerspardon
			}
			add_doctrine_cost_reduction = {
				name = CUB_modernisation
				cost_reduction = 0.66
				uses = 2
				category = land_doctrine
			}
			add_political_power = 25
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = CUB_officersimprisoned
					has_country_flag = CUB_officerskilled
					has_country_flag = CUB_officerspardon
				}
			}
			add_doctrine_cost_reduction = {
	name = land_doc_bonus
	cost_reduction = 0.5
	uses = 1
	category = land_doctrine
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_entice_foreign_experts
	icon = GFX_goal_ATH_foreign_experts
	x = -6
	y = 5
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	prerequisite = {
		focus = CUB_modernisation
		focus = CUB_new_squad_tactics
	}

	available = {
		is_in_faction = yes
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_entice_foreign_experts"
		add_ideas = CUB_enticedadvisors
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = CUB_carib_lake
	icon = GFX_goal_CUB_navy
	x = 0
	y = 1
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	prerequisite = {
		focus = CUB_begin_mil_reform
	}
	available = {
		OR = {
			has_country_flag = CUB_pol_tree_finished
			has_country_flag = CUB_chose_navy
		}
	}

	ai_will_do = {
		factor = 15
		modifier = {
			NOT = {
				has_country_flag = CUB_pol_tree_finished
			}
			factor = 0
		}
		modifier = {
			has_country_flag = CUB_pol_tree_finished
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_carib_lake"
		add_ideas = CUB_carib_navy
	}
	search_filters = { FOCUS_FILTER_NAVY_BONUS }
}

shared_focus = {
	id = CUB_blackbeard
	icon = GFX_goal_CUB_Blackbeard
	x = -1
	y = 2
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	mutually_exclusive = {
		focus = CUB_protect_trade
	}
	prerequisite = {
		focus = CUB_carib_lake
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
		modifier = {
			factor = 0
			already_has_other_doctrine_TI = yes
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_blackbeard"
		add_doctrine_cost_reduction = {
	name = naval_doc_bonus
	cost_reduction = 0.5
	uses = 2
	category = naval_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_buccaneer
	icon = GFX_goal_FIU_pirates
	x = -1
	y = 4
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	prerequisite = {
		focus = CUB_blackbeard
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_buccaneer"
		add_tech_bonus = {
			name = CUB_buccaneer
			bonus = 1
			uses = 2
			category = ss_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_coast_guard
	icon = GFX_goal_USA_liberty_ships
	x = 0
	y = 3
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	prerequisite = {
		focus = CUB_blackbeard
		focus = CUB_protect_trade
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_coast_guard"
		add_ideas = CUB_coastal_guard
	}
	search_filters = { FOCUS_FILTER_NAVY_BONUS }
}


shared_focus = {
	id = CUB_protect_trade
	icon = GFX_goal_generic_trade_interdiction
	x = 1
	y = 2
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	mutually_exclusive = {
		focus = CUB_blackbeard
	}
	prerequisite = {
		focus = CUB_carib_lake
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
		modifier = {
			factor = 0
			already_has_other_doctrine_FIB = yes
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_protect_trade"
		add_doctrine_cost_reduction = {
	name = naval_doc_bonus
	cost_reduction = 0.5
	uses = 1
	category = naval_doctrine
		}
		add_tech_bonus = {
			name = CUB_protect_trade
			bonus = 1
			uses = 1
			category = dd_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_power_projection
	icon = GFX_goal_NFA_unchallenged_fleet
	x = 1
	y = 4
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	prerequisite = {
		focus = CUB_protect_trade
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_power_projection"
		add_tech_bonus = {
			name = CUB_power_projection
			bonus = 1
			uses = 2
			category = ca_tech
			category = cl_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_protect_shores
	icon = GFX_coastalfortifications
	x = 0
	y = 5
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	prerequisite = {
		focus = CUB_power_projection
		focus = CUB_buccaneer
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_protect_shores"
		315 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_building_construction = {
					type = coastal_bunker
					province = 4600
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 7622
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 10498
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 7451
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 10374
					level = 3
					instant_build = yes
				}
			}
		}
		820 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_building_construction = {
					type = coastal_bunker
					province = 4476
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 7546
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 1550
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 12347
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = coastal_bunker
					province = 7590
					level = 3
					instant_build = yes
				}
			}
		}
		818 = {
			if = {
				limit = {
					is_owned_by = CUB
				}
				add_building_construction = {
					type = coastal_bunker
					province = 13205
					level = 3
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_airforce
	icon = GFX_goal_CUB_airforce
	x = 6
	y = 1
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	prerequisite = {
		focus = CUB_begin_mil_reform
	}
	available = {
		OR = {
			has_country_flag = CUB_pol_tree_finished
			has_country_flag = CUB_chose_airforce
		}
	}

	ai_will_do = {
		factor = 15
		modifier = {
			NOT = {
				has_country_flag = CUB_pol_tree_finished
			}
			factor = 0
		}
		modifier = {
			AND = {
				has_country_flag = CUB_pol_tree_finished
				has_war = yes
			}
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_airforce"
		country_event = cuba.102
		hidden_effect = {
			country_event = {
				id = cuba.244
				days = 100
			}
		}
	}
}

shared_focus = {
	id = CUB_combinedarms
	icon = GFX_MON_air_doctrines_II
	x = 5
	y = 2
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	mutually_exclusive = {
		focus = CUB_ind_airforce
	}
	prerequisite = {
		focus = CUB_airforce
	}

	ai_will_do = {
		factor = 15
		modifier = {
			factor = 0
			already_has_other_doctrine_BSP = yes
		}
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_combinedarms"
		add_doctrine_cost_reduction = {
	name = air_doc_bonus
	cost_reduction = 0.5
	uses = 2
	category = air_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_ind_airforce
	icon = GFX_MON_air_doctrines_I
	x = 7
	y = 2
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	mutually_exclusive = {
		focus = CUB_combinedarms
	}
	prerequisite = {
		focus = CUB_airforce
	}

	ai_will_do = {
		factor = 15
		modifier = {
			factor = 0
			already_has_other_doctrine_OI = yes
		}
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_ind_airforce"
		add_doctrine_cost_reduction = {
	name = air_doc_bonus
	cost_reduction = 0.5
	uses = 2
	category = air_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_found_air_academy
	icon = GFX_goal_USA_organic_air_support
	x = 6
	y = 3
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	prerequisite = {
		focus = CUB_ind_airforce
		focus = CUB_combinedarms
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_found_air_academy"
		add_ideas = CUB_air_acadidea
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
}

shared_focus = {
	id = CUB_escort_fighters
	icon = GFX_MON_heavy_fighter
	x = 7
	y = 4
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	prerequisite = {
		focus = CUB_ind_airforce
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_escort_fighters"
		add_tech_bonus = {
			name = CUB_escort_fighters
			bonus = 1
			uses = 2
			category = light_fighter
			category = cat_heavy_fighter
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_flying_tanks
	icon = GFX_HUN_heavy_bombers
	x = 5
	y = 4
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	prerequisite = {
		focus = CUB_combinedarms
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_flying_tanks"
		add_tech_bonus = {
			name = CUB_flying_tanks
			bonus = 1
			uses = 2
			category = tactical_bomber
			category = cas_bomber
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_airinfrastructure_program
	icon = GFX_goal_generic_airports
	x = 6
	y = 5
	relative_position_id = CUB_begin_mil_reform
	cost = 5
	prerequisite = {
		focus = CUB_escort_fighters
		focus = CUB_flying_tanks
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_airinfrastructure_program"
		every_owned_state = {
			limit = {
				OR = {
					state = 315
					state = 820
				}
			}
			add_extra_state_shared_building_slots = 1
		}
		if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
			}
			315 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		else_if = {
			limit = {
				820 = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
			}
			820 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		else_if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
				820 = {
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
			}
			315 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			820 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
		}
		else_if = {
			limit = {
				818 = {
					is_owned_by = CUB
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
			}
			818 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		else_if = {
			limit = {
				818 = {
					is_owned_by = CUB
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
			}
			818 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			315 = {
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		else_if = {
			limit = {
				818 = {
					OR = {
						NOT = {
							is_owned_by = CUB
						}
						free_building_slots = {
							building = air_base
							size < 1
						}
					}
				}
			}
			315 = {
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			820 = {
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_marine_expand
	icon = GFX_UKR_Marines
	x = -3
	y = 3
	relative_position_id = CUB_begin_mil_reform
	cost = 5

	prerequisite = {
		focus = CUB_blackbeard
		focus = CUB_protect_trade
	}
	prerequisite = {
		focus = CUB_armament_doctrs
		focus = CUB_infantry_doctrs
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_marine_expand"
		add_tech_bonus = {
			name = CUB_marine_expand
			bonus = 2
			uses = 1
			category = marine_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_new_landing_craft
	icon = GFX_goal_TEX_night_assaults
	x = -3
	y = 4
	relative_position_id = CUB_begin_mil_reform
	cost = 5

	prerequisite = {
		focus = CUB_marine_expand
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_new_landing_craft"
		add_tech_bonus = {
			name = CUB_new_landing_craft
			bonus = 2
			uses = 1
			category = tp_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_naval_aviation
	icon = GFX_goal_CZE_air_is_sea
	x = 3
	y = 3
	relative_position_id = CUB_begin_mil_reform
	cost = 5

	prerequisite = {
		focus = CUB_blackbeard
		focus = CUB_protect_trade
	}
	prerequisite = {
		focus = CUB_combinedarms
		focus = CUB_ind_airforce
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_naval_aviation"
		add_tech_bonus = {
			name = CUB_naval_aviation
			bonus = 2
			uses = 1
			category = naval_bomber
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_skip_bombing
	icon = GFX_goal_Combined_Bomber_Offensive
	x = 3
	y = 4
	relative_position_id = CUB_begin_mil_reform
	cost = 5

	prerequisite = {
		focus = CUB_naval_aviation
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_war = yes
			factor = 1.4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_skip_bombing"
		add_ideas = CUB_skip_bomb_idea
	}
	search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
}

#Foreign policy

shared_focus = {
	id = CUB_foreign_relate
	icon = GFX_goal_IRE_unite_world
	x = 25
	y = 7
	offset = {
		x = -9
		y = 0
		trigger = {
			has_country_flag = CUB_nineoffset
		}
	}
	offset = {
		x = -8
		y = 0
		trigger = {
			has_country_flag = CUB_eightoffset
		}
	}
	offset = {
		x = -1
		y = 0
		trigger = {
			has_country_flag = CUB_oneoffset
		}
	}
	cost = 5

	available = {
		has_country_flag = CUB_pol_tree_finished
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = {
				has_global_flag = USA_civil_war_over_flag
			}
			factor = 3
		}
		modifier = {
			OR = {
				has_global_flag = USA_civil_war_over_flag
				has_global_flag = USA_civil_war_avoided_flag
			}
			OR = {
				AND = {
					has_socialist_government = no
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 10
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_foreign_relate"
		add_political_power = 100
		hidden_effect = {
			country_event = {
				id = cuba.408
				days = 25
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_fed_relate_trade
	icon = GFX_goal_caribbean
	x = 3
	y = 1
	relative_position_id = CUB_foreign_relate
	cost = 5

	prerequisite = {
		focus = CUB_foreign_relate
	}
	bypass = {
		OR = {
			NOT = {
				country_exists = CAF
			}
			has_war_with = CAF
		}
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = {
				has_global_flag = USA_civil_war_over_flag
			}
			factor = 3
		}
		modifier = {
			has_global_flag = USA_civil_war_over_flag
			OR = {
				has_global_flag = USA_civil_war_over_flag
				has_global_flag = USA_civil_war_avoided_flag
			}
			OR = {
				AND = {
					has_socialist_government = no
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 10
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_fed_relate_trade"
		country_event = cuba.122
	}
}

shared_focus = {
	id = CUB_local_relate_trade
	icon = GFX_goal_CUB_regional_diplomacy
	x = 1
	y = 1
	relative_position_id = CUB_foreign_relate
	cost = 5

	prerequisite = {
		focus = CUB_foreign_relate
	}
	bypass = {
		OR = {
			NOT = {
				country_exists = HAI
			}
			has_war_with = HAI
		}
		OR = {
			NOT = {
				country_exists = DOM
			}
			has_war_with = DOM
		}
		OR = {
			NOT = {
				country_exists = YUC
			}
			has_war_with = YUC
		}
		OR = {
			NOT = {
				country_exists = MEX
			}
			has_war_with = MEX
		}
		OR = {
			NOT = {
				country_exists = GUA
			}
			has_war_with = GUA
		}
		OR = {
			NOT = {
				country_exists = ELS
			}
			has_war_with = ELS
		}
		OR = {
			NOT = {
				country_exists = HON
			}
			has_war_with = HON
		}
		OR = {
			NOT = {
				country_exists = NIC
			}
			has_war_with = NIC
		}
		OR = {
			NOT = {
				country_exists = COS
			}
			has_war_with = COS
		}
		OR = {
			NOT = {
				country_exists = PAN
			}
			has_war_with = PAN
		}
		OR = {
			NOT = {
				country_exists = VEN
			}
			has_war_with = VEN
		}
		OR = {
			NOT = {
				country_exists = CEN
			}
			has_war_with = CEN
		}
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = {
				has_global_flag = USA_civil_war_over_flag
			}
			factor = 3
		}
		modifier = {
			OR = {
				has_global_flag = USA_civil_war_over_flag
				has_global_flag = USA_civil_war_avoided_flag
			}
			OR = {
				AND = {
					has_socialist_government = no
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 10
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_local_relate_trade"
		country_event = cuba.123
	}
}

shared_focus = {
	id = CUB_american_relate_trade
	icon = GFX_america_goal_eagle_deal
	x = -1
	y = 1
	relative_position_id = CUB_foreign_relate
	cost = 5

	prerequisite = {
		focus = CUB_foreign_relate
	}

	bypass = {
		OR = {
			AND = {
				has_socialist_government = yes
				NOT = {
					any_other_country = {
						is_american_tag = yes
						exists = yes
						NOT = { has_war_with = ROOT }
						OR = {
							has_socialist_government = yes
							has_government = social_democrat
						}
					}
				}
			}
			AND = {
				has_socialist_government = no
				NOT = {
					any_other_country = {
						is_american_tag = yes
						exists = yes
						NOT = { has_war_with = ROOT }
						has_socialist_government = no
					}
				}
			}
		}
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = {
				has_global_flag = USA_civil_war_over_flag
			}
			factor = 3
		}
		modifier = {
			OR = {
				has_global_flag = USA_civil_war_over_flag
				has_global_flag = USA_civil_war_avoided_flag
			}
			OR = {
				AND = {
					has_socialist_government = no
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 10
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_american_relate_trade"
		if = {
			limit = {
				has_global_flag = USA_civil_war_begun_flag
				NOT = {
					has_global_flag = USA_civil_war_over_flag
				}
			}
			country_event = cuba.138
		}
		else = {
			country_event = cuba.124
		}
	}
}

shared_focus = {
	id = CUB_european_relate_trade
	icon = GFX_goal_WAB_european_indian
	x = -3
	y = 1
	relative_position_id = CUB_foreign_relate
	cost = 5

	prerequisite = {
		focus = CUB_foreign_relate
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = {
				has_global_flag = USA_civil_war_over_flag
			}
			factor = 3
		}
		modifier = {
			OR = {
				has_global_flag = USA_civil_war_over_flag
				has_global_flag = USA_civil_war_avoided_flag
			}
			OR = {
				AND = {
					has_socialist_government = no
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 10
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_european_relate_trade"
		if = {
			limit = {
				has_socialist_government = no
				OR = {
					AND = {
						country_exists = GER
						NOT = {
							has_war_with = GER
						}
					}
					AND = {
						country_exists = AUS
						NOT = {
							has_war_with = AUS
						}
						OR = {
							has_war_with = GER
							NOT = {
								country_exists = GER
							}
						}
					}
				}
			}
			country_event = cuba.125
		}
		else_if = {
			limit = {
				has_socialist_government = yes
				country_exists = INT
				NOT = {
					has_war_with = INT
				}
			}
			country_event = cuba.1250
		}
		else = {
			country_event = cuba.1251
		}
	}
}

shared_focus = {
	id = CUB_new_partners
	icon = GFX_goal_MEX_open_markets_for_entente
	x = 0
	y = 2
	relative_position_id = CUB_foreign_relate
	cost = 5

	prerequisite = {
		focus = CUB_fed_relate_trade
	}
	prerequisite = {
		focus = CUB_local_relate_trade
	}
	prerequisite = {
		focus = CUB_american_relate_trade
	}
	prerequisite = {
		focus = CUB_european_relate_trade
	}

	ai_will_do = {
		factor = 15
		modifier = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = {
				has_global_flag = USA_civil_war_over_flag
			}
			factor = 3
		}
		modifier = {
			OR = {
				has_global_flag = USA_civil_war_over_flag
				has_global_flag = USA_civil_war_avoided_flag
			}
			OR = {
				AND = {
					has_socialist_government = no
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 10
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_new_partners"
		country_event = cuba.126
	}
}

shared_focus = {
	id = CUB_old_friends
	icon = GFX_goal_CUB_America
	x = -1
	y = 3
	relative_position_id = CUB_foreign_relate
	cost = 5

	available = {
		has_war = no
		is_in_faction = no
		NOT = {
			has_completed_focus = CUB_new_allies
		}
		OR = {
			has_global_flag = USA_civil_war_over_flag
			has_global_flag = USA_civil_war_avoided_flag
		}
		OR = {
			CSA = {
				has_country_flag = CUB_Alliance_Option
				exists = yes
			}
			TEX = {
				has_country_flag = CUB_Alliance_Option
				exists = yes
			}
			CAL = {
				has_country_flag = CUB_Alliance_Option
				exists = yes
			}
			USA = {
				has_country_flag = CUB_Alliance_Option
				exists = yes
			}
		}
	}
	bypass = {
		OR = {
			is_in_faction_with = USA
			is_in_faction_with = CSA
			is_in_faction_with = TEX
			is_in_faction_with = CAL
			is_subject_of = USA
			is_subject_of = CSA
			is_subject_of = TEX
			is_subject_of = CAL
		}
	}
	prerequisite = {
		focus = CUB_new_partners
	}

	ai_will_do = {
		factor = 15
		modifier = {
			OR = {
				USA = {
					is_in_faction = yes
					exists = yes
				}
				CSA = {
					is_in_faction = yes
					exists = yes
				}
				TEX = {
					is_in_faction = yes
					exists = yes
				}
				CAL = {
					is_in_faction = yes
					exists = yes
				}
			}
			factor = 3
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_old_friends"
		country_event = cuba.127
	}
}

shared_focus = {
	id = CUB_new_allies
	icon = GFX_goal_CZE_faction_generic
	x = 1
	y = 3
	relative_position_id = CUB_foreign_relate
	cost = 5

	prerequisite = {
		focus = CUB_new_partners
	}
	available = {
		has_war = no
		is_in_faction = no
		OR = {
			NOT = {
				has_completed_focus = CUB_old_friends
			}
			AND = {
				has_completed_focus = CUB_old_friends
				OR = {
					AND = {
						has_socialist_government = yes
						CSA = {
							exists = no
						}
					}
					AND = {
						has_socialist_government = no
						CSA = {
							exists = yes
						}
					}
				}
			}
		}
		NOT = {
			CSA = {
				has_country_flag = CUB_Alliance_Option
				exists = yes
			}
			TEX = {
				has_country_flag = CUB_Alliance_Option
				exists = yes
			}
			CAL = {
				has_country_flag = CUB_Alliance_Option
				exists = yes
			}
			USA = {
				has_country_flag = CUB_Alliance_Option
				exists = yes
			}
		}
		OR = {
			AND = {
				has_country_flag = CUB_GER
				GER = {
					is_faction_leader = yes
					exists = yes
				}
			}
			AND = {
				has_country_flag = CUB_FRA
				INT = {
					is_faction_leader = yes
					exists = yes
				}
			}
			AND = {
				OR = {
					has_country_flag = CUB_canada_ally
					AND = {
						has_democratic_government = yes
						custom_trigger_tooltip = {
							tooltip = CUB_csawon_tt
							hidden_trigger = {
								OR = {
									has_global_flag = USA_civil_war_over_flag
									has_global_flag = USA_civil_war_avoided_flag
								}
								CSA = {
									exists = yes
								}
							}
						}
					}
				}
				CAN = {
					is_faction_leader = yes
					exists = yes
				}
			}
			AND = {
				has_country_flag = CUB_AUS
				AUS = {
					is_faction_leader = yes
					exists = yes
				}
			}
			AND = {
				has_government = social_democrat
				COS = {
					has_government = social_democrat
					is_faction_leader = yes
					exists = yes
				}
			}
		}
	}
	bypass = {
		OR = {
			AND = {
				is_in_faction = yes
				NOT = {
					is_in_faction_with = USA
					is_in_faction_with = CSA
					is_in_faction_with = TEX
					is_in_faction_with = CAL
				}
			}
			AND = {
				is_subject = yes
				NOT = {
					is_subject_of = USA
					is_subject_of = CSA
					is_subject_of = TEX
					is_subject_of = CAL
				}
			}
		}
	}

	ai_will_do = {
		factor = 15
		modifier = {
			OR = {
				AND = {
					has_socialist_government = no
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 10
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_new_allies"
		country_event = cuba.128
	}
}

shared_focus = {
	id = CUB_joint_research
	icon = GFX_goal_BUL_tech_institutes
	x = 0
	y = 4
	relative_position_id = CUB_foreign_relate
	cost = 5

	available = {
		custom_trigger_tooltip = {
			tooltip = CUB_researchgroup_tt
			hidden_trigger = {
				OR = {
					INS = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = maliphinsul_research_group
					}
					COL = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = colombia_research
					}
					ARG = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = argentina_research
					}
					FLN = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
					BEL = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
					HOL = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
					DEN = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					NOR = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					SWE = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					SCA = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					AUS = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = austrian_research
					}
					JAP = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = japan_research
					}
					GER = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = german_research
					}
					FRA = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = phalanstere_research
					}
				}
			}
		}
	}
	bypass = {
		custom_trigger_tooltip = {
			tooltip = CUB_researchgroup3_tt
			hidden_trigger = {
				CUB = {
					OR = {
						is_in_tech_sharing_group = maliphinsul_research_group
						is_in_tech_sharing_group = colombia_research
						is_in_tech_sharing_group = argentina_research
						is_in_tech_sharing_group = belgian_research
						is_in_tech_sharing_group = scandinavian_research
						is_in_tech_sharing_group = austrian_research
						is_in_tech_sharing_group = japan_research
						is_in_tech_sharing_group = german_research
						is_in_tech_sharing_group = phalanstere_research
					}
				}
			}
		}
	}
	prerequisite = {
		focus = CUB_new_allies
		focus = CUB_old_friends
	}

	ai_will_do = {
		factor = 15
		modifier = {
			OR = {
				has_global_flag = USA_civil_war_over_flag
				has_global_flag = USA_civil_war_avoided_flag
			}
			OR = {
				AND = {
					has_socialist_government = no
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 2
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_joint_research"
		if = {
			limit = {
				FRA = {
					is_faction_leader = yes
					is_in_faction_with = CUB
					is_in_tech_sharing_group = phalanstere_research
				}
			}
			add_to_tech_sharing_group = phalanstere_research
		}
		else_if = {
			limit = {
				GER = {
					is_faction_leader = yes
					is_in_faction_with = CUB
					is_in_tech_sharing_group = german_research
				}
			}
			add_to_tech_sharing_group = german_research
		}
		else_if = {
			limit = {
				JAP = {
					is_faction_leader = yes
					is_in_faction_with = CUB
					is_in_tech_sharing_group = japan_research
				}
			}
			add_to_tech_sharing_group = japan_research
		}
		else_if = {
			limit = {
				AUS = {
					is_faction_leader = yes
					is_in_faction_with = CUB
					is_in_tech_sharing_group = austrian_research
				}
			}
			add_to_tech_sharing_group = austrian_research
		}
		else_if = {
			limit = {
				OR = {
					DEN = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					NOR = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					SWE = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					SCA = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
				}
			}
			add_to_tech_sharing_group = scandinavian_research
		}
		else_if = {
			limit = {
				OR = {
					FLN = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
					BEL = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
					HOL = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
				}
			}
			add_to_tech_sharing_group = belgian_research
		}
		else_if = {
			limit = {
				ARG = {
					is_faction_leader = yes
					is_in_faction_with = CUB
					is_in_tech_sharing_group = argentina_research
				}
			}
			add_to_tech_sharing_group = argentina_research
		}
		else_if = {
			limit = {
				COL = {
					is_faction_leader = yes
					is_in_faction_with = CUB
					is_in_tech_sharing_group = colombia_research
				}
			}
			add_to_tech_sharing_group = colombia_research
		}
		else_if = {
			limit = {
				INS = {
					is_faction_leader = yes
					is_in_faction_with = CUB
					is_in_tech_sharing_group = maliphinsul_research_group
				}
			}
			add_to_tech_sharing_group = maliphinsul_research_group
		}
		else_if = {
			limit = {
				COS = {
					is_faction_leader = yes
					is_in_faction_with = CUB
				}
			}
			country_event = cuba.130
		}
		else_if = {
			limit = {
				NOT = {
					INS = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = maliphinsul_research_group
					}
					COL = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = colombia_research
					}
					ARG = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = argentina_research
					}
					FLN = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
					BEL = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
					HOL = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = belgian_research
					}
					DEN = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					NOR = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					SWE = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					SCA = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = scandinavian_research
					}
					AUS = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = austrian_research
					}
					GER = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = german_research
					}
					FRA = {
						is_faction_leader = yes
						is_in_faction_with = CUB
						is_in_tech_sharing_group = phalanstere_research
					}
					COS = {
						is_faction_leader = yes
						is_in_faction_with = CUB
					}
				}
			}
			custom_effect_tooltip = CUB_researchgroup2_tt
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_military_integrate
	icon = GFX_goal_integrate_the_militia
	x = 0
	y = 5
	relative_position_id = CUB_foreign_relate
	cost = 5

	available = {
		is_in_faction = yes
		NOT = {
			is_faction_leader = yes
		}
	}
	prerequisite = {
		focus = CUB_joint_research
	}

	ai_will_do = {
		factor = 15
		modifier = {
			OR = {
				has_global_flag = USA_civil_war_over_flag
				has_global_flag = USA_civil_war_avoided_flag
			}
			OR = {
				AND = {
					has_socialist_government = no
					country_exists = CSA
				}
				AND = {
					has_socialist_government = yes
					NOT = {
						country_exists = CSA
					}
				}
			}
			factor = 2
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_military_integrate"
		add_political_power = 50
		hidden_effect = {
			every_other_country = {
				limit = {
					is_in_faction_with = CUB
					is_faction_leader = yes
				}
				country_event = cuba.129
			}
		}
		custom_effect_tooltip = CUB_milint_tooltip
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

###Democratic Tree
#Political

focus_tree = {
	id = CUB_democratic_focuses
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = CUB
		}
	}
	default = no
	continuous_focus_position = { x = 150 y = 900 }

	shared_focus = CUB_democracy_survives
	shared_focus = CUB_new_economic_expansion
	shared_focus = CUB_foreign_relate
	shared_focus = CUB_begin_mil_reform
}

shared_focus = {
	id = CUB_democracy_survives
	icon = GFX_RUS_Lessons_Of_Democracy
	x = 4
	y = 0
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass8_tooltip
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_democracy_survives"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_march_institutions
	icon = GFX_GRU_CONS_SIDELINE_RADICALS
	x = -2
	y = 1
	relative_position_id = CUB_democracy_survives
	cost = 5

	ai_will_do = {
		factor = 15
	}

	available = {
		OR = {
			has_government = social_democrat
			has_government = social_liberal
			has_government = market_liberal
			has_government = social_conservative
		}
	}

	prerequisite = {
		focus = CUB_democracy_survives
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_march_institutions"
		add_stability = 0.05
		if = {
			limit = {
				has_government = social_democrat
			}
			add_popularity = {
				ideology = social_democrat
				popularity = 0.1
			}
		}
		else_if = {
			limit = {
				has_government = social_liberal
			}
			add_popularity = {
				ideology = social_liberal
				popularity = 0.1
			}
		}
		else_if = {
			limit = {
				has_government = market_liberal
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.1
			}
		}
	}
	search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_milaudit
	icon = GFX_RUS_Get_Military
	x = -3
	y = 2
	relative_position_id = CUB_democracy_survives
	cost = 4

	ai_will_do = {
		factor = 15
	}

	available = {
		OR = {
			has_government = social_democrat
			has_government = social_liberal
			has_government = market_liberal
			has_government = social_conservative
		}
	}

	prerequisite = {
		focus = CUB_march_institutions
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_milaudit"
		add_timed_idea = {
			idea = CUB_permaudit_idea
			days = 60
		}
		add_political_power = 200
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_loosenspeech
	icon = GFX_goal_TEX_media_propaganda
	x = -1
	y = 2
	relative_position_id = CUB_democracy_survives
	cost = 3

	ai_will_do = {
		factor = 15
	}

	available = {
		OR = {
			has_government = social_democrat
			has_government = social_liberal
			has_government = market_liberal
			has_government = social_conservative
		}
	}

	prerequisite = {
		focus = CUB_march_institutions
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_loosenspeech"
		add_popularity = {
			ideology = social_democrat
			popularity = 0.03
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.03
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.03
		}
		add_political_power = 50
		add_stability = -0.03
		add_war_support = -0.03
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_econ_rappro
	icon = GFX_goal_NFA_review_economy
	x = 2
	y = 1
	relative_position_id = CUB_democracy_survives
	cost = 5

	ai_will_do = {
		factor = 15
	}

	available = {
		OR = {
			has_government = social_democrat
			has_government = social_liberal
			has_government = market_liberal
			has_government = social_conservative
		}
	}

	prerequisite = {
		focus = CUB_democracy_survives
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_econ_rappro"
		add_ideas = CUB_demecon_idea
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_clean_slate
	icon = GFX_USA_the_blank_check
	x = 1
	y = 2
	relative_position_id = CUB_democracy_survives
	cost = 5

	ai_will_do = {
		factor = 15
	}

	available = {
		OR = {
			has_government = social_democrat
			has_government = social_liberal
			has_government = market_liberal
			has_government = social_conservative
		}
	}

	prerequisite = {
		focus = CUB_econ_rappro
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_clean_slate"
		if = {
			limit = {
				has_idea = CUB_demecon_idea
			}
			swap_ideas = {
				remove_idea = CUB_demecon_idea
				add_idea = CUB_demecon_idea_2
			}
		}
		else = {
			remove_ideas = CUB_demecon_idea_2
			army_experience = 25
			navy_experience = 25
			air_experience = 25
			add_stability = 0.05
			add_war_support = 0.05
			add_political_power = 200

		}
	}
	search_filters = { FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_AIRFORCE_BONUS }
}

shared_focus = {
	id = CUB_empowerment
	icon = GFX_RUS_Government_Of_Peoples_Trust
	x = 3
	y = 2
	relative_position_id = CUB_democracy_survives
	cost = 5

	ai_will_do = {
		factor = 15
	}

	available = {
		OR = {
			has_government = social_democrat
			has_government = social_liberal
			has_government = market_liberal
			has_government = social_conservative
		}
	}

	prerequisite = {
		focus = CUB_econ_rappro
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_empowerment"
		if = {
			limit = {
				has_idea = CUB_demecon_idea
			}
			swap_ideas = {
				remove_idea = CUB_demecon_idea
				add_idea = CUB_demecon_idea_2
			}
		}
		else = {
			remove_ideas = CUB_demecon_idea_2
			army_experience = 50
			navy_experience = 50
			air_experience = 50
			add_stability = 0.075
			add_war_support = 0.075
			add_political_power = 75
		}
	}
	search_filters = { FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_AIRFORCE_BONUS }
}

shared_focus = {
	id = CUB_never_again
	icon = GFX_goal_graveyard
	x = 0
	y = 3
	relative_position_id = CUB_democracy_survives
	cost = 5

	ai_will_do = {
		factor = 15
	}

	available = {
		OR = {
			has_government = social_democrat
			has_government = social_liberal
			has_government = market_liberal
			has_government = social_conservative
		}
	}

	prerequisite = {
		focus = CUB_loosenspeech
	}
	prerequisite = {
		focus = CUB_milaudit
	}
	prerequisite = {
		focus = CUB_clean_slate
	}
	prerequisite = {
		focus = CUB_empowerment
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_never_again"
		add_manpower = 15000
	}
	search_filters = { FOCUS_FILTER_MANPOWER }
}

shared_focus = {
	id = CUB_consitutional_conv
	icon = GFX_goal_MEX_new_constitution
	x = -1
	y = 4
	relative_position_id = CUB_democracy_survives
	cost = 5

	ai_will_do = {
		factor = 15
	}

	available = {
		OR = {
			has_government = social_democrat
			has_government = social_liberal
			has_government = market_liberal
			has_government = social_conservative
		}
	}

	prerequisite = {
		focus = CUB_never_again
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_consitutional_conv"
		country_event = cuba.201
		set_country_flag = cubsuccconstscore
		set_country_flag = cublibconstscore
	}
}

shared_focus = {
	id = CUB_mod_reform
	icon = GFX_goal_ZAM_reforms_support
	x = 1
	y = 4
	relative_position_id = CUB_democracy_survives
	cost = 5

	ai_will_do = {
		factor = 15
	}

	available = {
		OR = {
			has_government = social_democrat
			has_government = social_liberal
			has_government = market_liberal
			has_government = social_conservative
		}
	}

	prerequisite = {
		focus = CUB_never_again
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mod_reform"
		add_stability = 0.05
		add_war_support = 0.05
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_leg_marti
	icon = GFX_goal_cuba
	x = 0
	y = 5
	relative_position_id = CUB_democracy_survives
	cost = 5

	ai_will_do = {
		factor = 15
	}

	available = {
		OR = {
			has_government = social_democrat
			has_government = social_liberal
			has_government = market_liberal
			has_government = social_conservative
		}
	}

	prerequisite = {
		focus = CUB_consitutional_conv
	}
	prerequisite = {
		focus = CUB_mod_reform
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_leg_marti"
		add_timed_idea = {
			idea = CUB_optimism_idea
			days = 360
		}
	}
}

###Diaz Tree
#Political

shared_focus = {
	id = CUB_authoritarianism_normal
	icon = GFX_goal_cuba
	x = 4
	y = 0
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass8_tooltip
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_authoritarianism_normal_2
	icon = GFX_goal_HON_Rewrite_Constitution
	x = 0
	y = 1
	relative_position_id = CUB_authoritarianism_normal
	cost = 5

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_2"
		add_political_power = 50
		add_stability = 0.05
		add_ideas = CUB_autorconst_idea
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_authoritarianism_normal_3
	icon = GFX_RUS_Reinforce_Local_Parliaments
	x = -3
	y = 2
	relative_position_id = CUB_authoritarianism_normal
	cost = 5

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_2
	}

	ai_will_do = {
		factor = 15
		modifier = {
			AND = {
				has_global_flag = USA_civil_war_over_flag
				country_exists = CSA
			}
			factor = 4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_3"
		add_stability = -0.05
		add_political_power = 200
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_authoritarianism_normal_4
	icon = GFX_DKB_Loyal_Unions
	x = -1
	y = 2
	relative_position_id = CUB_authoritarianism_normal
	cost = 5

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_2
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_4"
		add_political_power = -25
		if = {
			limit = {
				has_government = authoritarian_democrat
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.1
			}
		}
		else = {
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.1
			}
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.05
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_authoritarianism_normal_5
	icon = GFX_goal_NFA_army_money
	x = 1
	y = 2
	relative_position_id = CUB_authoritarianism_normal
	cost = 5

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_2
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_5"
		add_political_power = 50
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_authoritarianism_normal_6
	icon = GFX_goal_AUS_Police_Paramilitarism
	x = 3
	y = 2
	relative_position_id = CUB_authoritarianism_normal
	cost = 5

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_2
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_6"
		army_experience = 50
		if = {
			limit = {
				NOT = {
					has_tech = tech_military_police
				}
			}
			set_technology = { tech_military_police = 1 }
		}
		else = {
			add_war_support = 0.05
		}
		hidden_effect = {
			load_oob = CUB_diazpolice
		}
		custom_effect_tooltip = CUB_diazmps
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_authoritarianism_normal_7
	icon = GFX_goal_NIC_american_avisors
	x = -3
	y = 4
	relative_position_id = CUB_authoritarianism_normal
	cost = 4

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_3
	}

	ai_will_do = {
		factor = 15
		modifier = {
			AND = {
				has_global_flag = USA_civil_war_over_flag
				country_exists = CSA
			}
			factor = 4
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_7"
		add_ideas = CUB_hailcol_idea
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = CUB_authoritarianism_normal_8
	icon = GFX_goal_LPD_strike_balance
	x = -2
	y = 3
	relative_position_id = CUB_authoritarianism_normal
	cost = 5

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_3
	}
	prerequisite = {
		focus = CUB_authoritarianism_normal_4
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_8"
		add_war_support = 0.1
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
	id = CUB_authoritarianism_normal_9
	icon = GFX_german_army_advisors
	x = 0
	y = 3
	relative_position_id = CUB_authoritarianism_normal
	cost = 2

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_4
	}
	prerequisite = {
		focus = CUB_authoritarianism_normal_5
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_9"
		army_experience = 10
		navy_experience = 10
		air_experience = 10
		custom_effect_tooltip = CUB_diazgermanflat
	}
	search_filters = { FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_AIRFORCE_BONUS }
}

shared_focus = {
	id = CUB_authoritarianism_normal_10
	icon = GFX_BBR_accelerate_integration
	x = 2
	y = 3
	relative_position_id = CUB_authoritarianism_normal
	cost = 3

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_5
	}
	prerequisite = {
		focus = CUB_authoritarianism_normal_6
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_10"
		add_war_support = 0.05
		add_timed_idea = {
			idea = CUB_afrowork
			days = 360
		}
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
	id = CUB_authoritarianism_normal_11
	icon = GFX_goal_NFA_military_supremacy
	x = 3
	y = 4
	relative_position_id = CUB_authoritarianism_normal
	cost = 5

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_6
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_11"
		if = {
			limit = {
				has_government = authoritarian_democrat
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.05
			}
		}
		else = {
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.05
			}
		}
		hidden_effect = {
			load_oob = CUB_diazpolice2
		}
		custom_effect_tooltip = CUB_diazmps2
	}
	search_filters = { FOCUS_FILTER_MANPOWER }
}

shared_focus = {
	id = CUB_authoritarianism_normal_12
	icon = GFX_goal_TEX_meek_inherit_earth
	x = 0
	y = 4
	relative_position_id = CUB_authoritarianism_normal
	cost = 4

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_8
	}
	prerequisite = {
		focus = CUB_authoritarianism_normal_9
	}
	prerequisite = {
		focus = CUB_authoritarianism_normal_10
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_12"
		swap_ideas = {
			remove_idea = CUB_autorconst_idea
			add_idea = CUB_autorconst2_idea
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER }
}

shared_focus = {
	id = CUB_authoritarianism_normal_13
	icon = GFX_RUS_Revive_National_Identity
	x = 0
	y = 5
	relative_position_id = CUB_authoritarianism_normal
	cost = 5

	available = {
		OR = {
			has_government = authoritarian_democrat
			has_government = paternal_autocrat
		}
	}

	prerequisite = {
		focus = CUB_authoritarianism_normal_7
	}
	prerequisite = {
		focus = CUB_authoritarianism_normal_11
	}
	prerequisite = {
		focus = CUB_authoritarianism_normal_12
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_authoritarianism_normal_13"
		add_stability = 0.05
		swap_ideas = {
			remove_idea = CUB_autorconst2_idea
			add_idea = CUB_autorconst3_idea
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESISTANCE FOCUS_FILTER_STABILITY }
}

###Leftist Tree
#Political

shared_focus = {
	id = CUB_orthodox_syndicalism
	icon = GFX_goal_syndicalism
	x = 8
	y = 0
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass8_tooltip
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_orthodox_syndicalism"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_syndienodem
	icon = GFX_goal_AST_skip_plebiscite
	x = -4
	y = 1
	relative_position_id = CUB_orthodox_syndicalism
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass8_tooltip
		}
	}

	prerequisite = {
		focus = CUB_orthodox_syndicalism
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndienodem"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_nodem_tot
	icon = GFX_goal_AUS_Disenfranchise_Austromarxism
	x = -6
	y = 2
	relative_position_id = CUB_orthodox_syndicalism
	cost = 3

	prerequisite = {
		focus = CUB_syndienodem
	}
	mutually_exclusive = {
		focus = CUB_nodem_syn
	}
	available = {
		has_government = totalist
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_tot"
		add_stability = -0.03
		add_popularity = {
			ideology = totalist
			popularity = 0.08
		}
	}
	search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_nodem_tot_2
	icon = GFX_goal_FRA_reign_of_working_man
	x = -7
	y = 3
	relative_position_id = CUB_orthodox_syndicalism
	cost = 5

	prerequisite = {
		focus = CUB_nodem_tot
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_tot_2"
		set_party_name =  {
			ideology = totalist
			name = CUB_totalist_party_totemb
			long_name = CUB_totalist_party_long_totemb
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		every_other_country = {
			limit = {
				has_government = totalist
				OR = {
					tag = ENG
					tag = FRA
					tag = SRI
					tag = CSA
					tag = RUS
				}
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = CUB_totdiplo
			}
			reverse_add_opinion_modifier = {
				target = ROOT
				modifier = CUB_totdiplo
			}
		}
	}
}

shared_focus = {
	id = CUB_nodem_tot_3
	icon = GFX_goal_HOL_crackdown_radsoc
	x = -5
	y = 3
	relative_position_id = CUB_orthodox_syndicalism
	cost = 5

	prerequisite = {
		focus = CUB_nodem_tot
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_tot_3"
		add_political_power = 30
		add_stability = 0.04
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.1
		}
		if = {
			limit = {
				has_unit_leader = 1450
			}
			random_unit_leader = {
					limit = { has_id = 1450 }			
					remove_unit_leader = yes
				}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_nodem_tot_4
	icon = GFX_goal_CSA_lead_american_revolution
	x = -6
	y = 4
	relative_position_id = CUB_orthodox_syndicalism
	cost = 5

	prerequisite = {
		focus = CUB_nodem_tot_2
	}
	prerequisite = {
		focus = CUB_nodem_tot_3
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_tot_4"
		add_stability = 0.03
		add_war_support = 0.03
		add_ideas = CUB_permrev_idea
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_nodem_tot_5
	icon = GFX_goal_CSA_true_revolutionary_alliance
	x = -5
	y = 5
	relative_position_id = CUB_orthodox_syndicalism
	cost = 5

	prerequisite = {
		focus = CUB_nodem_tot_4
	}
	prerequisite = {
		focus = CUB_nodem_syntot
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_tot_5"
		army_experience = 25
		add_command_power = 25
		add_popularity = {
			ideology = syndicalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		if = {
			limit = {
				has_unit_leader = 1451
			}
			random_unit_leader = {
					limit = { has_id = 1451 }			
					remove_unit_leader = yes
				}
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = CUB_nodem_syn
	icon = GFX_goal_CSA_socialist_confederation
	x = -2
	y = 2
	relative_position_id = CUB_orthodox_syndicalism
	cost = 5

	prerequisite = {
		focus = CUB_syndienodem
	}
	mutually_exclusive = {
		focus = CUB_nodem_tot
	}
	available = {
		has_government = syndicalist
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_syn"
		add_political_power = 40
		add_stability = 0.04
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_nodem_syn_2
	icon = GFX_RUS_Power_To_Trade_Unions
	x = -3
	y = 3
	relative_position_id = CUB_orthodox_syndicalism
	cost = 5

	prerequisite = {
		focus = CUB_nodem_syn
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_syn_2"
		add_ideas = CUB_syndint_idea
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_nodem_syn_3
	icon = GFX_goal_CSA_townhall_democarcy
	x = -1
	y = 3
	relative_position_id = CUB_orthodox_syndicalism
	cost = 5

	prerequisite = {
		focus = CUB_nodem_syn
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_syn_3"
		add_political_power = -30
		add_stability = 0.03
		add_popularity = {
			ideology = syndicalist
			popularity = 0.1
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_nodem_syn_4
	icon = GFX_ITA_syndicalist_unite
	x = -2
	y = 4
	relative_position_id = CUB_orthodox_syndicalism
	cost = 5

	prerequisite = {
		focus = CUB_nodem_syn_2
	}
	prerequisite = {
		focus = CUB_nodem_syn_3
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_syn_4"
		add_political_power = -10
		add_stability = 0.05
		add_war_support = 0.05
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_nodem_syn_5
	icon = GFX_goal_CSA_centralised_syndicalism
	x = -3
	y = 5
	relative_position_id = CUB_orthodox_syndicalism
	cost = 5

	prerequisite = {
		focus = CUB_nodem_syn_4
	}
	prerequisite = {
		focus = CUB_nodem_syntot
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_syn_5"
		add_political_power = 50
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_nodem_syntot
	icon = GFX_goal_CSA_democratic_centralism
	x = -4
	y = 4
	relative_position_id = CUB_orthodox_syndicalism
	cost = 5

	prerequisite = {
		focus = CUB_nodem_syn_2
		focus = CUB_nodem_tot_3
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nodem_syntot"
		add_political_power = 75
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_syndiedem
	icon = GFX_goal_KIV_socialist_democracy
	x = 4
	y = 1
	relative_position_id = CUB_orthodox_syndicalism
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass8_tooltip
		}
	}
	prerequisite = {
		focus = CUB_orthodox_syndicalism
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndiedem"
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = var:current_party_ideology_group
						last_election = "[ELECTION_DATE_TAG]"
						election_frequency = 48
						elections_allowed = yes
					}
				}
				ELECTION_DATE_TAG = "[GetYear].1.28"
			}
		}
		custom_effect_tooltip = CUBelectionsallowed
	}
}

shared_focus = {
	id = CUB_electoral_reform
	icon = GFX_RUS_reform_electoral_law
	x = 3
	y = 2
	relative_position_id = CUB_orthodox_syndicalism
	cost = 3

	prerequisite = {
		focus = CUB_syndiedem
	}
	available = {
		NOT = {
			has_government = totalist
		}
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_electoral_reform"
		add_political_power = 20
		add_stability = 0.02
		add_war_support = 0.02
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_rural_participation
	icon = GFX_goal_KIV_develop_rural
	x = 5
	y = 2
	relative_position_id = CUB_orthodox_syndicalism
	cost = 5

	prerequisite = {
		focus = CUB_syndiedem
	}
	available = {
		NOT = {
			has_government = totalist
		}
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_rural_participation"
		add_political_power = -30
		add_ideas = CUB_ruralpolitics_idea
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_syndflav_1
	icon = GFX_goal_ALB_Women
	x = 2
	y = 3
	relative_position_id = CUB_orthodox_syndicalism
	cost = 5

	prerequisite = {
		focus = CUB_electoral_reform
	}
	prerequisite = {
		focus = CUB_rural_participation
	}
	available = {
		NOT = {
			has_government = totalist
		}
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndflav_1"
		add_political_power = 35
		add_war_support = 0.03
		add_popularity = {
			ideology = syndicalist
			popularity = 0.07
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.07
		}
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_syndflav_2
	icon = GFX_NEE_expand_civil_service
	x = 4
	y = 3
	relative_position_id = CUB_orthodox_syndicalism
	cost = 3

	prerequisite = {
		focus = CUB_electoral_reform
	}
	prerequisite = {
		focus = CUB_rural_participation
	}
	available = {
		NOT = {
			has_government = totalist
		}
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndflav_2"
		add_stability = 0.04
		add_political_power = 10
		add_popularity = {
			ideology = syndicalist
			popularity = 0.01
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.01
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_syndflav_3
	icon = GFX_goal_CSA_dictatorship_of_proletariat
	x = 6
	y = 3
	relative_position_id = CUB_orthodox_syndicalism
	cost = 3

	prerequisite = {
		focus = CUB_electoral_reform
	}
	prerequisite = {
		focus = CUB_rural_participation
	}
	available = {
		NOT = {
			has_government = totalist
		}
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndflav_3"
		swap_ideas = {
			remove_idea = CUB_ruralpolitics_idea
			add_idea = CUB_ruralpolitics_idea_2
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_syndflav_4
	icon = GFX_Socialist_Law
	x = 3
	y = 4
	relative_position_id = CUB_orthodox_syndicalism
	cost = 5

	prerequisite = {
		focus = CUB_syndflav_1
	}
	prerequisite = {
		focus = CUB_syndflav_2
	}
	prerequisite = {
		focus = CUB_syndflav_3
	}
	available = {
		NOT = {
			has_government = totalist
		}
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndflav_4"
		add_stability = 0.03
		add_political_power = 30
		swap_ideas = {
			remove_idea = CUB_ruralpolitics_idea_2
			add_idea = CUB_ruralpolitics_idea_3
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_syndflav_5
	icon = GFX_goal_FRA_classical_heroic_socialism
	x = 5
	y = 4
	relative_position_id = CUB_orthodox_syndicalism
	cost = 5

	prerequisite = {
		focus = CUB_syndflav_1
	}
	prerequisite = {
		focus = CUB_syndflav_2
	}
	prerequisite = {
		focus = CUB_syndflav_3
	}
	available = {
		NOT = {
			has_government = totalist
		}
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndflav_5"
		add_political_power = 150
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_syndflav_6
	icon = GFX_goal_FRA_union_dominance
	x = 4
	y = 5
	relative_position_id = CUB_orthodox_syndicalism
	cost = 4

	prerequisite = {
		focus = CUB_syndflav_4
	}
	prerequisite = {
		focus = CUB_syndflav_5
	}
	available = {
		NOT = {
			has_government = totalist
		}
	}

	ai_will_do = {
		factor = 15
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_syndflav_6"
		add_political_power = 10
		add_stability = 0.05
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

###Mella Tree
#Political

shared_focus = {
	id = CUB_mella_begin
	icon = GFX_goal_HON_Mexican_Inspired_System
	x = 8
	y = 0
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass8_tooltip
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_begin"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_mella_2
	icon = GFX_goal_MEX_Our_Fields
	x = -5
	y = 1
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		has_government = totalist
		NOT = {
			has_country_flag = mellaradsocdeal
		}
	}

	prerequisite = {
		focus = CUB_mella_begin
	}
	mutually_exclusive = {
		focus = CUB_mella_3
	}
	mutually_exclusive = {
		focus = CUB_melraddeal_2
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_2"
		swap_ideas = {
			remove_idea = CUB_extsyndagr_2
			add_idea = CUB_extsyndagr_3
		}
		add_stability = 0.05
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_mella_3
	icon = GFX_goal_CSA_From_Greenbacks_Green_Fields
	x = -3
	y = 1
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		has_government = totalist
		NOT = {
			has_country_flag = mellaradsocdeal
		}
	}

	prerequisite = {
		focus = CUB_mella_begin
	}
	mutually_exclusive = {
		focus = CUB_mella_2
	}
	mutually_exclusive = {
		focus = CUB_melraddeal_2
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_3"
		swap_ideas = {
			remove_idea = CUB_extsyndagr_2
			add_idea = CUB_extsyndagr_comp
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_mella_4
	icon = GFX_goal_AST_break_syndicalist_menace
	x = -6
	y = 2
	relative_position_id = CUB_mella_begin
	cost = 3

	available = {
		has_government = totalist
		NOT = {
			has_country_flag = mellaradsocdeal
		}
	}

	prerequisite = {
		focus = CUB_mella_2
		focus = CUB_mella_3
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_4"
		add_stability = -0.05
		add_popularity = {ideology = syndicalist popularity = -0.1}
	}
	search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_mella_5
	icon = GFX_RUS_Power_To_Local_Councils
	x = -4
	y = 2
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		has_government = totalist
		NOT = {
			has_country_flag = mellaradsocdeal
		}
	}

	prerequisite = {
		focus = CUB_mella_2
		focus = CUB_mella_3
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_5"
		315 = {
			add_extra_state_shared_building_slots = 3
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_mella_6
	icon = GFX_goal_MEX_Appointed_judges
	x = -2
	y = 2
	relative_position_id = CUB_mella_begin
	cost = 3

	available = {
		has_government = totalist
		NOT = {
			has_country_flag = mellaradsocdeal
		}
	}

	prerequisite = {
		focus = CUB_mella_2
		focus = CUB_mella_3
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_6"
		add_stability = -0.025
		add_ideas = CUB_judicial_reform
		add_political_power = -100
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_mella_7
	icon = GFX_goal_BBR_prepare_for_endseig
	x = -5
	y = 3
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		has_government = totalist
		NOT = {
			has_country_flag = mellaradsocdeal
		}
	}

	prerequisite = {
		focus = CUB_mella_4
	}
	prerequisite = {
		focus = CUB_mella_5
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_7"
		if = {
			limit = {
				has_idea = CUB_sexism
			}
			swap_ideas = {
				remove_idea = CUB_sexism
				add_idea = CUB_mellatranssociety
			}
		}
		else = {
			add_ideas = CUB_racism_outlawed
		}
		add_political_power = -300
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_mella_8
	icon = GFX_SOV_women
	x = -3
	y = 3
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		has_government = totalist
		NOT = {
			has_country_flag = mellaradsocdeal
		}
	}

	prerequisite = {
		focus = CUB_mella_5
	}
	prerequisite = {
		focus = CUB_mella_6
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_8"
		if = {
			limit = {
				has_idea = CUB_racism_outlawed
			}
			swap_ideas = {
				remove_idea = CUB_racism_outlawed
				add_idea = CUB_mellatranssociety
			}
		}
		else = {
			add_ideas = CUB_sexism
		}
		add_war_support = 0.05
		add_stability = 0.05
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = CUB_mella_9
	icon = GFX_goal_ALB_Red_Horse
	x = -7
	y = 4
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		has_government = totalist
		NOT = {
			has_country_flag = mellaradsocdeal
		}
	}

	prerequisite = {
		focus = CUB_mella_7
	}
	prerequisite = {
		focus = CUB_mella_8
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_9"
		hidden_effect = {
			add_country_leader_trait = el_caballo
		}
		custom_effect_tooltip = cub_mellacaballott
	}
}

shared_focus = {
	id = CUB_mella_10
	icon = GFX_goal_burning_globe
	x = -5
	y = 4
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		has_government = totalist
		NOT = {
			has_country_flag = mellaradsocdeal
		}
	}

	prerequisite = {
		focus = CUB_mella_7
	}
	prerequisite = {
		focus = CUB_mella_8
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_10"
		add_ideas = CUB_perm_rev
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}

shared_focus = {
	id = CUB_mella_11
	icon = GFX_goal_SRI_State_Atheism
	x = -3
	y = 4
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		has_government = totalist
		NOT = {
			has_country_flag = mellaradsocdeal
		}
	}

	prerequisite = {
		focus = CUB_mella_7
	}
	prerequisite = {
		focus = CUB_mella_8
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_11"
		add_stability = 0.075
		add_political_power = -100
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_mella_12
	icon = GFX_goal_FRA_artisan_education
	x = -1
	y = 4
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		has_government = totalist
		NOT = {
			has_country_flag = mellaradsocdeal
		}
	}

	prerequisite = {
		focus = CUB_mella_7
	}
	prerequisite = {
		focus = CUB_mella_8
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_12"
		add_ideas = CUB_education
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_mella_13
	icon = GFX_goal_HON_Socialist_Banner
	x = -4
	y = 5
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		has_government = totalist
		NOT = {
			has_country_flag = mellaradsocdeal
		}
	}

	prerequisite = {
		focus = CUB_mella_9
	}
	prerequisite = {
		focus = CUB_mella_10
	}
	prerequisite = {
		focus = CUB_mella_11
	}
	prerequisite = {
		focus = CUB_mella_12
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_mella_13"
		add_political_power = 300
		hidden_effect = {
			country_event = {
				id = cuba.233
				days = 90
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_melraddeal_2
	icon = GFX_BBR_approach_local_socialists
	x = 5
	y = 1
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		OR = {
			has_government = totalist
			has_government = radical_socialist
		}
		has_country_flag = mellaradsocdeal
	}

	prerequisite = {
		focus = CUB_mella_begin
	}
	mutually_exclusive = {
		focus = CUB_mella_2
	}
	mutually_exclusive = {
		focus = CUB_mella_3
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_melraddeal_2"
		set_variable = { CUB_socdeal_mella_count = 0 }
		set_variable = { CUB_socdeal_blas_count = 0 }
		country_event = cuba.215
	}
}

shared_focus = {
	id = CUB_melraddeal_3
	icon = GFX_goal_EGY_Agrarian_Reform
	x = 3
	y = 2
	relative_position_id = CUB_mella_begin
	cost = 2

	available = {
		OR = {
			has_government = totalist
			has_government = radical_socialist
		}
		has_country_flag = mellaradsocdeal
		has_country_flag = CUB_melladealtrcomp
	}

	prerequisite = {
		focus = CUB_melraddeal_2
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_melraddeal_3"

		if = {
			limit = {
				has_country_flag = CUB_melstrongarmblasag
			}
			add_popularity = {ideology = totalist popularity = 0.03}
			add_popularity = {ideology = radical_socialist popularity = -0.02}
			swap_ideas = {
				remove_idea = CUB_extsyndagr_2
				add_idea = CUB_extsyndagr_3
			}
		}
		else = {
			add_popularity = {ideology = totalist popularity = -0.02}
			add_popularity = {ideology = radical_socialist popularity = 0.03}
			swap_ideas = {
				remove_idea = CUB_extsyndagr_2
				add_idea = CUB_extsyndagr_4
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_melraddeal_4
	icon = GFX_Socialist_Law
	x = 5
	y = 2
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		OR = {
			has_government = totalist
			has_government = radical_socialist
		}
		has_country_flag = mellaradsocdeal
		has_country_flag = CUB_melladealtrcomp
	}

	prerequisite = {
		focus = CUB_melraddeal_2
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_melraddeal_4"

		if = {
			limit = {
				has_country_flag = CUB_melstrongarmblaspol
			}
			add_popularity = {ideology = totalist popularity = 0.03}
			add_popularity = {ideology = radical_socialist popularity = -0.02}
			add_stability = 0.05
		}
		else = {
			add_popularity = {ideology = totalist popularity = -0.02}
			add_popularity = {ideology = radical_socialist popularity = 0.03}
			add_war_support = 0.05
		}
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_melraddeal_5
	icon = GFX_goal_agrarian_soldiers
	x = 7
	y = 2
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		OR = {
			has_government = totalist
			has_government = radical_socialist
		}
		has_country_flag = mellaradsocdeal
		has_country_flag = CUB_melladealtrcomp
	}

	prerequisite = {
		focus = CUB_melraddeal_2
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_melraddeal_5"

		if = {
			limit = {
				has_country_flag = CUB_melstrongarmblasmil
				has_idea = CUB_militia_idea
			}
			add_popularity = {ideology = totalist popularity = 0.03}
			add_popularity = {ideology = radical_socialist popularity = -0.02}
			swap_ideas = {
				remove_idea = CUB_militia_idea
				add_idea = CUB_militia_idea_3
			}
		}
		else_if = {
			limit = {
				has_country_flag = CUB_melstrongarmblasmil
				has_idea = CUB_militia_idea_2
			}
			add_popularity = {ideology = totalist popularity = 0.03}
			add_popularity = {ideology = radical_socialist popularity = -0.02}
			swap_ideas = {
				remove_idea = CUB_militia_idea_2
				add_idea = CUB_militia_idea_4
			}
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = CUB_melstrongarmblasmil
				}
				has_idea = CUB_militia_idea
			}
			add_popularity = {ideology = totalist popularity = -0.02}
			add_popularity = {ideology = radical_socialist popularity = 0.03}
			swap_ideas = {
				remove_idea = CUB_militia_idea
				add_idea = CUB_militia_idea_5
			}
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = CUB_melstrongarmblasmil
				}
				has_idea = CUB_militia_idea_2
			}
			add_popularity = {ideology = totalist popularity = -0.02}
			add_popularity = {ideology = radical_socialist popularity = 0.03}
			swap_ideas = {
				remove_idea = CUB_militia_idea_2
				add_idea = CUB_militia_idea_6
			}
		}
		else_if = {
			limit = {
				NOT = {
					has_idea = CUB_militia_idea
					has_idea = CUB_militia_idea_2
				}
			}
			custom_effect_tooltip = blasmelmil_tt
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER }
}

shared_focus = {
	id = CUB_melraddeal_6
	icon = GFX_goal_ALB_Women
	x = 4
	y = 3
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		OR = {
			has_government = totalist
			has_government = radical_socialist
		}
		has_country_flag = mellaradsocdeal
	}

	prerequisite = {
		focus = CUB_melraddeal_3
	}
	prerequisite = {
		focus = CUB_melraddeal_4
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_melraddeal_6"
		add_political_power = -150
		if = {
			limit = {
				has_completed_focus = CUB_melraddeal_7
			}
			country_event = cuba.216
			add_stability = 0.05
			add_war_support = 0.05
		}
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_melraddeal_7
	icon = GFX_CSA_racial_liberation
	x = 6
	y = 3
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		OR = {
			has_government = totalist
			has_government = radical_socialist
		}
		has_country_flag = mellaradsocdeal
	}

	prerequisite = {
		focus = CUB_melraddeal_4
	}
	prerequisite = {
		focus = CUB_melraddeal_5
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_melraddeal_7"
		add_political_power = -150
		if = {
			limit = {
				has_completed_focus = CUB_melraddeal_6
			}
			country_event = cuba.216
			add_stability = 0.05
			add_war_support = 0.05
		}
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_melraddeal_8
	icon = GFX_goal_generic_world_diplomacy
	x = 2
	y = 4
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		OR = {
			has_government = totalist
			has_government = radical_socialist
		}
		has_country_flag = mellaradsocdeal
	}

	prerequisite = {
		focus = CUB_melraddeal_6
	}
	prerequisite = {
		focus = CUB_melraddeal_7
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_melraddeal_8"
		add_stability = -0.05
		add_ideas = CUB_socliscences
	}
	search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_melraddeal_9
	icon = GFX_CAL_profits_of_the_church
	x = 4
	y = 4
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		OR = {
			has_government = totalist
			has_government = radical_socialist
		}
		has_country_flag = mellaradsocdeal
	}

	prerequisite = {
		focus = CUB_melraddeal_6
	}
	prerequisite = {
		focus = CUB_melraddeal_7
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_melraddeal_9"
		add_stability = 0.05
		add_war_support = 0.05
		if = {
			limit = {
				country_exists = PAP
			}
			reverse_add_opinion_modifier = { target = PAP modifier = CUB_anticlericalpushpap }
		}
		custom_effect_tooltip = cub_anticleric_tt
		hidden_effect = {
			every_country = {
				limit = {
					has_socialist_government = no
					is_catholic_tag = yes
					NOT = {
						tag = PAP
					}
					exists = yes
				}
				add_opinion_modifier = { target = ROOT modifier = CUB_anticlericalpush }
			}
			every_country = {
				limit = {
					OR = {
						AND = {
							tag = TEX
							has_government = national_populist
						}
						AND = {
							tag = CNT
							has_socialist_government = yes
						}
						has_government = totalist
					}
					exists = yes
				}
				add_opinion_modifier = { target = ROOT modifier = CUB_anticatholicopinion }
			}
		}
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_melraddeal_10
	icon = GFX_goal_MEX_Red_Tinted_Democracy
	x = 6
	y = 4
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		OR = {
			has_government = totalist
			has_government = radical_socialist
		}
		has_country_flag = mellaradsocdeal
	}

	prerequisite = {
		focus = CUB_melraddeal_6
	}
	prerequisite = {
		focus = CUB_melraddeal_7
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_melraddeal_10"
		add_ideas = CUB_longjustblas
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_melraddeal_11
	icon = GFX_UKR_Multipolarity
	x = 8
	y = 4
	relative_position_id = CUB_mella_begin
	cost = 3

	available = {
		OR = {
			has_government = totalist
			has_government = radical_socialist
		}
		has_country_flag = mellaradsocdeal
	}

	prerequisite = {
		focus = CUB_melraddeal_6
	}
	prerequisite = {
		focus = CUB_melraddeal_7
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_melraddeal_11"
		add_stability = -0.05
		add_political_power = 100
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_melraddeal_12
	icon = GFX_goal_checkmate
	x = 5
	y = 5
	relative_position_id = CUB_mella_begin
	cost = 5

	available = {
		OR = {
			has_government = totalist
			has_government = radical_socialist
		}
		has_country_flag = mellaradsocdeal
	}

	prerequisite = {
		focus = CUB_melraddeal_8
	}
	prerequisite = {
		focus = CUB_melraddeal_9
	}
	prerequisite = {
		focus = CUB_melraddeal_10
	}
	prerequisite = {
		focus = CUB_melraddeal_11
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_melraddeal_12"
		country_event = cuba.214
	}
}

###Natpop Tree
#Political

shared_focus = {
	id = CUB_autenticfoc_begin
	icon = GFX_goal_cuba
	x = 4
	y = 0
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass8_tooltip
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_autenticfoc_begin"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_autenticfoc_2
	icon = GFX_goal_CAN_greenshirts
	x = -2
	y = 1
	relative_position_id = CUB_autenticfoc_begin
	cost = 3

	available = {
		OR = {
			has_country_leader = {
				name = "Ramón Grau San Martín"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Manuel Bisbé Alberni"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Carlos Prío Socarrás"
				ruling_only = yes
			}
		}
	}

	prerequisite = {
		focus = CUB_autenticfoc_begin
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_autenticfoc_2"
		add_manpower = -2000
		add_war_support = 0.10
		hidden_effect = {
			if = {
				limit = {
					has_idea = CUB_npop_Greenshirts_edu
				}
				country_event = {
					id = cuba.2180
					days = 4
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER }
}

shared_focus = {
	id = CUB_autenticfoc_3
	icon = GFX_goal_GUA_Peace_People
	x = 0
	y = 1
	relative_position_id = CUB_autenticfoc_begin
	cost = 5

	available = {
		has_completed_focus = CUB_autenticfoc_2
		OR = {
			has_country_leader = {
				name = "Ramón Grau San Martín"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Manuel Bisbé Alberni"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Carlos Prío Socarrás"
				ruling_only = yes
			}
		}
	}

	prerequisite = {
		focus = CUB_autenticfoc_begin
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_autenticfoc_3"
		add_political_power = 200
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
		add_timed_idea = {
			idea = CUB_peacenatpop_idea
			days = 200
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_autenticfoc_4
	icon = GFX_goal_DOM_Call_Special_Election
	x = 2
	y = 1
	relative_position_id = CUB_autenticfoc_begin
	cost = 5

	available = {
		has_completed_focus = CUB_autenticfoc_2
		OR = {
			has_country_leader = {
				name = "Ramón Grau San Martín"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Manuel Bisbé Alberni"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Carlos Prío Socarrás"
				ruling_only = yes
			}
		}
	}

	prerequisite = {
		focus = CUB_autenticfoc_begin
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_autenticfoc_4"

		add_popularity = {
			ideology = national_populist
			popularity = 0.07
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.07
		}
		hidden_effect = {
			country_event = {
				id = cuba.219
				days = 30
			}
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = var:current_party_ideology_group
						last_election = "[ELECTION_DATE_TAG]"
						election_frequency = 48
						elections_allowed = yes
					}
				}
				ELECTION_DATE_TAG = "[GetYear].1.28"
			}
		}
		custom_effect_tooltip = CUBelectionsallowed
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_autenticfoc_5
	icon = GFX_goal_COR_goods_of_cuba
	x = -3
	y = 2
	relative_position_id = CUB_autenticfoc_begin
	cost = 5

	available = {
		OR = {
			has_country_leader = {
				name = "Ramón Grau San Martín"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Manuel Bisbé Alberni"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Carlos Prío Socarrás"
				ruling_only = yes
			}
		}
	}

	prerequisite = {
		focus = CUB_autenticfoc_2
	}
	prerequisite = {
		focus = CUB_autenticfoc_3
	}
	prerequisite = {
		focus = CUB_autenticfoc_4
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_autenticfoc_5"
		add_offsite_building = { type = industrial_complex level = 3 }
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_autenticfoc_6
	icon = GFX_RUS_Rural_Electro
	x = -1
	y = 2
	relative_position_id = CUB_autenticfoc_begin
	cost = 5

	available = {
		OR = {
			has_country_leader = {
				name = "Ramón Grau San Martín"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Manuel Bisbé Alberni"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Carlos Prío Socarrás"
				ruling_only = yes
			}
		}
	}

	prerequisite = {
		focus = CUB_autenticfoc_2
	}
	prerequisite = {
		focus = CUB_autenticfoc_3
	}
	prerequisite = {
		focus = CUB_autenticfoc_4
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_autenticfoc_6"
		add_popularity = {ideology = authoritarian_democrat popularity = 0.05}
		315 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		820 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = CUB_autenticfoc_7
	icon = GFX_goal_CAL_women_advocacy
	x = 1
	y = 2
	relative_position_id = CUB_autenticfoc_begin
	cost = 5

	available = {
		OR = {
			has_country_leader = {
				name = "Ramón Grau San Martín"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Manuel Bisbé Alberni"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Carlos Prío Socarrás"
				ruling_only = yes
			}
		}
	}

	prerequisite = {
		focus = CUB_autenticfoc_2
	}
	prerequisite = {
		focus = CUB_autenticfoc_3
	}
	prerequisite = {
		focus = CUB_autenticfoc_4
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_autenticfoc_7"
		add_ideas = CUB_authentic_girls
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER }
}

shared_focus = {
	id = CUB_autenticfoc_8
	icon = GFX_goal_NIC_Educated_Populace
	x = 3
	y = 2
	relative_position_id = CUB_autenticfoc_begin
	cost = 5

	available = {
		OR = {
			has_country_leader = {
				name = "Ramón Grau San Martín"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Manuel Bisbé Alberni"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Carlos Prío Socarrás"
				ruling_only = yes
			}
		}
	}

	prerequisite = {
		focus = CUB_autenticfoc_2
	}
	prerequisite = {
		focus = CUB_autenticfoc_3
	}
	prerequisite = {
		focus = CUB_autenticfoc_4
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_autenticfoc_8"
		add_ideas = CUB_education_natpop
		add_political_power = -50
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = CUB_autenticfoc_9
	icon = GFX_goal_GER_Health
	x = -2
	y = 3
	relative_position_id = CUB_autenticfoc_begin
	cost = 5

	available = {
		OR = {
			has_country_leader = {
				name = "Ramón Grau San Martín"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Manuel Bisbé Alberni"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Carlos Prío Socarrás"
				ruling_only = yes
			}
		}
	}

	prerequisite = {
		focus = CUB_autenticfoc_5
	}
	prerequisite = {
		focus = CUB_autenticfoc_6
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_autenticfoc_9"
		add_ideas = CUB_autentichealth_idea

	}
}

shared_focus = {
	id = CUB_autenticfoc_10
	icon = GFX_BBR_accelerate_integration
	x = 2
	y = 3
	relative_position_id = CUB_autenticfoc_begin
	cost = 5

	available = {
		OR = {
			has_country_leader = {
				name = "Ramón Grau San Martín"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Manuel Bisbé Alberni"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Carlos Prío Socarrás"
				ruling_only = yes
			}
		}
	}

	prerequisite = {
		focus = CUB_autenticfoc_7
	}
	prerequisite = {
		focus = CUB_autenticfoc_8
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_autenticfoc_10"
		add_ideas = CUB_racism_outlawed_natpop
		add_political_power = -250
	}
}

shared_focus = {
	id = CUB_autenticfoc_11
	icon = GFX_DKB_Bureaucracy
	x = 0
	y = 4
	relative_position_id = CUB_autenticfoc_begin
	cost = 5

	available = {
		OR = {
			has_country_leader = {
				name = "Ramón Grau San Martín"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Manuel Bisbé Alberni"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Carlos Prío Socarrás"
				ruling_only = yes
			}
		}
	}

	prerequisite = {
		focus = CUB_autenticfoc_9
	}
	prerequisite = {
		focus = CUB_autenticfoc_10
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_autenticfoc_11"
		add_stability = 0.05
		add_popularity = {ideology = national_populist popularity = 0.05}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_autenticfoc_12
	icon = GFX_SOV_Progress
	x = 0
	y = 5
	relative_position_id = CUB_autenticfoc_begin
	cost = 5

	available = {
		OR = {
			has_country_leader = {
				name = "Ramón Grau San Martín"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Manuel Bisbé Alberni"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Carlos Prío Socarrás"
				ruling_only = yes
			}
		}
	}

	prerequisite = {
		focus = CUB_autenticfoc_11
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_autenticfoc_12"
		add_political_power = 300
		hidden_effect = {
			country_event = {
				id = cuba.2200
				days = 60
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

###Revdem Tree
#Political

shared_focus = {
	id = CUB_revdem_begin
	icon = GFX_goal_KIV_socialist_democracy
	x = 3
	y = 0
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass8_tooltip
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_begin"
		set_party_name =  {
			ideology = radical_socialist
			name = CUB_radical_socialist_party_radsocdem
			long_name = CUB_radical_socialist_party_long_radsocdem
		}
	}
}

shared_focus = {
	id = CUB_revdem_newparty
	icon = GFX_goal_NIC_Victory_Social_Democracy
	x = 0
	y = 1
	relative_position_id = CUB_revdem_begin
	cost = 5

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_begin
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_newparty"
		add_stability = 0.05
		add_political_power = 50
		add_popularity = {
			ideology = social_democrat
			popularity = 0.1
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		create_country_leader = {
			name = "Manuel Bisbé Alberni"
			desc = "POLITICS_MANUEL_BISBE_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Manuel_Bisbe_Alberni.png"
			expire = "1.1.1"
			ideology = social_democrat_subtype
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_revdem_2
	icon = GFX_HUN_unite_the_militias
	x = -2
	y = 2
	relative_position_id = CUB_revdem_begin
	cost = 3

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_newparty
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_2"
		add_stability = 0.05

	}
	search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_revdem_3
	icon = GFX_goal_BEL_Social_Equality_All_True_Belgians
	x = 0
	y = 2
	relative_position_id = CUB_revdem_begin
	cost = 5

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_newparty
	}
	available = {
		OR = {
			has_idea = CUB_modsyndagr
			has_idea = CUB_modsyndagr_2
		}
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_3"
		if = {
			limit = {
				has_idea = CUB_modsyndagr
			}
			swap_ideas = {
				remove_idea = CUB_modsyndagr
				add_idea = CUB_modsyndagr_radplus
			}
		}
		else = {
			swap_ideas = {
				remove_idea = CUB_modsyndagr_2
				add_idea = CUB_modsyndagr_radplus
			}
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_revdem_4
	icon = GFX_goal_HOL_crackdown_totalist
	x = 2
	y = 2
	relative_position_id = CUB_revdem_begin
	cost = 5

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_newparty
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_4"
		add_political_power = -20
		add_stability = 0.02
		add_war_support = 0.02
		add_popularity = {
			ideology = totalist
			popularity = -0.1
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_revdem_5
	icon = GFX_goal_COR_Cooperate_Organized_Workers_Farmers
	x = -1
	y = 3
	relative_position_id = CUB_revdem_begin
	cost = 5

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_2
	}
	prerequisite = {
		focus = CUB_revdem_3
	}
	prerequisite = {
		focus = CUB_revdem_4
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_5"
		swap_ideas = {
			remove_idea = CUB_modsyndagr_radplus
			add_idea = CUB_modsyndagr_radplus_2
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_revdem_6
	icon = GFX_goal_generic_elections
	x = 1
	y = 3
	relative_position_id = CUB_revdem_begin
	cost = 5

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_2
	}
	prerequisite = {
		focus = CUB_revdem_3
	}
	prerequisite = {
		focus = CUB_revdem_4
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_6"
		add_popularity = {
			ideology = social_liberal
			popularity = 0.1
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.05
		}
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = var:current_party_ideology_group
						last_election = "[ELECTION_DATE_TAG]"
						election_frequency = 48
						elections_allowed = yes
					}
				}
				ELECTION_DATE_TAG = "[GetYear].1.28"
			}
		}
		custom_effect_tooltip = CUBelectionsallowed
	}
}

shared_focus = {
	id = CUB_revdem_7
	icon = GFX_goal_POL_Invest_Rural_Education
	x = -2
	y = 4
	relative_position_id = CUB_revdem_begin
	cost = 5

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_5
	}
	prerequisite = {
		focus = CUB_revdem_6
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_7"
		add_political_power = -100
		add_timed_idea = {
			idea = CUB_radsocresearch
			days = 400
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_revdem_8
	icon = GFX_goal_agrarian_soldiers
	x = 0
	y = 4
	relative_position_id = CUB_revdem_begin
	cost = 5

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_5
	}
	prerequisite = {
		focus = CUB_revdem_6
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_8"
		add_political_power = 25
		army_experience = 25
		add_timed_idea = {
			idea = CUB_radsocmilsurge
			days = 360
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_revdem_9
	icon = GFX_goal_graveyard
	x = 2
	y = 4
	relative_position_id = CUB_revdem_begin
	cost = 5

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_5
	}
	prerequisite = {
		focus = CUB_revdem_6
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_9"
		add_political_power = 150
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_revdem_10
	icon = GFX_goal_liberty
	x = 0
	y = 5
	relative_position_id = CUB_revdem_begin
	cost = 5

	available = {
		OR = {
			has_government = radical_socialist
			has_government = social_democrat
			has_government = social_liberal
		}
	}

	ai_will_do = {
		factor = 15
	}
	prerequisite = {
		focus = CUB_revdem_7
	}
	prerequisite = {
		focus = CUB_revdem_8
	}
	prerequisite = {
		focus = CUB_revdem_9
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_revdem_10"
		add_war_support = 0.05
		add_political_power = 50
		add_popularity = {
			ideology = social_liberal
			popularity = 0.07
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.07
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.07
		}
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }
}

###USpuppet Tree
#Political

shared_focus = {
	id = CUB_puppet_begin
	icon = GFX_goal_usa
	x = 8
	y = 0
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass8_tooltip
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_puppet_begin"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_auth_continue
	icon = GFX_goal_COR_Aggressive_American_Imperialism
	x = -5
	y = 1
	relative_position_id = CUB_puppet_begin
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass9_tooltip
		}
	}

	prerequisite = {
		focus = CUB_puppet_begin
	}
	mutually_exclusive = {
		focus = CUB_democratize_auth
		focus = CUB_nomorelapdop
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_auth_continue"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_auth_continue_2
	icon = GFX_HON_sugar_plantations
	x = -6
	y = 2
	relative_position_id = CUB_puppet_begin
	cost = 5

	available = {
		has_government = authoritarian_democrat
	}

	prerequisite = {
		focus = CUB_auth_continue
	}
	bypass = {
		NOT = {
			country_exists = USA
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_auth_continue_2"
		if = {
			limit = {
				has_idea =  CUB_american_puppet_idea
			}
			swap_ideas = {
				remove_idea = CUB_american_puppet_idea
				add_idea = CUB_american_puppet_idea_2
			}
		}
		else = {
			swap_ideas = {
				remove_idea = CUB_american_loyal_idea
				add_idea = CUB_american_loyal_idea_2
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}

shared_focus = {
	id = CUB_auth_continue_3
	icon = GFX_goal_GUA_Silence_People
	x = -4
	y = 2
	relative_position_id = CUB_puppet_begin
	cost = 5

	available = {
		has_government = authoritarian_democrat
	}

	prerequisite = {
		focus = CUB_auth_continue
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_auth_continue_3"
		add_stability = 0.05
		add_popularity = {
			ideology = market_liberal
			popularity = -0.05
		}
		add_popularity = {
			ideology = social_liberal
			popularity = -0.05
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
	}
	search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_auth_continue_4
	icon = GFX_focus_ger_bulwark_against_bolshevism
	x = -7
	y = 3
	relative_position_id = CUB_puppet_begin
	cost = 5

	available = {
		has_government = authoritarian_democrat
	}

	prerequisite = {
		focus = CUB_auth_continue_2
	}
	prerequisite = {
		focus = CUB_auth_continue_3
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_auth_continue_4"
		add_ideas = CUB_anti_syndicalism
	}
}

shared_focus = {
	id = CUB_auth_continue_5
	icon = GFX_goal_checkmate
	x = -5
	y = 3
	relative_position_id = CUB_puppet_begin
	cost = 3

	available = {
		has_government = authoritarian_democrat
	}

	prerequisite = {
		focus = CUB_auth_continue_2
	}
	prerequisite = {
		focus = CUB_auth_continue_3
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_auth_continue_5"
		add_stability = -0.03
		add_war_support = -0.03
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = -0.03
		}
		add_political_power = 150
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_auth_continue_6
	icon = GFX_goal_NEE_Ensuring_American_Patriotism
	x = -3
	y = 3
	relative_position_id = CUB_puppet_begin
	cost = 5

	available = {
		has_government = authoritarian_democrat
	}

	prerequisite = {
		focus = CUB_auth_continue_2
	}
	prerequisite = {
		focus = CUB_auth_continue_3
	}
	bypass = {
		NOT = {
			country_exists = USA
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_auth_continue_6"
		add_war_support = 0.1
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
	id = CUB_auth_continue_7
	icon = GFX_DKB_Bureaucracy
	x = -5
	y = 4
	relative_position_id = CUB_puppet_begin
	cost = 5

	available = {
		has_government = authoritarian_democrat
	}

	prerequisite = {
		focus = CUB_auth_continue_4
	}
	prerequisite = {
		focus = CUB_auth_continue_5
	}
	prerequisite = {
		focus = CUB_auth_continue_6
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_auth_continue_7"
		add_stability = 0.1
	}
	search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_auth_continue_8
	icon = GFX_our_manifest_destiny
	x = -5
	y = 5
	relative_position_id = CUB_puppet_begin
	cost = 5

	available = {
		has_government = authoritarian_democrat
	}

	prerequisite = {
		focus = CUB_auth_continue_7
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_auth_continue_8"
		if = {
			limit = {
				has_idea =  CUB_american_puppet_idea_2
			}
			swap_ideas = {
				remove_idea = CUB_american_puppet_idea_2
				add_idea = CUB_american_puppet_idea_3
			}
		}
		else_if = {
			limit = {
				has_idea =  CUB_american_loyal_idea_2
			}
			swap_ideas = {
				remove_idea = CUB_american_loyal_idea_2
				add_idea = CUB_american_loyal_idea_3
			}
		}
		else_if = {
			limit = {
				NOT = {
					has_idea =  CUB_american_puppet_idea_2
					has_idea =  CUB_american_loyal_idea_2
				}
			}
			add_political_power = 50
			add_stability = 0.05
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_ANNEXATION FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_democratize_auth
	icon = GFX_BEL_support_democracy
	x = 0
	y = 1
	relative_position_id = CUB_puppet_begin
	cost = 5

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass9_tooltip
		}
	}

	prerequisite = {
		focus = CUB_puppet_begin
	}
	mutually_exclusive = {
		focus = CUB_auth_continue
		focus = CUB_nomorelapdop
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_democratize_auth"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_democratize_auth_2
	icon = GFX_america_goal_eagle_deal
	x = -2
	y = 2
	relative_position_id = CUB_puppet_begin
	cost = 5

	available = {
		has_government = market_liberal
	}

	prerequisite = {
		focus = CUB_democratize_auth
	}
	bypass = {
		NOT = {
			country_exists = USA
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_democratize_auth_2"
		add_political_power = 30
		add_stability = 0.04
		add_popularity = {
			ideology = market_liberal
			popularity = 0.05
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_democratize_auth_3
	icon = GFX_goal_LIB_secure_fleeing_businesses
	x = 0
	y = 2
	relative_position_id = CUB_puppet_begin
	cost = 5

	available = {
		OR = {
			has_government = social_liberal
			has_government = market_liberal
			has_government = authoritarian_democrat
		}
	}

	prerequisite = {
		focus = CUB_democratize_auth
	}
	bypass = {
		NOT = {
			country_exists = USA
		}
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_democratize_auth_3"
		if = {
			limit = {
				has_idea =  CUB_american_puppet_idea
			}
			swap_ideas = {
				remove_idea = CUB_american_puppet_idea
				add_idea = CUB_american_puppet_idea_4
			}
		}
		else = {
			swap_ideas = {
				remove_idea = CUB_american_loyal_idea
				add_idea = CUB_american_loyal_idea_4
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_democratize_auth_4
	icon = GFX_USA_appoint_new_judges-57756
	x = 2
	y = 2
	relative_position_id = CUB_puppet_begin
	cost = 3

	available = {
		OR = {
			has_government = social_liberal
			has_government = market_liberal
			has_government = authoritarian_democrat
		}
	}

	prerequisite = {
		focus = CUB_democratize_auth
	}
	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_democratize_auth_4"
		add_timed_idea = {
			idea = CUB_token_pros
			days = 90
		}
	}
}

shared_focus = {
	id = CUB_democratize_auth_5
	icon = GFX_goal_CSA_calm_moderates
	x = -1
	y = 3
	relative_position_id = CUB_puppet_begin
	cost = 4

	available = {
		OR = {
			has_government = social_liberal
			has_government = market_liberal
			has_government = authoritarian_democrat
		}
	}

	prerequisite = {
		focus = CUB_democratize_auth_2
	}
	prerequisite = {
		focus = CUB_democratize_auth_3
	}
	prerequisite = {
		focus = CUB_democratize_auth_4
	}
	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_democratize_auth_5"
		add_political_power = 25
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.05
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.05
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = CUB_democratize_auth_6
	icon = GFX_cleaningourownhouse
	x = 1
	y = 3
	relative_position_id = CUB_puppet_begin
	cost = 5

	available = {
		OR = {
			has_government = social_liberal
			has_government = market_liberal
			has_government = authoritarian_democrat
		}
	}

	prerequisite = {
		focus = CUB_democratize_auth_2
	}
	prerequisite = {
		focus = CUB_democratize_auth_3
	}
	prerequisite = {
		focus = CUB_democratize_auth_4
	}
	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_democratize_auth_6"
		add_political_power = 50
		add_ideas = CUB_profadmin
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_democratize_auth_7
	icon = GFX_goal_NEE_Reinstate_Constitution
	x = 0
	y = 4
	relative_position_id = CUB_puppet_begin
	cost = 5

	available = {
		OR = {
			has_government = social_liberal
			has_government = market_liberal
			has_government = authoritarian_democrat
		}
	}

	prerequisite = {
		focus = CUB_democratize_auth_5
	}
	prerequisite = {
		focus = CUB_democratize_auth_6
	}
	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_democratize_auth_7"
		country_event = cuba.208
		set_country_flag = cubconconstscore
		set_country_flag = cubradconstscore
	}
}

shared_focus = {
	id = CUB_democratize_auth_8
	icon = GFX_goal_NEE_Ensuring_American_Dream
	x = 0
	y = 5
	relative_position_id = CUB_puppet_begin
	cost = 3

	available = {
		OR = {
			has_government = social_liberal
			has_government = market_liberal
			has_government = authoritarian_democrat
		}
	}

	prerequisite = {
		focus = CUB_democratize_auth_7
	}
	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_democratize_auth_8"
		add_war_support = 0.05
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = var:current_party_ideology_group
						last_election = "[ELECTION_DATE_TAG]"
						election_frequency = 48
						elections_allowed = yes
					}
				}
				ELECTION_DATE_TAG = "[GetYear].1.28"
			}
		}
		custom_effect_tooltip = CUBelectionsallowed
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
	id = CUB_nomorelapdop
	icon = GFX_goal_liberty
	x = 5
	y = 1
	relative_position_id = CUB_puppet_begin
	cost = 1

	available = {
		custom_trigger_tooltip = {
			always = no
			tooltip = bypass9_tooltip
		}
	}

	prerequisite = {
		focus = CUB_puppet_begin
	}
	mutually_exclusive = {
		focus = CUB_auth_continue
		focus = CUB_democratize_auth
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nomorelapdop"
		custom_effect_tooltip = cubanoeffect_tooltip
	}
}

shared_focus = {
	id = CUB_nomorelapdop_2
	icon = GFX_goal_generic_autarky
	x = 4
	y = 2
	relative_position_id = CUB_puppet_begin
	cost = 5

	available = {
		OR = {
			has_government = social_liberal
			has_government = market_liberal
			has_government = authoritarian_democrat
		}
	}

	prerequisite = {
		focus = CUB_nomorelapdop
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nomorelapdop_2"
		add_ideas = CUB_pupind1_idea
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_nomorelapdop_3
	icon = GFX_goal_NFL_balanced_budget
	x = 6
	y = 2
	relative_position_id = CUB_puppet_begin
	cost = 5

	available = {
		OR = {
			has_government = social_liberal
			has_government = market_liberal
			has_government = authoritarian_democrat
		}
	}

	prerequisite = {
		focus = CUB_nomorelapdop
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nomorelapdop_3"
		add_war_support = 0.05
		add_popularity = {
			ideology = social_liberal
			popularity = 0.05
		}
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
	id = CUB_nomorelapdop_4
	icon = GFX_goal_card_tricks
	x = 3
	y = 3
	relative_position_id = CUB_puppet_begin
	cost = 3

	available = {
		OR = {
			has_government = social_liberal
			has_government = market_liberal
			has_government = authoritarian_democrat
		}
	}

	prerequisite = {
		focus = CUB_nomorelapdop_2
	}
	prerequisite = {
		focus = CUB_nomorelapdop_3
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nomorelapdop_4"
		swap_ideas = {
			remove_idea = CUB_pupind1_idea
			add_idea = CUB_pupind2_idea
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CUB_nomorelapdop_5
	icon = GFX_goal_AST_freedom_of_the_press
	x = 5
	y = 3
	relative_position_id = CUB_puppet_begin
	cost = 3

	available = {
		OR = {
			has_government = social_liberal
			has_government = market_liberal
			has_government = authoritarian_democrat
		}
	}

	prerequisite = {
		focus = CUB_nomorelapdop_2
	}
	prerequisite = {
		focus = CUB_nomorelapdop_3
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nomorelapdop_5"
		add_popularity = {
			ideology = social_democrat
			popularity = 0.03
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.03
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.03
		}
		add_political_power = 50
		add_stability = -0.03
		add_war_support = -0.03
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_nomorelapdop_6
	icon = GFX_goal_COS_Ferrer_Coup
	x = 7
	y = 3
	relative_position_id = CUB_puppet_begin
	cost = 5

	available = {
		OR = {
			has_government = social_liberal
			has_government = market_liberal
			has_government = authoritarian_democrat
		}
	}

	prerequisite = {
		focus = CUB_nomorelapdop_2
	}
	prerequisite = {
		focus = CUB_nomorelapdop_3
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nomorelapdop_6"
		add_stability = 0.05
		add_popularity = {
			ideology = totalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.05
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = -0.05
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.05
		}
		add_popularity = {
			ideology = national_populist
			popularity = -0.05
		}
	}
	search_filters = { FOCUS_FILTER_STABILITY }
}

shared_focus = {
	id = CUB_nomorelapdop_7
	icon = GFX_goal_NFL_restore_democracy
	x = 5
	y = 4
	relative_position_id = CUB_puppet_begin
	cost = 3

	available = {
		OR = {
			has_government = social_liberal
			has_government = market_liberal
			has_government = authoritarian_democrat
		}
	}

	prerequisite = {
		focus = CUB_nomorelapdop_4
	}
	prerequisite = {
		focus = CUB_nomorelapdop_5
	}
	prerequisite = {
		focus = CUB_nomorelapdop_6
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nomorelapdop_7"
		add_popularity = {
			ideology = social_liberal
			popularity = 0.05
		}
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = var:current_party_ideology_group
						last_election = "[ELECTION_DATE_TAG]"
						election_frequency = 48
						elections_allowed = yes
					}
				}
				ELECTION_DATE_TAG = "[GetYear].1.28"
			}
		}
		custom_effect_tooltip = CUBelectionsallowed
	}
}

shared_focus = {
	id = CUB_nomorelapdop_8
	icon = GFX_goal_cuba
	x = 5
	y = 5
	relative_position_id = CUB_puppet_begin
	cost = 5

	available = {
		OR = {
			has_government = social_liberal
			has_government = market_liberal
			has_government = authoritarian_democrat
		}
	}

	prerequisite = {
		focus = CUB_nomorelapdop_7
	}

	ai_will_do = {
		factor = 15
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CUB_nomorelapdop_8"
		add_political_power = 150
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}
