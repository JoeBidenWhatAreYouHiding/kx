###########################
# Serbia Focus Tree
# By Alpinia, Maltesefalcon and Carmain
###########################

focus_tree = {
	id = serbia_focus

	country = {
		factor = 0
		modifier = {
			add = 10
			tag = SER
		}
	}

	default = no
	continuous_focus_position = { x = 1680 y = 750 }

	################
	### Politics ###
	################

	focus = {
		id = SER_Return_Of_The_Crown_Prince
		icon = GFX_focus_rom_royal_dictatorship
		available = {
			hidden_trigger = { always = no }
		}
		mutually_exclusive = {
			focus = SER_The_Vojvoda_Stands_Tall
			focus = SER_The_Republican_Proclamation
		}
		x = 1
		y = 0
		cost = 0
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Return_Of_The_Crown_Prince"
			remove_ideas = SER_political_instability
			hidden_effect = {
				create_country_leader = {
					name = "Alexander II"
					desc = "POLITICS_ALEXANDER_II_DESC"
					picture = "gfx/leaders/SER/Portrait_SER_Alexander_II.png"
					expire = "1965.1.1"
					ideology = social_conservative_subtype
				}
				create_country_leader = {
					name = "Alexander II"
					desc = "POLITICS_ALEXANDER_II_DESC"
					picture = "gfx/leaders/SER/Portrait_SER_Alexander_II.png"
					expire = "1965.1.1"
					ideology = market_liberal_subtype
				}
				create_country_leader = {
					name = "Alexander II"
					desc = "POLITICS_ALEXANDER_II_DESC"
					picture = "gfx/leaders/SER/Portrait_SER_Alexander_II.png"
					expire = "1965.1.1"
					ideology = social_liberal_subtype
				}
				create_country_leader = {
					name = "Alexander II"
					desc = "POLITICS_ALEXANDER_II_DESC"
					picture = "gfx/leaders/SER/Portrait_SER_Alexander_II.png"
					expire = "1965.1.1"
					ideology = social_democrat_subtype
				}
				news_event = worldnews.117
				set_party_name = {
					ideology = paternal_autocrat
					name = SER_alexander_paternal_autocrat_party
					long_name = SER_alexander_paternal_autocrat_party_long
				}
			}
		}
	}

	focus = {
		id = SER_Alexanders_Vision
		icon = GFX_ITA_urban
		prerequisite = {
			focus = SER_Return_Of_The_Crown_Prince
		}
		relative_position_id = SER_Return_Of_The_Crown_Prince
		x = 0
		y = 1
		cost = 6
		ai_will_do = {
			factor = 100
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Alexanders_Vision"
			set_politics = {
				ruling_party = paternal_autocrat
				elections_allowed = no
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.10
			}
			add_ideas = SER_alexanders_vision_1
			hidden_effect = {
				add_popularity = {
					ideology = authoritarian_democrat
					popularity = -0.20
				}
				remove_all_ministers_but_hog = yes
				add_ideas = {
					SER_Bogoljub_Jevtic_for_pau
					SER_Milorad_Djordjevic_eco_pau
					SER_Milan_Srskic_sec_pau
				}
			}
		}
	}

	focus = {
		id = SER_Encourage_Yugoslavism
		icon = GFX_goal_SER_yugoslavism
		prerequisite = {
			focus = SER_Alexanders_Vision
		}
		relative_position_id = SER_Return_Of_The_Crown_Prince
		x = -1
		y = 2
		cost = 6
		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				OR = {
					owns_state = 45
					owns_state = 794
				}
			}
			modifier = {
				factor = 4
				OR = {
					owns_state = 104
					owns_state = 109
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Encourage_Yugoslavism"
			add_war_support = 0.1
		}
	}

	focus = {
		id = SER_Begin_Land_Reform
		icon = GFX_goal_OTT_Land_Reform
		prerequisite = {
			focus = SER_Alexanders_Vision
		}
		relative_position_id = SER_Return_Of_The_Crown_Prince
		x = 1
		y = 2
		cost = 6
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Begin_Land_Reform"
			swap_ideas = {
				remove_idea = SER_alexanders_vision_1
				add_idea = SER_alexanders_vision_2
			}
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.10
			}
		}
	}

	focus = {
		id = SER_Glory_To_The_King
		icon = GFX_goal_SER_king
		prerequisite = {
			focus = SER_Begin_Land_Reform
		}
		prerequisite = {
			focus = SER_Monument_To_The_Unknown_Soldier
		}
		relative_position_id = SER_Return_Of_The_Crown_Prince
		x = 1
		y = 4
		cost = 6
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Glory_To_The_King"
			add_war_support = 0.1
			add_political_power = 50
			swap_ideas = {
				remove_idea = SER_alexanders_vision_2
				add_idea = SER_alexanders_vision_3
			}
		}
	}

	focus = {
		id = SER_Maintain_Military_Dominance
		icon = GFX_goal_generic_join_faction
		prerequisite = {
			focus = SER_Return_Of_The_Crown_Prince
			focus = SER_The_Vojvoda_Stands_Tall
		}
		relative_position_id = SER_Return_Of_The_Crown_Prince
		x = 2
		y = 1
		cost = 6
		ai_will_do = {
			factor = 15
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Maintain_Military_Dominance"
			army_experience = 50
			if = {
				limit = { has_idea = SER_greenshirts }
				swap_ideas = {
					remove_idea = SER_greenshirts
					add_idea = SER_military_dominance_3
				}
			}
			else = {
				add_ideas = SER_military_dominance_1
			}
		}
	}

	focus = {
		id = SER_Monument_To_The_Unknown_Soldier
		icon = GFX_focus_generic_manpower
		prerequisite = {
			focus = SER_Maintain_Military_Dominance
		}
		relative_position_id = SER_Return_Of_The_Crown_Prince
		x = 2
		y = 3
		cost = 6
		ai_will_do = {
			factor = 15
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Monument_To_The_Unknown_Soldier"
			if = {
				limit = { has_idea = SER_military_dominance_3 }
				swap_ideas = {
					remove_idea = SER_military_dominance_3
					add_idea = SER_military_dominance_4
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SER_military_dominance_1
					add_idea = SER_military_dominance_2
				}
			}
		}
	}

	focus = {
		id = SER_The_Vojvoda_Stands_Tall
		icon = GFX_goal_authority
		available = {
			hidden_trigger = { always = no }
		}
		mutually_exclusive = {
			focus = SER_Return_Of_The_Crown_Prince
			focus = SER_The_Republican_Proclamation
		}
		relative_position_id = SER_Return_Of_The_Crown_Prince
		x = 4
		y = 0
		cost = 0
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_The_Vojvoda_Stands_Tall"
			remove_ideas = SER_political_instability
			add_political_power = 50
			add_stability = 0.05
		}
	}

	focus = {
		id = SER_Organise_The_Radical_Union
		icon = GFX_goal_SER_SRZ
                available = {
                       NOT = {
			   has_government = national_populist
		       }
                }
		prerequisite = {
			focus = SER_The_Vojvoda_Stands_Tall
		}
		relative_position_id = SER_The_Vojvoda_Stands_Tall
		x = 0
		y = 1
		cost = 6
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Organise_The_Radical_Union"
			add_ideas = SER_rule_of_the_vojvoda_1
			set_party_name = {
				ideology = authoritarian_democrat
				name = SER_vojvoda_authoritarian_democrat_party
				long_name = SER_vojvoda_authoritarian_democrat_party_long
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.1
			}
		}
	}

	focus = {
		id = SER_Mobilise_The_Greenshirts
		icon = GFX_goal_social_reforms
		prerequisite = {
			focus = SER_Organise_The_Radical_Union
		}
		relative_position_id = SER_The_Vojvoda_Stands_Tall
		x = -1
		y = 2
		cost = 6
		ai_will_do = {
			factor = 12
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Mobilise_The_Greenshirts"
			add_ideas = SER_greenshirts
			add_political_power = 50
		}
	}

	focus = {
		id = SER_One_Vojvoda_One_Nation_One_State
		icon = GFX_goal_national_populism
		prerequisite = {
			focus = SER_Monument_To_The_Unknown_Soldier
		}
		prerequisite = {
			focus = SER_Mobilise_The_Greenshirts
		}
		relative_position_id = SER_The_Vojvoda_Stands_Tall
		x = -1
		y = 4
		cost = 6
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_One_Vojvoda_One_Nation_One_State"
			swap_ideas = {
				remove_idea = SER_rule_of_the_vojvoda_1
				add_idea = SER_rule_of_the_vojvoda_2
			}
		}
	}

	focus = {
		id = SER_The_Republican_Proclamation
		icon = GFX_goal_Fight_for_Freedom
		available = {
			hidden_trigger = { always = no }
		}
		mutually_exclusive = {
			focus = SER_Return_Of_The_Crown_Prince
			focus = SER_The_Vojvoda_Stands_Tall
		}
		relative_position_id = SER_Return_Of_The_Crown_Prince
		x = 6
		y = 0
		cost = 0
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_The_Republican_Proclamation"
			remove_ideas = SER_political_instability
			set_cosmetic_tag = SER_republic
			hidden_effect = {
				random_other_country = { news_event = worldnews.118 }
			}
		}
	}

	focus = {
		id = SER_Draft_A_Constitution
		icon = GFX_goal_new_treaty
		prerequisite = {
			focus = SER_The_Republican_Proclamation
		}
                available = {
                       NOT = {
			   has_government = national_populist
		       }
                }
		relative_position_id = SER_The_Republican_Proclamation
		x = 0
		y = 1
		cost = 6
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Draft_A_Constitution"
			add_stability = 0.1
			add_political_power = 75
		}
	}

	focus = {
		id = SER_Free_The_Vojvodas_Prisoners
		icon = GFX_HON_peace_in_our_time
		prerequisite = {
			focus = SER_Draft_A_Constitution
		}
		relative_position_id = SER_The_Republican_Proclamation
		x = 1
		y = 2
		cost = 4
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Free_The_Vojvodas_Prisoners"
			add_stability = 0.05
			add_popularity = {
				ideology = social_democrat
				popularity = 0.1
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.1
			}
			add_popularity = {
				ideology = social_conservative
				popularity = 0.1
			}
		}
	}

	focus = {
		id = SER_A_Nascent_Balkan_Democracy
		icon = GFX_goal_generic_elections
		prerequisite = {
			focus = SER_Draft_A_Constitution
		}
		relative_position_id = SER_The_Republican_Proclamation
		x = -1
		y = 2
		cost = 6
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_A_Nascent_Balkan_Democracy"
			add_ideas = SER_balkan_democracy_1
			country_event = serbia.21
		}
	}

	focus = {
		id = SER_Restore_Local_Governance
		icon = GFX_goal_COS_Ferrer_Coup
		prerequisite = {
			focus = SER_A_Nascent_Balkan_Democracy
		}
		relative_position_id = SER_The_Republican_Proclamation
		x = 1
		y = 4
		cost = 6
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Restore_Local_Governance"
			if = { #has pasic
				limit = { has_idea = SER_balkan_democracy_3 }
				swap_ideas = {
					remove_idea = SER_balkan_democracy_3
					add_idea = SER_balkan_democracy_5
				}
			}
			else_if = { #has open economy
				limit = { has_idea = SER_balkan_democracy_4 }
				swap_ideas = {
					remove_idea = SER_balkan_democracy_4
					add_idea = SER_balkan_democracy_6
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SER_balkan_democracy_1
					add_idea = SER_balkan_democracy_2
				}
			}
		}
	}

	focus = {
		id = SER_Implement_The_Pasic_Manifesto
		icon = GFX_goal_SER_Pasic_Cult
		available = {
			has_government = social_conservative
		}
		prerequisite = {
			focus = SER_A_Nascent_Balkan_Democracy
		}
		mutually_exclusive = {
			focus = SER_Open_The_Serbian_Economy
		}
		relative_position_id = SER_The_Republican_Proclamation
		x = -2
		y = 3
		cost = 6
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Implement_The_Pasic_Manifesto"
			if = { #has governance
				limit = { has_idea = SER_balkan_democracy_2 }
				swap_ideas = {
					remove_idea = SER_balkan_democracy_2
					add_idea = SER_balkan_democracy_5
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SER_balkan_democracy_1
					add_idea = SER_balkan_democracy_3
				}
			}
		}
	}

	focus = {
		id = SER_Open_The_Serbian_Economy
		icon = GFX_goal_generic_positive_trade_relations_gold
		available = {
			has_government = market_liberal
		}
		prerequisite = {
			focus = SER_A_Nascent_Balkan_Democracy
		}
		mutually_exclusive = {
			focus = SER_Implement_The_Pasic_Manifesto
		}
		relative_position_id = SER_The_Republican_Proclamation
		x = 0
		y = 3
		cost = 6
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Open_The_Serbian_Economy"
			if = { #has governance
				limit = { has_idea = SER_balkan_democracy_2 }
				swap_ideas = {
					remove_idea = SER_balkan_democracy_2
					add_idea = SER_balkan_democracy_6
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SER_balkan_democracy_1
					add_idea = SER_balkan_democracy_4
				}
			}
		}
	}

	###############
	### Foreign ###
	###############
         
        focus = {
		id = SER_congress_of_belgrade
		icon = GFX_focus_generic_diplomatic_treaty
		x = 30
		y = 0

		cost = 2

		available = {
			is_subject = no
			is_in_faction = no
			has_war = no
			date > 1937.5.1
		}

		ai_will_do = {
			factor = 15

			# Much more likely to create the Pact if Romania is not in a civil war
			modifier = {
				factor = 100

				OR = {
					AND = {
						country_exists = RRM
						NOT = { country_exists = ROM }
					}
					AND = {
						country_exists = ROM
						NOT = { country_exists = RRM }
					}
					NOT = {
						country_exists = ROM
						country_exists = RRM
					}
				}
			}

			modifier = {
				factor = 10

				BUL = { has_war = yes }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_congress_of_belgrade"
			add_political_power = 50

			country_event = pact.1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SER_ultimatum_to_bulgaria
		icon = GFX_BUL_broken_crown
		x = -5
		y = 1
		relative_position_id = SER_congress_of_belgrade

		cost = 4

		prerequisite = { focus = SER_congress_of_belgrade }

		available = {
			has_country_flag = SER_founded_belgradepact
			is_faction_leader = yes
			is_subject = no
			NOT = { has_global_flag = balkan_war_started }
			can_declare_war_on = BUL
		}

		bypass = {
			OR = {
				BUL = { is_subject_of = ROOT }
				has_global_flag = balkan_war_started
				owns_state = 48
			}
		}

		will_lead_to_war_with = BUL

		ai_will_do = {
			factor = 1000
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0
				ROM = { has_war_with = RRM }
			}
			modifier = {
				factor = 0
				NOT = {
					is_in_faction_with = GRE
					is_in_faction_with = ROM
					is_in_faction_with = RRM
					strength_ratio = { tag = BUL ratio > 1.0 }
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_ultimatum_to_bulgaria"
			BUL = {
				country_event = { id = pact.17 hours = 4 }
			}
		}
	}

	focus = {
		id = SER_occupation_of_bulgaria
		icon = GFX_goal_generic_position_armies
		x = -6
		y = 2
		relative_position_id = SER_congress_of_belgrade

		cost = 4

		prerequisite = { focus = SER_ultimatum_to_bulgaria }

		available = {
			NOT = { country_exists = BUL }
			owns_state = 48
		}

		ai_will_do = { factor = 25 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_occupation_of_bulgaria"
			country_event = pact.67

			if = {
				limit = { has_idea = SER_occupation_of_bulgaria_idea }
				remove_ideas = SER_occupation_of_bulgaria_idea
			}
		}
	}

	focus = {
		id = SER_develop_bulgaria
		icon = GFX_goal_generic_construct_infrastructure
		x = -6
		y = 3
		relative_position_id = SER_congress_of_belgrade

		cost = 8

		prerequisite = { focus = SER_occupation_of_bulgaria }

		available = {
			BUL = { is_subject_of = ROOT }
		}

		ai_will_do = { factor = 7 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_develop_bulgaria"
			# 1x civ factory, 2x 1 infrastructure
			BUL = {
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}

				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}

					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}

				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}

					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SER_integrate_macedonia
		icon = GFX_goal_generic_major_alliance
		x = -4
		y = 2
		relative_position_id = SER_congress_of_belgrade

		cost = 7

		prerequisite = { focus = SER_ultimatum_to_bulgaria }

		available = {
			owns_state = 106
		}

		bypass = {
			106 = { is_core_of = ROOT }
			1271 = { is_core_of = ROOT }
			841 = { is_core_of = ROOT }
		}

		ai_will_do = { factor = 40 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_integrate_macedonia"
			hidden_effect = {
				remove_state_claim = 106
				remove_state_claim = 1271
				remove_state_claim = 841
			}
			add_state_core = 106
			add_state_core = 1271
			add_state_core = 841
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = SER_develop_macedonia
		icon = GFX_goal_generic_construct_public_housing
		x = -4
		y = 3
		relative_position_id = SER_congress_of_belgrade

		cost = 5

		prerequisite = { focus = SER_integrate_macedonia }

		available = {
			owns_state = 106
		}

		ai_will_do = { factor = 20 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_develop_macedonia"
			106 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
                        remove_ideas = SER_macedonian_resistance
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	### Expansion
	focus = {
		id = SER_greater_serbia
		icon = GFX_focus_generic_support_the_left_right
		x = -2
		y = 1
		relative_position_id = SER_congress_of_belgrade

		cost = 8.7

		prerequisite = { focus = SER_congress_of_belgrade }

		mutually_exclusive = { focus = SER_slavic_federation }

		ai_will_do = {
			factor = 300
		}

		available = { is_subject = no }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_greater_serbia"
			custom_effect_tooltip = SER_greater_serbia_tooltip
			add_political_power = 100
			add_state_claim = 45 #Vojvodina
			add_state_claim = 105 #Montenegro
			add_state_claim = 1097 #Montenegro
			add_state_claim = 794 #Syrmia
			add_state_claim = 1128 #Syrmia
			add_state_claim = 875 #West Banat
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SER_slavic_federation
		icon = GFX_goal_tripartite_pact
		x = 4
		y = 1
		relative_position_id = SER_congress_of_belgrade

		cost = 8.7

		prerequisite = { focus = SER_congress_of_belgrade }

		mutually_exclusive = { focus = SER_greater_serbia }

		available = { is_subject = no }

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 2
				NOT = { country_exists = CRO } # Yugoslavia will be the *real* Slavic federation
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_slavic_federation"
			custom_effect_tooltip = SER_slavic_federation_tooltip
			add_political_power = -100
			every_state = {
				limit = {
					OR = {
						region = 143 #Northern Balkans
						state = 102 #Slovenia
						state = 1101 #Slovenia
						state = 1103 #Slovenia
						state = 1104 #Slovenia
					}
				}
				add_claim_by = ROOT
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SER_conquer_vojvodina
		icon = GFX_goal_generic_occupy_states_ongoing_war
		x = -1
		y = 2
		relative_position_id = SER_congress_of_belgrade

		cost = 7.7

		prerequisite = {
			focus = SER_greater_serbia
			focus = SER_slavic_federation
		}

		available = {
			is_subject = no
			can_declare_war_on = 45.owner
			OR = {
				is_faction_leader = yes
				is_in_faction = no
			}
			45 = {
				any_neighbor_state = { is_owned_by = ROOT }
			}
		}

		bypass = {
			45 = { is_owned_by_ROOT_or_subject = yes }
		}

		will_lead_to_war_with = HUN
		will_lead_to_war_with = AUS
		will_lead_to_war_with = CRO

		available_if_capitulated = yes

		ai_will_do = {
			factor = 30
			modifier = {
				factor = 5
				HUN = {
					has_war_with = AUS
					owns_state = 45
				}
			}
			modifier = {
				factor = 2
				OR = {
					ROM = { is_in_faction_with = ROOT }
					RRM = { is_in_faction_with = ROOT }
				}
			}
			modifier = {
				factor = 0
				has_war = yes
				NOT = { has_country_flag = waiting_to_attack_austria }
			}
			modifier = {
				factor = 0.1
				is_in_faction = no
			}
			# don't attack Austria unless it's vulnerable or other countries are waiting to help
			modifier = {
				factor = 0
				45 = { owned_by_austria_or_puppet = yes }
				AUS = {
					is_subject = no
					is_faction_leader = yes
					surrender_progress < 0.10
					NOT = {
						has_war_with = GER
						has_war_with = RUS
						has_war_with = HUN
						has_war_with = POL
						has_war_with = ITA
					}
				}
				NOT = {
					POL = { has_country_flag = waiting_to_attack_austria }
					ITA = { has_country_flag = waiting_to_attack_austria }
				}
			}
			modifier = {
				factor = 5
				45 = { owned_by_austria_or_puppet = yes }
				OR = {
					AUS = { has_war_with = HUN }
					POL = { has_country_flag = waiting_to_attack_austria }
					ITA = { has_country_flag = waiting_to_attack_austria }
				}
			}
			modifier = {
				factor = 10
				has_country_flag = waiting_to_attack_austria
			}
			# don't attack if it's owned by someone other than Austria, who is not a puppet/faction member and is stronger
			modifier = {
				factor = 0
				NOT = { owns_state = 45 }
				45 = {
					owned_by_austria_or_puppet = no
					owner = {
						NOT = { is_subject_of = AUS }
						NOT = { is_in_faction_with = AUS }
						surrender_progress < 0.10
						strength_ratio = { tag = SER ratio > 1.0 }
					}
				}
			}
			# don't attack if it's owned by someone other than Austria, who is a puppet of a stronger overlord
			modifier = {
				factor = 0
				NOT = { owns_state = 45 }
				45 = {
					owned_by_austria_or_puppet = no
					owner = {
						is_subject = yes
						overlord = {
							NOT = { tag = AUS }
							surrender_progress < 0.10
							strength_ratio = { tag = SER ratio > 1.0 }
						}
					}
				}
			}
			# don't attack if it's owned by someone other than Austria, who is in a faction with a stronger leader
			modifier = {
				factor = 0
				NOT = { owns_state = 45 }
				45 = {
					owned_by_austria_or_puppet = no
					owner = {
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							NOT = { tag = AUS }
							is_faction_leader = yes
							surrender_progress < 0.10
							strength_ratio = { tag = ROM ratio > 1.0 }
						}
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_conquer_vojvodina"
			random_country = {
				limit = { owns_state = 45 } # Vojvodina
				ROOT = {
					declare_war_on = {
						target = PREV
						type = take_state_focus
						generator = { 45 875 }
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = SER_albanian_question
		icon = GFX_goal_generic_forceful_treaty
		x = -2
		y = 3
		relative_position_id = SER_congress_of_belgrade

		cost = 8.5

		prerequisite = { focus = SER_greater_serbia }
		prerequisite = { focus = SER_conquer_vojvodina }

		available = {
			is_subject = no
			owns_state = 765 # Kosovo
			can_declare_war_on = 44.owner
		}

		ai_will_do = {
			factor = 15

			modifier = {
				factor = 0
				ALB = {
					is_subject = yes
					overlord = {
						strength_ratio = {
							tag = ROOT
							ratio > 0.6
						}
					}
				}
			}

			modifier = {
				factor = 0
				has_war = yes
			}
		}

		will_lead_to_war_with = ALB

		available_if_capitulated = yes

		bypass = {
			NOT = { can_declare_war_on = 44.owner }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_albanian_question"
			if = {
				limit = { can_declare_war_on = 44.owner }
				declare_war_on = {
					target = 44.owner
					type = annex_everything
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = SER_free_bosnia
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		x = 1
		y = 2
		relative_position_id = SER_congress_of_belgrade

		cost = 8.3

		prerequisite = {
			focus = SER_slavic_federation
			focus = SER_greater_serbia
		}

		available = {
			is_subject = no
			can_declare_war_on = 104.owner
			OR = {
				is_faction_leader = yes
				is_in_faction = no
			}
		}

		will_lead_to_war_with = CRO
		will_lead_to_war_with = BOS
		will_lead_to_war_with = AUS
		will_lead_to_war_with = HUN

		available_if_capitulated = yes

		bypass = {
			104 = { is_owned_by_ROOT_or_subject = yes }
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				CRO = {
					has_war_with = AUS
					owns_state = 104
				}
			}
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0.1
				is_in_faction = no
				NOT = { has_country_flag = waiting_to_attack_austria }
			}
			# don't attack Austria unless it's vulnerable or other countries are waiting to help
			modifier = {
				factor = 0
				104 = { owned_by_austria_or_puppet = yes }
				AUS = {
					is_subject = no
					is_faction_leader = yes
					surrender_progress < 0.10
					NOT = {
						has_war_with = GER
						has_war_with = RUS
						has_war_with = HUN
						has_war_with = POL
						has_war_with = ITA
					}
				}
				NOT = {
					POL = { has_country_flag = waiting_to_attack_austria }
					ITA = { has_country_flag = waiting_to_attack_austria }
				}
			}
			modifier = {
				factor = 5
				104 = { owned_by_austria_or_puppet = yes }
				OR = {
					AUS = { has_war_with = HUN }
					POL = { has_country_flag = waiting_to_attack_austria }
					ITA = { has_country_flag = waiting_to_attack_austria }
				}
			}
			modifier = {
				factor = 10
				has_country_flag = waiting_to_attack_austria
			}
			# don't attack if it's owned by someone other than Austria, who is not a puppet/faction member and is stronger
			modifier = {
				factor = 0
				NOT = { owns_state = 104 }
				104 = {
					owned_by_austria_or_puppet = no
					owner = {
						NOT = { is_subject_of = AUS }
						NOT = { is_in_faction_with = AUS }
						surrender_progress < 0.10
						strength_ratio = { tag = SER ratio > 1.0 }
					}
				}
			}
			# don't attack if it's owned by someone other than Austria, who is a puppet of a stronger overlord
			modifier = {
				factor = 0
				NOT = { owns_state = 104 }
				104 = {
					owned_by_austria_or_puppet = no
					owner = {
						is_subject = yes
						overlord = {
							NOT = { tag = AUS }
							surrender_progress < 0.10
							strength_ratio = { tag = SER ratio > 1.0 }
						}
					}
				}
			}
			# don't attack if it's owned by someone other than Austria, who is in a faction with a stronger leader
			modifier = {
				factor = 0
				NOT = { owns_state = 104 }
				104 = {
					owned_by_austria_or_puppet = no
					owner = {
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							NOT = { tag = AUS }
							is_faction_leader = yes
							surrender_progress < 0.10
							strength_ratio = { tag = ROM ratio > 1.0 }
						}
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_free_bosnia"
			if = {
				limit = { can_declare_war_on = 104.owner }
				declare_war_on = {
					target = 104.owner
					type = take_state_focus
					generator = { 104 }
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = SER_integrate_bosnia
		icon = GFX_goal_generic_improve_relations
		x = 0
		y = 3
		relative_position_id = SER_congress_of_belgrade
		cost = 6.6
		prerequisite = { focus = SER_free_bosnia }
		available = { owns_state = 104 } # Bosnia
		bypass = { 104 = { is_core_of = ROOT } }
		ai_will_do = { factor = 40 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_integrate_bosnia"
			add_state_core = 104 # Bosnia
			add_state_core = 1145
			add_state_core = 1143
			add_state_core = 1142
			add_state_core = 1141
                        add_state_core = 1270
			add_political_power = 100
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = SER_claim_dalmatia
		icon = GFX_goal_generic_political_pressure
		x = 2
		y = 3
		relative_position_id = SER_congress_of_belgrade

		cost = 7.2

		prerequisite = { focus = SER_free_bosnia }

		available = {
			is_subject = no
			can_declare_war_on = 163.owner
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
			OR = {
				owns_state = 104
				owns_state = 105
			}
		}

		will_lead_to_war_with = CRO
		will_lead_to_war_with = BOS
		will_lead_to_war_with = AUS
		will_lead_to_war_with = HUN

		available_if_capitulated = yes

		bypass = {
			163 = { is_owned_by_ROOT_or_subject = yes }
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 0.1
				is_in_faction = no
				NOT = { has_country_flag = waiting_to_attack_austria }
			}
			# don't attack Austria unless it's vulnerable or other countries are waiting to help
			modifier = {
				factor = 0
				163 = { owned_by_austria_or_puppet = yes }
				AUS = {
					is_subject = no
					is_faction_leader = yes
					surrender_progress < 0.10
					NOT = {
						has_war_with = GER
						has_war_with = RUS
						has_war_with = HUN
						has_war_with = POL
						has_war_with = ITA
					}
				}
				NOT = {
					POL = { has_country_flag = waiting_to_attack_austria }
					ITA = { has_country_flag = waiting_to_attack_austria }
				}
			}
			modifier = {
				factor = 5
				163 = { owned_by_austria_or_puppet = yes }
				OR = {
					AUS = { has_war_with = HUN }
					POL = { has_country_flag = waiting_to_attack_austria }
					ITA = { has_country_flag = waiting_to_attack_austria }
				}
			}
			modifier = {
				factor = 10
				has_country_flag = waiting_to_attack_austria
			}
			# don't attack if it's owned by someone other than Austria, who is not a puppet/faction member and is stronger
			modifier = {
				factor = 0
				NOT = { owns_state = 163 }
				163 = {
					owned_by_austria_or_puppet = no
					owner = {
						NOT = { is_subject_of = AUS }
						NOT = { is_in_faction_with = AUS }
						surrender_progress < 0.10
						strength_ratio = { tag = SER ratio > 1.0 }
					}
				}
			}
			# don't attack if it's owned by someone other than Austria, who is a puppet of a stronger overlord
			modifier = {
				factor = 0
				NOT = { owns_state = 163 }
				163 = {
					owned_by_austria_or_puppet = no
					owner = {
						is_subject = yes
						overlord = {
							NOT = { tag = AUS }
							surrender_progress < 0.10
							strength_ratio = { tag = SER ratio > 1.0 }
						}
					}
				}
			}
			# don't attack if it's owned by someone other than Austria, who is in a faction with a stronger leader
			modifier = {
				factor = 0
				NOT = { owns_state = 163 }
				163 = {
					owned_by_austria_or_puppet = no
					owner = {
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							NOT = { tag = AUS }
							is_faction_leader = yes
							surrender_progress < 0.10
							strength_ratio = { tag = ROM ratio > 1.0 }
						}
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_claim_dalmatia"
			if = {
				limit = { can_declare_war_on = 163.owner }
				declare_war_on = {
					target = 163.owner
					type = take_state_focus
					generator = { 163 103 }
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = SER_status_of_montenegro
		icon = GFX_goal_generic_more_territorial_claims
		x = 3
		y = 2
		relative_position_id = SER_congress_of_belgrade

		cost = 7.7

		bypass = {
			105 = { is_owned_by_ROOT_or_subject = yes }
		}

		prerequisite = {
			focus = SER_greater_serbia
			focus = SER_slavic_federation
		}

		available = {
			is_subject = no
			can_declare_war_on = 105.owner
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
			1097 = {
				any_neighbor_state = { is_owned_by = ROOT }
			}
		}

		will_lead_to_war_with = CRO
		will_lead_to_war_with = BOS
		will_lead_to_war_with = AUS
		will_lead_to_war_with = HUN

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 2
				105 = {
					owner = {
						has_war = yes
					}
				}
			}
			# don't attack Austria unless it's vulnerable or other countries are waiting to help
			modifier = {
				factor = 0
				105 = { owned_by_austria_or_puppet = yes }
				AUS = {
					is_subject = no
					is_faction_leader = yes
					surrender_progress < 0.10
					NOT = {
						has_war_with = GER
						has_war_with = RUS
						has_war_with = HUN
						has_war_with = POL
						has_war_with = ITA
					}
				}
				NOT = {
					POL = { has_country_flag = waiting_to_attack_austria }
					ITA = { has_country_flag = waiting_to_attack_austria }
				}
			}
			modifier = {
				factor = 5
				105 = { owned_by_austria_or_puppet = yes }
				OR = {
					AUS = { has_war_with = HUN }
					POL = { has_country_flag = waiting_to_attack_austria }
					ITA = { has_country_flag = waiting_to_attack_austria }
				}
			}
			modifier = {
				factor = 10
				has_country_flag = waiting_to_attack_austria
			}
			# don't attack if it's owned by someone other than Austria, who is not a puppet/faction member and is stronger
			modifier = {
				factor = 0
				NOT = { owns_state = 105 }
				105 = {
					owned_by_austria_or_puppet = no
					owner = {
						NOT = { is_subject_of = AUS }
						NOT = { is_in_faction_with = AUS }
						surrender_progress < 0.10
						strength_ratio = { tag = SER ratio > 1.0 }
					}
				}
			}
			# don't attack if it's owned by someone other than Austria, who is a puppet of a stronger overlord
			modifier = {
				factor = 0
				NOT = { owns_state = 105 }
				105 = {
					owned_by_austria_or_puppet = no
					owner = {
						is_subject = yes
						overlord = {
							NOT = { tag = AUS }
							surrender_progress < 0.10
							strength_ratio = { tag = SER ratio > 1.0 }
						}
					}
				}
			}
			# don't attack if it's owned by someone other than Austria, who is in a faction with a stronger leader
			modifier = {
				factor = 0
				NOT = { owns_state = 105 }
				105 = {
					owned_by_austria_or_puppet = no
					owner = {
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							NOT = { tag = AUS }
							is_faction_leader = yes
							surrender_progress < 0.10
							strength_ratio = { tag = ROM ratio > 1.0 }
						}
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_status_of_montenegro"
			105 = {
				owner = {
					if = {
						limit = {
							is_subject = yes
							is_ai = no
						}
						overlord = {
							country_event = {
								id = serbia.58
								hours = 2
							}
						}
						else = {
							country_event = {
								id = serbia.58
								hours = 2
							}
						}
					}
				}
			}
		}
	}

	focus = {
		id = SER_form_yugoslavia
		icon = GFX_goal_SER_yugoslavism
		x = 4
		y = 4
		relative_position_id = SER_congress_of_belgrade

		cost = 9.8

		prerequisite = { focus = SER_slavic_federation }
		prerequisite = { focus = SER_status_of_montenegro }
		prerequisite = { focus = SER_claim_dalmatia }

		available = {
			AND = {
				owns_state = 45 # Vojvodina
				owns_state = 109 # Eastern Croatia
				owns_state = 104 # Bosnia
			}
			OR = {
				owns_state = 105 # Montenegro
				has_subject = MNT
			}
			NOT = {
				country_exists = CRO
				country_exists = BOS
			}
		}

		ai_will_do = { factor = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_form_yugoslavia"
			set_cosmetic_tag = SER_YUG

			# Change all party names with "Serbian" in their name
			hidden_effect = {
				set_party_name = {
					ideology = authoritarian_democrat
					name = SER_YUG_authoritarian_democrat_party
					long_name = SER_YUG_authoritarian_democrat_party_long
				}

				set_party_name = {
					ideology = paternal_autocrat
					name = SER_YUG_paternal_autocrat_party
					long_name = SER_YUG_paternal_autocrat_party_long
				}

				set_party_name = {
					ideology = national_populist
					name = SER_YUG_national_populist_party
					long_name = SER_YUG_national_populist_party_long
				}
			}

			# Core all Yugoslavian states
			add_state_core = 45 # Vojvodina
			add_state_core = 875 # Eastern Banat
			add_state_core = 794 # Srijem
			add_state_core = 1128 # Srijem
			add_state_core = 105 # Montenegro
			add_state_core = 1097 # Montenegro
                        add_state_core = 1269 # Montenegro
			add_state_core = 104 # Bosnia
			add_state_core = 1141 # Bosnia
			add_state_core = 1142 # Bosnia
                        add_state_core = 1270 # Bosnia
			add_state_core = 1143 # Bosnia
			add_state_core = 1145 # Bosnia
			add_state_core = 109 # Croatia
			add_state_core = 1098 # Croatia
			add_state_core = 1099 # Croatia
			add_state_core = 1102 # Croatia
			add_state_core = 163 # Dalmatia
			add_state_core = 103 # Lika
			add_state_core = 1105 # Lika
			if = {
				limit = { owns_state = 102 }
				add_state_core = 102 # Slovenia
				add_state_core = 1103 # Slovenia
				add_state_core = 1101 # Slovenia
				add_state_core = 1104 # Slovenia
			}
			if = {
				limit = { owns_state = 736 }
				add_state_core = 736 # Küstenland
				add_state_core = 1100 # Küstenland
				add_state_core = 1144 # Küstenland
			}

			# Inherit Montenegro if it is a puppet
			if = {
				limit = { has_subject = MNT }
				annex_country = { target = MNT }
			}

			hidden_effect = { news_event = { id = worldnews.119 } }
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = SER_claim_slovenia
		icon = GFX_goal_generic_major_war
		x = 5
		y = 5
		relative_position_id = SER_congress_of_belgrade

		cost = 5

		prerequisite = { focus = SER_form_yugoslavia }

		available = {
			is_subject = no
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
			OR = {
				owns_state = 102
				owns_state = 1101
				owns_state = 1103
				owns_state = 1104
				owns_state = 1272
				AND = {
					can_declare_war_on = 102.owner
					102 = {
						any_neighbor_state = { is_owned_by = ROOT }
					}
				}
			}
		}

		will_lead_to_war_with = AUS

		available_if_capitulated = yes

		bypass = { 102 = { is_core_of = ROOT } } # Slovenia

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_war = yes
			}
			# don't attack Austria unless it's vulnerable or other countries are waiting to help
			modifier = {
				factor = 0
				102 = { owned_by_austria_or_puppet = yes }
				AUS = {
					is_subject = no
					is_faction_leader = yes
					surrender_progress < 0.10
					NOT = {
						has_war_with = GER
						has_war_with = RUS
						has_war_with = HUN
						has_war_with = POL
						has_war_with = ITA
					}
				}
				NOT = {
					POL = { has_country_flag = waiting_to_attack_austria }
					ITA = { has_country_flag = waiting_to_attack_austria }
				}
			}
			modifier = {
				factor = 5
				102 = { owned_by_austria_or_puppet = yes }
				OR = {
					AUS = { has_war_with = HUN }
					POL = { has_country_flag = waiting_to_attack_austria }
					ITA = { has_country_flag = waiting_to_attack_austria }
				}
			}
			modifier = {
				factor = 10
				has_country_flag = waiting_to_attack_austria
			}
			# don't attack if it's owned by someone other than Austria, who is not a puppet/faction member and is stronger
			modifier = {
				factor = 0
				NOT = { owns_state = 102 }
				102 = {
					NOT = {
						owned_by_austria_or_puppet = yes
					}
					owner = {
						NOT = { is_subject_of = AUS }
						NOT = { is_in_faction_with = AUS }
						surrender_progress < 0.10
						strength_ratio = { tag = SER ratio > 1.0 }
					}
				}
			}
			# don't attack if it's owned by someone other than Austria, who is a puppet of a stronger overlord
			modifier = {
				factor = 0
				NOT = { owns_state = 102 }
				102 = {
					NOT = {
						owned_by_austria_or_puppet = yes
					}
					owner = {
						is_subject = yes
						overlord = {
							NOT = { tag = AUS }
							surrender_progress < 0.10
							strength_ratio = { tag = SER ratio > 1.0 }
						}
					}
				}
			}
			# don't attack if it's owned by someone other than Austria, who is in a faction with a stronger leader
			modifier = {
				factor = 0
				NOT = { owns_state = 102 }
				102 = {
					NOT = { owned_by_austria_or_puppet = yes }
					owner = {
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							NOT = { tag = AUS }
							is_faction_leader = yes
							surrender_progress < 0.10
							strength_ratio = { tag = ROM ratio > 1.0 }
						}
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_claim_slovenia"
			add_state_core = 102
			add_state_core = 1103 # Slovenia
			add_state_core = 1101 # Slovenia
			add_state_core = 1104 # Slovenia
			add_state_core = 736
			add_state_core = 1144
			add_state_core = 1100
			add_state_core = 1272
			if = {
				limit = {
					can_declare_war_on = 102.owner
				}
				declare_war_on = {
					target = 102.owner
					type = take_state_focus
					generator = { 102 736 }
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = SER_claim_hungarian_yugoslavia
		icon = GFX_goal_FIU_no_magyars
		x = 3
		y = 5
		relative_position_id = SER_congress_of_belgrade

		cost = 5

		prerequisite = { focus = SER_form_yugoslavia }

		available = {
			is_subject = no
			OR = {
				is_in_faction = no
				is_faction_leader = yes
			}
			OR = {
				owns_state = 1105
				owns_state = 1206
				owns_state = 1111
				OR = {
					AND = {
						can_declare_war_on = 1105.owner
						1105 = {
							any_neighbor_state = { is_owned_by = ROOT }
						}
					}
					AND = {
						can_declare_war_on = 1111.owner
						1111 = {
							any_neighbor_state = { is_owned_by = ROOT }
						}
					}
				}
			}
		}

		will_lead_to_war_with = HUN

		available_if_capitulated = yes

		bypass = { 1206 = { is_core_of = ROOT } 1105 = { is_core_of = ROOT } } # Fiume

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_war = yes
			}
			# don't attack Austria unless it's vulnerable or other countries are waiting to help
			modifier = {
				factor = 0
				1206 = { owned_by_austria_or_puppet = yes }
				AUS = {
					is_subject = no
					is_faction_leader = yes
					surrender_progress < 0.10
					NOT = {
						has_war_with = GER
						has_war_with = RUS
						has_war_with = HUN
						has_war_with = POL
						has_war_with = ITA
					}
				}
				NOT = {
					POL = { has_country_flag = waiting_to_attack_austria }
					ITA = { has_country_flag = waiting_to_attack_austria }
				}
			}
			modifier = {
				factor = 5
				1206 = { owned_by_austria_or_puppet = yes }
				OR = {
					AUS = { has_war_with = HUN }
					POL = { has_country_flag = waiting_to_attack_austria }
					ITA = { has_country_flag = waiting_to_attack_austria }
				}
			}
			modifier = {
				factor = 10
				has_country_flag = waiting_to_attack_austria
			}
			# don't attack if it's owned by someone other than Austria, who is not a puppet/faction member and is stronger
			modifier = {
				factor = 0
				NOT = { owns_state = 1206 }
				1206 = {
					NOT = {
						owned_by_austria_or_puppet = yes
					}
					owner = {
						NOT = { is_subject_of = AUS }
						NOT = { is_in_faction_with = AUS }
						surrender_progress < 0.10
						strength_ratio = { tag = SER ratio > 1.0 }
					}
				}
			}
			# don't attack if it's owned by someone other than Austria, who is a puppet of a stronger overlord
			modifier = {
				factor = 0
				NOT = { owns_state = 1206 }
				1206 = {
					NOT = {
						owned_by_austria_or_puppet = yes
					}
					owner = {
						is_subject = yes
						overlord = {
							NOT = { tag = AUS }
							surrender_progress < 0.10
							strength_ratio = { tag = SER ratio > 1.0 }
						}
					}
				}
			}
			# don't attack if it's owned by someone other than Austria, who is in a faction with a stronger leader
			modifier = {
				factor = 0
				NOT = { owns_state = 1206 }
				1206 = {
					NOT = { owned_by_austria_or_puppet = yes }
					owner = {
						is_in_faction = yes
						is_faction_leader = no
						any_allied_country = {
							NOT = { tag = AUS }
							is_faction_leader = yes
							surrender_progress < 0.10
							strength_ratio = { tag = ROM ratio > 1.0 }
						}
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_claim_slovenia"
			add_state_core = 1206
			add_state_core = 1111
			add_state_core = 11105
			if = {
				limit = {
					can_declare_war_on = 102.owner
				}
				declare_war_on = {
					target = 102.owner
					type = take_state_focus
					generator = { 102 736 }
				}
			}
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = SER_a_serbian_nation
		icon = GFX_goal_serbia
		x = -2
		y = 4
		relative_position_id = SER_congress_of_belgrade

		cost = 9.8

		prerequisite = { focus = SER_albanian_question }
		prerequisite = { focus = SER_integrate_bosnia }

		available = {
			AND = {
				owns_state = 45 # Vojvodina
				owns_state = 104 # Bosnia
			}
			NOT = { country_exists = BOS }
		}

		ai_will_do = { factor = 50 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_a_serbian_nation"
			# Core all of Greater Serbia
			add_state_core = 45 # Vojvodina
			add_state_core = 875 # Eastern Banat
			add_state_core = 794 # Srijem
			add_state_core = 1128 # Srijem
			add_state_core = 105 # Montenegro
			add_state_core = 1097 # Montenegro
                        add_state_core = 1269 # Montenegro
			add_state_core = 163 # Dalmatia
			add_state_core = 1098 # Dalmatia
		}
		search_filters = { FOCUS_FILTER_ANNEXATION }
	}

	focus = {
		id = SER_extra_research_slot_ii
		icon = GFX_goal_military_research
		x = -5
		y = 4
		relative_position_id = SER_congress_of_belgrade

		cost = 6.8
		
		available = {
			has_global_flag = balkan_war_ended
		}

		prerequisite = {
			focus = SER_ultimatum_to_bulgaria
		}

		prerequisite = {
			focus = focus = SER_slavic_federation
			focus = focus = SER_ultimatum_to_bulgaria
		}

		ai_will_do = { factor = 20 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_extra_research_slot_ii"
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
        
	focus = {
		id = SER_serbia_strong
		icon = GFX_goal_MNT_loyalists
		x = -5
		y = 5
		relative_position_id = SER_congress_of_belgrade

		cost = 6.8
		
		available = {
			has_global_flag = balkan_war_ended
		}

		prerequisite = {
			focus = SER_extra_research_slot_ii
		}

		ai_will_do = { factor = 20 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_extra_research_slot_ii"
			add_war_support = 0.1
			army_experience = 20
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
        
	###############
	### Economy ###
	###############

	focus = {
		id = SER_Farming_Subsidies
		icon = GFX_NIC_Cows
		x = 10
		y = 0
		cost = 6
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Farming_Subsidies"
			add_political_power = -50
			if = {
				limit = { has_idea = SER_farming_subsidies_2 }
				swap_ideas = {
					remove_idea = SER_farming_subsidies_2
					add_idea = SER_farming_subsidies_3
				}
			}
			else = {
				add_ideas = SER_farming_subsidies_1
			}
		}
	}

	focus = {
		id = SER_Continue_The_Mechanisation_Efforts
		icon = GFX_goal_generic_mechanisation
		relative_position_id = SER_Farming_Subsidies
		x = 2
		y = 0
		cost = 6
		ai_will_do = {
			factor = 8
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Continue_The_Mechanisation_Efforts"
			add_tech_bonus = {
				name = SER_Continue_The_Mechanisation_Efforts
				bonus = 1
				uses = 1
				category = industry
			}
		}
	}

	focus = {
		id = SER_Invest_In_Zadrugar
		icon = GFX_focus_generic_industry_3
		prerequisite = {
			focus = SER_Farming_Subsidies
			focus = SER_Continue_The_Mechanisation_Efforts
		}
		relative_position_id = SER_Farming_Subsidies
		x = 1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 16
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Invest_In_Zadrugar"
			add_tech_bonus = {
				name = SER_Invest_In_Zadrugar
				bonus = 0.5
				uses = 1
				category = efficiency_tech
			}
			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_Rural_Credit_Banks
		icon = GFX_goal_agricultural_aid
		available = {
			107 = { is_owned_and_controlled_by = ROOT }
		}
		prerequisite = {
			focus = SER_Invest_In_Zadrugar
		}
		relative_position_id = SER_Farming_Subsidies
		x = 1
		y = 2
		cost = 7
		ai_will_do = {
			factor = 16
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Rural_Credit_Banks"
			SER_reduce_black_monday = yes
			if = {
				limit = { has_idea = SER_farming_subsidies_1 }
				swap_ideas = {
					remove_idea = SER_farming_subsidies_1
					add_idea = SER_farming_subsidies_3
				}
			}
			else = {
				add_ideas = SER_farming_subsidies_2
			}
			custom_effect_tooltip = SER_Rural_Credit_Grants_tooltip
		}
	}

	focus = {
		id = SER_redirect_war_funds
		icon = GFX_HUN_revive_military_funding
		available = {
			has_global_flag = balkan_war_ended
		}
		prerequisite = {
			focus = SER_Rural_Credit_Banks
		}
		relative_position_id = SER_Farming_Subsidies
		x = 0
		y = 3
		cost = 7
		ai_will_do = {
			factor = 16
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_redirect_war_funds"
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_by_jingo
		icon = GFX_goal_AUS_reconstructive_mobilization
		available = {
			has_global_flag = balkan_war_ended
		}
		prerequisite = {
			focus = SER_Found_FOMU
		}
		prerequisite = {
			focus = SER_redirect_war_funds
		}
		relative_position_id = SER_Farming_Subsidies
		x = 1
		y = 4
		cost = 7
		ai_will_do = {
			factor = 16
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_by_jingo"
			add_research_slot = 1
			add_ideas = SER_military_industry
			add_tech_bonus = {
				bonus = 1
				uses = 1
				category = infantry_weapons
			}
		}
	}

	focus = {
		id = SER_Emergency_Economic_Relief
		icon = GFX_goal_FSA_emergency_funding
		available = {
			SER_has_black_monday = yes
		}
		relative_position_id = SER_Farming_Subsidies
		x = 4
		y = 0
		cost = 7
		ai_will_do = {
			factor = 25
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Emergency_Economic_Relief"
			SER_reduce_black_monday = yes
		}
	}

	focus = {
		id = SER_Modernise_Belgrade
		icon = GFX_ITA_urban
		prerequisite = {
			focus = SER_Emergency_Economic_Relief
		}
		x = 4
		y = 1
		relative_position_id = SER_Farming_Subsidies
		cost = 7
		ai_will_do = {
			factor = 25
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Modernise_Belgrade"
			add_tech_bonus = {
				name = SER_Modernise_Belgrade
				bonus = 1
				uses = 1
				category = industry
			}
			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_Resume_Cash_Crop_Exportation
		icon = GFX_focus_generic_agriculture
		prerequisite = {
			focus = SER_Rural_Credit_Banks
		}
		prerequisite = {
			focus = SER_Modernise_Belgrade
		}
		x = 2
		y = 3
		relative_position_id = SER_Farming_Subsidies
		cost = 7
		ai_will_do = {
			factor = 25
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Resume_Cash_Crop_Exportation"
			SER_reduce_black_monday = yes
		}
	}

	focus = {
		id = SER_Form_The_State_Railway_Directorate
		icon = GFX_goal_generic_railroad
		prerequisite = {
			focus = SER_Modernise_Belgrade
		}
		relative_position_id = SER_Farming_Subsidies
		x = 3
		y = 2
		cost = 5
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Form_The_State_Railway_Directorate"
			add_ideas = SER_state_railways_directorate
		}
	}

	focus = {
		id = SER_Overhaul_Narrow_Gauge_Railways
		icon = GFX_goal_generic_railway_construction
		prerequisite = {
			focus = SER_Resume_Cash_Crop_Exportation
			focus = SER_Form_The_State_Railway_Directorate
		}
		relative_position_id = SER_Farming_Subsidies
		x = 3
		y = 4
		cost = 7
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Overhaul_Narrow_Gauge_Railways"
			every_owned_state = {
				limit = {
					is_core_of = ROOT
					is_controlled_by = ROOT
					free_building_slots = {
						building = infrastructure
						size > 0
						include_locked = yes
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_Expand_The_Bor_Mines
		icon = GFX_goal_construction_engineering
		available = {
			767 = { is_owned_and_controlled_by = ROOT }
		}
		prerequisite = {
			focus = SER_Modernise_Belgrade
		}
		relative_position_id = SER_Farming_Subsidies
		x = 5
		y = 2
		cost = 5
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Expand_The_Bor_Mines"
			add_resource = {
				type = tungsten
				amount = 7
				state = 767
			}
		}
	}

	focus = {
		id = SER_Expand_The_Radinac_Steel_Mill
		icon = GFX_focus_generic_steel
		available = {
			107 = { is_owned_and_controlled_by = ROOT }
		}
		prerequisite = {
			focus = SER_Modernise_Belgrade
		}
		relative_position_id = SER_Farming_Subsidies
		x = 7
		y = 2
		cost = 6
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Expand_The_Radinac_Steel_Mill"
			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_resource = {
				type = steel
				amount = 10
				state = 107
			}
		}
	}

	focus = {
		id = SER_Found_FOMU
		icon = GFX_goal_Focus_Military_Mobilisation
		prerequisite = {
			focus = SER_Form_The_State_Railway_Directorate
		}
		prerequisite = {
			focus = SER_Expand_The_Bor_Mines
		}
		prerequisite = {
			focus = SER_Expand_The_Radinac_Steel_Mill
		}
		relative_position_id = SER_Farming_Subsidies
		x = 5
		y = 3
		cost = 7
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Found_FOMU"
			random_owned_controlled_state = {
				prioritize = { 108 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}

	###################
	### Army Reform ###
	###################

	focus = {
		id = SER_Form_The_Military_Council
		icon = GFX_goal_SER_army
		available = {
			NOT = { has_idea = SER_austrias_watchful_eye }
		}
		relative_position_id = SER_Farming_Subsidies
		x = 9
		y = 0
		cost = 8
		ai_will_do = {
			factor = 25
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Form_The_Military_Council"
			add_ideas = SER_military_reform_council_1
		}
	}

	focus = {
		id = SER_Organise_The_Chetniks
		icon = GFX_EGY_Palestine_Defence
		prerequisite = {
			focus = SER_Form_The_Military_Council
		}
		relative_position_id = SER_Form_The_Military_Council
		x = -3
		y = 1
		cost = 6
		ai_will_do = {
			factor = 10
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Organise_The_Chetniks"
			swap_ideas = {
				remove_idea = SER_military_reform_council_1
				add_idea = SER_military_reform_council_2
			}
			hidden_effect = {
				if = {
					limit = { has_war_with = 104.owner }
					country_event = { id = serbia.42 days = 5 random_days = 3 }
				}
			}
		}
	}

	focus = {
		id = SER_Modernise_The_Engineering_Battalions
		icon = GFX_goal_construction_engineering
		prerequisite = {
			focus = SER_Form_The_Military_Council
		}
		relative_position_id = SER_Form_The_Military_Council
		x = -1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				has_war = yes
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Modernise_The_Engineering_Battalions"
			custom_effect_tooltip = expanded_engineer_corps_tech_effect
			hidden_effect = {
				set_technology = { expanded_engineer_corps_tech = 1 popup = no }
			}
		}
	}

	focus = {
		id = SER_Training_The_New_Guard
		icon = GFX_goal_SER_Republican_Guard
		prerequisite = {
			focus = SER_Form_The_Military_Council
		}
		relative_position_id = SER_Form_The_Military_Council
		x = 0
		y = 2
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				has_war = yes
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Training_The_New_Guard"
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SER_Support_Zastava
		icon = GFX_focus_generic_military_equipment
		prerequisite = {
			focus = SER_Found_FOMU
			focus = SER_Modern_Howitzers
		}
		relative_position_id = SER_Training_The_New_Guard
		x = -3
		y = 2
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				has_war = yes
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Support_Zastava"
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = zastava
			custom_effect_tooltip = tooltip_white_line
			random_owned_controlled_state = {
				prioritize = { 108 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_Modern_Howitzers
		icon = GFX_goal_GEO_Artillery_Tactics
		prerequisite = {
			focus = SER_Training_The_New_Guard
		}
		relative_position_id = SER_Training_The_New_Guard
		x = -1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				has_war = yes
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Modern_Howitzers"
			add_tech_bonus = {
				name = SER_Modern_Howitzers
				bonus = 1
				uses = 1
				category = artillery
			}
		}
	}

	focus = {
		id = SER_New_Army_Tactics
		icon = GFX_goal_planning_bonus
		prerequisite = {
			focus = SER_Training_The_New_Guard
		}
		relative_position_id = SER_Training_The_New_Guard
		x = 1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				has_war = yes
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_New_Army_Tactics"
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SER_Begin_Mechanisation
		icon = GFX_goal_Automobile_Production
		prerequisite = {
			focus = SER_Training_The_New_Guard
		}
		relative_position_id = SER_Training_The_New_Guard
		x = 3
		y = 1
		cost = 5
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				has_war = yes
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Begin_Mechanisation"
			if = {
				limit = {
					NOT = { has_tech = motorised_infantry }
				}
				set_technology = { motorised_infantry = 1 }
			}
			else = {
				add_tech_bonus = {
					name = SER_Begin_Mechanisation
					bonus = 1
					uses = 1
					category = cat_mechanized_equipment
				}
			}
		}
	}

	focus = {
		id = SER_Import_Entente_Armour_Designs
		icon = GFX_goal_generic_heavy_armour_british
		available = {
			country_exists = ENT
			NOT = { has_war_with = ENT }
		}
		prerequisite = {
			focus = SER_Begin_Mechanisation
		}
		relative_position_id = SER_Training_The_New_Guard
		x = 4
		y = 2
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				has_war = yes
			}
		}
		mutually_exclusive = {
			focus = SER_Import_Russian_Armour_Designs
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Import_Entente_Armour_Designs"
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = industrija_masina_komponenata
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SER_Import_Entente_Armour_Designs
				bonus = 1
				uses = 1
				category = armor
			}
			if = {
				limit = {
					NOT = { has_dlc = "No Step Back" }
				}
				add_equipment_to_stockpile = {
				type = light_tank_equipment_1
				amount = 150
				producer = ENT
			}
			}
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				add_equipment_to_stockpile = {
				type = light_tank_chassis
				amount = 150
				producer = ENT
			}
			}
		}
	}

	focus = {
		id = SER_Import_Russian_Armour_Designs
		icon = GFX_goal_TEX_maneuver_excersices
		available = {
			country_exists = ENT
			NOT = { has_war_with = ENT }
		}
		prerequisite = {
			focus = SER_Begin_Mechanisation
		}
		relative_position_id = SER_Training_The_New_Guard
		x = 2
		y = 2
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				has_war = yes
			}
		}
		mutually_exclusive = {
			focus = SER_Import_Entente_Armour_Designs
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Import_Entente_Armour_Designs"
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = industrija_masina_komponenata
			custom_effect_tooltip = tooltip_white_line
			add_tech_bonus = {
				name = SER_Import_Entente_Armour_Designs
				bonus = 1
				uses = 1
				category = armor
			}
			if = {
				limit = {
					NOT = { has_dlc = "No Step Back" }
				}
				add_equipment_to_stockpile = {
				type = light_tank_equipment_1
				amount = 150
				producer = RUS
			}
			}
			if = {
				limit = {
					has_dlc = "No Step Back"
				}
				add_equipment_to_stockpile = {
				type = light_tank_chassis
				amount = 150
				producer = RUS
			}
			}
		}
	}

	focus = {
		id = SER_Lessons_Of_The_War
		icon = GFX_focus_generic_military_academy
		available = {
			has_global_flag = balkan_war_ended
		}
		prerequisite = {
			focus = SER_Training_The_New_Guard
		}
		relative_position_id = SER_Training_The_New_Guard
		x = 0
		y = 2
		cost = 7
		ai_will_do = {
			factor = 7
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Lessons_Of_The_War"
			army_experience = 50
			add_doctrine_cost_reduction = {
				name = land_doc_bonus
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
		}
	}

	focus = {
		id = SER_Serbian_Mountain_Corps
		icon = GFX_goal_yanshan
		prerequisite = {
			focus = SER_Form_The_Military_Council
		}
		relative_position_id = SER_Form_The_Military_Council
		x = 1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
			modifier = {
				factor = 2
				has_war = yes
			}
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Serbian_Mountain_Corps"
			custom_effect_tooltip = SER_Serbian_Mountain_Corps_tooltip
			custom_effect_tooltip = mountain_training_tech_effect
			hidden_effect = {
				set_technology = { mountain_training_tech = 1 popup = no }
				division_template = {
					name = "Planinski Odred"
					division_names_group = SER_MTN_01
					regiments = {
						mountaineers = { x = 0 y = 0 }
						mountaineers = { x = 0 y = 1 }
						mountaineers = { x = 0 y = 2 }
						mountaineers = { x = 1 y = 0 }
						mountaineers = { x = 1 y = 1 }
						mountaineers = { x = 1 y = 2 }
					}
					priority = 2
				}
				random_owned_controlled_state = {
					prioritize = { 765 }
					create_unit = {
						division = "division_template = \"Planinski Odred\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
						owner = ROOT
					}
				}
				random_owned_controlled_state = {
					prioritize = { 108 }
					create_unit = {
						division = "division_template = \"Planinski Odred\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
						owner = ROOT
					}
				}
				random_owned_controlled_state = {
					prioritize = { 107 }
					create_unit = {
						division = "division_template = \"Planinski Odred\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
						owner = ROOT
					}
				}
				random_owned_controlled_state = {
					prioritize = { 767 }
					create_unit = {
						division = "division_template = \"Planinski Odred\" start_experience_factor = 0.15 start_equipment_factor = 1.0"
						owner = ROOT
					}
				}
			}
		}
	}

	focus = {
		id = SER_Mihailovics_Redoubt
		icon = GFX_goal_nested_fortifications
		available = {
			OR = {
				107 = { is_owned_and_controlled_by = ROOT }
				108 = { is_owned_and_controlled_by = ROOT }
				765 = { is_owned_and_controlled_by = ROOT }
				767 = { is_owned_and_controlled_by = ROOT }
			}
		}
		bypass = {
			has_global_flag = balkan_war_ended
		}
		prerequisite = {
			focus = SER_Form_The_Military_Council
		}
		relative_position_id = SER_Form_The_Military_Council
		x = 3
		y = 1
		cost = 5
		ai_will_do = {
			factor = 3
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Mihailovics_Redoubt"
			107 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 11583
				}
			}
			108 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 6998
				}
			}
			765 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 9874
				}
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 9849
				}
			}
			767 = {
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 9906
				}
				add_building_construction = {
					type = bunker
					level = 1
					instant_build = yes
					province = 9890
				}
			}
		}
	}

	#################
	### Air Force ###
	#################

	focus = {
		id = SER_Expand_The_Serbian_Aviation_Command
		icon = GFX_goal_SER_airforce
		available = {
			NOT = { has_idea = SER_austrias_watchful_eye }
		}
		x = 4
		y = 6
		cost = 4
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Expand_The_Serbian_Aviation_Command"
			air_experience = 25
		}
	}

	focus = {
		id = SER_Seek_New_Expertise
		icon = GFX_goal_generic_air_fighter2_new
		prerequisite = {
			focus = SER_Expand_The_Serbian_Aviation_Command
		}
		relative_position_id = SER_Expand_The_Serbian_Aviation_Command
		x = -2
		y = 1
		cost = 6
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Seek_New_Expertise"
			country_event = serbia.50
		}
	}

	focus = {
		id = SER_Local_Munition_Efforts
		icon = GFX_goal_industry_air
		prerequisite = {
			focus = SER_Seek_New_Expertise
		}
		relative_position_id = SER_Seek_New_Expertise
		x = -1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Local_Munition_Efforts"
			random_owned_state = {
				add_resource = {
					type = aluminium
					amount = 8
				}
			}
			random_owned_state = {
				add_resource = {
					type = steel
					amount = 8
				}
			}
			random_owned_controlled_state = {
				prioritize = { 108 }
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_Doctrinal_Studies
		icon = GFX_goal_generic_air_doctrine
		prerequisite = {
			focus = SER_Seek_New_Expertise
		}
		relative_position_id = SER_Seek_New_Expertise
		x = 0
		y = 2
		cost = 7
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Doctrinal_Studies"
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.6
				uses = 2
				category = air_doctrine
			}
		}
	}

	focus = {
		id = SER_Fighter_Bomber_Acquisition
		icon = GFX_goal_ELS_Plane_Lease
		prerequisite = {
			focus = SER_Seek_New_Expertise
		}
		relative_position_id = SER_Seek_New_Expertise
		x = 1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Fighter_Bomber_Acquisition"
			country_event = serbia.52
		}
	}

	focus = {
		id = SER_The_Serbian_Airforce
		icon = GFX_goal_new_airforce
		prerequisite = {
			focus = SER_Fighter_Bomber_Acquisition
		}
		prerequisite = {
			focus = SER_Doctrinal_Studies
		}
		prerequisite = {
			focus = SER_Local_Designs
		}
		relative_position_id = SER_Seek_New_Expertise
		x = 2
		y = 3
		cost = 5
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_The_Serbian_Airforce"
			if = {
				limit = { has_idea = SER_russian_aerial_expertise }
				custom_effect_tooltip = SER_The_Serbian_Airforce_tooltip_RUS
				hidden_effect = {
					remove_ideas = {
						SER_russian_aerial_expertise
						SER_local_designs_idea
					}
					add_ideas = SER_airforce_idea_1
				}
			}
			else_if = {
				limit = { has_idea = SER_french_aerial_expertise }
				custom_effect_tooltip = SER_The_Serbian_Airforce_tooltip_NFA
				hidden_effect = {
					remove_ideas = {
						SER_french_aerial_expertise
						SER_local_designs_idea
					}
					add_ideas = SER_airforce_idea_2
				}
			}
			else = {
				swap_ideas = {
					remove_idea = SER_local_designs_idea
					add_idea = SER_airforce_idea_3
				}
			}
		}
	}

	focus = {
		id = SER_Replace_Weltkrieg_Era_Planes
		icon = GFX_goal_POL_recon_aircraft
		prerequisite = {
			focus = SER_Expand_The_Serbian_Aviation_Command
		}
		relative_position_id = SER_Expand_The_Serbian_Aviation_Command
		x = 2
		y = 1
		cost = 5
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Replace_Weltkrieg_Era_Planes"
			country_event = serbia.51
		}
	}

	focus = {
		id = SER_Modernise_Airports
		icon = GFX_goal_generic_air_production
		prerequisite = {
			focus = SER_Expand_The_Serbian_Aviation_Command
		}
		relative_position_id = SER_Expand_The_Serbian_Aviation_Command
		x = 0
		y = 1
		cost = 5
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Modernise_Airports"
			random_owned_controlled_state = {
				prioritize = { 107 }
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
						include_locked = yes
					}
				}
				add_building_construction = {
					type = air_base
					level = 4
					instant_build = yes
				}
			}
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
		}
	}

	focus = {
		id = SER_Local_Designs
		icon = GFX_focus_YUG_zmaj
		prerequisite = {
			focus = SER_Replace_Weltkrieg_Era_Planes
		}
		prerequisite = {
			focus = SER_Modernise_Airports
		}
		relative_position_id = SER_Expand_The_Serbian_Aviation_Command
		x = 1
		y = 2
		cost = 6
		ai_will_do = {
			factor = 4
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Local_Designs"
			custom_effect_tooltip = SER_Local_Designs_tooltip
			if = {
				limit = { has_idea = SER_airforce_idea_1 }
				swap_ideas = {
					remove_idea = SER_airforce_idea_1
					add_idea = SER_airforce_idea_2
				}
			}
			else = {
				add_ideas = SER_local_designs_idea
			}
		}
	}

	#########################
	### Montenegro & Navy ###
	#########################

	focus = {
		id = SER_Crna_Gora_I_Srbija
		icon = GFX_goal_SER_brotherly_union
		available = {
			105 = { is_owned_and_controlled_by = ROOT }
		}
		bypass = {
			105 = { is_core_of = SER }
		}
		x = 10
		y = 5
		cost = 4
		ai_will_do = { factor = 100 }
		search_filters = { FOCUS_FILTER_ANNEXATION }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Crna_Gora_I_Srbija"
			105 = {
				if = {
					limit = { is_claimed_by = SER }
					remove_claim_by = SER
				}
				add_core_of = SER
			}
			
			1097 = {
				if = {
					limit = { is_claimed_by = SER }
					remove_claim_by = SER
				}
				add_core_of = SER
			}
		}
	}

	focus = {
		id = SER_Connect_The_Railways
		icon = GFX_goal_generic_seize_railway
		available = {
			105 = { is_owned_and_controlled_by = ROOT }
		}
		prerequisite = {
			focus = SER_Crna_Gora_I_Srbija
		}
		relative_position_id = SER_Crna_Gora_I_Srbija
		x = -1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 5
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Connect_The_Railways"
			105 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_Prospecting_In_Niksic
		icon = GFX_goal_generic_coal_mining
		available = {
			105 = { is_owned_and_controlled_by = ROOT }
		}
		prerequisite = {
			focus = SER_Connect_The_Railways
		}
		prerequisite = {
			focus = SER_Integrate_The_Montenegrin_Economy
		}
		relative_position_id = SER_Crna_Gora_I_Srbija
		x = 0
		y = 2
		cost = 6
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Prospecting_In_Niksic"
			add_resource = {
				type = aluminium
				amount = 16
				state = 105
			}
		}
	}

	focus = {
		id = SER_Integrate_The_Montenegrin_Economy
		icon = GFX_focus_mex_privatisation
		available = {
			105 = { is_owned_and_controlled_by = ROOT }
		}
		prerequisite = {
			focus = SER_Crna_Gora_I_Srbija
		}
		relative_position_id = SER_Crna_Gora_I_Srbija
		x = 1
		y = 1
		cost = 6
		search_filters = { FOCUS_FILTER_INDUSTRY }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Integrate_The_Montenegrin_Economy"
			random_owned_controlled_state = {
				prioritize = { 105 }
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_Brotherly_Union
		icon = GFX_focus_generic_diplomatic_treaty
		available = {
			owns_state = 105
		}
		prerequisite = {
			focus = SER_Connect_The_Railways
		}
		relative_position_id = SER_Crna_Gora_I_Srbija
		x = -1
		y = 3
		cost = 5
		search_filters = { FOCUS_FILTER_POLITICAL }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Brotherly_Union"
			add_political_power = 150
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
					add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = SER_Revive_The_Serbian_Navy
		icon = GFX_goal_SER_navy
		available = {
			any_owned_state = { is_coastal = yes }
			NOT = { has_idea = SER_austrias_watchful_eye }
		}
		relative_position_id = SER_Crna_Gora_I_Srbija
		x = 3
		y = 0
		cost = 5
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				enemies_naval_strength_ratio > 1
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Revive_The_Serbian_Navy"
			navy_experience = 30
		}
	}

	focus = {
		id = SER_Dockyard_Construction
		icon = GFX_goal_generic_shipyard
		available = {
			any_owned_state = { is_coastal = yes }
		}
		prerequisite = {
			focus = SER_Revive_The_Serbian_Navy
		}
		relative_position_id = SER_Revive_The_Serbian_Navy
		x = 0
		y = 1
		cost = 8
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				enemies_naval_strength_ratio > 1
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Dockyard_Construction"
			if = {
				limit = {
					NOT = {
						any_owned_state = { is_coastal = yes }
					}
				}
				effect_tooltip = {
					105 = {
						add_extra_state_shared_building_slots = 3
						add_building_construction = {
							type = dockyard
							level = 3
							instant_build = yes
						}
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					prioritize = { 105 }
					limit = {
						is_coastal = yes
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SER_Form_A_Merchant_Navy
		icon = GFX_goal_USA_liberty_ships
		available = {
			any_owned_state = { is_coastal = yes }
		}
		prerequisite = {
			focus = SER_Integrate_The_Montenegrin_Economy
			focus = SER_Revive_The_Serbian_Navy
		}
		relative_position_id = SER_Revive_The_Serbian_Navy
		x = -1
		y = 2
		cost = 5
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				enemies_naval_strength_ratio > 1
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Form_A_Merchant_Navy"
			if = {
				limit = {
					NOT = {
						any_owned_state = { is_coastal = yes }
					}
				}
				effect_tooltip = {
					105 = {
						add_building_construction = {
							type = naval_base
							level = 3
							province = 9809
							instant_build = yes
						}
					}
				}
			}
			else_if = {
				limit = {
					105 = { is_owned_and_controlled_by = ROOT }
				}
				105 = {
					add_building_construction = {
						type = naval_base
						level = 3
						province = 9809
						instant_build = yes
					}
				}
			}
			else = {
				random_owned_controlled_state = {
					limit = { naval_base > 0 }
					add_building_construction = {
						type = naval_base
						province = {
							all_provinces = yes
							limit_to_coastal = yes
							limit_to_naval_base = yes
						}
						level = 3
						instant_build = yes
					}
				}
			}
			add_equipment_to_stockpile = {
				type = convoy
				amount = 50
				producer = SER
			}
		}
	}

	focus = {
		id = SER_Focus_On_Light_Ships
		icon = GFX_goal_generic_coastal_navy2
		available = {
			any_owned_state = { is_coastal = yes }
			NOT = { has_idea = SER_austrias_watchful_eye }
		}
		prerequisite = {
			focus = SER_Form_A_Merchant_Navy
		}
		relative_position_id = SER_Revive_The_Serbian_Navy
		x = -2
		y = 3
		cost = 6
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				enemies_naval_strength_ratio > 1
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Focus_On_Light_Ships"
			add_tech_bonus = {
				name = SER_First_Naval_Exercises
				bonus = 1
				uses = 2
				category = dd_tech
				category = cl_tech
			}
		}
	}

	focus = {
		id = SER_Shipbuilding_Investments
		icon = GFX_goal_generic_buy_ships
		available = {
			any_owned_state = { is_coastal = yes }
		}
		prerequisite = {
			focus = SER_Dockyard_Construction
		}
		prerequisite = {
			focus = SER_Form_A_Merchant_Navy
		}
		relative_position_id = SER_Revive_The_Serbian_Navy
		x = 0
		y = 3
		cost = 5
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				enemies_naval_strength_ratio > 1
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_Shipbuilding_Investments"
			add_timed_idea = {
				idea = SER_naval_investments
				days = 365
			}
			unlock_decision_tooltip = SER_Purchase_HMS_Lion
		}
	}

	focus = {
		id = SER_First_Naval_Exercises
		icon = GFX_goal_navy_hat_ships
		available = {
			any_owned_state = { is_coastal = yes }
		}
		prerequisite = {
			focus = SER_Revive_The_Serbian_Navy
		}
		relative_position_id = SER_Revive_The_Serbian_Navy
		x = 2
		y = 1
		cost = 6
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				enemies_naval_strength_ratio > 1
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_First_Naval_Exercises"
			navy_experience = 15
			add_doctrine_cost_reduction = {
				name = naval_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
	}

        focus = {
		id = SER_black_hand
		icon = GFX_goal_SER_black_hand_takes_power
		cost = 5.00
		x = 41
		y = 0
	    
		ai_will_do = { factor = 100}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = SER_black_hand_power
				always = no
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_black_hand"
			    add_ideas = SER_black_hand
		        add_popularity = {
			        ideology = national_populist
			        popularity = 0.17
		        }
				add_political_power = 75
				country_event ={ id = dhserbia.2 days = 14 random_days = 3
				}
				custom_effect_tooltip = unlock_focuses
		}

	}
	focus = {
		id = SER_SKK
		icon = GFX_goal_SER_SKK
		cost = 2.00
		prerequisite = {
			focus = SER_black_hand
		}
		mutually_exclusive = {
			focus = SER_black_general
		}
		x = 4
		y = 1
		relative_position_id = SER_black_hand
	    
		ai_will_do = { factor = 100}
		
		available= {
		    has_country_flag = SER_SKK_leader	
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_SKK"
			    add_ideas = SER_National_movement
				country_event ={ id = dhserbia.3
				}
		}

	}
	focus = {
		id = SER_loyalty_king
		icon = GFX_goal_SER_king_loyalty
		cost = 8.00
		prerequisite = {
			focus = SER_SKK
		}
		x = 5
		y = 2
		relative_position_id = SER_black_hand
	    
		ai_will_do = { factor = 100}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_loyalty_king"
			    add_stability = 0.1
			    107 = {
				    if = {
					    limit = { is_owned_and_controlled_by = SER }
					    add_extra_state_shared_building_slots = 2
					    add_building_construction = {
						    type = industrial_complex
						    level = 1
						    instant_build = yes
					    }
				    }
			    }
			    108 = {
				    if = {
					    limit = { is_owned_and_controlled_by = SER }
					    add_extra_state_shared_building_slots = 2
					    add_building_construction = {
						    type = industrial_complex
						    level = 1
						    instant_build = yes
					    }
				    }
			    }
                767 = {
				    if = {
					    limit = { is_owned_and_controlled_by = SER }
					    add_extra_state_shared_building_slots = 2
					    add_building_construction = {
						    type = industrial_complex
						    level = 1
						    instant_build = yes
					    }
				    }
			    }				
		}

	}
	focus = {
		id = SER_black_general
		icon = GFX_goal_SER_black_general
		cost = 2.00
		prerequisite = {
			focus = SER_black_hand
		}
		mutually_exclusive = {
			focus = SER_SKK
		}
		x = -4
		y = 1
		relative_position_id = SER_black_hand
		ai_will_do = { factor = 100}
		
		available= {
		    has_country_flag = SER_black_general	
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_SKK"
			    add_ideas = SER_Warrior_nation
				country_event ={ id = dhserbia.13
				}
			hidden_effect ={	
                country_event = {id = dhserbia.18 days = 60 random_days = 20
                
		        }
            }
		}

	}
	focus = {
		id = SER_pacify_oposition
		icon = GFX_goal_SER_pacify_oposition
		cost = 5.00
		prerequisite = {
			focus = SER_black_general
			focus = SER_SKK
		}
		x = 0
		y = 2
		relative_position_id = SER_black_hand
	    
		ai_will_do = { factor = 100}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_pacify_oposition"
			    add_political_power = 100
				add_popularity = {
			        ideology = authoritarian_democrat
			        popularity = -0.20
		        }
				add_popularity = {
			        ideology = paternal_autocrat
			        popularity = -0.10
		        }
                add_popularity = {
			        ideology = market_liberal
			        popularity = -0.10
		        }
		}
	}
	focus = {
		id = SER_SKK_expansion
		icon = GFX_goal_SER_expand_the_skk
		cost = 8.00
		prerequisite = {
			focus = SER_SKK
		}
		x = 3
		y = 2
		relative_position_id = SER_black_hand
	    
		ai_will_do = { factor = 100}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_loyalty_king"
			    add_political_power = -100
				add_popularity = {
			        ideology = national_populist
			        popularity = 0.05
		        }
				country_event = {
					id = dhserbia.5
                }
	    }
	}
	focus = {
		id = SER_fund_king_men
		icon = GFX_goal_SER_fund_the_king_men
		cost = 8.00
		prerequisite = {
			focus = SER_SKK_expansion
		}
		prerequisite = {
			focus = SER_loyalty_king
		}
		x = 4
		y = 3
		relative_position_id = SER_black_hand
	    
		ai_will_do = { factor = 100}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_fund_king_men"
			    add_political_power = -50
				add_ideas = SER_king_men_big
				country_event = {id = dhserbia.9 days = 35 random_days = 2
                
				}
        }	
	}
	focus = {
		id = SER_aid_foreign
		icon = GFX_goal_SER_contact_brothers
		cost = 5.00
		prerequisite = {
			focus = SER_pacify_oposition
		}
		x = -1
		y = 3
		relative_position_id = SER_black_hand
		ai_will_do = { factor = 100}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_aid_foreign"
				country_event = {id = dhserbia.22
                
				}
        }	

	}
	focus = {
		id = SER_promote_unity
		icon = GFX_goal_SER_serb_unity
		cost = 5.00
		prerequisite = {
			focus = SER_pacify_oposition
		}
		x = 1
		y = 3
		relative_position_id = SER_black_hand
		ai_will_do = { factor = 100}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_promote_unity"
			    add_stability = 0.2
				add_political_power = 100
				add_popularity = {
			        ideology = national_populist
			        popularity = 0.05
		        }
        }	

	}
	focus = {
		id = SER_black_legion
		icon = GFX_goal_SER_union_war_preparations
		cost = 8.00
		prerequisite = {
			focus = SER_black_general
		}
		x = -5
		y = 2
		relative_position_id = SER_black_hand
		ai_will_do = { factor = 100}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_black_legion"
			    add_ideas = SER_legion_black
				add_manpower = 10000
			     107 = {
				    if = {
					    limit = { is_owned_and_controlled_by = SER }
					    add_extra_state_shared_building_slots = 2
					    add_building_construction = {
						    type = arms_factory
						    level = 2
						    instant_build = yes
					    }
				    }
			    }
			    108 = {
				    if = {
					    limit = { is_owned_and_controlled_by = SER }
					    add_extra_state_shared_building_slots = 2
					    add_building_construction = {
						    type = arms_factory
						    level = 2
						    instant_build = yes
					    }
				    }
			    }
                767 = {
				    if = {
					    limit = { is_owned_and_controlled_by = SER }
					    add_extra_state_shared_building_slots = 2
					    add_building_construction = {
						    type = arms_factory
						    level = 2
						    instant_build = yes
					    }
				    }
			    }
			hidden_effect ={	
                country_event = {id = dhserbia.17 days = 90 random_days = 20
                
		        }
            }
		}

	}
	focus = {
		id = SER_new_myth
		icon = GFX_goal_SER_new_myth
		cost = 8.00
		prerequisite = {
			focus = SER_black_general
		}
		x = -3
		y = 2
		relative_position_id = SER_black_hand
		ai_will_do = { factor = 100}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_new_myth"
			add_ideas = SER_slav_myth
			add_stability = 0.10
			country_event = {id = dhserbia.15 days = 35 random_days = 2
                
		    }
		}
	}
	focus = {
		id = SER_Loyal_population
		icon = GFX_goal_SER_loyal_population
		cost = 8.00
		prerequisite = {
			focus = SER_black_legion
		}
		prerequisite = {
			focus = SER_new_myth
		}
		x = -4
		y = 3
		relative_position_id = SER_black_hand
		ai_will_do = { factor = 100}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_new_myth"
			add_manpower = 2000
			add_ideas = SER_population
			add_popularity = {
			        ideology = national_populist
			        popularity = 0.05
		    }
        }
	}
	focus = {
		id = SER_unity_or_death
		icon = GFX_goal_SER_Unity_or_death
		cost = 8.00
		prerequisite = {
			focus = SER_mobilize_population
		}
		x = 0
		y = 5
		relative_position_id = SER_black_hand
		ai_will_do = { factor = 100}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_unity_or_death"
            add_ideas = SER_Unity_death
			add_war_support = 0.10
			army_experience = 50
			107 = {
				    if = {
					    limit = { is_owned_and_controlled_by = SER }
					    add_extra_state_shared_building_slots = 2
					    add_building_construction = {
						    type = arms_factory
						    level = 2
						    instant_build = yes
					    }
				    }
			    }
			108 = {
				    if = {
					    limit = { is_owned_and_controlled_by = SER }
					    add_extra_state_shared_building_slots = 2
					    add_building_construction = {
						    type = arms_factory
						    level = 2
						    instant_build = yes
					    }
				    }
			    }
            767 = {
				    if = {
					    limit = { is_owned_and_controlled_by = SER }
					    add_extra_state_shared_building_slots = 2
					    add_building_construction = {
						    type = arms_factory
						    level = 2
						    instant_build = yes
					    }
				    }
			    }
		}
	}
	focus = {
		id = SER_mobilize_population
		icon = GFX_goal_SER_mobilize_the_che
		cost = 8.00
		prerequisite = {
			focus = SER_aid_foreign
		}
		prerequisite = {
			focus = SER_promote_unity
		}
		prerequisite = {
			focus = SER_fund_king_men
			focus = SER_Loyal_population
		}
		x = 0
		y = 4
		relative_position_id = SER_black_hand
	    
		ai_will_do = { factor = 100}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_mobilize_population"
			    add_political_power = -50
				add_manpower = 10000 
				if = {
				limit = {
					has_idea = war_economy
				}
				add_political_power = 100
			}
			else = {
				add_ideas = war_economy
			}
        }	

	}
	focus = {
		id = SER_catholic
		icon = GFX_goal_SER_break_the_croats
		cost = 5.00
		prerequisite = {
			focus = SER_unity_or_death
		}
		x = 39
		y = 6
        ai_will_do = { factor = 100}
		available = { owns_state = 163 # dalamtia
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_catholic"
			    add_political_power = -50
				add_manpower = 3000
				custom_effect_tooltip = SER_focus_catholics
					hidden_effect = {
							load_oob = "SER_coast_boiz"
						}
		}
	}
	focus = {
		id = SER_muslim
		icon = GFX_goal_SER_no_more_turkish_pies
		cost = 5.00
		prerequisite = {
			focus = SER_unity_or_death
		}
		x = 41
		y = 6
        ai_will_do = { factor = 100}
		available = { owns_state = 104 # bosnia
		
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_muslim"
			    add_political_power = -50
				add_manpower = 5000
			custom_effect_tooltip = SER_focus_muslisms
					hidden_effect = {
							load_oob = "SER_sprk_boiz"
						}
	    }
	}
	focus = {
		id = SER_denial_serbs
		icon = GFX_goal_SER_Welcome_back_our_coast_brothers
		cost = 5.00
		prerequisite = {
			focus = SER_unity_or_death
		}
		x = 43
		y = 6
        ai_will_do = { factor = 100}
		available = { owns_state = 105 # montenegro
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_denial_serbs"
			    add_political_power = -50
				add_manpower = 1000
				custom_effect_tooltip = SER_focus_denialserbs
					hidden_effect = {
							load_oob = "SER_mtn_boiz"
						}
		}
	}
	focus = {
		id = SER_friends_forever
		icon = GFX_goal_SER_we_are_friends_forever
		cost = 5.00
		prerequisite = {
			focus = SER_catholic
		}
		prerequisite = {
			focus = SER_muslim
		}
		prerequisite = {
			focus = SER_denial_serbs
		}
		x = 41
		y = 7
        ai_will_do = { factor = 100}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SER_friends_forever"
			    add_political_power = -50
				add_ideas = SER_friends_4ever
        }	
	}
}

