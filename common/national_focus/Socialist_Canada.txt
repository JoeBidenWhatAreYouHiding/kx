################################
####### SOCIALIST CANADA #######
################################

shared_focus = {
	id = CAN_Canada_Liberated
	icon = GFX_goal_CAN_socialist_revolution
	
	allow_branch = {
		has_global_flag = CAN_became_socialist
		has_country_flag = CAN_is_socialist_canada
	}
	
	bypass = {
		always = yes
	}
		
	x = 0
	y = 1
	offset = {
		y = 14
		x = 33
		trigger = {
			tag = NFL
		}
	}
	cost = 5
		
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Canada_Liberated"
		custom_effect_tooltip = unlock_focuses
	}
}

### General Branch ###

shared_focus = {
	id = CAN_Congress_of_Canadian_Socialists
	icon = GFX_goal_CAN_congress_of_canadian_socialists
	
	prerequisite = {
		focus = CAN_Canada_Liberated
	}
	
	select_effect = {
		if = {
			limit = { is_subject = no }
			country_event = {
				id = canada_soc.1
				days = 5
			}
		}
		else = {
			CAN_set_puppet_leader = yes
		}
	}
	
	bypass = {
		has_country_flag = CAN_congress_over
	}
	
	x = 0
	y = 1
	
	offset = {
		x = -11
		trigger = { 
			OR = {
				has_completed_focus = CAN_Congress_of_Canadian_Socialists
				tag = NFL
			}
		}
	}

	relative_position_id = CAN_Canada_Liberated
	
	cost = 15
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Congress_of_Canadian_Socialists"
		custom_effect_tooltip = CAN_congress_tt
	}
}

### Reconstruction Branch ###

shared_focus = {
	id = CAN_Burn_the_Royal_Portraits
	icon = GFX_goal_CAN_burn_royal_portraits
	
	prerequisite = {
		focus = CAN_Canada_Liberated
	}
	
	available = {
		has_completed_focus = CAN_Congress_of_Canadian_Socialists
	}
		
	allow_branch = {
		OR = { 
			tag = NFL
			has_completed_focus = CAN_Congress_of_Canadian_Socialists
		}
		has_global_flag = CAN_became_socialist
	}
		
	x = -13
	y = 1
	relative_position_id = CAN_Canada_Liberated
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Burn_the_Royal_Portraits"
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.05
		}
		swap_ideas = {
			remove_idea = CAN_reactionary_resistance
			add_idea = CAN_reactionary_resistance2
		}
		custom_effect_tooltip = CAN_burn_portraits_tt
	}
}

shared_focus = {
	id = CAN_Fate_of_the_RCMP
	icon = GFX_goal_CAN_fate_of_the_rcmp
	
	prerequisite = {
		focus = CAN_Burn_the_Royal_Portraits
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Burn_the_Royal_Portraits
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Fate_of_the_RCMP"
		country_event = canada_soc.16
		swap_ideas = {
			remove_idea = CAN_reactionary_resistance2
			add_idea = CAN_reactionary_resistance3
		}
		hidden_effect = {
			country_event = {
				id = canada_soc_flavour.7
				days = 54
			}
		}
	}
}

shared_focus = {
	id = CAN_Smash_the_Establishment
	icon = GFX_goal_CAN_old_establishment
	
	prerequisite = {
		focus = CAN_Fate_of_the_RCMP
	}
		
	x = -1
	y = 2
	relative_position_id = CAN_Burn_the_Royal_Portraits
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Smash_the_Establishment"
		if = {
			limit = {
				has_country_flag = CAN_light_liberal_policy
			}
			add_popularity = {
				ideology = market_liberal
				popularity = -0.02
			}
			add_popularity = {
				ideology = social_liberal
				popularity = -0.01
			}
			add_political_power = -20
		}
		else = {
			add_popularity = {
				ideology = market_liberal
				popularity = -0.06
			}
			add_popularity = {
				ideology = social_liberal
				popularity = -0.04
			}
			add_political_power = -40
			add_stability = -0.02
		}
		
		if = {
			limit = {
				has_country_flag = CAN_light_tory_policy
			}
			add_popularity = {
				ideology = social_conservative
				popularity = -0.02
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = -0.01
			}
			add_political_power = -20
		}
		else = {
			add_popularity = {
				ideology = social_conservative
				popularity = -0.06
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = -0.04
			}
			add_political_power = -40
			add_stability = -0.02
		}
		
		swap_ideas = {
			remove_idea = CAN_reactionary_resistance3
			add_idea = CAN_reactionary_resistance4
		}
	}
}

shared_focus = {
	id = CAN_Eradicate_the_Imperialists
	icon = GFX_goal_CAN_eradicate_imperialists
	
	prerequisite = {
		focus = CAN_Smash_the_Establishment
	}
		
	x = 0
	y = 3
	relative_position_id = CAN_Burn_the_Royal_Portraits
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Eradicate_the_Imperialists"
		swap_ideas = {
			remove_idea = CAN_reactionary_resistance4
			add_idea = CAN_reactionary_resistance5
		}
		add_manpower = -1200
		add_popularity = {
			ideology = national_populist
			popularity = -0.1
		}
		add_stability = 0.05
		add_war_support = 0.03
	}
}

shared_focus = {
	id = CAN_Socialist_Constitution
	icon = GFX_goal_CAN_socialist_constitution
	
	prerequisite = {
		focus = CAN_Eradicate_the_Imperialists
	}
	prerequisite = {
		focus = CAN_Venerate_Coaker
		focus = CAN_Canadas_Moderate_Maximists_Miracle
		focus = CAN_Eternal_Revolution
		focus = CAN_Maple_Syrup_Communism
		focus = CAN_Workers_Popular_Front
		focus = CAN_Industrial_Unionism
		focus = CAN_Craft_Unionism
		focus = CAN_Impossibilism
		focus = CAN_Canada_Forward
		focus = CAN_Communist_Transformation
		focus = CAN_Come_Farmer_Soldier_Labourer
	}
		
	x = 1
	y = 4
	relative_position_id = CAN_Burn_the_Royal_Portraits
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Socialist_Constitution"
		remove_ideas = CAN_reactionary_resistance5
		add_political_power = 100
		add_stability = 0.04
		increase_ruling_party_popularity_by_5 = yes
	}
}

### Economic Branch ###

shared_focus = {
	id = CAN_Rebuild_Canada
	icon = GFX_goal_CAN_rebuild_nation
	
	prerequisite = {
		focus = CAN_Canada_Liberated
	}
	
	available = {
		has_completed_focus = CAN_Congress_of_Canadian_Socialists
	}
	
	allow_branch = {
		OR = { 
			tag = NFL
			has_completed_focus = CAN_Congress_of_Canadian_Socialists
		}
		has_global_flag = CAN_became_socialist
	}
		
	x = 2
	y = 0
	relative_position_id = CAN_Congress_of_Canadian_Socialists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Canada_Liberated"
		swap_ideas = {
			remove_idea = CAN_ruined_nation
			add_idea = CAN_ruined_nation2
		}
		random_owned_state = {
			add_extra_state_shared_building_slots = 1
		}
		random_owned_state = {
			add_extra_state_shared_building_slots = 1
		}
		random_owned_state = {
			add_extra_state_shared_building_slots = 1
		}
	}
}

shared_focus = {
	id = CAN_Distribute_Exile_Wealth
	icon = GFX_goal_CAN_distribute_exile_wealth
	
	prerequisite = {
		focus = CAN_Rebuild_Canada
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Rebuild_Canada
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Canada_Liberated"
		swap_ideas = {
			remove_idea = CAN_ruined_nation2
			add_idea = CAN_ruined_nation3
		}
		
		random_owned_controlled_state = {
			add_resource = {
				type = oil
				amount = 6
			}
		}
		random_owned_controlled_state = {
			add_resource = {
				type = steel
				amount = 6
			}
		}
		random_owned_controlled_state = {
			add_resource = {
				type = tungsten
				amount = 6
			}
		}
		random_owned_controlled_state = {
			add_resource = {
				type = aluminium
				amount = 6
			}
		}
		random_owned_controlled_state = {
			add_resource = {
				type = chromium
				amount = 6
			}
		}
		random_owned_controlled_state = {
			add_resource = {
				type = rubber
				amount = 6
			}
		}
		
		if = {
			limit = { has_country_flag = CAN_congress_exile_tot }
			add_timed_idea = {
				idea = CAN_exile_internment
				days = 700
			}
		}
		
		if = {
			limit = { has_country_flag = CAN_congress_exile_syn }
			add_timed_idea = {
				idea = CAN_exile_expulsion_full
				days = 400
			}
		}
		
		if = {
			limit = { has_country_flag = CAN_congress_exile_radsoc }
			add_timed_idea = {
				idea = CAN_exile_expulsion_partial
				days = 400
			}
		}
		
		if = {
			limit = { has_country_flag = CAN_congress_exile_ccf }
			add_timed_idea = {
				idea = CAN_exile_wealth_seizures
				days = 400
			}
		}
	}
}

shared_focus = {
	id = CAN_Agricultural_Revolution
	icon = GFX_goal_CSA_agricultural_revolution
	
	prerequisite = {
		focus = CAN_Distribute_Exile_Wealth
	}
		
	x = 1
	y = 2
	relative_position_id = CAN_Rebuild_Canada
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Canada_Liberated"
		swap_ideas = {
			remove_idea = CAN_ruined_nation3
			add_idea = CAN_ruined_nation4
		}
		add_ideas = CAN_Agricultural_Revolution
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
		}
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
		}
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
		}
	}
}

shared_focus = {
	id = CAN_New_Economy
	icon = GFX_goal_CSA_new_economic_planning
	
	prerequisite = {
		focus = CAN_Agricultural_Revolution
	}
		
	x = 0
	y = 3
	relative_position_id = CAN_Rebuild_Canada
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Canada_Liberated"
		remove_ideas = CAN_ruined_nation4
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
	}
}

shared_focus = {
	id = CAN_Socialist_CBC
	icon = GFX_goal_CAN_found_cbc
	
	prerequisite = {
		focus = CAN_New_Economy
	}
	prerequisite = {
		focus = CAN_Venerate_Coaker
		focus = CAN_Canadas_Moderate_Maximists_Miracle
		focus = CAN_Eternal_Revolution
		focus = CAN_Maple_Syrup_Communism
		focus = CAN_Workers_Popular_Front
		focus = CAN_Industrial_Unionism
		focus = CAN_Craft_Unionism
		focus = CAN_Impossibilism
		focus = CAN_Canada_Forward
		focus = CAN_Communist_Transformation
		focus = CAN_Come_Farmer_Soldier_Labourer
	}
	
	x = 3
	y = 4
	relative_position_id = CAN_Burn_the_Royal_Portraits
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Canada_Liberated"
		add_political_power = 50
		add_ideas = CAN_cbc_idea
		if = {
			limit = { NOT = { has_tech = radio } }
			set_technology = { radio = 1 }
		}
	}
}

shared_focus = {
	id = CAN_Great_Red_North
	icon = GFX_goal_CAN_great_red_north
	
	prerequisite = {
		focus = CAN_Socialist_CBC
	}
	prerequisite = {
		focus = CAN_Socialist_Constitution
	}
	
	x = 2
	y = 5
	relative_position_id = CAN_Burn_the_Royal_Portraits
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Canada_Liberated"
		add_political_power = 100
		increase_ruling_party_popularity_by_5 = yes
		add_ideas = CAN_Great_Red_North
	}
}

### Political ###

# - FPU Branch

shared_focus = {
	id = CAN_Triumph_of_the_FPU
	icon = GFX_goal_NFL_fishermans_protective_union
	
	prerequisite = {
		focus = CAN_Congress_of_Canadian_Socialists
	}
	
	available = {	
		tag = NFL
		has_country_flag = CAN_FPU_Victory
	}
	
	allow_branch = {
		has_global_flag = CAN_became_socialist
		tag = NFL
		OR = {
			has_country_flag = CAN_FPU_Victory
			NOT = { has_country_flag = CAN_congress_over }
		}
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Congress_of_Canadian_Socialists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Triumph_of_the_FPU"
		add_popularity = {
			ideology = syndicalist
			popularity = 0.04
		}
		add_ideas = CAN_FPU_policies
	}
}

shared_focus = {
	id = CAN_Expand_to_the_Pacific
	icon = GFX_goal_CAN_pacific_expansion
	
	prerequisite = {
		focus = CAN_Triumph_of_the_FPU
	}
	
	available = {
		has_completed_focus = CAN_Alliance_With_Sector_Unions
	}
		
	x = -1
	y = 1
	relative_position_id = CAN_Triumph_of_the_FPU
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Expand_to_the_Pacific"
		swap_ideas = {
			remove_idea = CAN_FPU_policies2
			add_idea = CAN_FPU_policies3
		}
		add_equipment_to_stockpile = { type = convoy_1 amount = 200 producer = ROOT }
		add_popularity = {
			ideology = syndicalist
			popularity = 0.02
		}
	}
}

shared_focus = {
	id = CAN_Alliance_With_Sector_Unions
	icon = GFX_BBR_unionize_yesterday
	
	prerequisite = {
		focus = CAN_Triumph_of_the_FPU
	}
		
	x = 1
	y = 1
	relative_position_id = CAN_Triumph_of_the_FPU
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Alliance_With_Sector_Unions"
		swap_ideas = {
			remove_idea = CAN_FPU_policies
			add_idea = CAN_FPU_policies2
		}
		add_political_power = 40
		add_popularity = {
			ideology = syndicalist
			popularity = 0.02
		}
		hidden_effect = {
			country_event = {
				id = canada_soc.20
				days = 23
			}	
		}
	}
}

shared_focus = {
	id = CAN_Venerate_Coaker
	icon = GFX_goal_CAN_venerate_coaker
	
	prerequisite = {
		focus = CAN_Alliance_With_Sector_Unions
	}
	prerequisite = {
		focus = CAN_Expand_to_the_Pacific
	}
		
	x = 0
	y = 2
	relative_position_id = CAN_Triumph_of_the_FPU
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Venerate_Coaker"
		swap_ideas = {
			remove_idea = CAN_FPU_policies3
			add_idea = CAN_FPU_policies4
		}
		add_stability = 0.04
		add_war_support = 0.04
		add_popularity = {
			ideology = syndicalist
			popularity = 0.02
		}
	}
}

# - CUM Branch

shared_focus = {
	id = CAN_Canadian_Union_of_Maximists
	icon = GFX_goal_CAN_canadian_union_of_maximists
	
	prerequisite = {
		focus = CAN_Congress_of_Canadian_Socialists
	}
	
	allow_branch = {
		has_country_flag = CAN_CUM_Victory
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Congress_of_Canadian_Socialists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Canadian_Union_of_Maximists"
		add_popularity = {
			ideology = totalist
			popularity = 0.04
		}
		add_ideas = CAN_CUM_policies
	}
}

shared_focus = {
	id = CAN_Studying_Mosleys_Axioms
	icon = GFX_goal_CAN_study_mosleys_axioms
	
	prerequisite = {
		focus = CAN_Canadian_Union_of_Maximists
	}
		
	x = -1
	y = 1
	relative_position_id = CAN_Canadian_Union_of_Maximists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Studying_Mosleys_Axioms"
		add_political_power = 40
		add_popularity = {
			ideology = totalist
			popularity = 0.02
		}
		swap_ideas = {
			remove_idea = CAN_CUM_policies
			add_idea = CAN_CUM_policies2
		}
		ENG = {
			add_opinion_modifier = {
				target = ROOT
				modifier = KR_approves_of_govt
			}
		}
	}
}

shared_focus = {
	id = CAN_Alliance_With_Aboriginal_Groups
	icon = GFX_goal_CAN_aboriginal_collaboration
	
	prerequisite = {
		focus = CAN_Canadian_Union_of_Maximists
	}
	
	available = {
		has_completed_focus = CAN_Studying_Mosleys_Axioms
	}
		
	x = 1
	y = 1
	relative_position_id = CAN_Canadian_Union_of_Maximists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Alliance_With_Aboriginal_Groups"
		add_stability = 0.04
		add_manpower = 1130
		swap_ideas = {
			remove_idea = CAN_CUM_policies2
			add_idea = CAN_CUM_policies3
		}
	}
}

shared_focus = {
	id = CAN_Canadas_Moderate_Maximists_Miracle
	icon = GFX_goal_CAN_maximist_miracle
	
	prerequisite = {
		focus = CAN_Alliance_With_Aboriginal_Groups
	}
	prerequisite = {
		focus = CAN_Studying_Mosleys_Axioms
	}
		
	x = 0
	y = 2
	relative_position_id = CAN_Canadian_Union_of_Maximists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Canadas_Moderate_Maximists_Miracle"
		add_stability = 0.05
		add_popularity = {
			ideology = totalist
			popularity = 0.04
		}
		swap_ideas = {
			remove_idea = CAN_CUM_policies3
			add_idea = CAN_CUM_policies4
		}
		hidden_effect = {
			country_event = {
				id = canada_soc.19
				days = 32
			}
		}
	}
}

# - MEL Branch

shared_focus = {
	id = CAN_Marxian_Education_League
	icon = GFX_goal_CAN_lovestoneites
	
	prerequisite = {
		focus = CAN_Congress_of_Canadian_Socialists
	}
	
	allow_branch = {
		has_country_flag = CAN_MEL_Victory
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Congress_of_Canadian_Socialists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Marxian_Education_League"
		add_popularity = {
			ideology = totalist
			popularity = 0.04
		}
		add_ideas = CAN_MEL_policies
	}
}

shared_focus = {
	id = CAN_Lovestoneism
	icon = GFX_goal_CAN_study_lovestone_axioms
	
	prerequisite = {
		focus = CAN_Marxian_Education_League
	}
		
	x = -1
	y = 1
	relative_position_id = CAN_Marxian_Education_League
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Lovestoneism"
		add_popularity = {
			ideology = totalist
			popularity = 0.02
		}
		swap_ideas = {
			remove_idea = CAN_MEL_policies
			add_idea = CAN_MEL_policies2
		}
		CSA = {
			add_opinion_modifier = {
				target = ROOT
				modifier = KR_approves_of_govt
			}
		}
		hidden_effect = {
			if = {
				limit = { 
					CSA = {
						has_country_leader_ideology = popcom_subtype
					}
				}
				country_event = {
					id = canada_soc.26
					random_days = 100
					days = 70
				}
			}
			else = {
				country_event = {
					id = canada_soc.30
					random_days = 100
					days = 70
				}
			}
		}
	}
}

shared_focus = {
	id = CAN_Nationalist_Market_Socialism
	icon = GFX_RUS_Introduce_NEP
	
	prerequisite = {
		focus = CAN_Marxian_Education_League
	}
	
	available = {
		has_completed_focus = CAN_Lovestoneism
	}
		
	x = 1
	y = 1
	relative_position_id = CAN_Marxian_Education_League
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Nationalist_Market_Socialism"
		swap_ideas = {
			remove_idea = CAN_MEL_policies2
			add_idea = CAN_MEL_policies3
		}
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
		}
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
		}
		add_political_power = -20
	}
}

shared_focus = {
	id = CAN_Eternal_Revolution
	icon = GFX_goal_CAN_eternal_revolution
	
	prerequisite = {
		focus = CAN_Nationalist_Market_Socialism
	}
	prerequisite = {
		focus = CAN_Lovestoneism
	}
		
	x = 0
	y = 2
	relative_position_id = CAN_Marxian_Education_League
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Eternal_Revolution"
		add_war_support = 0.10
		swap_ideas = {
			remove_idea = CAN_MEL_policies3
			add_idea = CAN_MEL_policies4
		}
		add_popularity = {
			ideology = totalist 
			popularity = 0.05
		}
	}
}

# - CPC Branch

shared_focus = {
	id = CAN_Communist_Party_of_Canada
	icon = GFX_goal_CAN_communist_party_of_canada
	
	prerequisite = {
		focus = CAN_Congress_of_Canadian_Socialists
	}
	
	allow_branch = {
		has_country_flag = CAN_CPC_Victory
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Congress_of_Canadian_Socialists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Communist_Party_of_Canada"
		add_popularity = {
			ideology = totalist
			popularity = 0.04
		}
		add_ideas = CAN_CPC_policies
	}
}

shared_focus = {
	id = CAN_Browderian_Inspiration
	icon = GFX_goal_CAN_study_browder_axioms
	
	prerequisite = {
		focus = CAN_Communist_Party_of_Canada
	}
		
	x = -1
	y = 1
	relative_position_id = CAN_Communist_Party_of_Canada
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Browderian_Inspiration"
		add_popularity = {
			ideology = totalist
			popularity = 0.02
		}
		swap_ideas = {
			remove_idea = CAN_CPC_policies
			add_idea = CAN_CPC_policies2
		}
		CSA = {
			add_opinion_modifier = {
				target = ROOT
				modifier = KR_approves_of_govt
			}
		}
		hidden_effect = {
			if = {
				limit = { 
					CSA = {
						has_country_leader = {
							name = "Earl Browder"
							ruling_only = yes 
						}
					}
				}
				country_event = {
					id = canada_soc.31
					random_days = 100
					days = 70
				}
			}
			else = {
				country_event = {
					id = canada_soc.35
					random_days = 100
					days = 70
				}
			}
		}
	}
}

shared_focus = {
	id = CAN_Create_the_CSIS
	icon = GFX_goal_CAN_create_CSIS
	
	prerequisite = {
		focus = CAN_Communist_Party_of_Canada
	}
	
	available = {
		has_completed_focus = CAN_Browderian_Inspiration
	}
		
	x = 1
	y = 1
	relative_position_id = CAN_Communist_Party_of_Canada
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Create_the_CSIS"
		add_stability = 0.02
		add_popularity = {
			ideology = totalist
			popularity = 0.02
		}
		create_intelligence_agency = {
			name = "CSIS"
			icon = GFX_intelligence_agency_logo_KX_canada_5
		}
		swap_ideas = {
			remove_idea = CAN_CPC_policies2
			add_idea = CAN_CPC_policies3
		}
	}
}

shared_focus = {
	id = CAN_Maple_Syrup_Communism
	icon = GFX_goal_CAN_maple_syrup_communism
	
	prerequisite = {
		focus = CAN_Create_the_CSIS
	}
	prerequisite = {
		focus = CAN_Browderian_Inspiration
	}
		
	x = 0
	y = 2
	relative_position_id = CAN_Communist_Party_of_Canada
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Maple_Syrup_Communism"
		swap_ideas = {
			remove_idea = CAN_CPC_policies3
			add_idea = CAN_CPC_policies4
		}
		add_war_support = 0.05
		add_popularity = {
			ideology = totalist
			popularity = 0.04
		}
		if = {
			limit = { has_country_flag = CAN_wul_leads_synds }
			add_synd_to_coalition = yes
		}
		
		if = {
			limit = { has_country_flag = CAN_radsocs_are_communists }
			add_radsoc_to_coalition = yes
		}
		
	}
}

# - WUL/Synd Communists Branch

shared_focus = {
	id = CAN_Workers_Unity_League
	icon = {
		trigger = { has_country_flag = CAN_Synd_CPC_Victory }
		value = GFX_goal_CAN_syndicalist_communists
	}
	icon = {
		value = GFX_goal_CAN_workers_unity_league
	}
	
	prerequisite = {
		focus = CAN_Congress_of_Canadian_Socialists
	}
	
	allow_branch = {
		OR = {	
			has_country_flag = CAN_WUL_Victory
			has_country_flag = CAN_Synd_CPC_Victory
		}
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Congress_of_Canadian_Socialists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Workers_Unity_League"
		add_popularity = {
			ideology = syndicalist
			popularity = 0.04
		}
		add_stability = 0.02
		add_ideas = CAN_WUL_policies
	}
}

shared_focus = {
	id = CAN_Communist_Alliance
	icon = {
		trigger = { has_country_flag = CAN_Synd_CPC_Victory }
		value = GFX_goal_CAN_wul_alliance
	}
	icon = {
		value = GFX_goal_CAN_communist_alliance
	}
	
	prerequisite = {
		focus = CAN_Workers_Unity_League
	}
		
	x = -1
	y = 1
	relative_position_id = CAN_Workers_Unity_League
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Communist_Alliance"
		if = {
			limit = { has_country_flag = CAN_tots_are_communists }
			add_tot_to_coalition = yes
			add_popularity = {
				ideology = totalist
				popularity = 0.02
			}
		}
		
		if = {
			limit = { has_country_flag = CAN_radsocs_are_communists }
			add_radsoc_to_coalition = yes
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.02
			}
		}
		add_political_power = 40
		add_popularity = {
			ideology = syndicalist
			popularity = 0.02
		}
		swap_ideas = {
			remove_idea = CAN_WUL_policies
			add_idea = CAN_WUL_policies2
		}
	}
}

shared_focus = {
	id = CAN_Legacy_of_the_Trek
	icon = GFX_goal_CAN_ottawa_trek
	
	prerequisite = {
		focus = CAN_Workers_Unity_League
	}
	
	available = {
		has_completed_focus = CAN_Communist_Alliance
	}
		
	x = 1
	y = 1
	relative_position_id = CAN_Workers_Unity_League
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Legacy_of_the_Trek"
		swap_ideas = {
			remove_idea = CAN_WUL_policies2
			add_idea = CAN_WUL_policies3
		}
		add_manpower = 2300
		add_war_support = 0.04
	}
}

shared_focus = {
	id = CAN_Workers_Popular_Front
	icon = GFX_goal_CSA_popular_front
	
	prerequisite = {
		focus = CAN_Legacy_of_the_Trek
	}
	prerequisite = {
		focus = CAN_Communist_Alliance
	}
		
	x = 0
	y = 2
	relative_position_id = CAN_Workers_Unity_League
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Workers_Popular_Front"
		add_political_power = 100
		add_popularity = {
			ideology = syndicalist
			popularity = 0.04
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.04
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.04
		}
		swap_ideas = {
			remove_idea = CAN_WUL_policies3
			add_idea = CAN_WUL_policies4
		}
		hidden_effect = {
			if = {
				limit = { 
					CSA = {
						has_country_leader_ideology = william_foster_thought_subtype
					}
				}
				country_event = {
					id = canada_soc.46
					random_days = 100
					days = 70
				}
			}
			else = {
				country_event = {
					id = canada_soc.50
					random_days = 100
					days = 70
				}
			}
		}
	}
}

# - OBU Branch

shared_focus = {
	id = CAN_One_Big_Union
	icon = GFX_goal_CAN_one_big_union
	
	prerequisite = {
		focus = CAN_Congress_of_Canadian_Socialists
	}
	
	allow_branch = {
		has_country_flag = CAN_OBU_Victory
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Congress_of_Canadian_Socialists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_One_Big_Union"
		add_ideas = CAN_OBU_policies
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
	}
}

shared_focus = {
	id = CAN_Union_Collaboration
	icon = GFX_goal_FRA_union_dominance
	
	prerequisite = {
		focus = CAN_One_Big_Union
	}
		
	x = -1
	y = 1
	relative_position_id = CAN_One_Big_Union
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Union_Collaboration"
		swap_ideas = {
			remove_idea = CAN_OBU_policies
			add_idea = CAN_OBU_policies2
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.04
		}
		add_political_power = 30
		hidden_effect = {
			country_event = {
				id = canada_soc.24
				days = 34
			}
		}
	}
}

shared_focus = {
	id = CAN_Winnepegs_Rallying_Call
	icon = GFX_goal_CAN_winnipeg_strike
	
	prerequisite = {
		focus = CAN_One_Big_Union
	}
	
	available = {
		has_completed_focus = CAN_Union_Collaboration
	}
		
	x = 1
	y = 1
	relative_position_id = CAN_One_Big_Union
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Winnepegs_Rallying_Call"
		add_manpower = 1100
		add_popularity = {
			ideology = syndicalist
			popularity = 0.02
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.02
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.02
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.02
		}
		swap_ideas = {
			remove_idea = CAN_OBU_policies2
			add_idea = CAN_OBU_policies3
		}
	}
}

shared_focus = {
	id = CAN_Industrial_Unionism
	icon = GFX_goal_CSA_industrial_unionism
	
	prerequisite = {
		focus = CAN_Winnepegs_Rallying_Call
	}
	prerequisite = {
		focus = CAN_Union_Collaboration
	}
		
	x = 0
	y = 2
	relative_position_id = CAN_One_Big_Union
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Industrial_Unionism"
		swap_ideas = {
			remove_idea = CAN_OBU_policies3
			add_idea = CAN_OBU_policies4
		}
		hidden_effect = {
			if = {
				limit = { 
					CSA = {
						has_government = syndicalist
					}
				}
				country_event = {
					id = canada_soc.41
					random_days = 100
					days = 70
				}
			}
			else = {
				country_event = {
					id = canada_soc.45
					random_days = 100
					days = 70
				}
			}
		}
	}
}

# - TLC Branch

shared_focus = {
	id = CAN_Trades_and_Labour_Congress
	icon = GFX_goal_CAN_trades_and_labour_congress
	
	prerequisite = {
		focus = CAN_Congress_of_Canadian_Socialists
	}
	
	allow_branch = {
		has_country_flag = CAN_TLC_Victory
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Congress_of_Canadian_Socialists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Trades_and_Labour_Congress"
		add_ideas = CAN_TLC_policies
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
	}
}

shared_focus = {
	id = CAN_Equal_and_Democratic_Syndicalism
	icon = GFX_goal_FRA_commune_of_liberty
	
	prerequisite = {
		focus = CAN_Trades_and_Labour_Congress
	}
		
	x = -1
	y = 1
	relative_position_id = CAN_Trades_and_Labour_Congress
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Equal_and_Democratic_Syndicalism"
		swap_ideas = {
			remove_idea = CAN_TLC_policies
			add_idea = CAN_TLC_policies2
		}
		add_political_power = 50
		add_popularity = {
			ideology = syndicalist
			popularity = 0.04
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.02
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.02
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.01
		}
	}
}

shared_focus = {
	id = CAN_Links_with_the_AFL
	icon = GFX_goal_CAN_links_with_afl
	
	prerequisite = {
		focus = CAN_Trades_and_Labour_Congress
	}
	
	available = {
		has_completed_focus = CAN_Equal_and_Democratic_Syndicalism
	}
		
	x = 1
	y = 1
	relative_position_id = CAN_Trades_and_Labour_Congress
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Links_with_the_AFL"
		swap_ideas = {
			remove_idea = CAN_TLC_policies2
			add_idea = CAN_TLC_policies3
		}
		add_socdem_to_coalition = yes
		add_popularity = {
			ideology = social_democrat
			popularity = 0.02
		}
		CSA = {
			add_opinion_modifier = {
				target = ROOT
				modifier = KR_approves_of_govt
			}
		}
		hidden_effect = {
			if = {
				limit = { 
					CSA = {
						has_government = social_democrat
					}
				}
				country_event = {
					id = canada_soc.36
					random_days = 100
					days = 70
				}
			}
			else = {
				country_event = {
					id = canada_soc.40
					random_days = 100
					days = 70
				}
			}
		}
	}
}

shared_focus = {
	id = CAN_Craft_Unionism
	icon = GFX_goal_CSA_craft_unions_committee
	
	prerequisite = {
		focus = CAN_Links_with_the_AFL
	}
	prerequisite = {
		focus = CAN_Equal_and_Democratic_Syndicalism
	}
		
	x = 0
	y = 2
	relative_position_id = CAN_Trades_and_Labour_Congress
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Craft_Unionism"
		swap_ideas = {
			remove_idea = CAN_TLC_policies3
			add_idea = CAN_TLC_policies4
		}
	}
}

# - Socialist Party of Canada Branch

shared_focus = {
	id = CAN_Socialist_Party_of_Canada
	icon = GFX_goal_CAN_socialist_party_of_canada
	
	prerequisite = {
		focus = CAN_Congress_of_Canadian_Socialists
	}
	
	allow_branch = {
		has_country_flag = CAN_SPC_Victory
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Congress_of_Canadian_Socialists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Socialist_Party_of_Canada"
		add_ideas = CAN_SPC_policies
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
}

shared_focus = {
	id = CAN_Reverse_Decline
	icon = GFX_goal_CAN_reverse_party_decline
	
	prerequisite = {
		focus = CAN_Socialist_Party_of_Canada
	}
		
	x = -1
	y = 1
	relative_position_id = CAN_Socialist_Party_of_Canada
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Reverse_Decline"
		swap_ideas = {
			remove_idea = CAN_SPC_policies
			add_idea = CAN_SPC_policies2
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.06
		}
		hidden_effect = {
			country_event = {
				id = canada_soc.24
				days = 56
			}
		}
	}
}

shared_focus = {
	id = CAN_Rapid_Socialization
	icon = GFX_RUS_Land_Socialization
	
	prerequisite = {
		focus = CAN_Socialist_Party_of_Canada
	}
	
	available = {
		has_completed_focus = CAN_Reverse_Decline
	}
		
	x = 1
	y = 1
	relative_position_id = CAN_Socialist_Party_of_Canada
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Rapid_Socialization"
		swap_ideas = {
			remove_idea = CAN_SPC_policies2
			add_idea = CAN_SPC_policies3
		}
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
		}
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
		}
	}
}

shared_focus = {
	id = CAN_Impossibilism
	icon = GFX_goal_CAN_impossiblism
	
	prerequisite = {
		focus = CAN_Rapid_Socialization
	}
	prerequisite = {
		focus = CAN_Reverse_Decline
	}
		
	x = 0
	y = 2
	relative_position_id = CAN_Socialist_Party_of_Canada
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Impossibilism"
		add_political_power = 70
		swap_ideas = {
			remove_idea = CAN_SPC_policies3
			add_idea = CAN_SPC_policies4
		}
		hidden_effect = {
			country_event = {
				id = canada_soc.25
				days = 24
			}
		}
	}
}

# - Social Democratic Party of Canada Branch

shared_focus = {
	id = CAN_Social_Democratic_Party_of_Canada
	icon = GFX_goal_CAN_social_democratic_party_of_canada
	
	prerequisite = {
		focus = CAN_Congress_of_Canadian_Socialists
	}
	
	allow_branch = {
		has_country_flag = CAN_SDP_Victory
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Congress_of_Canadian_Socialists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Social_Democratic_Party_of_Canada"
		add_ideas = CAN_SDP_policies
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
	}
}

shared_focus = {
	id = CAN_Evolutionary_Socialism
	icon = GFX_VNC_model_of_dem_socialism
	
	prerequisite = {
		focus = CAN_Social_Democratic_Party_of_Canada
	}
		
	x = -1
	y = 1
	relative_position_id = CAN_Social_Democratic_Party_of_Canada
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Evolutionary_Socialism"
		swap_ideas = {
			remove_idea = CAN_SDP_policies
			add_idea = CAN_SDP_policies2
		}
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		add_socdem_to_coalition = yes
		add_popularity = {
			ideology = social_democrat
			popularity = 0.04
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.04
		}
		hidden_effect = {
			country_event = {
				id = canada_soc.18
				days = 16
			}
		}
	}
}

shared_focus = {
	id = CAN_Minority_Influence
	icon = GFX_goal_CAN_minority_influences
	
	prerequisite = {
		focus = CAN_Social_Democratic_Party_of_Canada
	}
	
	available = {
		has_completed_focus = CAN_Evolutionary_Socialism
	}
		
	x = 1
	y = 1
	relative_position_id = CAN_Social_Democratic_Party_of_Canada
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Minority_Influence"
		swap_ideas = {
			remove_idea = CAN_SDP_policies2
			add_idea = CAN_SDP_policies3
		}
		add_stability = 0.05
		add_political_power = -40
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.04
		}
	}
}

shared_focus = {
	id = CAN_Canada_Forward
	icon = GFX_goal_CAN_canada_forward
	
	prerequisite = {
		focus = CAN_Minority_Influence
	}
	prerequisite = {
		focus = CAN_Evolutionary_Socialism
	}
		
	x = 0
	y = 2
	relative_position_id = CAN_Social_Democratic_Party_of_Canada
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Canada_Forward"
		add_war_support = 0.05
		swap_ideas = {
			remove_idea = CAN_SDP_policies3
			add_idea = CAN_SDP_policies4
		}
	}
}

# - Radical Socialist Communist Branch

shared_focus = {
	id = CAN_Moderate_Communists
	icon = GFX_goal_CAN_radsoc_communists
	
	prerequisite = {
		focus = CAN_Congress_of_Canadian_Socialists
	}
	
	allow_branch = {
		has_country_flag = CAN_RadSoc_CPC_Victory
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Congress_of_Canadian_Socialists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Moderate_Communists"
		add_popularity = {
			ideology = totalist
			popularity = 0.02
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.02
		}
		add_ideas = CAN_Radsoc_CPC_policies
	}
}

shared_focus = {
	id = CAN_Empower_the_Young_Communist_League
	icon = GFX_goal_CAN_young_communist_league
	
	prerequisite = {
		focus = CAN_Moderate_Communists
	}
		
	x = -1
	y = 1
	relative_position_id = CAN_Moderate_Communists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Empower_the_Young_Communist_League"
		swap_ideas = {
			remove_idea = CAN_Radsoc_CPC_policies
			add_idea = CAN_Radsoc_CPC_policies2
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		add_manpower = 1200
	}
}

shared_focus = {
	id = CAN_Ukapist_Influence
	icon = GFX_goal_CAN_ukapist_influence
	
	prerequisite = {
		focus = CAN_Moderate_Communists
	}
	
	available = {
		has_completed_focus = CAN_Empower_the_Young_Communist_League
	}
		
	x = 1
	y = 1
	relative_position_id = CAN_Moderate_Communists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Ukapist_Influence"
		swap_ideas = {
			remove_idea = CAN_Radsoc_CPC_policies2
			add_idea = CAN_Radsoc_CPC_policies3
		}
		add_war_support = 0.05
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.04
		}
		add_opinion_modifier = {
			target = UKR
			modifier = NFL_diaspora_ties
		}
		reverse_add_opinion_modifier = {
			target = UKR
			modifier = NFL_diaspora_ties
		}
	}
}

shared_focus = {
	id = CAN_Communist_Transformation
	icon = GFX_SOV_integral_communism
	
	prerequisite = {
		focus = CAN_Ukapist_Influence
	}
	prerequisite = {
		focus = CAN_Empower_the_Young_Communist_League
	}
		
	x = 0
	y = 2
	relative_position_id = CAN_Moderate_Communists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Communist_Transformation"
		swap_ideas = {
			remove_idea = CAN_Radsoc_CPC_policies3
			add_idea = CAN_Radsoc_CPC_policies4
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.04
		}
		if = {
			limit = { has_country_flag = CAN_tots_are_communists }
			add_tot_to_coalition = yes
		}
		hidden_effect = {
			country_event = {
				id = canada_soc.21
				days = 79
				random_days = 54
			}
		}
	}
}

# - CCF Branch

shared_focus = {
	id = CAN_Socialist_CCF
	icon = GFX_goal_CAN_socialist_ccf
	
	prerequisite = {
		focus = CAN_Congress_of_Canadian_Socialists
	}
	
	allow_branch = {
		has_country_flag = CAN_CCF_Victory
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Congress_of_Canadian_Socialists
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Socialist_CCF"
		add_popularity = {
			ideology = social_democrat
			popularity = 0.03
		}
		add_ideas = CAN_CCF_policies
	}
}

shared_focus = {
	id = CAN_Tear_up_Winnepeg
	icon = GFX_goal_CAN_Implement_Regina_Manifesto
	
	prerequisite = {
		focus = CAN_Socialist_CCF
	}
		
	x = -1
	y = 1
	relative_position_id = CAN_Socialist_CCF
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Tear_up_Winnepeg"
		swap_ideas = {
			remove_idea = CAN_CCF_policies
			add_idea = CAN_CCF_policies2
		}
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
		}
		add_popularity = {
			ideology = market_liberal
			popularity = -0.04
		}
		add_popularity = {
			ideology = social_conservative
			popularity = -0.04
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.02
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.04
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.04
		}
		hidden_effect = {
			country_event = {
				id = canada_soc.56
				days = 45
				random_days = 20
			}
		}
	}
}

shared_focus = {
	id = CAN_Christian_Socialism
	icon = GFX_DKB_Christian_Unions
	
	prerequisite = {
		focus = CAN_Socialist_CCF
	}
	
	available = {
		has_completed_focus = CAN_Tear_up_Winnepeg
	}
		
	x = 1
	y = 1
	relative_position_id = CAN_Socialist_CCF
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Christian_Socialism"
		swap_ideas = {
			remove_idea = CAN_CCF_policies2
			add_idea = CAN_CCF_policies3
		}
		add_stability = 0.05
		add_war_support = 0.04
	}
}

shared_focus = {
	id = CAN_Come_Farmer_Soldier_Labourer
	icon = GFX_goal_CAN_agrarian_heritage
	
	prerequisite = {
		focus = CAN_Christian_Socialism
	}
	prerequisite = {
		focus = CAN_Tear_up_Winnepeg
	}
		
	x = 0
	y = 2
	relative_position_id = CAN_Socialist_CCF
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Come_Farmer_Soldier_Labourer"
		swap_ideas = {
			remove_idea = CAN_CCF_policies3
			add_idea = CAN_CCF_policies4
		}
		add_political_power = 70
		add_popularity = {
			ideology = social_democrat
			popularity = 0.04
		}
	}
}


################
### Military ###
################

shared_focus = {
	id = CAN_Rebuild_Armed_Forces
	icon = GFX_goal_CAN_red_armed_forces
	
	prerequisite = {
		focus = CAN_Canada_Liberated
	}
	
	available = {
		has_completed_focus = CAN_Congress_of_Canadian_Socialists
	}
	
	allow_branch = {
		OR = { 
			tag = NFL
			has_completed_focus = CAN_Congress_of_Canadian_Socialists
		}
		has_global_flag = CAN_became_socialist
	}
		
	x = -3
	y = 1
	relative_position_id = CAN_Canada_Liberated
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Rebuild_Armed_Forces"
		add_command_power = 100
		CAN = {
			every_unit_leader = {
				limit = {
					NOT = { has_trait = GBR_british_exile_trait }
				}
				set_nationality = ROOT
			}
		}
	}
}

### Navy ###

shared_focus = {
	id = CAN_Red_Navy
	icon = GFX_goal_CAN_navy_republican
	
	prerequisite = {
		focus = CAN_Rebuild_Armed_Forces
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Rebuild_Armed_Forces
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		navy_experience = 100
		add_doctrine_cost_reduction = {
			name = CAN_Red_Navy
			cost_reduction = 0.5
			uses = 2
			category = naval_doctrine
		}
	}
}

shared_focus = {
	id = CAN_Salavage_Exile_Ships
	icon = GFX_goal_CAN_State_British_Fleet
	
	prerequisite = {
		focus = CAN_Red_Navy
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Red_Navy
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Salavage_Exile_Ships"
		add_tech_bonus = {
			name = CAN_Salavage_Exile_Ships
			bonus = 1
			uses = 2
			category = naval_equipment
		}
	}
}

shared_focus = {
	id = CAN_Merchant_Marine
	icon = GFX_goal_CAN_merchant_marine
	
	prerequisite = {
		focus = CAN_Salavage_Exile_Ships
	}
		
	x = 0
	y = 3
	relative_position_id = CAN_Red_Navy
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Merchant_Marine"
		navy_experience = 50
		add_ideas = CAN_merchant_marine_idea
	}
}

### Army ###

shared_focus = {
	id = CAN_Red_Army
	icon = GFX_goal_CAN_army_republican
	
	prerequisite = {
		focus = CAN_Rebuild_Armed_Forces
	}
		
	x = -2
	y = 1
	relative_position_id = CAN_Rebuild_Armed_Forces
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Army"
		army_experience = 100
		add_doctrine_cost_reduction = {
			name = land_doc_bonus
			cost_reduction = 0.5
			uses = 1
			category = land_doctrine
		}
	}
}

shared_focus = {
	id = CAN_Legacy_of_the_MackPaps
	icon = GFX_goal_CAN_mackenzie_papineau
	
	prerequisite = {
		focus = CAN_Red_Army
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Red_Army
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Legacy_of_the_MackPaps"
		add_manpower = 2300
		every_unit_leader = {
			limit = { has_trait = CAN_socialist_officer }
			add_max_trait = 1
			add_skill_level = 1
			add_logistics = 1
			add_planning = 1
			add_defense = 1
			add_attack = 1
		}
		add_tech_bonus = {
			name = infantry_artillery_bonus
			bonus = 1.0
			uses = 2
			category = infantry_weapons
			category = artillery
		}
	}
}

shared_focus = {
	id = CAN_Yanks_Expertise
	icon = GFX_goal_CAN_levys_return
	
	prerequisite = {
		focus = CAN_Legacy_of_the_MackPaps
	}
		
	x = -1
	y = 2
	relative_position_id = CAN_Red_Army
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Yanks_Expertise"
		add_ideas = CAN_Yanks_Expertise
		army_experience = 30
		effect_tooltip = {
			NIC = {
				every_unit_leader = {
					limit = { has_id = 1600 }
					set_nationality = ROOT
				}
			}
		}
		hidden_effect = {
			if = {
				limit = { 
					NIC = { has_unit_leader = 1600 }
				}
				NIC = {
					every_unit_leader = {
						limit = { has_id = 1600 }
						set_nationality = ROOT
					}
				}
			}
			else = {
				NSW = {
					every_unit_leader = {
						limit = { has_id = 1600 }
						set_nationality = ROOT
					}
				}
			}
		}
	}
}

### Air Force ###

shared_focus = {
	id = CAN_Red_Air_Force
	icon = GFX_goal_CAN_airforce_republican
	
	prerequisite = {
		focus = CAN_Rebuild_Armed_Forces
	}
		
	x = 2
	y = 1
	relative_position_id = CAN_Rebuild_Armed_Forces
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Army"
		air_experience = 100
		add_doctrine_cost_reduction = {
			name = CAN_Red_Air_Force
			cost_reduction = 0.5
			uses = 2
			category = air_doctrine
		}
	}
}

shared_focus = {
	id = CAN_British_Plane_Designs
	icon = GFX_GRU_fighter_focus-4011
	
	prerequisite = {
		focus = CAN_Red_Air_Force
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Red_Air_Force
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Legacy_of_the_MackPaps"
		add_tech_bonus = {
			name = CAN_British_Plane_Designs
			bonus = 1
			uses = 1
			category = air_equipment
		}
	}
}

shared_focus = {
	id = CAN_Rebuild_Air_Industry
	icon = GFX_goal_CZE_air_industry
	
	prerequisite = {
		focus = CAN_British_Plane_Designs
	}
		
	x = 1
	y = 2
	relative_position_id = CAN_Red_Air_Force
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Yanks_Expertise"
		add_ideas = CAN_new_air_industry
		332 = {
			add_building_construction = {
				type = air_base
				level = 5
				instant_build = yes
			}
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
		}
		276 = {
			add_building_construction = {
				type = air_base
				level = 5
				instant_build = yes
			}
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
		}
	}
}

### Other ###

shared_focus = {
	id = CAN_Red_Marines
	icon = GFX_goal_CAN_marines
	
	prerequisite = {
		focus = CAN_Legacy_of_the_MackPaps
		focus = CAN_Salavage_Exile_Ships
	}
		
	x = -1
	y = 2
	relative_position_id = CAN_Red_Navy
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Yanks_Expertise"
		if = {
			limit = { NOT = { has_tech = marines } }
			set_technology = { marines = 1 }
		}
		add_tech_bonus = {
			name = CAN_project_plough
			bonus = 1
			uses = 2
			category = marine_tech
			category = tp_tech
		}
		if = {
			limit = { NOT = { has_template = "Canadian Marine Division" } }
			division_template = {
				name = "Canadian Marine Division"
				division_names_group = CAN_MAR_01
				regiments = {
					marine = { x = 0 y = 0 }
					marine = { x = 0 y = 1 }
					marine = { x = 0 y = 2 }
					marine = { x = 1 y = 0 }
					marine = { x = 1 y = 1 }
					marine = { x = 1 y = 2 }
				}
				support = {
					recon = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
					artillery = { x = 0 y = 2 }
				}
			}
		}
		custom_effect_tooltip = tooltip_white_line
		random_owned_controlled_state = {
			limit = { is_in_home_area = yes }
			create_unit = {
				division = "division_template = \"Canadian Marine Division\" start_experience_factor = 0.4"
				owner = ROOT
				count = 3
			}
		}
	}
}

shared_focus = {
	id = CAN_Naval_Aviation
	icon = GFX_goal_CAN_naval_aviation
	
	prerequisite = {
		focus = CAN_British_Plane_Designs
		focus = CAN_Salavage_Exile_Ships
	}
		
	x = 1
	y = 2
	relative_position_id = CAN_Red_Navy
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Yanks_Expertise"
		add_tech_bonus = {
			name = navy_air_bonus
			bonus = 1
			uses = 1
			category = naval_air
		}
		navy_experience = 20
		air_experience = 20
	}
}

####################
### Quebec Issue ###
####################

shared_focus = {
	id = CAN_Quebec_Issue
	icon = GFX_goal_CAN_quebec_flames
	
	prerequisite = {
		focus = CAN_Canada_Liberated
	}
	
	available = {
		has_idea = CAN_red_quebec_issue
		owns_state = 466
		owns_state = 468
		owns_state = 683
		owns_state = 832
		has_completed_focus = CAN_Congress_of_Canadian_Socialists
	}
	
	allow_branch = {
		OR = { 
			tag = NFL
			has_completed_focus = CAN_Congress_of_Canadian_Socialists
		}
		has_global_flag = CAN_became_socialist
	}
		
	x = 4
	y = 1
	relative_position_id = CAN_Canada_Liberated
	
	cost = 2
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Rebuild_Armed_Forces"
		add_stability = 0.02
		every_owned_state = {
			limit = { is_core_of = QUE }
			if = {
				limit = { has_dynamic_modifier = { modifier = CAN_french_resistance_3 } }
				remove_dynamic_modifier = { modifier = CAN_french_resistance_3 }
			}
			
			if = {
				limit = { has_dynamic_modifier = { modifier = CAN_french_resistance_2 } }
				remove_dynamic_modifier = { modifier = CAN_french_resistance_2 }
			}
			
			if = {
				limit = { has_dynamic_modifier = { modifier = CAN_french_resistance_1 } }
			}
		}
	}
}

### Integration Branch ###

shared_focus = {
	id = CAN_Socialist_Bilingualism
	icon = GFX_goal_CAN_Bilinguisme_Socialiste
	
	prerequisite = {
		focus = CAN_Quebec_Issue
	}
	
	mutually_exclusive = {
		focus = CAN_Cultural_Revolution_in_Quebec
		focus = CAN_Quebec_Liberation
	}
		
	x = 0
	y = 1
	relative_position_id = CAN_Quebec_Issue
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		add_stability = 0.05
		add_political_power = -40
		add_popularity = {
			ideology = social_democrat
			popularity = 0.02
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.02
		}
		swap_ideas = {
			remove_idea = CAN_red_quebec_issue
			add_idea = CAN_red_quebec_issue2
		}
	}
}

shared_focus = {
	id = CAN_Collaborate_With_Quebec_Unions
	icon = GFX_goal_CAN_collaborate_quebec_unions
	
	prerequisite = {
		focus = CAN_Socialist_Bilingualism
	}
		
	x = 0
	y = 2
	relative_position_id = CAN_Quebec_Issue
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		add_popularity = {
			ideology = syndicalist
			popularity = 0.02
		}
		every_owned_state = {
			limit = { is_core_of = QUE }
			add_extra_state_shared_building_slots = 1
		}
		swap_ideas = {
			remove_idea = CAN_red_quebec_issue2
			add_idea = CAN_red_quebec_issue3
		}
	}
}

shared_focus = {
	id = CAN_Christian_Socialist_Compromise
	icon = GFX_goal_CAN_christian_socialist_compromise
	
	prerequisite = {
		focus = CAN_Collaborate_With_Quebec_Unions
	}
		
	x = 0
	y = 3
	relative_position_id = CAN_Quebec_Issue
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		add_stability = 0.05
		add_political_power = -50
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.02
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.02
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.1
		}
		swap_ideas = {
			remove_idea = CAN_red_quebec_issue3
			add_idea = CAN_red_quebec_issue4
		}
		custom_effect_tooltip = CAN_quebec_tensions_will_fade
	}
}

### Supression Branch ###

shared_focus = {
	id = CAN_Cultural_Revolution_in_Quebec
	icon = GFX_goal_CAN_Quebec_Cultural_Revolution
	
	prerequisite = {
		focus = CAN_Quebec_Issue
	}
	
	mutually_exclusive = {
		focus = CAN_Socialist_Bilingualism
		focus = CAN_Quebec_Liberation
	}
	
	available = {
		NOT = { has_government = social_democrat }
	}
		
	x = -2
	y = 1
	relative_position_id = CAN_Quebec_Issue
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		add_political_power = 100
		add_stability = -0.05
		add_manpower = -1100
		swap_ideas = {
			remove_idea = CAN_red_quebec_issue
			add_idea = CAN_red_quebec_issue2
		}
	}
}

shared_focus = {
	id = CAN_Appoint_Fred_Rose
	icon = GFX_goal_CAN_appoint_fred_rose
	
	prerequisite = {
		focus = CAN_Cultural_Revolution_in_Quebec
	}
		
	x = -2
	y = 2
	relative_position_id = CAN_Quebec_Issue
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		add_popularity = {
			ideology = totalist
			popularity = 0.02
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.05
		}
		swap_ideas = {
			remove_idea = CAN_red_quebec_issue2
			add_idea = CAN_red_quebec_issue3
		}
	}
}

shared_focus = {
	id = CAN_Blinding_Light_to_Duplessis_Darkness
	icon = GFX_goal_CAN_blinding_light_dupleiss_darkness
	
	prerequisite = {
		focus = CAN_Appoint_Fred_Rose
	}
		
	x = -2
	y = 3
	relative_position_id = CAN_Quebec_Issue
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.05
		}
		add_war_support = 0.1
		add_popularity = {
			ideology = syndicalist
			popularity = 0.04
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.04
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.04
		}
		swap_ideas = {
			remove_idea = CAN_red_quebec_issue3
			add_idea = CAN_red_quebec_issue4
		}
	}
}

### Independence Branch ###

shared_focus = {
	id = CAN_Quebec_Liberation
	icon = GFX_goal_CAN_Quebecois_Liberation
	
	prerequisite = {
		focus = CAN_Quebec_Issue
	}
	
	mutually_exclusive = {
		focus = CAN_Socialist_Bilingualism
		focus = CAN_Cultural_Revolution_in_Quebec
	}
		
	x = 2
	y = 1
	relative_position_id = CAN_Quebec_Issue
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		release_puppet = QUE
		remove_ideas = CAN_red_quebec_issue
		add_ideas = CAN_status_quebec
		QUE = {
			add_ideas = CAN_status_quebec
		}
	}
}

shared_focus = {
	id = CAN_Border_Agreements
	icon = GFX_goal_CAN_border_agreement
	
	prerequisite = {
		focus = CAN_Quebec_Liberation
	}
		
	x = 2
	y = 2
	relative_position_id = CAN_Quebec_Issue
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		QUE = {	
			add_stability = 0.05
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 1
			}
			swap_ideas = {
				remove_idea = CAN_status_quebec
				add_idea = CAN_status_quebec2
			}
		}
		add_stability = 0.02
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 1
		}
		swap_ideas = {
			remove_idea = CAN_status_quebec
			add_idea = CAN_status_quebec2
		}
	}
}

shared_focus = {
	id = CAN_Joint_Anti_Imperialism_Campaign
	icon = GFX_goal_CAN_anti_amperialism_campaign
	
	prerequisite = {
		focus = CAN_Border_Agreements
	}
		
	x = 2
	y = 3
	relative_position_id = CAN_Quebec_Issue
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		QUE = {	
			add_political_power = 100
			add_popularity = {
				ideology = paternal_autocrat
				popularity = -0.1
			}
			swap_ideas = {
				remove_idea = CAN_status_quebec2
				add_idea = CAN_status_quebec3
			}
		}
		add_political_power = 100
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.1
		}
		swap_ideas = {
			remove_idea = CAN_status_quebec2
			add_idea = CAN_status_quebec3
		}
	}
}

shared_focus = {
	id = CAN_New_Status_Quo
	icon = GFX_goal_CAN_socialist_new_status_quo
	
	prerequisite = {
		focus = CAN_Christian_Socialist_Compromise
		focus = CAN_Blinding_Light_to_Duplessis_Darkness
		focus = CAN_Joint_Anti_Imperialism_Campaign
	}
		
	x = 0
	y = 4
	relative_position_id = CAN_Quebec_Issue
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		if = {
			limit = { has_idea = CAN_status_quebec3 }
			remove_ideas = CAN_status_quebec3
			QUE = { remove_ideas = CAN_status_quebec3}
		}
		else = {
			remove_ideas = CAN_red_quebec_issue4
		}
		custom_effect_tooltip = CAN_resolve_quebec_tensions_tt
	}
}

######################
### Foreign Policy ###
######################

shared_focus = {
	id = CAN_Our_New_Place_in_the_World
	icon = GFX_goal_CAN_new_place_in_the_world
	
	prerequisite = {
		focus = CAN_Canada_Liberated
	}
	
	available = {
		has_completed_focus = CAN_Congress_of_Canadian_Socialists
	}
	
	allow_branch = {
		OR = { 
			tag = NFL
			has_completed_focus = CAN_Congress_of_Canadian_Socialists
		}
		has_global_flag = CAN_became_socialist
	}
		
	x = 11
	y = 1
	relative_position_id = CAN_Canada_Liberated
	
	cost = 2
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Rebuild_Armed_Forces"
		add_war_support = 0.05
		add_stability = 0.05
		increase_ruling_party_popularity_by_2 = yes
	}
}

### Own Faction Branch ###

shared_focus = {
	id = CAN_Reject_Parisan_Hegemony
	icon = GFX_goal_CSA_internationale_treachery
	
	prerequisite = {
		focus = CAN_Our_New_Place_in_the_World
	}
	
	mutually_exclusive = {
		focus = CAN_Alliance_with_America
		focus = CAN_Join_the_Fray
	}
	
	available = {
		is_subject = no
	}
		
	x = -2
	y = 1
	relative_position_id = CAN_Our_New_Place_in_the_World
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		create_faction = "Socialist Entente"
	}
}

shared_focus = {
	id = CAN_Align_our_Socialist_Bretheren
	icon = GFX_goal_CAN_align_bretheren
	
	prerequisite = {
		focus = CAN_Reject_Parisan_Hegemony
	}
		
	x = -3
	y = 2
	relative_position_id = CAN_Our_New_Place_in_the_World
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		if = {
			limit = { 
				AST = { 
					has_socialist_government = yes 
					NOT = { is_in_faction_with = INT }
				}
			}
			activate_targeted_decision = { target = AST decision = CAN_invite_to_red_entente }
		}
		else_if = {
			limit = { 
				AST = { 
					has_socialist_government = yes 
					is_in_faction_with = INT
				}
			}
			activate_targeted_decision = { target = AST decision = CAN_sway_target }
		}
		else = {
			create_wargoal = {
				target = AST
				type = annex_everything
			}
		}
		
		if = {
			limit = { 
				NZL = { 
					has_socialist_government = yes 
					NOT = { is_in_faction_with = INT }
				}
			}
			activate_targeted_decision = { target = NZL decision = CAN_invite_to_red_entente }
		}
		else_if = {
			limit = { 
				NZL = { 
					has_socialist_government = yes 
					is_in_faction_with = INT
				}
			}
			activate_targeted_decision = { target = NZL decision = CAN_sway_target }
		}
		else = {
			create_wargoal = {
				target = NZL
				type = annex_everything
			}
		}
		
		if = {
			limit = { country_exists = ENG }
			activate_targeted_decision = { target = ENG decision = CAN_sway_target }
		}
	}
}

shared_focus = {
	id = CAN_Paint_the_Anglosphere_Red
	icon = GFX_goal_CAN_paint_anglosphere_red
	
	prerequisite = {
		focus = CAN_Reject_Parisan_Hegemony
	}
	prerequisite = {
		focus = CAN_Align_our_Socialist_Bretheren
	}
		
	x = -2
	y = 3
	relative_position_id = CAN_Our_New_Place_in_the_World
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		unlock_decision_tooltip = CAN_create_soc_anglosphere_project
		if = {
			limit = { 
				ENG = { 
					exists = yes
					NOT = { is_in_faction_with = ROOT }
				}
			}
			create_wargoal = {
				target = ENG
				type = annex_everything
			}
		}
		custom_effect_tooltip = CAN_crush_american_government_tt
		hidden_effect = {
			activate_targeted_decision = { target = TEX decision = CAN_socialist_crush_american_government }
			activate_targeted_decision = { target = USA decision = CAN_socialist_crush_american_government }
			activate_targeted_decision = { target = CAL decision = CAN_socialist_crush_american_government }
			activate_targeted_decision = { target = WCC decision = CAN_socialist_crush_american_government }
			activate_targeted_decision = { target = COR decision = CAN_socialist_crush_american_government }
			activate_targeted_decision = { target = CSA decision = CAN_socialist_crush_american_government }
			activate_targeted_decision = { target = NEE decision = CAN_socialist_crush_american_government }
		}
	}
}

shared_focus = {
	id = CAN_Power_Projection
	icon = GFX_goal_CAN_overthrow_latam_dictators
	
	prerequisite = {
		focus = CAN_Reject_Parisan_Hegemony
		focus = CAN_Alliance_with_America
	}
		
	x = -1
	y = 2
	relative_position_id = CAN_Our_New_Place_in_the_World
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		add_ideas = CAN_Power_Projection
		custom_effect_tooltip = CAN_crush_SA_govts
	}
}


### Join CSA Branch ###

shared_focus = {
	id = CAN_Alliance_with_America
	icon = GFX_goal_CAN_csa_alliance
	
	prerequisite = {
		focus = CAN_Our_New_Place_in_the_World
	}
	
	mutually_exclusive = {
		focus = CAN_Reject_Parisan_Hegemony
		focus = CAN_Join_the_Fray
	}
	
	available = {
		CSA = { owns_state = 361 }
		CSA = { is_in_faction = no }
		hidden_trigger = {
			NOT = { has_country_flag = CAN_csa_rejection }
		}
		is_subject = no
	}
	
	bypass = {
		is_subject_of = CSA
	}
	
	x = 0
	y = 1
	relative_position_id = CAN_Our_New_Place_in_the_World
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		CSA = {
			country_event = canada_soc_diplo.7
		}
	}
}

shared_focus = {
	id = CAN_Allied_Spearhead
	icon = GFX_goal_CSA_power_of_red_navy_2
	
	prerequisite = {
		focus = CAN_Alliance_with_America
	}
		
	x = 0
	y = 3
	relative_position_id = CAN_Our_New_Place_in_the_World
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		add_war_support = 0.10
		navy_experience = 50
		add_ideas = CAN_Allied_Spearhead
	}
}

### Join Third Int Branch ###

shared_focus = {
	id = CAN_Join_the_Fray
	icon = GFX_BBR_internationale_collaboration
	
	prerequisite = {
		focus = CAN_Our_New_Place_in_the_World
	}
	
	mutually_exclusive = {
		focus = CAN_Reject_Parisan_Hegemony
		focus = CAN_Alliance_with_America
	}
	
	available = {
		country_exists = INT
		hidden_trigger = {
			NOT = { has_country_flag = CAN_internationale_rejection }
		}
	}
	
	bypass = {
		is_in_faction_with = INT 
	}
	
	x = 2
	y = 1
	relative_position_id = CAN_Our_New_Place_in_the_World
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		INT = {
			country_event = canada_soc_diplo.4
		}
	}
}

shared_focus = {
	id = CAN_Work_With_our_Allies
	icon = GFX_goal_CSA_professional_red_army
	
	prerequisite = {
		focus = CAN_Alliance_with_America
		focus = CAN_Join_the_Fray
	}
		
	x = 1
	y = 2
	relative_position_id = CAN_Our_New_Place_in_the_World
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		add_war_support = 0.1
		every_country = {
			limit = { is_in_faction_with = ROOT }
			add_war_support = 0.1
			add_command_power = 100
			army_experience = 100
			random_unit_leader = {
				add_max_trait = 1
				add_skill_level = 1
			}
			random_unit_leader = {
				add_max_trait = 1
				add_skill_level = 1
			}
			random_unit_leader = {
				add_max_trait = 1
				add_skill_level = 1
			}
		}
	}
}

shared_focus = {
	id = CAN_Anti_Imperialist_Cause
	icon = GFX_goal_USA_anti_imperialist_league
	
	prerequisite = {
		focus = CAN_Join_the_Fray
	}
		
	x = 3
	y = 2
	relative_position_id = CAN_Our_New_Place_in_the_World
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		add_ideas = CAN_Anti_Imperialist_Cause
		increase_ruling_party_popularity_by_2 = yes
		add_war_support = 0.03
	}
}

shared_focus = {
	id = CAN_Target_the_Pacific
	icon = GFX_goal_CAN_target_the_pacific
	
	prerequisite = {
		focus = CAN_Join_the_Fray
	}
	prerequisite = {
		focus = CAN_Anti_Imperialist_Cause
	}
		
	x = 2
	y = 3
	relative_position_id = CAN_Our_New_Place_in_the_World
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		custom_effect_tooltip = CAN_attack_pacific_tt
		hidden_effect = {
			activate_targeted_decision = { target = GEA decision = CAN_attack_pacific_target }
			activate_targeted_decision = { target = AST decision = CAN_attack_pacific_target }
			activate_targeted_decision = { target = NZL decision = CAN_attack_pacific_target }
			if = {
				limit = { JAP = { is_faction_leader = yes } }
				activate_targeted_decision = { target = JAP decision = CAN_attack_pacific_target }
				every_country = {
					limit = { is_in_faction_with = JAP }
					activate_targeted_decision = { target = PREV decision = CAN_attack_pacific_target }
				}
			}
		}
	}
}


shared_focus = {
	id = CAN_Revolutionary_Penance
	icon = GFX_goal_CAN_imperial_pennance
	
	prerequisite = {
		focus = CAN_Target_the_Pacific
		focus = CAN_Allied_Spearhead
		focus = CAN_Paint_the_Anglosphere_Red
	}
	
	available = {
		country_exists = ENT
	}
		
	x = 0
	y = 4
	relative_position_id = CAN_Our_New_Place_in_the_World
	
	cost = 5
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CAN_Red_Navy"
		every_country = {
			limit = { is_in_faction_with = ENT }
			create_wargoal = {
				target = PREV
				type = annex_everything
			}
		}
	}
}

##################
### FOCUS TREE ###
##################

focus_tree = {
	id = CAN_Socialist
	country = {
		factor = 0
		# modifier = {
			# add = 200
			# tag = CAN
		# }
	}
	shared_focus = CAN_Canada_Liberated
	
}