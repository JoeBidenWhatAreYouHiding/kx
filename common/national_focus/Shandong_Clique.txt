#####################################
# Shandong Focus Tree
#####################################
# By DSFDaker with assitance from OMD
#####################################
# Lore by OMD
#####################################

focus_tree = {
	id = Shandong
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = SQI
		}
	}
	default = no

	continuous_focus_position = { x = 100 y = 2000 }
	
	shared_focus = QIE_tianran_takes_over

	focus = {
		id = SQI_Two_Zhangs_Enter
		icon = GFX_SQI_Two_Zhangs_Enter

		available = {
			hidden_trigger = {
				NOT = { has_country_flag = SQI_puppet }
			}
		}

		select_effect = {
			country_event = {
				id = shandong.2
				days = 2
			}
		}

		x = 3
		y = 0

		cost = 8

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Two_Zhangs_Enter"
			hidden_effect = {
				add_political_power = 50
			}

			custom_effect_tooltip = SQI_two_zhangs_tooltip

		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	#Zhang Tianran

	focus = {
		id = SQI_Zhang_Tianran
		icon = GFX_goal_china_zhang_tianran
		prerequisite = { focus = SQI_Two_Zhangs_Enter }
		available = {
			has_country_flag = SQI_Tianran_beat_Zongchang
			hidden_trigger = {
				NOT = { has_country_flag = SQI_puppet }
			}
		}
		mutually_exclusive = {
			focus = SQI_Song_Zheyuan
			focus = SQI_Zhang_Zongchang
		}

		available_if_capitulated = yes

		ai_will_do = { factor = 100 }

		x = 1
		y = 1

		cost = 1

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Zhang_Tianran"
			remove_ideas = SQI_flight_north
		}
	}

	focus = {
		id = SQI_Mobbing_Drug_Dealing_Bureaucrats
		icon = GFX_goal_china_yiguandao
		prerequisite = { focus = SQI_Zhang_Tianran }

		available = {
			hidden_trigger = {
				NOT = { has_country_flag = SQI_puppet }
			}
		}

		available_if_capitulated = yes

		x = 1
		y = 2

		cost = 8

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Mobbing_Drug_Dealing_Bureaucrats"
			add_popularity = {
				ideology = national_populist
				popularity = 0.05
			}
			add_stability = 0.05
			remove_ideas = SQI_Rampant_drug_trade
			add_ideas = SQI_violently_supressed_drug_trade
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = SQI_Moving_The_Provincial_capital
		icon = GFX_goal_yanshan
		prerequisite = { focus = SQI_Mobbing_Drug_Dealing_Bureaucrats }

		available = {
			hidden_trigger = {
				NOT = { has_country_flag = SQI_puppet }
			}
		}

		available_if_capitulated = yes

		x = 1
		y = 3
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Moving_The_Provincial_capital"
			add_popularity = {
				ideology = national_populist
				popularity = 0.10
			}
			597 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 12069
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 10072
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 1069
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 10102
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 4089
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = { #Absorbing the Guiyidao
		id = SQI_Recruiting_Red_Spears_And_Big_Swords
		icon = GFX_goal_SQI_yiguandao
		prerequisite = { focus = SQI_Moving_The_Provincial_capital }

		available = {
			hidden_trigger = {
				NOT = { has_country_flag = SQI_puppet }
			}
		}

		available_if_capitulated = yes

		x = 1
		y = 4

		cost = 8

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Recruiting_Red_Spears_And_Big_Swords"
			add_ideas = SQI_Guiyidao_support
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	#Song Zheyuan

	focus = {
		id = SQI_Song_Zheyuan
		icon = GFX_goal_china_song_zheyuan
		prerequisite = { focus = SQI_Two_Zhangs_Enter }
		available = {
			has_country_flag = SQI_Zheyuan_beat_Zongchang
			hidden_trigger = {
				NOT = { has_country_flag = SQI_puppet }
			}
		}
		mutually_exclusive = {
			focus = SQI_Zhang_Tianran
			focus = SQI_Zhang_Zongchang
		}

		available_if_capitulated = yes

		ai_will_do = { factor = 100 }

		x = 3
		y = 1
		cost = 1

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Song_Zheyuan"
			remove_ideas = SQI_flight_north
			remove_ideas = SQI_Rampant_drug_trade
			add_ideas = SQI_flight_to_safety
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = SQI_Preparing_Integration_With_The_Qing
		icon = GFX_goal_SQI_confucianism
		prerequisite = { focus = SQI_Song_Zheyuan }
		available = {
			NOT = { has_war_with = QIE }
			hidden_trigger = {
				NOT = { has_country_flag = SQI_puppet }
			}
		}


		available_if_capitulated = yes
		x = 3
		y = 2
		cost = 13
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Preparing_Integration_With_The_Qing"
			QIE = {
				country_event = {
					id = shandong.410
					days = 1
				}
			}
			hidden_effect = {
				country_event = {
					id = shandong.31
					days = 5
				}
			}
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.15
			}
		}
	}

	#Zhang Zongchang

	focus = {
		id = SQI_Zhang_Zongchang
		icon = GFX_goal_card_tricks
		prerequisite = { focus = SQI_Two_Zhangs_Enter }
		available = {
			has_country_flag = SQI_Zongchang_beat_Tianran
			hidden_trigger = {
				NOT = { has_country_flag = SQI_puppet }
			}
		}
		mutually_exclusive = {
			focus = SQI_Zhang_Tianran
			focus = SQI_Song_Zheyuan
		}

		available_if_capitulated = yes

		ai_will_do = { factor = 100 }

		x = 5
		y = 1
		cost = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Zhang_Zongchang"
			remove_ideas = SQI_flight_north
			add_ideas = SQI_flee_to_zongchang
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = SQI_Appointing_Lu_Zhongyi_Leader_Of_The_Yiguandao
		icon = GFX_goal_consolidating_coalitionv2
		prerequisite = { focus = SQI_Zhang_Zongchang }

		available = {
			hidden_trigger = {
				NOT = { has_country_flag = SQI_puppet }
			}
		}

		available_if_capitulated = yes

		x = 5
		y = 2
		cost = 8

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Appointing_Lu_Zhongyi_Leader_Of_The_Yiguandao"
			add_popularity = {
				ideology = national_populist
				popularity = -0.05
			}
			add_political_power = 50
			add_stability = 0.05
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = SQI_Clearing_Out_Mount_Tai_Of_The_Yiguandao
		icon = GFX_goal_LEP_against_yiguandao

		available = {
			597 = {
				is_owned_and_controlled_by = SQI
			}
			hidden_trigger = {
				NOT = { has_country_flag = SQI_puppet }
			}
		}

		prerequisite = { focus = SQI_Appointing_Lu_Zhongyi_Leader_Of_The_Yiguandao }
		available_if_capitulated = yes
		x = 5
		y = 3
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Clearing_Out_Mount_Tai_Of_The_Yiguandao"
			add_popularity = {
				ideology = national_populist
				popularity = -0.10
			}
			597 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_political_power = 100
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SQI_Assassinating_Bureaucrats_Threatening_The_Opium_Trade
		icon = GFX_goal_opium
		prerequisite = { focus = SQI_Clearing_Out_Mount_Tai_Of_The_Yiguandao }
		available_if_capitulated = yes

		available = {
			hidden_trigger = {
				NOT = { has_country_flag = SQI_puppet }
			}
		}

		x = 5
		y = 4
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Assassinating_Bureaucrats_Threatening_The_Opium_Trade"
			add_popularity = {
				ideology = national_populist
				popularity = -0.20
			}
			increase_ruling_party_popularity_by_5 = yes
			add_stability = 0.05
			# kill ministers
			remove_ideas = SQI_Rampant_drug_trade
			add_ideas = SQI_controlled_drug_trade
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
	}

	#Conclusion

	focus = {
		id = SQI_Advertising_Shandong_As_A_Model_Province_In_Beijing
		icon = GFX_goal_AST_freedom_of_the_press
		prerequisite = {
			focus = SQI_Recruiting_Red_Spears_And_Big_Swords
			focus = SQI_Preparing_Integration_With_The_Qing
			focus = SQI_Assassinating_Bureaucrats_Threatening_The_Opium_Trade
		}
		available = {
			hidden_trigger = {
				NOT = { has_country_flag = SQI_puppet }
			}
		}
		x = 3
		y = 5
		cost = 9
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Advertising_Shandong_As_A_Model_Province_In_Beijing"
			add_political_power = 100
			#foreign relations
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	#Army

	focus = {
		id = SQI_Bolstering_The_Army
		icon = GFX_goal_army_guy
		available = {
			OR = {
				has_country_flag = SQI_Zheyuan_beat_Zongchang
				has_country_flag = SQI_Tianran_beat_Zongchang
				has_country_flag = SQI_Zongchang_beat_Tianran
				has_country_flag = SQI_puppet
			}
		}
		x = 10
		y = 0
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Bolstering_The_Army"
			custom_effect_tooltip = SQI_can_obtain_inf
			army_experience = 100
			add_war_support = 0.05
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = SQI_A_Modern_Army
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = SQI_Bolstering_The_Army }
		available = {
			NOT = {
				has_government = national_populist
			}
		}
		mutually_exclusive = {
			focus = SQI_A_Fanatical_But_ill-equipped_Army
		}
		x = 8
		y = 1
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_A_Modern_Army"
			add_tech_bonus = {
				name = SQI_A_Modern_Army
				bonus = 1
				uses = 1
				category = cat_superior_firepower
				category = cat_grand_battle_plan
			}
			add_tech_bonus = {
				name = SQI_A_Modern_Army
				bonus = 1
				uses = 1
				category = support_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SQI_Research_Replacements_For_Old_Weapons
		icon = GFX_goal_military_academy
		prerequisite = { focus = SQI_A_Modern_Army }
		available = {
		}
		x = 8
		y = 2
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Research_Replacements_For_Old_Weapons"
			add_tech_bonus = {
				name = SQI_Research_Replacements_For_Old_Weapons
				bonus = 0.5
				uses = 1
				category = infantry_weapons
				category = artillery
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SQI_Train_Cavalry_With_Japanese_Fighting_Methods
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = SQI_Research_Replacements_For_Old_Weapons }
		available = {
		}
		x = 8
		y = 3
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Train_Cavalry_With_Japanese_Fighting_Methods"
			add_tech_bonus = {
				name = SQI_Train_Cavalry_With_Japanese_Fighting_Methods
				bonus = 0.5
				uses = 1
				category = support_tech
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = SQI_Zheyuan_beat_Zongchang
						has_country_flag = SQI_puppet
					}
				}
				country_event = {
					id = shandong.22
					days = 5
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SQI_Improving_The_Railroad-Army_Coordination
		icon = GFX_goal_generic_seize_railway
		prerequisite = { focus = SQI_Train_Cavalry_With_Japanese_Fighting_Methods }
		available = {
			597 = {
				is_owned_and_controlled_by = SQI
			}
		}
		x = 8
		y = 4
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Improving_The_Railroad-Army_Coordination"
			add_ideas = SQI_railroad_assisted_army
			597 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SQI_A_Fanatical_But_ill-equipped_Army
		icon = GFX_goal_break_rifle
		prerequisite = { focus = SQI_Bolstering_The_Army }
		available = {
			has_government = national_populist
		}
		mutually_exclusive = {
			focus = SQI_A_Modern_Army
		}
		x = 12
		y = 1
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_A_Fanatical_But_ill-equipped_Army"
			add_tech_bonus = {
				name = SQI_A_Fanatical_But_ill-equipped_Army
				bonus = 1
				uses = 1
				category = cat_mass_assault
			}
			add_ideas = SQI_big_swords
			add_war_support = 0.05
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SQI_Purchase_Imperial_Weapons_From_The_Qing
		icon = GFX_goal_army_guy_2
		prerequisite = { focus = SQI_A_Fanatical_But_ill-equipped_Army }
		available = {
		}
		x = 12
		y = 2
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Purchase_Imperial_Weapons_From_The_Qing"
			QIE = {
				country_event = {
					id = shandong.20
					days = 5
				}
			}
			FNG = {
				country_event = {
					id = shandong.20
					days = 5
				}
			}
			JAP = {
				country_event = {
					id = shandong.20
					days = 5
				}
			}
		}
	}

	focus = {
		id = SQI_Recruit_Chahar_Cavalry
		icon = GFX_goal_cavalry
		prerequisite = { focus = SQI_Purchase_Imperial_Weapons_From_The_Qing }
		available = {
		}
		x = 12
		y = 3
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Recruit_Chahar_Cavalry"
			# add units
			add_tech_bonus = {
				name = SQI_Recruit_Chahar_Cavalry
				bonus = 0.5
				uses = 1
				category = motorized_equipment
			}
			hidden_effect = {
				country_event = {
					id = shandong.23
					days = 5
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SQI_Train_Soldiers_On_Last_Ditch_Resistance
		icon = GFX_goal_agrarian_soldiers
		prerequisite = { focus = SQI_Recruit_Chahar_Cavalry }
		available = {
		}
		x = 12
		y = 4
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Train_Soldiers_On_Last_Ditch_Resistance"
			army_experience = 100
			add_ideas = SQI_red_spears
			add_war_support = 0.05
		}
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = SQI_Sending_Military_Staff_For_Training
		icon = GFX_focus_chi_whampoa_military_academy
		prerequisite = {
			focus = SQI_Research_Replacements_For_Old_Weapons
			focus = SQI_Purchase_Imperial_Weapons_From_The_Qing
		}
		available = {
		}
		x = 10
		y = 3
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Sending_Military_Staff_For_Training"
			country_event = {
				id = shandong.10
				days = 1
			}
			army_experience = 50
			navy_experience = 20
			air_experience = 20
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_AIRFORCE_BONUS }
	}

	focus = {
		id = SQI_Recruitung_Military_Experts_Outside_Shandong
		icon = GFX_goal_munitions_factories
		prerequisite = { focus = SQI_Sending_Military_Staff_For_Training }
		available = {
			NOT = {
				has_country_flag = SQI_puppet
			}
		}
		x = 10
		y = 4
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Recruitung_Military_Experts_Outside_Shandong"
			country_event = {
				id = shandong.11
				days = 5
			}
		}
	}

	focus = {
		id = SQI_Improving_Our_Technological_Sharing
		icon = GFX_goal_great_science
		prerequisite = {
			focus = SQI_Recruitung_Military_Experts_Outside_Shandong
			focus = SQI_Improving_The_Railroad-Army_Coordination
			focus = SQI_Train_Soldiers_On_Last_Ditch_Resistance
		}
		x = 10
		y = 5
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Improving_Our_Technological_Sharing"
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	#Industry

	focus = {
		id = SQI_Turning_Our_Attention_To_Industry
		icon = GFX_IRE_medium_industry
		available = {
			OR = {
				has_country_flag = SQI_Zheyuan_beat_Zongchang
				has_country_flag = SQI_Tianran_beat_Zongchang
				has_country_flag = SQI_Zongchang_beat_Tianran
				has_country_flag = SQI_puppet
			}
		}
		x = 17
		y = 0
		cost = 10
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Turning_Our_Attention_To_Industry"

			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SQI_Reopening_The_Barred_Factories
		icon = GFX_focus_generic_industry_2
		prerequisite = { focus = SQI_Turning_Our_Attention_To_Industry }
		available = {
			597 = {
				is_owned_and_controlled_by = SQI
			}
		}
		x = 17
		y = 1
		cost = 10
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Reopening_The_Barred_Factories"
			597 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SQI_Improving_The_Qingdao_Weihaiwei_Railway
		icon = GFX_goal_generic_railway_construction
		prerequisite = { focus = SQI_Reopening_The_Barred_Factories }
		available = {
		}
		x = 15
		y = 2
		cost = 10
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Improving_The_Qingdao_Weihaiwei_Railway"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SQI_Leasing_Shandong_Resources_To_Either_Qingdao_or_Weihaiwei
		icon = GFX_focus_generic_tungsten
		prerequisite = { focus = SQI_Improving_The_Qingdao_Weihaiwei_Railway }
		available = {
		}
		x = 15
		y = 3
		cost = 10
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Leasing_Shandong_Resources_To_Either_Qingdao_or_Weihaiwei"
			country_event = {
				id = shandong.27
				days = 1
			}
		}
	}

	focus = {
		id = SQI_Getting_Japanese_Military_Advisors_To_Construct_New_Factories
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = SQI_Leasing_Shandong_Resources_To_Either_Qingdao_or_Weihaiwei }
		available = {
		}
		x = 15
		y = 4
		cost = 10
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Getting_Japanese_Military_Advisors_To_Construct_New_Factories"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SQI_Restablish_Jinana_University
		icon = GFX_goal_plantation_grants
		prerequisite = { focus = SQI_Getting_Japanese_Military_Advisors_To_Construct_New_Factories }
		available = {
		}
		x = 15
		y = 5
		cost = 10
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Restablish_Jinana_University"
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SQI_Improving_Domestic_Roads_That_Connect_To_The_Qing
		icon = GFX_focus_empty_coffers
		prerequisite = { focus = SQI_Reopening_The_Barred_Factories }
		available = {
			NOT = { has_country_flag = SQI_puppet }
		}
		x = 19
		y = 2
		cost = 10
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Improving_Domestic_Roads_That_Connect_To_The_Qing"
			custom_effect_tooltip = SQI_can_obtain_fact
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SQI_Attracting_Qing_Nobility
		icon = GFX_goal_model_cities
		prerequisite = { focus = SQI_Improving_Domestic_Roads_That_Connect_To_The_Qing }
		available = {
			NOT = { has_war_with = QIE }
			hidden_trigger = {
				NOT = { has_country_flag = SQI_puppet }
			}
		}
		x = 18
		y = 3
		cost = 10
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Attracting_Qing_Nobility"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SQI_Leveraging_Tianjin_Allies_For_Free_Factories
		icon = GFX_goal_LEC_establish
		prerequisite = { focus = SQI_Improving_Domestic_Roads_That_Connect_To_The_Qing }
		available = {
			hidden_trigger = {
				NOT = { has_country_flag = SQI_puppet }
			}
		}
		x = 20
		y = 3
		cost = 10
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Leveraging_Tianjin_Allies_For_Free_Factories"
			custom_effect_tooltip = SQI_decisions_unlocked
			add_tech_bonus = {
				name = SQI_Leveraging_Tianjin_Allies_For_Free_Factories
				bonus = 0.5
				uses = 1
				category = electronics
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SQI_Investigate_Leakage_Of_Output_Into_Bandits_Middlemen_Selling
		icon = GFX_goal_bag_of_money
		prerequisite = { focus = SQI_Leveraging_Tianjin_Allies_For_Free_Factories }
		prerequisite = { focus = SQI_Attracting_Qing_Nobility }
		available = {
		}
		x = 19
		y = 4
		cost = 10
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Investigate_Leakage_Of_Output_Into_Bandits_Middlemen_Selling"
			add_war_support = 0.1
			hidden_effect = {
				country_event = {
					id = shandong.12
					days = 5
				}
			}
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
	}

	#Victory Section

	focus = {
		id = SQI_Victory_In_The_South
		icon = GFX_goal_generic_attack_allies
		available = {
			LEP = { exists = no }
			has_war = no
			owns_state = 1047
			NOT = { has_country_flag = SQI_puppet }
		}
		x = 6
		y = 6
		cost = 1
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Victory_In_The_South"
			add_stability = 0.1
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	#Building Path

	focus = {
		id = SQI_Reclaim_The_Industry_Of_The_Annexed_Warlords
		icon = GFX_LEC_Illegitimate_Economy
		prerequisite = { focus = SQI_Victory_In_The_South }
		x = 6
		y = 7
		cost = 5
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Reclaim_The_Industry_Of_The_Annexed_Warlords"
			if = {
				limit = { has_country_flag = SQI_Tianran_beat_Zongchang }
				custom_effect_tooltip = SQI_tianran_can_reclaim_tooltip
			}
			else = {
				increase_ruling_party_popularity_by_5 = yes
			}
		}
	}

	focus = {
		id = SQI_Develop_The_Coastline
		icon = GFX_Maritime_Silkroad_2
		prerequisite = { focus = SQI_Reclaim_The_Industry_Of_The_Annexed_Warlords }
		available = {
			598 = {
				is_owned_and_controlled_by_ROOT_or_subject = yes
			}
		}
		x = 8
		y = 8
		cost = 10
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Develop_The_Coastline"
			598 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			598 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SQI_Develop_Anqing
		icon = GFX_focus_generic_industry_2
		prerequisite = { focus = SQI_Reclaim_The_Industry_Of_The_Annexed_Warlords }
		available = {
			606 = {
				is_owned_and_controlled_by_ROOT_or_subject = yes
			}
		}
		x = 4
		y = 8
		cost = 10
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Develop_Anqing"
			606 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			606 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SQI_Improve_Nanjing
		icon = GFX_focus_generic_industry_3
		prerequisite = { focus = SQI_Reclaim_The_Industry_Of_The_Annexed_Warlords }
		available = {
			613 = {
				is_owned_and_controlled_by_ROOT_or_subject = yes
			}
		}
		x = 6
		y = 8
		cost = 10
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Improve_Nanjing"
			613 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			613 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SQI_Connnect_Beijing_To_Nanjing_by_Railway
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = SQI_Improve_Nanjing }
		x = 6
		y = 9
		cost = 10
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Connnect_Beijing_To_Nanjing_by_Railway"
			597 = {
				if = {
					limit = { is_owned_and_controlled_by = SQI	}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			1068 = {
				if = {
					limit = { is_owned_and_controlled_by = SQI	}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			1047 = {
				if = {
					limit = { is_owned_and_controlled_by = SQI	}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			598 = {
				if = {
					limit = { is_owned_and_controlled_by = SQI	}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			1075 = {
				if = {
					limit = { is_owned_and_controlled_by = SQI	}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

			613 = {
				if = {
					limit = { is_owned_and_controlled_by = SQI	}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}

		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SQI_Improve_Jiangxi
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = SQI_Connnect_Beijing_To_Nanjing_by_Railway }
		available = {
			1044 = {
				is_owned_and_controlled_by_ROOT_or_subject = yes
			}
			1045 = {
				is_owned_and_controlled_by_ROOT_or_subject = yes
			}
		}
		x = 6
		y = 10
		cost = 10
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Improve_Jiangxi"
			add_resource = {
				type = steel
				amount = 4
				state = 1044
			}
			1045 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SQI_Improve_Fujian
		icon = GFX_goal_generic_production2
		prerequisite = { focus = SQI_Connnect_Beijing_To_Nanjing_by_Railway }
		available = {
			1046 = {
				is_owned_and_controlled_by_ROOT_or_subject = yes
			}
			595 = {
				is_owned_and_controlled_by_ROOT_or_subject = yes
			}
		}
		x = 4
		y = 10
		cost = 10
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Improve_Fujian"
			add_resource = {
				type = aluminium
				amount = 2
				state = 1046
			}
			595 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SQI_Improve_Zhejiang
		icon = GFX_goal_chromium
		prerequisite = { focus = SQI_Connnect_Beijing_To_Nanjing_by_Railway }
		available = {
			1067 = {
				is_owned_and_controlled_by_ROOT_or_subject = yes
			}
			596 = {
				is_owned_and_controlled_by_ROOT_or_subject = yes
			}
		}
		x = 8
		y = 10
		cost = 10
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Improve_Zhejiang"
			add_resource = {
				type = chromium
				amount = 2
				state = 1067
			}
			596 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}

		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	#Beiyang Navy Path

	focus = {
		id = SQI_Declare_Official_Offshoot_Of_The_Beiyang_Navy
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = SQI_Investigate_Leakage_Of_Output_Into_Bandits_Middlemen_Selling }
		available = {
			597 = {
				is_owned_and_controlled_by = SQI
			}
			hidden_trigger = {
				NOT = { has_country_flag = SQI_puppet }
			}
		}
		x = 19
		y = 5
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Declare_Official_Offshoot_Of_The_Beiyang_Navy"
			custom_effect_tooltip = SQI_can_obtain_dock
			add_tech_bonus = {
				name = SQI_Declare_Official_Offshoot_Of_The_Beiyang_Navy
				bonus = 0.5
				uses = 1
				category = naval_doctrine
			}
			597 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			navy_experience = 20

		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SQI_Purchasing_Ships_For_The_Navy
		icon = GFX_goal_navy_decision
		prerequisite = { focus = SQI_Declare_Official_Offshoot_Of_The_Beiyang_Navy }
		available = {
			SQI = { NOT = { has_war_with = JAP } }
		}
		x = 18
		y = 6
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Purchasing_Ships_For_The_Navy"
			random_owned_controlled_state = {
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = {
					NOT = { has_country_flag = SQI_Zheyuan_beat_Zongchang }
				}
				JAP = {
					country_event = { id = shandong.100 days = 7 }
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SQI_Acquire_A_Naval_Base
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = SQI_Purchasing_Ships_For_The_Navy }
		available = {
			597 = {
				is_owned_and_controlled_by = SQI
			}
		}
		x = 18
		y = 7
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Acquire_A_Naval_Base"
			597 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SQI_Purchasing_Convoys_For_The_Navy
		icon = GFX_goal_HOL_dutch_navy
		prerequisite = { focus = SQI_Declare_Official_Offshoot_Of_The_Beiyang_Navy }
		available = {
		}
		x = 20
		y = 6
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Purchasing_Convoys_For_The_Navy"
			add_equipment_to_stockpile = {
				type = convoy_1
				amount = 50
				producer = SQI
			}
		}
	}

	focus = {
		id = SQI_Purchasing_Submarines_For_The_Navy
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = SQI_Purchasing_Convoys_For_The_Navy }
		available = {
		}
		x = 20
		y = 7
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Purchasing_Submarines_For_The_Navy"
			add_tech_bonus = {
				name = SQI_Purchasing_Submarines_For_The_Navy
				bonus = 1
				uses = 1
				category = ss_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SQI_Incorporating_Qingdao_And_Weihaiwei_Ports
		icon = GFX_goal_generic_coastal_navy
		prerequisite = {
			focus = SQI_Acquire_A_Naval_Base
			focus = SQI_Purchasing_Submarines_For_The_Navy
		}
		available = {
			744 = {
				is_owned_and_controlled_by = SQI
			}
		}
		x = 19
		y = 8
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Incorporating_Qingdao_And_Weihaiwei_Ports"
			744 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	#Airforce

	focus = {
		id = SQI_Expanding_The_Airforce
		icon = GFX_goal_generic_air_production
		available = {
			OR = {
				has_country_flag = SQI_Zheyuan_beat_Zongchang
				has_country_flag = SQI_Tianran_beat_Zongchang
				has_country_flag = SQI_Zongchang_beat_Tianran
			}
			597 = {
				is_owned_and_controlled_by = SQI
			}
			NOT = { has_country_flag = SQI_puppet }
		}
		x = 13
		y = 6
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Expanding_The_Airforce"
			custom_effect_tooltip = SQI_can_obtain_air
			air_experience = 25
			597 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIRFORCE_BONUS }
	}

	focus = {
		id = SQI_Construct_Modern_Fighters
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = SQI_Expanding_The_Airforce }
		available = {
		}
		x = 11
		y = 7
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Construct_Modern_Fighters"
			add_tech_bonus = {
				name = SQI_Construct_Modern_Fighters
				bonus = 0.5
				uses = 2
				category = light_fighter
				category = naval_air
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SQI_Begin_Training_Our_Fighter_Pilots
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = SQI_Construct_Modern_Fighters }
		available = {
		}
		x = 11
		y = 8
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Begin_Training_Our_Fighter_Pilots"
			add_tech_bonus = {
				name = SQI_Begin_Training_Our_Fighter_Pilots
				bonus = 0.5
				uses = 2
				category = air_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	focus = {
		id = SQI_Constructing_Air_Bases
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = SQI_Expanding_The_Airforce }
		available = {
			597 = {
				is_owned_and_controlled_by = SQI
			}
		}
		x = 13
		y = 7
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Constructing_Air_Bases"
			597 = {
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = SQI_Introducing_Naval_Aircraft
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = SQI_Constructing_Air_Bases }
		available = {
		}
		x = 13
		y = 8
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Introducing_Naval_Aircraft"
			add_tech_bonus = {
				name = SQI_Introducing_Naval_Aircraft
				bonus = 1
				uses = 1
				category = naval_air
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	focus = {
		id = SQI_CAS
		icon = 	GFX_goal_generic_build_airforce
		prerequisite = { focus = SQI_Expanding_The_Airforce }
		available = {
		}
		x = 15
		y = 7
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_CAS"
			add_tech_bonus = {
				name = SQI_CAS
				bonus = 0.5
				uses = 2
				category = cat_strategic_bomber
				category = cas_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SQI_Purchasing_Bombers
		icon = 	GFX_goal_generic_air_bomber
		prerequisite = { focus = SQI_CAS }
		available = {
		}
		x = 15
		y = 8
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Purchasing_Bombers"
			hidden_effect = {
				if = {
					limit = {
						NOT = { has_tech = early_bomber }
					}
					set_technology = { early_bomber = 1 }
				}
			}
			add_equipment_to_stockpile = {
				type = tac_bomber_equipment
				amount = 25
				producer = SQI
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = SQI_Stealing_Sailors_From_The_Legation_Cities
		icon = 	GFX_focus_generic_military_academy
		prerequisite = {
			focus = SQI_Introducing_Naval_Aircraft
			focus = SQI_Begin_Training_Our_Fighter_Pilots
			focus = SQI_Purchasing_Bombers
		}
		x = 13
		y = 9
		cost = 8
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus SQI_Stealing_Sailors_From_The_Legation_Cities"
			navy_experience = 25
			#LEC = {	#These events don't exist
			#	country_event = { 
			#		id = shandong.54 
			#		days = 5 
			#	}
			#}

		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
	}

}
