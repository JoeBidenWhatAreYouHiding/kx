###########################
# United Kingdom Focus Tree
###########################

focus_tree = {

	id = united_kingdom_focus
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = GBR
		}
	}
	default = no
	continuous_focus_position = { x = 100 y = 1350 }

	### RECONSTRUCTION
	focus = {
		id = GBR_british_reconstruction_authority
		icon = GFX_GBR_big_ben
		cost = 5.00
		x = 12
		y = 0

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		select_effect = {
			country_event = { id = uk.10 days = 1 } # PM announces Reconstruction Authority creation
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_british_reconstruction_authority"
			country_event = uk.16
		}
	}

	focus = {
		id = GBR_fate_of_unions
		icon = GFX_GBR_fate_of_unions
		cost = 5.00
		prerequisite = {
			focus = GBR_british_reconstruction_authority
		}
		relative_position_id = GBR_british_reconstruction_authority
		x = -1
		y = 1

		available = {
			is_subject = no
			has_government = paternal_autocrat
		}

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_fate_of_unions"
			country_event = uk.21
		}
	}

	focus = {
		id = GBR_fate_of_leaders
		icon = GFX_DKB_Trial
		cost = 5.00
		prerequisite = {
			focus = GBR_british_reconstruction_authority
		}
		relative_position_id = GBR_british_reconstruction_authority
		x = 1
		y = 1

		available = {
			is_subject = no
			has_government = paternal_autocrat
		}

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_fate_of_leaders"
			country_event = uk.26
		}
	}

	focus = {
		id = GBR_question_of_labour
		icon = GFX_GBR_labour_party
		cost = 5.00
		prerequisite = {
			focus = GBR_fate_of_unions
		}
		prerequisite = {
			focus = GBR_fate_of_leaders
		}
		relative_position_id = GBR_british_reconstruction_authority
		x = -2
		y = 2

		available = {
			is_subject = no
			has_government = paternal_autocrat
		}

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_question_of_labour"
			country_event = uk.29
		}
	}

	focus = {
		id = GBR_returning_aristocracy
		icon = GFX_GFX_NEE_award_royaltitles
		cost = 5.00
		prerequisite = {
			focus = GBR_fate_of_unions
		}
		prerequisite = {
			focus = GBR_fate_of_leaders
		}
		relative_position_id = GBR_british_reconstruction_authority
		x = 0
		y = 2

		available = {
			is_subject = no
			has_government = paternal_autocrat
		}

		ai_will_do = {
			factor = 20
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_returning_aristocracy"
			country_event = uk.31
		}
	}

	focus = {
		id = GBR_reorganize_bureaucracy
		icon = GFX_DKB_Bureaucracy
		cost = 5.00
		prerequisite = {
			focus = GBR_fate_of_unions
		}
		prerequisite = {
			focus = GBR_fate_of_leaders
		}
		relative_position_id = GBR_british_reconstruction_authority
		x = 2
		y = 2

		available = {
			is_subject = no
			has_government = paternal_autocrat
		}

		ai_will_do = {
			factor = 30
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_reorganize_bureaucracy"
			add_political_power = 50
			add_stability = 0.05
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = GBR_hold_elections
		icon = GFX_goal_generic_elections
		cost = 5.00
		prerequisite = {
			focus = GBR_question_of_labour
		}
		prerequisite = {
			focus = GBR_returning_aristocracy
		}
		prerequisite = {
			focus = GBR_reorganize_bureaucracy
		}
		mutually_exclusive = {
			focus = GBR_guided_parliament
			focus = GBR_absolute_monarchy
		}
		relative_position_id = GBR_british_reconstruction_authority
		x = -2
		y = 3

		available = {
			is_subject = no
			has_government = paternal_autocrat
			custom_trigger_tooltip = {
				tooltip = GBR_resist_20_or_lower
				check_variable = { GBR_synd_unrest < 21 }
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				has_idea = GBR_Robert_Cecil_hog_sco
			}
			modifier = {
				factor = 2
				has_idea = GBR_Anthony_Eden_hog_sco
			}
		}

		available_if_capitulated = yes

		select_effect = {
			country_event = uk.32
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_hold_elections"
			country_event = uk.33
		}
	}

	focus = {
		id = GBR_guided_parliament
		icon = GFX_goal_BRG_Subordinate_Westminster
		cost = 5.00
		prerequisite = {
			focus = GBR_question_of_labour
		}
		prerequisite = {
			focus = GBR_returning_aristocracy
		}
		prerequisite = {
			focus = GBR_reorganize_bureaucracy
		}
		mutually_exclusive = {
			focus = GBR_hold_elections
			focus = GBR_absolute_monarchy
		}
		relative_position_id = GBR_british_reconstruction_authority
		x = 0
		y = 3

		available = {
			is_subject = no
			has_government = paternal_autocrat
			custom_trigger_tooltip = {
				tooltip = GBR_resist_15_or_higher
				check_variable = { GBR_synd_unrest > 14 }
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				has_idea = GBR_Henry_Page_Croft_hog_ade
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_guided_parliament"
			add_political_power = 200
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}
			country_event = uk.35
			hidden_effect = {
				remove_all_ministers = yes
				clr_country_flag = GBR_Cecil_PM
				clr_country_flag = GBR_Eden_PM
				clr_country_flag = GBR_Vansittart_PM
				set_variable = { var = bra_supp value = party_popularity@paternal_autocrat }
				multiply_variable = { var = bra_supp value = 100 }
				set_variable = { var = new_pataut value = bra_supp }
				multiply_variable = { var = new_pataut value = -1 }
				set_party_name = {
					ideology = paternal_autocrat
					name = GBR_military_government_party
					long_name = GBR_military_government_party_long
				}
				add_popularity = { ideology = paternal_autocrat popularity = new_pataut }
				add_popularity = { ideology = authoritarian_democrat popularity = bra_supp }
				clear_variable = new_pataut
				clear_variable = bra_supp
				set_country_flag = GBR_Croft_PM
				add_ideas = {
					GBR_Henry_Page_Croft_hog_ade
					GBR_Arthur_Wellesley_for_ade
					GBR_John_Carnegie_eco_ade
					GBR_Maxwell_Knight_sec_ade
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	
	focus = {
		id = GBR_absolute_monarchy
		icon = GFX_GBR_restoration
		cost = 5
		prerequisite = {
			focus = GBR_question_of_labour
		}
		prerequisite = {
			focus = GBR_returning_aristocracy
		}
		prerequisite = {
			focus = GBR_reorganize_bureaucracy
		}
		mutually_exclusive = {
			focus = GBR_hold_elections
			focus = GBR_guided_parliament
		}
		relative_position_id = GBR_british_reconstruction_authority
		x = 2
		y = 3

		available = {
			is_subject = no
			has_government = paternal_autocrat
			custom_trigger_tooltip = {
				tooltip = GBR_resist_15_or_higher
				check_variable = { GBR_synd_unrest > 14 }
			}
			has_global_flag = CAN_absolute_monarchy
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				has_idea = GBR_Henry_Page_Croft_hog_ade
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_absolute_monarchy"
			add_political_power = 200
			set_politics = {
				ruling_party = paternal_autocrat
				elections_allowed = no
			}
			country_event = uk.35
			hidden_effect = {
				remove_all_ministers = yes
				clr_country_flag = GBR_Cecil_PM
				clr_country_flag = GBR_Eden_PM
				clr_country_flag = GBR_Vansittart_PM
				set_variable = { var = bra_supp value = party_popularity@paternal_autocrat }
				multiply_variable = { var = bra_supp value = 100 }
				set_variable = { var = new_pataut value = bra_supp }
				multiply_variable = { var = new_pataut value = -1 }
				set_party_name = {
					ideology = paternal_autocrat
					name = GBR_absolute_monarchy_party
					long_name = GBR_absolute_monarchy_party_long
				}
				add_popularity = { ideology = paternal_autocrat popularity = new_pataut }
				add_popularity = { ideology = authoritarian_democrat popularity = bra_supp }
				clear_variable = new_pataut
				clear_variable = bra_supp
				set_country_flag = GBR_Croft_PM
				set_country_flag = GBR_absolute_monarchy_flag
				add_ideas = {
					GBR_Louis_Mountbatten_hog_pau
					GBR_John_Hugo_Russell_for_pau
					GBR_Noel_Pemberton_Billing_eco_pau
					GBR_Jeffrey_Hamm_sec_pau
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = GBR_end_of_bra
		icon = GFX_focus_eng_the_sun_never_sets
		cost = 5.00
		prerequisite = {
			focus = GBR_hold_elections
			focus = GBR_guided_parliament
			focus = GBR_absolute_monarchy
		}
		relative_position_id = GBR_british_reconstruction_authority
		x = 0
		y = 4

		available = {
			is_subject = no
		}

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_end_of_bra"
			add_political_power = 100
			if = {
				limit = {
					has_dynamic_modifier = { modifier = GBR_syndicalist_resistance }
				}
				unlock_decision_tooltip = GBR_fight_syndicalists
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}


	### ECONOMIC
	focus = {
		id = GBR_the_exchequer
		icon = GFX_GBR_exchequer
		cost = 5.00
		prerequisite = {
			focus = GBR_end_of_bra
		}
		relative_position_id = GBR_end_of_bra
		x = -10
		y = 1

		ai_will_do = {
			factor = 30
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_the_exchequer"
			add_stability = 0.05
			add_political_power = 50
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = GBR_foreign_investment
		icon = GFX_RUS_Foreign_Investments
		cost = 5.00
		prerequisite = {
			focus = GBR_the_exchequer
		}
		mutually_exclusive = {
			focus = GBR_regulate_growth
			focus = GBR_royal_charters
		}
		relative_position_id = GBR_the_exchequer
		x = -2
		y = 1

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				has_government = social_democrat
			}
			modifier = {
				factor = 0.5
				has_government = social_conservative
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_foreign_investment"
			add_ideas = GBR_foreign_investment_idea
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = GBR_restore_bbc
		icon = GFX_GBR_bbc
		cost = 5.00
		prerequisite = {
			focus = GBR_foreign_investment
			focus = GBR_regulate_growth
			focus = GBR_royal_charters
		}
		relative_position_id = GBR_the_exchequer
		x = -2
		y = 2

		ai_will_do = {
			factor = 20
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_restore_bbc"
			add_ideas = GBR_bbc_idea
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = GBR_royal_society
		icon = GFX_goal_BRM_investment
		cost = 5.00
		prerequisite = {
			focus = GBR_restore_bbc
		}
		relative_position_id = GBR_the_exchequer
		x = -2
		y = 3

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_royal_society"
			add_ideas = GBR_royal_society_idea
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = GBR_imperial_chemical
		icon = GFX_GBR_imperial_chemical
		cost = 5.00
		prerequisite = {
			focus = GBR_royal_society
		}
		relative_position_id = GBR_the_exchequer
		x = -2
		y = 4

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				NOT = {
					any_owned_state = {
						is_controlled_by = ROOT
						is_core_of = ROOT
						free_building_slots = {
							building = synthetic_refinery
							size > 1
							include_locked = yes
						}
					}
				}
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_imperial_chemical"
			if = {
				limit = {
					NOT = {
						has_idea = UK_imperial_chemical_industries
						has_idea = UK_english_electric
						has_idea = UK_marconi
					}
				}
				add_ideas = UK_imperial_chemical_industries
			}
			if = {
				limit = { NOT = { has_tech = synth_oil_experiments } }
				set_technology = { synth_oil_experiments = 1 }
			}
			add_tech_bonus = {
				name = GBR_imperial_chemical
				bonus = 1
				uses = 2
				category = synth_resources
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					free_building_slots = {
						building = synthetic_refinery
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = GBR_regulate_growth
		icon = GFX_goal_NFA_guide_growth
		cost = 5.00
		prerequisite = {
			focus = GBR_the_exchequer
		}
		mutually_exclusive = {
			focus = GBR_foreign_investment
			focus = GBR_royal_charters
		}
		relative_position_id = GBR_the_exchequer
		x = 0
		y = 1

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				has_government = market_liberal
			}
			modifier = {
				factor = 0
				has_government = social_conservative
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_regulate_growth"
			add_ideas = GBR_regulate_growth_idea
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = GBR_marconi_deal
		icon = GFX_GBR_marconi
		cost = 5.00
		prerequisite = {
			focus = GBR_regulate_growth
			focus = GBR_foreign_investment
			focus = GBR_royal_charters
		}
		relative_position_id = GBR_the_exchequer
		x = 0
		y = 2

		ai_will_do = {
			factor = 20
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_marconi_deal"
			add_ideas = GBR_motor_industry_idea
			if = {
				limit = {
					NOT = {
						has_idea = UK_imperial_chemical_industries
						has_idea = UK_english_electric
						has_idea = UK_marconi
					}
				}
				add_ideas = UK_marconi
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = GBR_civilian_1
		icon = GFX_goal_CSA_capital_investments
		cost = 5.00
		prerequisite = {
			focus = GBR_marconi_deal
		}
		relative_position_id = GBR_the_exchequer
		x = 0
		y = 3

		available = {
			controls_all_owned_states = yes
		}

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_civilian_1"
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					industrial_complex > 0
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					industrial_complex > 0
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					industrial_complex > 0
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = GBR_civilian_2
		icon = GFX_RUS_Money_For_Industrialization
		cost = 5.00
		prerequisite = {
			focus = GBR_civilian_1
		}
		relative_position_id = GBR_the_exchequer
		x = 0
		y = 4

		available = {
			controls_all_owned_states = yes
		}

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_civilian_2"
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					industrial_complex > 0
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					industrial_complex > 0
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					industrial_complex > 0
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = GBR_royal_charters
		icon = GFX_GBR_british_money
		cost = 5.00
		prerequisite = {
			focus = GBR_the_exchequer
		}
		mutually_exclusive = {
			focus = GBR_regulate_growth
			focus = GBR_foreign_investment
		}
		relative_position_id = GBR_the_exchequer
		x = 2
		y = 1

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0.5
				has_government = social_democrat
			}
			modifier = {
				factor = 0.5
				has_government = market_liberal
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_royal_charters"
			add_ideas = GBR_royal_charters_idea
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = GBR_arms_deal
		icon = GFX_goal_CZE_imperial_arms
		cost = 5.00
		prerequisite = {
			focus = GBR_foreign_investment
			focus = GBR_regulate_growth
			focus = GBR_royal_charters
		}
		relative_position_id = GBR_the_exchequer
		x = 2
		y = 2

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_arms_deal"
			add_ideas = GBR_arms_deal_idea
			if = {
				limit = {
					NOT = {
						has_idea = UK_bsa
						has_idea = UK_rsaf
						has_idea = UK_webley_scott
						has_idea = UK_sterling
						has_idea = UK_royal_arsenal
						has_idea = UK_austin
						has_idea = UK_morris
					}
				}
				country_event = uk.55
			}
		}
	}

	focus = {
		id = GBR_military_1
		icon = MON_army_money
		cost = 5.00
		prerequisite = {
			focus = GBR_arms_deal
		}
		relative_position_id = GBR_the_exchequer
		x = 2
		y = 3

		available = {
			controls_all_owned_states = yes
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_military_1"
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = GBR_military_2
		icon = GRU_CORPORATE_MILITARY_INDUSTRIAL_COMPLEX
		cost = 5.00
		prerequisite = {
			focus = GBR_military_1
		}
		relative_position_id = GBR_the_exchequer
		x = 2
		y = 4

		available = {
			controls_all_owned_states = yes
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_military_2"
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}


	### MILITARY
	focus = {
		id = GBR_ministry_of_defence
		icon = GFX_focus_eng_chiefs_of_staff_committee
		cost = 5.00
		prerequisite = {
			focus = GBR_end_of_bra
		}
		relative_position_id = GBR_end_of_bra
		x = 0
		y = 1

		ai_will_do = {
			factor = 30
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_ministry_of_defence"
			army_experience = 100
			navy_experience = 100
			air_experience = 100
			if = {
				limit = { NOT = { has_idea_with_trait = chief_of_staff } }
				country_event = uk.50
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_XP FOCUS_FILTER_NAVY_XP FOCUS_FILTER_AIR_XP }
	}

	focus = {
		id = GBR_reform_army
		icon = GFX_GBR_royal_army
		cost = 5.00
		prerequisite = {
			focus = GBR_ministry_of_defence
		}
		relative_position_id = GBR_ministry_of_defence
		x = -4
		y = 1

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_reform_army"
			army_experience = 100
			if = {
				limit = { has_idea = GBR_military_chaos_1 }
				swap_ideas = {
					remove_idea = GBR_military_chaos_1
					add_idea = GBR_military_chaos_2
				}
			}
			if = {
				limit = { NOT = { has_idea_with_trait = chief_of_army } }
				country_event = uk.51
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = GBR_syndicalist_soldiers
		icon = GFX_goal_HOL_ban_paramilitary_left
		cost = 5.00
		prerequisite = {
			focus = GBR_reform_army
		}
		relative_position_id = GBR_reform_army
		x = -1
		y = 1

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		bypass = {
			has_socialist_government = yes
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_syndicalist_soldiers"
			country_event = uk.54
		}
	}

	focus = {
		id = GBR_call_to_arms
		icon = GFX_goal_ZAM_bolster_brit_control
		cost = 5.00
		prerequisite = {
			focus = GBR_reform_army
		}
		relative_position_id = GBR_reform_army
		x = 1
		y = 1

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_call_to_arms"
			add_war_support = 0.10
			add_manpower = 50000
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = GBR_retraining_efforts
		icon = GFX_goal_generic_army_training
		cost = 5.00
		prerequisite = {
			focus = GBR_syndicalist_soldiers
		}
		prerequisite = {
			focus = GBR_call_to_arms
		}
		relative_position_id = GBR_reform_army
		x = -1
		y = 2

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		bypass = {
			NOT = { has_idea = GBR_military_chaos_2 }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_retraining_efforts"
			if = {
				limit = {
					CAN = { has_completed_focus = CAN_vanier_plan }
				}
				swap_ideas = {
					remove_idea = GBR_military_chaos_2
					add_idea = GBR_military_vanier
				}
			}
			else = {
				swap_ideas = {
					remove_idea = GBR_military_chaos_2
					add_idea = GBR_military_fuller
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = GBR_restore_MI6
		icon = GFX_goal_generic_espionage
		cost = 5.00
		prerequisite = {
			focus = GBR_syndicalist_soldiers
		}
		prerequisite = {
			focus = GBR_call_to_arms
		}
		relative_position_id = GBR_reform_army
		x = 1
		y = 2

		available = {
			is_subject = no
		}

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_restore_MI6"
			add_tech_bonus = {
				name = GBR_restore_MI6
				bonus = 1
				uses = 2
				category = decryption_tech
				category = encryption_tech
			}
			if = {
				limit = { has_dlc = "La Resistance" }
				create_intelligence_agency = yes
				upgrade_intelligence_agency = upgrade_form_department
				add_ideas = GBR_MI6_lar_idea
			}
			else = {
				add_ideas = GBR_MI6_idea
			}
		}
		search_filters = { FOCUS_FILTER_RESISTANCE FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = GBR_royal_marines
		icon = GFX_goal_CAN_special_forces
		cost = 5.00
		prerequisite = {
			focus = GBR_retraining_efforts
		}
		relative_position_id = GBR_reform_army
		x = -1
		y = 3

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_royal_marines"
			add_ideas = GBR_royal_marines_idea
			add_tech_bonus = {
				name = GBR_royal_marines
				bonus = 1
				uses = 2
				category = tp_tech
				category = marine_tech
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = GBR_reform_navy
		icon = GFX_GBR_royal_navy
		cost = 5.00
		prerequisite = {
			focus = GBR_ministry_of_defence
		}
		relative_position_id = GBR_ministry_of_defence
		x = 0
		y = 1

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_reform_navy"
			navy_experience = 100
			if = {
				limit = { NOT = { has_idea_with_trait = chief_of_navy } }
				country_event = uk.52
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
	}

	focus = {
		id = GBR_fleets_in_exile
		icon = GFX_GBR_exile_fleets
		cost = 5.00
		prerequisite = {
			focus = GBR_reform_navy
		}
		relative_position_id = GBR_reform_navy
		x = -1
		y = 1

		available = {
			OR = {
				CAN = {
					exists = yes
					is_in_faction_with = ROOT
				}
				AST = {
					exists = yes
					is_in_faction_with = ROOT
				}
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		bypass = {
			NOT = {
				CAN = {
					exists = yes
					is_in_faction_with = ROOT
				}
				AST = {
					exists = yes
					is_in_faction_with = ROOT
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_fleets_in_exile"
			if = {
				limit = {
					CAN = {
						exists = yes
						is_in_faction_with = ROOT
					}
				}
				unlock_decision_tooltip = GBR_canadian_shipbuilding_program_1
				unlock_decision_tooltip = GBR_canadian_shipbuilding_program_2
			}
			if = {
				limit = {
					AST = {
						exists = yes
						is_in_faction_with = ROOT
					}
				}
				unlock_decision_tooltip = GBR_australian_shipbuilding_program_1
				unlock_decision_tooltip = GBR_australian_shipbuilding_program_2
			}
			if = {
				limit = {
					CAN = {
						exists = yes
						is_in_faction_with = ROOT
					}
					AST = {
						exists = yes
						is_in_faction_with = ROOT
					}
				}
				unlock_decision_tooltip = GBR_combined_shipbuilding_program_1
			}
		}
	}

	focus = {
		id = GBR_rebuild_the_fleet
		icon = GFX_goal_FIU_build_up_armada
		cost = 5.00
		prerequisite = {
			focus = GBR_reform_navy
		}
		relative_position_id = GBR_reform_navy
		x = 1
		y = 1

		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = GBR_has_lessthan_50_ships
				check_variable = { ROOT.num_ships < 50 }
			}
		}

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		bypass = {
			custom_trigger_tooltip = {
				tooltip = GBR_has_over_50_ships
				check_variable = { ROOT.num_ships > 50 }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_rebuild_the_fleet"
			add_ideas = GBR_fleet_rebuilding_program
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = GBR_dockyards_1
		icon = GFX_goal_generic_construct_naval_dockyard
		cost = 5.00
		prerequisite = {
			focus = GBR_fleets_in_exile
		}
		prerequisite = {
			focus = GBR_rebuild_the_fleet
		}
		relative_position_id = GBR_reform_navy
		x = -1
		y = 2

		available = {
			controls_all_owned_states = yes
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_dockyards_1"
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = GBR_shipbuilding_deal
		icon = GFX_goal_FIU_proper_armada
		cost = 5.00
		prerequisite = {
			focus = GBR_fleets_in_exile
		}
		prerequisite = {
			focus = GBR_rebuild_the_fleet
		}
		relative_position_id = GBR_reform_navy
		x = 1
		y = 2

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_shipbuilding_deal"
			add_ideas = GBR_shipbuilding_deal_idea
			if = {
				limit = {
					NOT = {
						has_idea = UK_cammell_laird
						has_idea = UK_john_brown_company
						has_idea = UK_swan_hunter
					}
				}
				country_event = uk.56
			}
		}
	}

	focus = {
		id = GBR_reform_air_force
		icon = GFX_GBR_royal_air_force
		cost = 5.00
		prerequisite = {
			focus = GBR_ministry_of_defence
		}
		relative_position_id = GBR_ministry_of_defence
		x = 4
		y = 1

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_reform_air_force"
			air_experience = 100
			if = {
				limit = { NOT = { has_idea_with_trait = chief_of_air_force } }
				country_event = uk.53
			}
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
	}

	focus = {
		id = GBR_take_to_the_air
		icon = GFX_goal_USA_organic_air_support
		cost = 5.00
		prerequisite = {
			focus = GBR_reform_air_force
		}
		relative_position_id = GBR_reform_air_force
		x = -1
		y = 1

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_take_to_the_air"
			add_manpower = 20000
			if = {
				limit = { has_tech = fighter3 }
				add_equipment_to_stockpile = { type = fighter_equipment_3 amount = 200 producer = GBR }
			}
			else_if = {
				limit = { has_tech = fighter2 }
				add_equipment_to_stockpile = { type = fighter_equipment_2 amount = 200 producer = GBR }
			}
			else_if = {
				limit = { has_tech = fighter1 }
				add_equipment_to_stockpile = { type = fighter_equipment_1 amount = 200 producer = GBR }
			}
			if = {
				limit = { has_tech = CAS3 }
				add_equipment_to_stockpile = { type = CAS_equipment_3 amount = 100 producer = GBR }
			}
			else_if = {
				limit = { has_tech = CAS2 }
				add_equipment_to_stockpile = { type = CAS_equipment_2 amount = 100 producer = GBR }
			}
			else_if = {
				limit = { has_tech = CAS1 }
				add_equipment_to_stockpile = { type = CAS_equipment_1 amount = 100 producer = GBR }
			}
			if = {
				limit = { has_tech = tactical_bomber3 }
				add_equipment_to_stockpile = { type = tac_bomber_equipment_3 amount = 100 producer = GBR }
			}
			else_if = {
				limit = { has_tech = tactical_bomber2 }
				add_equipment_to_stockpile = { type = tac_bomber_equipment_2 amount = 100 producer = GBR }
			}
			else_if = {
				limit = { has_tech = tactical_bomber1 }
				add_equipment_to_stockpile = { type = tac_bomber_equipment_1 amount = 100 producer = GBR }
			}
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = GBR_hawker_deal
		icon = GFX_GBR_hawker
		cost = 5.00
		prerequisite = {
			focus = GBR_reform_air_force
		}
		relative_position_id = GBR_reform_air_force
		x = 1
		y = 1

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_hawker_deal"
			add_ideas = GBR_hawker_deal_idea
			if = {
				limit = {
					NOT = {
						has_idea = UK_blackburn
						has_idea = UK_baulton_paul
						has_idea = UK_handley_page
						has_idea = UK_hawker
						has_idea = UK_short
						has_idea = UK_supermarine
						has_idea = UK_westland
						has_idea = UK_raac
					}
				}
				add_ideas = UK_hawker
			}
		}
	}

	focus = {
		id = GBR_jet_propulsion
		icon = GFX_goal_generic_rocket_weapon
		cost = 5.00
		prerequisite = {
			focus = GBR_take_to_the_air
		}
		relative_position_id = GBR_reform_air_force
		x = -1
		y = 2

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_jet_propulsion"
			add_tech_bonus = {
				name = GBR_jet_propulsion
				bonus = 1
				uses = 2
				category = rocketry
				category = jet_technology
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = GBR_defending_the_coasts
		icon = GFX_focus_generic_air_defense2
		cost = 5.00
		prerequisite = {
			focus = GBR_take_to_the_air
		}
		prerequisite = {
			focus = GBR_hawker_deal
		}
		relative_position_id = GBR_reform_air_force
		x = 1
		y = 2

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 0
				NOT = { controls_all_owned_states = yes }
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_defending_the_coasts"
			if = {
				limit = { NOT = { has_tech = interwar_antiair } }
				set_technology = { interwar_antiair = 1 }
			}
			else = {
				add_tech_bonus = {
					name = GBR_defending_the_coasts
					bonus = 1
					uses = 2
					category = cat_anti_air
				}
			}
			every_owned_state = {
				limit = {
					is_controlled_by = ROOT
					OR = {
						state = 123 #Cornwall
						state = 125 #East Anglia
						state = 126 #London
						state = 127 #Sussex
					}
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = GBR_maud_committee
		icon = GFX_goal_UMN_uranium_diplomacy
		cost = 5.00
		prerequisite = {
			focus = GBR_defending_the_coasts
		}
		relative_position_id = GBR_reform_air_force
		x = 1
		y = 3

		ai_will_do = {
			factor = 2
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_maud_committee"
			add_tech_bonus = {
				name = GBR_maud_committee
				bonus = 1
				uses = 1
				category = nuclear
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = GBR_priority_land
		icon = GFX_goal_SWE_medal_rifles
		cost = 5.00
		prerequisite = {
			focus = GBR_restore_MI6
		}
		prerequisite = {
			focus = GBR_retraining_efforts
		}
		mutually_exclusive = {
			focus = GBR_priority_sea
			focus = GBR_priority_air
		}
		relative_position_id = GBR_reform_army
		x = 2
		y = 3

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				NOT = { has_completed_focus = GBR_dockyards_1 }
			}
			modifier = {
				factor = 0
				NOT = { has_completed_focus = GBR_shipbuilding_deal }
			}
			modifier = {
				factor = 0
				NOT = { has_completed_focus = GBR_jet_propulsion }
			}
			modifier = {
				factor = 0
				NOT = { has_completed_focus = GBR_defending_the_coasts }
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_priority_land"
			add_ideas = GBR_army_focus
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = GBR_priority_sea
		icon = GFX_goal_SWE_medal_navy
		cost = 5.00
		prerequisite = {
			focus = GBR_dockyards_1
		}
		prerequisite = {
			focus = GBR_shipbuilding_deal
		}
		mutually_exclusive = {
			focus = GBR_priority_land
			focus = GBR_priority_air
		}
		relative_position_id = GBR_reform_navy
		x = 0
		y = 3

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				NOT = { has_completed_focus = GBR_restore_MI6 }
			}
			modifier = {
				factor = 0
				NOT = { has_completed_focus = GBR_retraining_efforts }
			}
			modifier = {
				factor = 0
				NOT = { has_completed_focus = GBR_jet_propulsion }
			}
			modifier = {
				factor = 0
				NOT = { has_completed_focus = GBR_defending_the_coasts }
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_priority_sea"
			add_ideas = GBR_navy_focus
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = GBR_priority_air
		icon = GFX_goal_SWE_medal_air
		cost = 5.00
		prerequisite = {
			focus = GBR_jet_propulsion
		}
		prerequisite = {
			focus = GBR_defending_the_coasts
		}
		mutually_exclusive = {
			focus = GBR_priority_sea
			focus = GBR_priority_land
		}
		relative_position_id = GBR_reform_air_force
		x = -2
		y = 3

		ai_will_do = {
			factor = 15
			modifier = {
				factor = 0
				NOT = { has_completed_focus = GBR_dockyards_1 }
			}
			modifier = {
				factor = 0
				NOT = { has_completed_focus = GBR_shipbuilding_deal }
			}
			modifier = {
				factor = 0
				NOT = { has_completed_focus = GBR_restore_MI6 }
			}
			modifier = {
				factor = 0
				NOT = { has_completed_focus = GBR_retraining_efforts }
			}
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_priority_air"
			add_ideas = GBR_air_focus
		}
		search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIRFORCE_BONUS }
	}

	focus = {
		id = GBR_porton_down
		icon = GFX_HUN_new_warfighting_technology
		cost = 5
		prerequisite = {
			focus = GBR_priority_land
			focus = GBR_priority_sea
			focus = GBR_priority_air
		}
		relative_position_id = GBR_reform_navy
		x = 0
		y = 4

		ai_will_do = {
			factor = 50
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_porton_down"
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


	### FOREIGN
	focus = {
		id = GBR_foreign_office
		icon = GFX_goal_CAN_return_king
		cost = 5.00
		prerequisite = {
			focus = GBR_end_of_bra
		}
		relative_position_id = GBR_end_of_bra
		x = 12
		y = 1

		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = GBR_controls_all_britain
				all_of_scopes = {
					array = GBR.core_states
					is_british_isles = yes
					is_owned_by = ROOT
				}
			}
		}

		ai_will_do = {
			factor = 30
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_foreign_office"
			add_political_power = 100
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = GBR_entente_leadership
		icon = GFX_GBR_lead_entente
		cost = 5.00
		prerequisite = {
			focus = GBR_foreign_office
		}
		prerequisite = {
			focus = GBR_ministry_of_defence
		}
		relative_position_id = GBR_foreign_office
		x = -3
		y = 1

		available = {
			is_in_faction_with = ENT
			is_faction_leader = no
			controls_all_owned_states = yes
			has_army_manpower = { size > 99999 }
			custom_trigger_tooltip = {
				tooltip = GBR_has_over_25_ships
				check_variable = { ROOT.num_ships > 25 }
			}
		}

		ai_will_do = {
			factor = 25
			modifier = {
				factor = 0
				NOT = { has_completed_focus = GBR_retraining_efforts }
			}
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		available_if_capitulated = yes

		bypass = {
			is_in_faction_with = ENT
			is_faction_leader = yes
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_entente_leadership"
			hidden_effect = {
				ENT = { save_event_target_as = old_leader }
			}
			save_event_target_as = entente_transfer_to
			CAN_transfer_entente_leader = yes
			hidden_effect = {
				every_other_country = {
					limit = { is_in_faction_with = ROOT }
					country_event = uk.61
				}
			}
		}
	}

	focus = {
		id = GBR_five_eyes_program
		icon = GFX_GBR_five_eyes
		cost = 5.00
		prerequisite = {
			focus = GBR_entente_leadership
		}
		relative_position_id = GBR_entente_leadership
		x = -1
		y = 1

		available = {
			is_faction_leader = yes
			has_completed_focus = GBR_restore_MI6
			if = {
				limit = { has_dlc = "La Resistance" }
				has_intelligence_agency = yes
			}
				
		}

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_five_eyes_program"
			set_country_flag = GBR_asked_five_eyes
			if = {
				limit = { has_dlc = "La Resistance" }
				add_ideas = GBR_five_eyes_idea_lar
				if = {
					limit = { NOT = { has_done_agency_upgrade = upgrade_decryption_boost } }
					upgrade_intelligence_agency = upgrade_decryption_boost
				}
				if = {
					limit = { NOT = { has_done_agency_upgrade = upgrade_training_centers } }
					upgrade_intelligence_agency = upgrade_training_centers
				}
				if = {
					limit = { NOT = { has_done_agency_upgrade = upgrade_passive_defense } }
					upgrade_intelligence_agency = upgrade_passive_defense
				}
			}
			else = {
				add_ideas = GBR_five_eyes_idea
			}
			if = {
				limit = {
					has_dlc = "La Resistance"
					is_spymaster = no
					NOT = { any_allied_country = { is_spymaster = yes } }
				}
				set_faction_spymaster = yes
			}
			hidden_effect = {
				every_other_country = {
					limit = {
						is_subject = no
						is_in_faction_with = ROOT
					}
					set_country_flag = GBR_asked_five_eyes
					country_event = uk.62
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = GBR_imperial_preference
		icon = GFX_GBR_westerminster_dec
		cost = 5.00
		prerequisite = {
			focus = GBR_entente_leadership
		}
		relative_position_id = GBR_entente_leadership
		x = 1
		y = 1

		available = {
			is_faction_leader = yes
			controls_all_owned_states = yes
		}

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_imperial_preference"
			country_event = uk.63
		}
	}

	focus = {
		id = GBR_special_relationship
		icon = GFX_focus_chi_reach_out_to_france
		cost = 5.00
		prerequisite = {
			focus = GBR_imperial_preference
		}
		relative_position_id = GBR_entente_leadership
		x = -1
		y = 2

		available = {
			is_faction_leader = yes
			controls_all_owned_states = yes
			NFA = {
				is_in_faction_with = ROOT
				owns_state = 16 #Paris
				controls_all_owned_states = yes
			}
		}

		#bypass = {
		#	NFA = { has_completed_focus = NATFRA_Indestructible_Bonds }
		#}

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_special_relationship"
			country_event = uk.65
			hidden_effect = {
				NFA = { country_event = uk.65 }
			}
		}
	}

	focus = {
		id = GBR_westminster_declaration
		icon = GFX_GBR_britannia
		cost = 5.00
		prerequisite = {
			focus = GBR_imperial_preference
		}
		relative_position_id = GBR_entente_leadership
		x = 1
		y = 2

		available = {
			is_faction_leader = yes
			OR = {
				CAN = {
					is_subject = no
					is_in_faction_with = ROOT
				}
				AST = {
					is_subject = no
					is_in_faction_with = ROOT
				}
				SAF = {
					is_subject = no
					is_in_faction_with = ROOT
				}
			}
		}

		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		bypass = {
			NOT = {
				CAN = {
					is_subject = no
					is_in_faction_with = ROOT
				}
				AST = {
					is_subject = no
					is_in_faction_with = ROOT
				}
				SAF = {
					is_subject = no
					is_in_faction_with = ROOT
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_westminster_declaration"
			add_political_power = 100
			every_country = {
				limit = {
					CAN_is_commonwealth_tag = yes
					NOT = { tag = GBR }
					is_subject = no
					is_in_faction_with = GBR
				}
				add_political_power = 50
			}
			news_event = uk.69
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = GBR_returning_the_favor
		icon = GFX_NEE_canada_reconciliation
		cost = 5.00
		prerequisite = {
			focus = GBR_westminster_declaration
		}
		relative_position_id = GBR_entente_leadership
		x = 0
		y = 3

		available = {
			is_faction_leader = yes
			CAN = {
				is_subject = no
				is_in_faction_with = ROOT
				has_country_flag = CAN_loyal_to_britain
			}
		}

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_returning_the_favor"
			CAN = { country_event = uk.68 }
		}
	}

	focus = {
		id = GBR_irish_question
		icon = GFX_goal_northireland
		cost = 5.00
		prerequisite = {
			focus = GBR_foreign_office
		}
		relative_position_id = GBR_foreign_office
		x = 2
		y = 1

		available = {
			is_subject = no
			controls_all_owned_states = yes
			NOT = { owns_state = 119 }
		}

		ai_will_do = {
			factor = 50
		}

		available_if_capitulated = yes

		bypass = {
			owns_state = 119
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_irish_question"
			country_event = uk.99
		}
	}

	focus = {
		id = GBR_gibraltar_question
		icon = GFX_goal_gibraltar
		cost = 5.00
		prerequisite = {
			focus = GBR_irish_question
		}
		relative_position_id = GBR_foreign_office
		x = 0
		y = 2

		available = {
			is_subject = no
			controls_all_owned_states = yes
			NOT = { owns_state = 118 }
			has_army_manpower = { size > 99999 }
			custom_trigger_tooltip = {
				tooltip = GBR_has_over_25_ships
				check_variable = { ROOT.num_ships > 25 }
			}
		}

		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		bypass = {
			owns_state = 118
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_gibraltar_question"
			country_event = uk.112
		}
	}

	focus = {
		id = GBR_falklands_question
		icon = GFX_goal_falklands
		cost = 5.00
		prerequisite = {
			focus = GBR_irish_question
		}
		relative_position_id = GBR_foreign_office
		x = 2
		y = 2

		available = {
			is_subject = no
			controls_all_owned_states = yes
			NOT = { owns_state = 299 }
			has_army_manpower = { size > 99999 }
			custom_trigger_tooltip = {
				tooltip = GBR_has_over_25_ships
				check_variable = { ROOT.num_ships > 25 }
			}
		}

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		bypass = {
			owns_state = 299
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_falklands_question"
			country_event = uk.113
		}
	}

	focus = {
		id = GBR_west_indies_question
		icon = GFX_goal_caribbean
		cost = 5.00
		prerequisite = {
			focus = GBR_irish_question
		}
		relative_position_id = GBR_foreign_office
		x = 4
		y = 2

		available = {
			is_subject = no
			has_army_manpower = { size > 99999 }
			custom_trigger_tooltip = {
				tooltip = GBR_has_over_25_ships
				check_variable = { ROOT.num_ships > 25 }
			}
			CAF = {
				exists = yes
				is_in_faction_with = ROOT
			}
		}

		ai_will_do = {
			factor = 15
		}

		available_if_capitulated = yes

		bypass = {
			OR = {
				is_in_faction = no
				NOT = { country_exists = CAF }
				NOT = { is_in_faction_with = CAF }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_west_indies_question"
			if = {
				limit = {
					any_allied_country = {
						OR = {
							tag = CAF
							tag = TRI
							tag = GYA
							tag = JAM
						}
						is_subject = yes
						NOT = { is_subject_of = ROOT }
					}
				}
				custom_effect_tooltip = GBR_may_ask_control_carib
			}
			if = {
				limit = {
					CAF = {
						is_in_faction_with = ROOT
						OR = {
							is_subject = no
							is_subject_of = ROOT
						}
					}
				}
				set_country_flag = GBR_decided_wif_fate
				country_event = uk.124
			}
		}
	}

	focus = {
		id = GBR_the_empire_debate
		icon = GFX_goal_CAN_global_empire
		cost = 5.00
		prerequisite = {
			focus = GBR_gibraltar_question
		}
		prerequisite = {
			focus = GBR_falklands_question
		}
		prerequisite = {
			focus = GBR_west_indies_question
		}
		relative_position_id = GBR_foreign_office
		x = 2
		y = 3

		available = {
			is_subject = no
			OR = {
				is_faction_leader = yes
				is_in_faction = no
			}
			299 = { is_owned_by_ROOT_or_ally = yes }
			118 = { is_owned_by_ROOT_or_ally = yes }
			has_army_manpower = { size > 99999 }
			custom_trigger_tooltip = {
				tooltip = GBR_has_over_25_ships
				check_variable = { ROOT.num_ships > 25 }
			}
		}

		ai_will_do = {
			factor = 5
		}

		available_if_capitulated = yes

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GBR_the_empire_debate"
			country_event = uk.130
		}
	}

}

