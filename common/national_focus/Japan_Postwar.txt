###################################
###    JAPAN SUBJECT CONTENT    ###
###          BY SUZUHA          ###
###################################

focus_tree = {

	id = japan_subject_focus

	country = { factor = 0 }
	default = no

	continuous_focus_position = { x = 2500 y = 1300 }

#######################
###  POLITICS TREE  ###
#######################

   ### Socialist Japan ###
	focus = {
		id = JAP_dawn_of_a_revolution
		icon = GFX_goal_commune_politics
		cost = 5

		x = 7
		y = 1

		allow_branch = {
			has_country_flag = JAP_socialist
			has_socialist_government = yes
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_dawn_of_a_revolution"
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_dismantle_the_tools_of_capitalism
		icon = GFX_goal_generic_industry_reallocation
		cost = 5

		relative_position_id = JAP_dawn_of_a_revolution
		x = -2
		y = 1

		prerequisite = {
			focus = JAP_dawn_of_a_revolution
		}
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_dismantle_the_tools_of_capitalism"
			if = {
				limit = { JAP = { num_of_military_factories > 25 } }
				every_owned_state = {
					remove_building = {
						type = arms_factory
						level = 1
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				add_one_random_civilian_factory = yes
				add_one_random_civilian_factory = yes
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = JAP_purge_reactionaries
		icon = GFX_goal_backstab
		cost = 5

		relative_position_id = JAP_dawn_of_a_revolution
		x = 0
		y = 1

		prerequisite = {
			focus = JAP_dawn_of_a_revolution
		}
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_purge_reactionaries"
			JAP_purge_military_effect = yes
			add_stability = -0.1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_renounce_imperialism
		icon = GFX_goal_crush_monarchy
		cost = 5

		relative_position_id = JAP_dawn_of_a_revolution
		x = 2
		y = 1

		prerequisite = {
			focus = JAP_dawn_of_a_revolution
		}
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_renounce_imperialism"
			add_timed_idea = {
				idea = JAP_war_reparations_overlord_idea
				days = 720
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INTERNAL_AFFAIRS }
	}

	focus = {
		id = JAP_restore_faith_in_the_civilian_government
		icon = GFX_goal_generic_revolutionary_government
		cost = 5

		relative_position_id = JAP_dawn_of_a_revolution
		x = 0
		y = 2

		prerequisite = { focus = JAP_dismantle_the_tools_of_capitalism }
		prerequisite = { focus = JAP_purge_reactionaries }
		prerequisite = { focus = JAP_renounce_imperialism }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_restore_faith_in_the_civilian_government"
			JAP_shattered_people_effect = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_the_communist_supremacy
		icon = GFX_goal_revolution_tools
		cost = 5

		relative_position_id = JAP_restore_faith_in_the_civilian_government
		x = -4
		y = 1

		available = {
			OR = {
				has_government = totalist
				has_government = radical_socialist
				has_country_flag = JAP_showa_tree
			}
		}
		prerequisite = { focus = JAP_restore_faith_in_the_civilian_government }
		mutually_exclusive = { focus = JAP_create_the_united_front }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_the_communist_supremacy"
			add_political_power = 100
			add_popularity = { ideology = totalist popularity = 0.1 }
			JAP_shattered_people_effect = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_reorganise_central_committee
		icon = GFX_focus_SOV_the_supreme_soviet
		cost = 5

		relative_position_id = JAP_the_communist_supremacy
		x = 1
		y = 1

		prerequisite = { focus = JAP_the_communist_supremacy }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_reorganise_central_committee"
			JAP_shattered_people_effect = yes
			add_popularity = { ideology = totalist popularity = 0.05 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_enforce_ideological_purity
		icon = GFX_focus_SOV_penal_battalions
		cost = 5

		relative_position_id = JAP_reorganise_central_committee
		x = 0
		y = 2

		prerequisite = { focus = JAP_reorganise_central_committee }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_enforce_ideological_purity"
			custom_effect_tooltip = CHI_anti_totalist_stab_loss_tt
			#Lose Stability Proportionate to Difference between 100% and Totalist Party Popularity, reused a CHI tooltip
			set_temp_variable = { JAP_stability_loss_temp_var = ROOT.party_popularity@totalist }
			subtract_from_temp_variable = { JAP_stability_loss_temp_var = 1 }
			multiply_temp_variable = { JAP_stability_loss_temp_var = 0.25 }
			clamp_temp_variable = {
				var = JAP_stability_loss_temp_var
				min = -1
				max = 0
			}
			add_stability = JAP_stability_loss_temp_var
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_shining_communist_republic
		icon = GFX_focus_generic_soviet_politics
		cost = 5

		relative_position_id = JAP_enforce_ideological_purity
		x = -1
		y = 1

		prerequisite = { focus = JAP_enforce_ideological_purity }
		prerequisite = { focus = JAP_launch_the_five_year_plan }
		available = { has_idea = JAP_shattered_people_idea4 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_shining_communist_republic"
			swap_ideas = {
				remove_idea = JAP_shattered_people_idea4
				add_idea = JAP_communist_republic_of_japan_idea
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_total_government_nationalisation
		icon = GFX_goal_state_economy
		cost = 5

		relative_position_id = JAP_the_communist_supremacy
		x = -1
		y = 1

		prerequisite = { focus = JAP_the_communist_supremacy }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_total_government_nationalisation"
			JAP_puppet_economy_reconstruction_effect = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = JAP_dismantle_the_zaibatsus
		icon = GFX_goal_bankruptcy
		cost = 5

		relative_position_id = JAP_total_government_nationalisation
		x = -1
		y = 1

		prerequisite = { focus = JAP_total_government_nationalisation }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_dismantle_the_zaibatsus"
			JAP_puppet_economy_reconstruction_effect = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = JAP_radical_land_distribution
		icon = GFX_goal_OTT_Land_Reform
		cost = 5

		relative_position_id = JAP_total_government_nationalisation
		x = 1
		y = 1

		prerequisite = { focus = JAP_total_government_nationalisation }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_radical_land_distribution"
			add_stability = -0.15
			random_owned_controlled_state = {
				prioritize = { 282 } #Tokyo
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 531 } #Kansai
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 528 } #Kyushu
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = JAP_launch_the_five_year_plan
		icon = GFX_goal_generic_soviet_construction
		cost = 5

		relative_position_id = JAP_dismantle_the_zaibatsus
		x = 1
		y = 1

		prerequisite = { focus = JAP_dismantle_the_zaibatsus }
		prerequisite = { focus = JAP_radical_land_distribution }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_launch_the_five_year_plan"
			JAP_puppet_economy_reconstruction_effect = yes
			add_timed_idea = {
				idea = JAP_five_year_plan_idea
				days = 720
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = JAP_create_the_united_front
		icon = GFX_socialist_constitution
		cost = 5

		relative_position_id = JAP_restore_faith_in_the_civilian_government
		x = 4
		y = 1

		available = {
			OR = {
				has_government = syndicalist
				has_country_flag = JAP_dem_tree
			}
		}
		prerequisite = { focus = JAP_restore_faith_in_the_civilian_government }
		mutually_exclusive = { focus = JAP_the_communist_supremacy }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_create_the_united_front"
			JAP_shattered_people_effect = yes
			add_political_power = 100
			add_popularity = { ideology = syndicalist popularity = 0.1 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_found_the_sohyo
		icon = GFX_GBR_fate_of_unions
		cost = 5

		relative_position_id = JAP_create_the_united_front
		x = -1
		y = 1

		prerequisite = { focus = JAP_create_the_united_front }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_found_the_sohyo"
			JAP_shattered_people_effect = yes
			set_temp_variable = { coalition_partner_var = token:social_democrat }
			add_to_coalition = yes
			set_temp_variable = { coalition_partner_var = token:radical_socialist }
			add_to_coalition = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_promote_fair_land_redistribution
		icon = GFX_goal_generic_land_reform
		cost = 5

		relative_position_id = JAP_create_the_united_front
		x = 1
		y = 1

		prerequisite = { focus = JAP_create_the_united_front }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_promote_fair_land_redistribution"
			JAP_puppet_economy_reconstruction_effect = yes
			add_popularity = { ideology = syndicalist popularity = 0.05 }
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = JAP_nationalise_the_zaibatsus
		icon = GFX_goal_ANQ_Zaibatsu_Contracts
		cost = 5

		relative_position_id = JAP_create_the_united_front
		x = 0
		y = 2

		prerequisite = { focus = JAP_create_the_united_front }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_nationalise_the_zaibatsus"
			JAP_puppet_economy_reconstruction_effect = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = JAP_create_peoples_communes
		icon = GFX_goal_SZC_improvised_farming_machinery
		cost = 5

		relative_position_id = JAP_nationalise_the_zaibatsus
		x = -1
		y = 1

		prerequisite = { focus = JAP_nationalise_the_zaibatsus }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_create_peoples_communes"
			JAP_puppet_economy_reconstruction_effect = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = JAP_strengthen_workers_councils
		icon = GFX_goal_syndicalist_workers
		cost = 5

		relative_position_id = JAP_nationalise_the_zaibatsus
		x = 1
		y = 1

		prerequisite = { focus = JAP_nationalise_the_zaibatsus }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_strengthen_workers_councils"
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
			add_one_random_civilian_factory = yes
			add_one_random_military_factory = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = JAP_the_red_flag_shall_fly_here
		icon = GFX_focus_ITA_corpo_volontari_della_liberta
		cost = 5

		relative_position_id = JAP_strengthen_workers_councils
		x = -1
		y = 1

		prerequisite = { focus = JAP_strengthen_workers_councils }
		prerequisite = { focus = JAP_create_peoples_communes }
		available = { has_idea = JAP_shattered_people_idea4 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_the_red_flag_shall_fly_here"
			swap_ideas = {
				remove_idea = JAP_shattered_people_idea4
				add_idea = JAP_the_revolution_successful_idea
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_emancipate_women
		icon = GFX_goal_the_gender_issue
		cost = 5

		relative_position_id = JAP_the_communist_supremacy
		x = 4
		y = 1

		prerequisite = { focus = JAP_the_communist_supremacy focus = JAP_create_the_united_front }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_emancipate_women"
			JAP_shattered_people_effect = yes
			set_rule = { can_generate_female_aces = yes }
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_create_socialist_youth_league
		icon = GFX_goal_harness_peoples_will
		cost = 5

		relative_position_id = JAP_emancipate_women
		x = -1
		y = 1

		prerequisite = { focus = JAP_emancipate_women }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_create_socialist_youth_league"
			add_ideas = generic_military_youth_focus
			add_popularity = { ideology = radical_socialist popularity = 0.05 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_encourage_revolutionary_culture
		icon = GFX_focus_eng_liberate_the_home_of_marx
		cost = 5

		relative_position_id = JAP_emancipate_women
		x = 1
		y = 1

		prerequisite = { focus = JAP_emancipate_women }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_encourage_revolutionary_culture"
			add_stability = 0.1
			add_popularity = { ideology = totalist popularity = 0.05 }
			add_popularity = { ideology = radical_socialist popularity = 0.05 }
			add_popularity = { ideology = syndicalist popularity = 0.05 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_sponser_overseas_revolutionary_studies
		icon = GFX_goal_military_research
		cost = 5

		relative_position_id = JAP_emancipate_women
		x = 0
		y = 2

		available = {
			has_completed_focus = JAP_encourage_revolutionary_culture
			has_completed_focus = JAP_create_socialist_youth_league
		}
		prerequisite = { focus = JAP_emancipate_women }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_sponser_overseas_revolutionary_studies"
			add_research_slot_until_five = yes
			var:JAP.overlord = {
				add_timed_idea = {
					idea = JAP_revolutionary_education_programme_idea
					days = 720
				}
			}
			add_timed_idea = {
				idea = JAP_revolutionary_education_programme_idea
				days = 720
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

   ### LKMT Released JAP ###
	focus = {
		id = JAP_white_dawn_eclipses_red_sun
		icon = GFX_goal_chi_republic
		cost = 5

		x = 7
		y = 1

		allow_branch = {
			has_country_flag = JAP_under_the_kmt
			NOT = { has_country_flag = JAP_socialist }
			has_socialist_government = yes
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_white_dawn_eclipses_red_sun"
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_total_demobilisation
		icon = GFX_goal_generic_industry_reallocation
		cost = 5

		relative_position_id = JAP_white_dawn_eclipses_red_sun
		x = -2
		y = 1

		prerequisite = {
			focus = JAP_white_dawn_eclipses_red_sun
		}
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_total_demobilisation"
			if = {
				limit = { JAP = { num_of_military_factories > 25 } }
				every_owned_state = {
					remove_building = {
						type = arms_factory
						level = 1
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = JAP_military_tribunal_for_the_far_east
		icon = GFX_goal_generic_trial
		cost = 5

		relative_position_id = JAP_white_dawn_eclipses_red_sun
		x = 0
		y = 1

		prerequisite = {
			focus = JAP_white_dawn_eclipses_red_sun
		}
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_military_tribunal_for_the_far_east"
			JAP_purge_military_effect = yes
			add_stability = -0.1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_war_reparations_order
		icon = GFX_goal_generic_cash_stimulus_plan
		cost = 5

		relative_position_id = JAP_white_dawn_eclipses_red_sun
		x = 2
		y = 1

		prerequisite = {
			focus = JAP_white_dawn_eclipses_red_sun
		}
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_war_reparations_order"
			add_timed_idea = {
				idea = JAP_war_reparations_chi_overlord_idea
				days = 720
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_the_first_stage_of_revolution
		icon = GFX_goal_generic_police_state
		cost = 5

		relative_position_id = JAP_white_dawn_eclipses_red_sun
		x = 0
		y = 2

		prerequisite = { focus = JAP_war_reparations_order }
		prerequisite = { focus = JAP_military_tribunal_for_the_far_east }
		prerequisite = { focus = JAP_total_demobilisation }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_the_first_stage_of_revolution"
			add_stability = 0.1
			add_popularity = { ideology = radical_socialist popularity = 0.05 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_promote_the_workers_rights
		icon = GFX_goal_workers_rights
		cost = 5

		relative_position_id = JAP_the_first_stage_of_revolution
		x = 0
		y = 1

		prerequisite = {
			focus = JAP_the_first_stage_of_revolution
		}
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_promote_the_workers_rights"
			JAP_shattered_people_effect = yes
			add_popularity = { ideology = syndicalist popularity = 0.05 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_encourage_local_controlled_elections
		icon = GFX_goal_generic_seize_press
		cost = 5

		relative_position_id = JAP_promote_the_workers_rights
		x = 0
		y = 1

		prerequisite = {
			focus = JAP_promote_the_workers_rights
		}
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_encourage_local_controlled_elections"
			JAP_shattered_people_effect = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_strive_towards_social_equity
		icon = GFX_goal_the_gender_issue
		cost = 5

		relative_position_id = JAP_encourage_local_controlled_elections
		x = -1
		y = 1

		prerequisite = {
			focus = JAP_encourage_local_controlled_elections
		}
		prerequisite = {
			focus = JAP_create_the_welfare_state
		}
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_strive_towards_social_equity"
			JAP_shattered_people_effect = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_panasian_sisterhood
		icon = GFX_goal_CHI_tigress_battalions
		cost = 5

		relative_position_id = JAP_encourage_local_controlled_elections
		x = 0
		y = 2

		prerequisite = {
			focus = JAP_encourage_local_controlled_elections
		}
		ai_will_do = { base = 100 }
		available = { has_idea = JAP_shattered_people_idea4 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_panasian_sisterhood"
			add_political_power = 100
			swap_ideas = {
				remove_idea = JAP_shattered_people_idea4
				add_idea = 	JAP_sister_republic_idea
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_national_reconstruction_comission
		icon = GFX_goal_CHI_revive_china
		cost = 5

		relative_position_id = JAP_the_first_stage_of_revolution
		x = -3
		y = 1

		prerequisite = {
			focus = JAP_the_first_stage_of_revolution
		}
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_national_reconstruction_comission"
			JAP_puppet_economy_reconstruction_effect = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = JAP_create_the_welfare_state
		icon = GFX_goal_healthcare
		cost = 5

		relative_position_id = JAP_national_reconstruction_comission
		x = 1
		y = 1

		prerequisite = {
			focus = JAP_national_reconstruction_comission
		}
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_create_the_welfare_state"
			JAP_puppet_economy_reconstruction_effect = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = JAP_revive_the_yen
		icon = GFX_goal_JAP_yen
		cost = 5

		relative_position_id = JAP_national_reconstruction_comission
		x = -1
		y = 1

		prerequisite = {
			focus = JAP_national_reconstruction_comission
		}
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_revive_the_yen"
			JAP_puppet_economy_reconstruction_effect = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = JAP_adopt_national_capitalism
		icon = GFX_goal_state_economy
		cost = 5

		relative_position_id = JAP_national_reconstruction_comission
		x = 0
		y = 2

		prerequisite = {
			focus = JAP_national_reconstruction_comission
		}
		available = {
			has_completed_focus = JAP_revive_the_yen
			has_completed_focus = JAP_create_the_welfare_state
		}
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_adopt_national_capitalism"
			JAP_puppet_economy_reconstruction_effect = yes
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = JAP_combat_the_shame_of_defeatism
		icon = GFX_goal_japanese_democracy
		cost = 5

		relative_position_id = JAP_the_first_stage_of_revolution
		x = 3
		y = 1

		prerequisite = {
			focus = JAP_the_first_stage_of_revolution
		}
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_combat_the_shame_of_defeatism"
			add_war_support = 0.05
			add_stability = 0.1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = JAP_joint_sino_jap_construction_scheme
		icon = GFX_goal_generic_construct_public_housing
		cost = 5

		relative_position_id = JAP_combat_the_shame_of_defeatism
		x = 1
		y = 1

		prerequisite = {
			focus = JAP_combat_the_shame_of_defeatism
		}
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_joint_sino_jap_construction_scheme"
			add_timed_idea = {
				idea = JAP_chinese_construction_crews_idea
				days = 365
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = JAP_sino_japanese_study_programme
		icon = GFX_goal_military_research
		cost = 5

		relative_position_id = JAP_combat_the_shame_of_defeatism
		x = -1
		y = 1

		prerequisite = {
			focus = JAP_combat_the_shame_of_defeatism
		}
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_sino_japanese_study_programme"
			add_research_slot_until_five = yes
			CHI = {
				add_timed_idea = {
					idea = JAP_CHI_sino_japanese_study_programme_idea
					days = 365
				}
			}
			add_timed_idea = {
				idea = JAP_sino_japanese_study_programme_idea
				days = 365
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = JAP_japanese_branch_of_the_youth_corps
		icon = GFX_goal_chi_youth_corps
		cost = 5

		relative_position_id = JAP_sino_japanese_study_programme
		x = 1
		y = 1

		prerequisite = {
			focus = JAP_sino_japanese_study_programme
		}
		prerequisite = {
			focus = JAP_joint_sino_jap_construction_scheme
		}
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_japanese_branch_of_the_youth_corps"
			add_ideas = generic_military_youth_focus
			add_war_support = 0.1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

#######################
###  ECONOMIC TREE  ###
#######################

	focus = {
		id = JAP_form_transitional_government
		icon = GFX_goal_government_icon
		cost = 0

		x = 7
		y = 1

		allow_branch = {
			has_country_flag = JAP_democratic
			has_country_flag = JAP_defeated_nation
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_form_transitional_government"
		}
	}

	focus = {
		id = JAP_replace_the_wartime_cabinet
		icon = GFX_focus_POL_complete_april_constitution
		cost = 5

		relative_position_id = JAP_form_transitional_government
		x = 0
		y = 1

		prerequisite = { focus = JAP_form_transitional_government }
		ai_will_do = { base = 200 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_replace_the_wartime_cabinet"
			add_political_power = 50
			JAP_replace_wartime_cabinet_effect = yes
			custom_effect_tooltip = tooltip_white_line
			set_party_name = {
				ideology = market_liberal
				long_name = JAP_nihon_jiyuto_long
				name = JAP_nihon_jiyuto
			}
			set_party_name = {
				ideology = social_conservative
				long_name = JAP_nihon_minshuto_long
				name = JAP_nihon_minshuto
			}
			if = {
				limit = { has_country_flag = JAP_liberal_puppet_flag }
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = JAP_election_in_four_months_tt
				hidden_effect = {
					country_event = { id = japdom.239 days = 120 }
				}
			}
		}
	}

	focus = {
		id = JAP_price_and_inflation_controls
		icon = GFX_goal_generic_cash_stimulus_plan
		cost = 5

		relative_position_id = JAP_replace_the_wartime_cabinet
		x = -2
		y = 1

		prerequisite = { focus = JAP_replace_the_wartime_cabinet }
		ai_will_do = { base = 200 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_price_and_inflation_controls"
			JAP_shattered_people_effect = yes
		}
	}

	focus = {
		id = JAP_emergency_relief_for_wartorn_areas
		icon = GFX_goal_generic_destruction_civil_war
		cost = 5

		relative_position_id = JAP_replace_the_wartime_cabinet
		x = 0
		y = 1

		prerequisite = { focus = JAP_replace_the_wartime_cabinet }
		ai_will_do = { base = 200 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_emergency_relief_for_wartorn_areas"
			add_stability = 0.05
			add_timed_idea = {
				idea = JAP_emergency_relief_idea
				days = 100
			}
		}
	}

	focus = {
		id = JAP_question_of_the_imperial_family
		icon = GFX_focus_jap_showa_restoration
		cost = 5

		relative_position_id = JAP_replace_the_wartime_cabinet
		x = 2
		y = 1

		prerequisite = { focus = JAP_replace_the_wartime_cabinet }
		ai_will_do = { base = 200 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_question_of_the_imperial_family"
			if = {
				limit = { has_country_flag = JAP_hirohito_abdicated }
				custom_effect_tooltip = JAP_question_of_the_imperial_family_hirohito_abdicated_tt
			}
			else_if = {
				limit = { has_idea = JAP_depolicization_of_the_throne_idea }
				custom_effect_tooltip = JAP_question_of_the_imperial_family_hirohito_stayed_tt
			}
			else = {
				custom_effect_tooltip = JAP_question_of_the_imperial_family_default_tt
			}
			hidden_effect = {
				add_stability = -0.05
				if = {
					limit = { has_country_leader = { name = "Hirohito" ruling_only = yes} }
					JAP_puppet_hirohito_followup_trait_effect = yes
				}
				news_event = { id = worldnews.245 days = 1 }
			}
		}
	}

	focus = {
		id = JAP_subject_econ_start_focus
		icon = GFX_goal_JAP_toseiha
		cost = 5
		dynamic = yes

		relative_position_id = JAP_emergency_relief_for_wartorn_areas
		x = 0
		y = 1

		prerequisite = { focus = JAP_price_and_inflation_controls }
		prerequisite = { focus = JAP_emergency_relief_for_wartorn_areas }
		prerequisite = { focus = JAP_question_of_the_imperial_family }
		ai_will_do = { base = 200 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_subject_econ_start_focus"
			if = {
				limit = {
					has_country_flag = JAP_authoritarian_puppet_flag
					NOT = { has_country_flag = JAP_hirohito_abdicated }
				}
				remove_ideas_with_trait = head_of_government
				add_ideas = JAP_Kishi_Nobusuke_hog_pau
			}
			if = {
				limit = { has_country_flag = JAP_showa_tree }
				add_political_power = 100
				add_popularity = {
					ideology = national_populist
					popularity = -0.15
				}
			}
			else_if = {
				limit = { has_country_flag = JAP_milcentralism_tree }
				add_political_power = 100
				add_popularity = {
					ideology = paternal_autocrat
					popularity = -0.15
				}
			}
			else_if = {
				limit = { has_country_flag = JAP_dem_tree }
				add_political_power = 100
				add_stability = 0.1
			}
		}
	}

	focus = {
		id = JAP_pressure_the_dissolution_of_the_zaibatsu
		icon = GFX_goal_generic_banking_legislation
		cost = 5

		relative_position_id = JAP_subject_econ_start_focus
		x = -4
		y = 1

		ai_will_do = { base = 100 }
		available = {
			OR = {
				has_government = authoritarian_democrat
				has_left_democratic_government = yes
			}
		}
		prerequisite = { focus = JAP_subject_econ_start_focus }
		mutually_exclusive = { focus = JAP_national_economic_board }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_pressure_the_dissolution_of_the_zaibatsu"
			JAP_puppet_economy_reconstruction_effect = yes
			#activate_advisor = JAP_ikeda_shigeaki
		}
	}

	focus = {
		id = JAP_constitutional_amendments
		icon = GFX_goal_constitutional_guarantees
		cost = 5

		relative_position_id = JAP_pressure_the_dissolution_of_the_zaibatsu
		x = 0
		y = 1

		prerequisite = { focus = JAP_pressure_the_dissolution_of_the_zaibatsu }
		ai_will_do = { base = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_constitutional_amendments"
			set_temp_variable = { ideology_change_var = 0.15 }
			change_ruling_party_popularity = yes
			add_ideas = JAP_dem_puppet_anti_zaibatsu_idea1
		}
	}

	focus = {
		id = JAP_industrial_demobilisation
		icon = GFX_goal_generic_industry_reallocation
		cost = 5

		relative_position_id = JAP_pressure_the_dissolution_of_the_zaibatsu
		x = -3
		y = 1

		prerequisite = { focus = JAP_pressure_the_dissolution_of_the_zaibatsu }
		ai_will_do = { base = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_industrial_demobilisation"
			add_tech_bonus = {
				name = JAP_aid_for_industrial_centers
				bonus = 1
				uses = 1
				category = industry
			}
			if = {
				limit = { JAP = { num_of_military_factories > 25 } }
				every_owned_state = {
					remove_building = {
						type = arms_factory
						level = 1
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
			else = {
				add_one_random_civilian_factory = yes
				add_one_random_civilian_factory = yes
			}
		}
	}

	focus = {
		id = JAP_push_through_the_trade_union_law
		icon = GFX_goal_workers_rights
		cost = 5

		relative_position_id = JAP_constitutional_amendments
		x = 0
		y = 1

		prerequisite = { focus = JAP_constitutional_amendments }
		ai_will_do = { base = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_push_through_the_trade_union_law"
			JAP_shattered_people_effect = yes
			effect_tooltip = {
				swap_ideas = {
					remove_idea = JAP_dem_puppet_anti_zaibatsu_idea1
					add_idea = JAP_dem_puppet_anti_zaibatsu_idea12
				}
			}
			hidden_effect = {
				if = {
					limit = { has_idea = JAP_dem_puppet_anti_zaibatsu_idea1 }
					swap_ideas = {
						remove_idea = JAP_dem_puppet_anti_zaibatsu_idea1
						add_idea = JAP_dem_puppet_anti_zaibatsu_idea12
					}
				}
				else = {
					JAP_anti_zaibatsu_effect = yes
				}
			}
		}
	}

	focus = {
		id = JAP_nationalisation_of_coal_mines
		icon = GFX_goal_generic_coal_mining
		cost = 5

		relative_position_id = JAP_constitutional_amendments
		x = -2
		y = 1

		prerequisite = { focus = JAP_industrial_demobilisation }
		prerequisite = { focus = JAP_constitutional_amendments }
		ai_will_do = { base = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_nationalisation_of_coal_mines"
			JAP_puppet_economy_reconstruction_effect = yes
			effect_tooltip = {
				swap_ideas = {
					remove_idea = JAP_dem_puppet_anti_zaibatsu_idea1
					add_idea = JAP_dem_puppet_anti_zaibatsu_idea13
				}
			}
			hidden_effect = {
				if = {
					limit = { has_idea = JAP_dem_puppet_anti_zaibatsu_idea1 }
					swap_ideas = {
						remove_idea = JAP_dem_puppet_anti_zaibatsu_idea1
						add_idea = JAP_dem_puppet_anti_zaibatsu_idea13
					}
				}
				else = {
					JAP_anti_zaibatsu_effect = yes
				}
			}
		}
	}

	focus = {
		id = JAP_ramp_up_relief_efforts_for_peasants
		icon = GFX_goal_agricultural_aid
		cost = 5

		relative_position_id = JAP_constitutional_amendments
		x = -4
		y = 1

		prerequisite = { focus = JAP_industrial_demobilisation }
		ai_will_do = { base = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_ramp_up_relief_efforts_for_peasants"
			JAP_puppet_economy_reconstruction_effect = yes
		}
	}

	focus = {
		id = JAP_blossom_of_a_freer_japan
		icon = GFX_JAP_sakura_tree
		cost = 5

		relative_position_id = JAP_push_through_the_trade_union_law
		x = -1
		y = 1

		ai_will_do = { base = 100 }
		available = { has_idea = JAP_shattered_people_idea4 }
		prerequisite = { focus = JAP_push_through_the_trade_union_law }
		prerequisite = { focus = JAP_ramp_up_relief_efforts_for_peasants }
		prerequisite = { focus = JAP_nationalisation_of_coal_mines }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_blossom_of_a_freer_japan"
			swap_ideas = {
				remove_idea = JAP_shattered_people_idea4
				add_idea = JAP_modern_state_idea
			}
		}
	}

	focus = {
		id = JAP_national_economic_board
		icon = GFX_goal_generic_controlled_board
		cost = 5

		relative_position_id = JAP_subject_econ_start_focus
		x = 4
		y = 1

		ai_will_do = { base = 100 }
		available = {
			OR = {
				has_government = authoritarian_democrat
				has_right_democratic_government = yes
			}
		}
		prerequisite = { focus = JAP_subject_econ_start_focus }
		mutually_exclusive = { focus = JAP_pressure_the_dissolution_of_the_zaibatsu }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_national_economic_board"
			JAP_puppet_economy_reconstruction_effect = yes
			## zaibatsu big time
			add_ideas = JAP_dem_puppet_pro_zaibatsu_idea1
		}
	}

	focus = {
		id = JAP_place_restrictions_on_diet_representatives
		icon = GFX_focus_generic_authoritarian_government
		cost = 5

		relative_position_id = JAP_national_economic_board
		x = 0
		y = 1

		prerequisite = { focus = JAP_national_economic_board }
		ai_will_do = { base = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_place_restrictions_on_diet_representatives"
			set_temp_variable = { ideology_change_var = 0.1 }
			change_ruling_party_popularity = yes
			effect_tooltip = {
				swap_ideas = {
					remove_idea = JAP_dem_puppet_pro_zaibatsu_idea1
					add_idea = JAP_dem_puppet_pro_zaibatsu_idea12
				}
			}
			hidden_effect = {
				if = {
					limit = { has_idea = JAP_dem_puppet_pro_zaibatsu_idea1 }
					swap_ideas = {
						remove_idea = JAP_dem_puppet_pro_zaibatsu_idea1
						add_idea = JAP_dem_puppet_pro_zaibatsu_idea12
					}
				}
				else = {
					JAP_pro_zaibatsu_effect = yes
				}
			}
		}
	}

	focus = {
		id = JAP_aid_for_industrial_centers
		icon = GFX_goal_generic_improve_industry
		cost = 5

		relative_position_id = JAP_national_economic_board
		x = 2
		y = 1

		prerequisite = { focus = JAP_national_economic_board }
		ai_will_do = { base = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_aid_for_industrial_centers"
			add_tech_bonus = {
				name = JAP_aid_for_industrial_centers
				bonus = 0.5
				uses = 2
				category = industry
			}
			random_owned_controlled_state = {
				prioritize = { 282 } #Tokyo
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 531 } #Kansai
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 528 } #Kyushu
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = JAP_adapt_the_new_labor_standards_act_to_the_zaibatsu
		icon = GFX_goal_generic_investigate_corruption
		cost = 5

		relative_position_id = JAP_place_restrictions_on_diet_representatives
		x = 0
		y = 1

		prerequisite = { focus = JAP_place_restrictions_on_diet_representatives }
		ai_will_do = { base = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_adapt_the_new_labor_standards_act_to_the_zaibatsu"
			JAP_shattered_people_effect = yes
		}
	}

	focus = {
		id = JAP_mutual_economic_aid_with_the_big_four
		icon = GFX_goal_ANQ_Zaibatsu_Contracts
		cost = 5

		relative_position_id = JAP_aid_for_industrial_centers
		x = 0
		y = 1

		prerequisite = { focus = JAP_aid_for_industrial_centers }
		ai_will_do = { base = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_mutual_economic_aid_with_the_big_four"
			JAP_puppet_economy_reconstruction_effect = yes
			effect_tooltip = {
				swap_ideas = {
					remove_idea = JAP_dem_puppet_pro_zaibatsu_idea1
					add_idea = JAP_dem_puppet_pro_zaibatsu_idea13
				}
			}
			hidden_effect = {
				if = {
					limit = { has_idea = JAP_dem_puppet_pro_zaibatsu_idea1 }
					swap_ideas = {
						remove_idea = JAP_dem_puppet_pro_zaibatsu_idea1
						add_idea = JAP_dem_puppet_pro_zaibatsu_idea13
					}
				}
				else = {
					JAP_pro_zaibatsu_effect = yes
				}
			}
		}
	}

	focus = {
		id = JAP_turn_a_blind_eye_to_monopolies
		icon = GFX_goal_generic_debt_negotiations
		cost = 5

		relative_position_id = JAP_aid_for_industrial_centers
		x = 2
		y = 1

		prerequisite = { focus = JAP_aid_for_industrial_centers }
		ai_will_do = { base = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_turn_a_blind_eye_to_monopolies"
			add_political_power = 30
			JAP_puppet_economy_reconstruction_effect = yes

		}
	}

	focus = {
		id = JAP_a_new_sun_in_the_sky
		icon = GFX_focus_jap_pacific_guardian
		cost = 5

		relative_position_id = JAP_adapt_the_new_labor_standards_act_to_the_zaibatsu
		x = 1
		y = 1

		ai_will_do = { base = 100 }
		available = { has_idea = JAP_shattered_people_idea4 }
		prerequisite = { focus = JAP_adapt_the_new_labor_standards_act_to_the_zaibatsu }
		prerequisite = { focus = JAP_mutual_economic_aid_with_the_big_four }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_a_new_sun_in_the_sky"
			swap_ideas = {
				remove_idea = JAP_shattered_people_idea4
				add_idea = JAP_traditionalist_state_idea
			}
		}
	}

	focus = {
		id = JAP_redistribution_of_land
		icon = GFX_goal_agricultural_policies
		cost = 5

		relative_position_id = JAP_national_economic_board
		x = -2
		y = 1

		prerequisite = { focus = JAP_national_economic_board focus = JAP_pressure_the_dissolution_of_the_zaibatsu }

		ai_will_do = {
			base = 100
			modifier = {
				has_idea = JAP_bad_land
				add = 150
			}
		}

		completion_reward = {
			## 農地解放, emancipation of farming land
			log = "[GetDateText]: [Root.GetName]: Focus JAP_redistribution_of_land"
			add_stability = 0.05
			if = {
				limit = { has_idea = JAP_bad_land }
				unlock_decision_category_tooltip = JAP_land_reform
				hidden_effect = { JAP_open_JAP_land_reform = yes }
			}
			else = {
				random_owned_controlled_state = {
					prioritize = { 532 }
					add_extra_state_shared_building_slots = 2
				}
				random_owned_controlled_state = {
					prioritize = { 1102 }
					add_extra_state_shared_building_slots = 1
				}
				random_owned_controlled_state = {
					prioritize = { 533 }
					add_extra_state_shared_building_slots = 1
				}
				random_owned_controlled_state = {
					prioritize = { 534 }
					add_extra_state_shared_building_slots = 1
				}
			}
		}
	}

	focus = {
		id = JAP_estabilish_the_japanese_national_railway
		icon = GFX_focus_generic_railroad
		cost = 5

		relative_position_id = JAP_redistribution_of_land
		x = 0
		y = 1

		prerequisite = { focus = JAP_redistribution_of_land }
		ai_will_do = { base = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_estabilish_the_japanese_national_railway"
			if = {
				limit = { has_idea = JAP_narrow_rail }
				add_timed_idea = {
					idea = JAP_change_rail
					days = 180
				}
				custom_effect_tooltip = tooltip_white_line
				custom_effect_tooltip = after_idea_expires
				effect_tooltip = {
					remove_ideas = JAP_narrow_rail
					add_ideas = JAP_railway_expansion_idea
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = train_equipment
					amount = 30
				}
				add_ideas = JAP_railway_expansion_idea
			}
		}
	}

	focus = {
		id = JAP_emancipation_of_women
		icon = GFX_goal_the_gender_issue
		cost = 5

		relative_position_id = JAP_pressure_the_dissolution_of_the_zaibatsu
		x = 3
		y = 1

		prerequisite = { focus = JAP_national_economic_board focus = JAP_pressure_the_dissolution_of_the_zaibatsu }
		ai_will_do = { base = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_emancipation_of_women"
			JAP_shattered_people_effect = yes
			add_ideas = JAP_emancipation_of_women_idea
		}
	}

	focus = {
		id = JAP_reorganise_the_writing_system
		icon = GFX_goal_KTG_Educate_natives
		cost = 5

		relative_position_id = JAP_emancipation_of_women
		x = -1
		y = 1

		prerequisite = { focus = JAP_emancipation_of_women }
		ai_will_do = { base = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_reorganise_the_writing_system"
			add_research_slot_until_five = yes
			add_ideas = JAP_independency_from_foreign_research_idea
		}
	}

	focus = {
		id = JAP_breakdown_of_state_shinto
		icon = GFX_focus_jap_spiritual_mobilization
		cost = 5

		relative_position_id = JAP_emancipation_of_women
		x = 1
		y = 1

		prerequisite = { focus = JAP_emancipation_of_women }
		ai_will_do = { base = 50 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_breakdown_of_state_shinto"
			add_war_support = -0.15
			add_political_power = 150
		}
	}

#######################
###  MILITARY TREE  ###
#######################

   ### Puppet Military Tree ###
	focus = {
		id = JAP_create_the_national_police_reserve
		icon = GFX_goal_LEC_police2
		cost = 5

		x = 15
		y = 2

		ai_will_do = {
			base = 150
			modifier = {
				has_war = yes
				factor = 100
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_create_the_national_police_reserve"
			army_experience = 35
			custom_effect_tooltip = JAP_create_the_national_police_reserve_tt
			JAP_create_the_national_police_reserve_effect = yes
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = JAP_reestablish_centralised_command_structures
		icon = GFX_goal_generic_army_high_command
		cost = 5

		relative_position_id = JAP_create_the_national_police_reserve
		x = 0
		y = 1

		prerequisite = { focus = JAP_create_the_national_police_reserve }
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_reestablish_centralised_command_structures"
			JAP_self_defense_corps_effect = yes
			add_command_power = 40
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = JAP_study_from_past_defeats
		icon = GFX_goal_NFA_Verdun_memories
		cost = 5

		relative_position_id = JAP_create_the_national_police_reserve
		x = -2
		y = 1

		prerequisite = { focus = JAP_create_the_national_police_reserve }
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_study_from_past_defeats"
			add_doctrine_cost_reduction = {
				name = JAP_study_from_past_defeats
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = JAP_subversive_activities_prevention_law
		icon = GFX_goal_secret_police
		cost = 5

		relative_position_id = JAP_create_the_national_police_reserve
		x = 2
		y = 1

		prerequisite = { focus = JAP_create_the_national_police_reserve }
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_subversive_activities_prevention_law"
			add_political_power = 35
			if = {
				limit = { has_dlc_lar = no }
				add_ideas = JAP_subversive_activities_prevention_law_idea
			}
			else_if = {
				limit = { has_intelligence_agency = no }
				create_intelligence_agency = yes
			}
			if = {
				limit = { NOT = { has_done_agency_upgrade = upgrade_form_department } }
				upgrade_intelligence_agency = upgrade_form_department
			}
			else = {
				gain_random_agency_upgrade = yes
			}
			if = {
				limit = { NOT = { has_done_agency_upgrade = upgrade_psycho_warfare } }
				upgrade_intelligence_agency = upgrade_psycho_warfare
			}
			else = {
				gain_random_agency_upgrade = yes
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = JAP_host_joint_military_exercises
		icon = GFX_goal_NEE_joint_entente_excercises
		cost = 5

		relative_position_id = JAP_study_from_past_defeats
		x = 1
		y = 1

		prerequisite = { focus = JAP_study_from_past_defeats }
		prerequisite = { focus = JAP_reestablish_centralised_command_structures }

		ai_will_do = {
			base = 100
			modifier = { #so the player overlord gets the event asap
				overlord = { is_ai = no }
				factor = 2.5
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_host_joint_military_exercises"
			add_doctrine_cost_reduction = {
				name = JAP_host_joint_military_exercises
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
			effect_tooltip = {
				swap_ideas = {
					remove_idea = JAP_self_defense_corps_idea_1
					add_idea = JAP_self_defense_corps_idea_2
				}
			}
			hidden_effect = {
				JAP_self_defense_corps_effect = yes
			}
			custom_effect_tooltip = tooltip_white_line
			overlord = { country_event = { id = japfor.550 } }
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = JAP_revitalise_the_defense_industry
		icon = GFX_goal_CZE_imperial_arms
		cost = 5

		relative_position_id = JAP_subversive_activities_prevention_law
		x = -1
		y = 1

		prerequisite = { focus = JAP_subversive_activities_prevention_law }
		prerequisite = { focus = JAP_reestablish_centralised_command_structures }

		ai_will_do = {
			base = 100
			modifier = {
				has_war = yes
				factor = 5
			}
		}

		completion_reward = {
			effect_tooltip = {
				swap_ideas = {
					remove_idea = JAP_self_defense_corps_idea_1
					add_idea = JAP_self_defense_corps_idea_3
				}
			}
			hidden_effect = {
				JAP_self_defense_corps_effect = yes
			}
			log = "[GetDateText]: [Root.GetName]: Focus JAP_revitalise_the_defense_industry"
			random_owned_controlled_state = {
				prioritize = { 531 }
				limit = {
					is_valid_state_for_development = yes
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 282 }
				limit = {
					is_valid_state_for_development = yes
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_PRODUCTION }
	}

	focus = {
		id = JAP_establish_the_self_defense_corps
		icon = GFX_goal_JAP_Army
		cost = 5

		relative_position_id = JAP_revitalise_the_defense_industry
		x = -1
		y = 1

		available = {
			OR = {
				has_completed_focus = JAP_panasian_sisterhood
				has_completed_focus = JAP_shining_communist_republic
				has_completed_focus = JAP_the_red_flag_shall_fly_here
			}
		}
		prerequisite = { focus = JAP_revitalise_the_defense_industry }
		prerequisite = { focus = JAP_host_joint_military_exercises }
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_establish_the_self_defense_corps"
			remove_ideas = JAP_disarmed_nation_idea
			effect_tooltip = {
				swap_ideas = {
					remove_idea = JAP_self_defense_corps_idea_4
					add_idea = JAP_self_defense_corps_idea_5
				}
			}
			hidden_effect = {
				JAP_self_defense_corps_effect = yes
			}
			add_command_power = 50
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = JAP_create_the_air_self_defense_force
		icon = GFX_goal_JAP_Army_Air
		cost = 5

		relative_position_id = JAP_create_the_national_police_reserve
		x = 4
		y = 1

		prerequisite = { focus = JAP_create_the_national_police_reserve }
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_create_the_air_self_defense_force"
			air_experience = 35
			add_doctrine_cost_reduction = {
				name = JAP_create_the_air_self_defense_force
				cost_reduction = 0.75
				uses = 1
				category = air_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
	}

	focus = {
		id = JAP_install_island_defenses
		icon = GFX_goal_generic_radar_instillation
		cost = 5

		relative_position_id = JAP_create_the_national_police_reserve
		x = 6
		y = 1

		prerequisite = { focus = JAP_create_the_national_police_reserve }
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_install_island_defenses"
			if = {
				limit = { NOT = { has_tech = radio_detection } }
				set_technology = {
					radio_detection = 1
					popup = no
				}
			}
			add_tech_bonus = {
				name = JAP_install_island_defenses
				bonus = 1
				uses = 1
				category = radar_tech
			}
			random_owned_controlled_state = {
				prioritize = { 531 }
				limit = {
					is_in_home_area = yes
					radar_station < 5
				}
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 1102 }
				limit = {
					is_in_home_area = yes
					radar_station < 5
				}
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				prioritize = { 533 }
				limit = {
					is_in_home_area = yes
					radar_station < 5
				}
				add_building_construction = {
					type = radar_station
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
	}

	focus = {
		id = JAP_focus_on_agility
		icon = GFX_focus_jap_zero
		cost = 5

		relative_position_id = JAP_create_the_air_self_defense_force
		x = -1
		y = 1

		prerequisite = { focus = JAP_create_the_air_self_defense_force }
		ai_will_do = { base = 100 }
		mutually_exclusive = { focus = JAP_focus_on_range_capabilities }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_focus_on_agility"
			add_tech_bonus = {
				name = JAP_focus_on_agility
				bonus = 1
				uses = 1
				category = light_fighter
				category = cat_heavy_fighter
			}
			add_ideas = JAP_modern_air_force_11
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
	}

	focus = {
		id = JAP_focus_on_range_capabilities
		icon = GFX_BRY_Japanese_Planes
		cost = 5

		relative_position_id = JAP_create_the_air_self_defense_force
		x = 1
		y = 1

		prerequisite = { focus = JAP_create_the_air_self_defense_force }
		ai_will_do = { base = 100 }
		mutually_exclusive = { focus = JAP_focus_on_agility }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_focus_on_range_capabilities"
			add_tech_bonus = {
				name = JAP_focus_on_range_capabilities
				bonus = 1
				uses = 1
				category = tactical_bomber
				category = cat_strategic_bomber
			}
			add_ideas = JAP_modern_air_force_12
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
	}

	focus = {
		id = JAP_the_air_war_of_future
		icon = GFX_goal_generic_jet
		cost = 5

		relative_position_id = JAP_focus_on_range_capabilities
		x = -1
		y = 1

		prerequisite = { focus = JAP_focus_on_range_capabilities focus = JAP_focus_on_agility }
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_the_air_war_of_future"
			add_tech_bonus = {
				name = JAP_the_air_war_of_future
				bonus = 0.75
				uses = 2
				category = jet_technology
			}
			effect_tooltip = {
				swap_ideas = {
					remove_idea = JAP_modern_air_force_12
					add_idea = JAP_modern_air_force_22
				}
			}
			hidden_effect = {
				JAP_modern_air_force_effect = yes
			}
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS }
	}

   ### Puppet Naval Tree ###
	focus = {
		id = JAP_create_the_coastal_security_force
		icon = GFX_USA_secure_coastline
		cost = 5

		x = 24
		y = 2

		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_create_the_coastal_security_force"
			navy_experience = 35
			JAP_maritime_sdf_effect = yes
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
	}

	focus = {
		id = JAP_transport_ship_programme
		icon = GFX_goal_generic_transports
		cost = 5

		relative_position_id = JAP_create_the_coastal_security_force
		x = 0
		y = 1

		prerequisite = { focus = JAP_create_the_coastal_security_force }
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_transport_ship_programme"
			random_owned_controlled_state = {
				limit = {
					is_coastal = yes
					is_valid_state_for_development = yes
					free_building_slots = { building = industrial_complex size > 0 include_locked = yes }
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			if = {
				limit = { NOT = { has_tech = tank_landing_craft } }
				add_tech_bonus = {
					name = JAP_transport_ship_programme
					bonus = 1
					uses = 1
					category = tp_tech
				}
				add_equipment_to_stockpile = {
					type = convoy
					amount = 50
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = convoy
					amount = 100
				}
			}
			effect_tooltip = {
				swap_ideas = {
					remove_idea = JAP_maritime_sdf_idea_1
					add_idea = JAP_maritime_sdf_idea_2
				}
			}
			hidden_effect = {
				JAP_maritime_sdf_effect = yes
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
	}

	focus = {
		id = JAP_create_the_mine_warfare_force
		icon = GFX_focus_generic_mine_warfare
		cost = 5

		relative_position_id = JAP_transport_ship_programme
		x = -1
		y = 1

		prerequisite = { focus = JAP_transport_ship_programme }
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_create_the_mine_warfare_force"
			if = {
				limit = { has_dlc_mtg = yes }
				add_tech_bonus = {
					name = JAP_create_the_mine_warfare_force
					bonus = 1
					uses = 1
					category = naval_mines
				}
			}
			effect_tooltip = {
				swap_ideas = {
					remove_idea = JAP_maritime_sdf_idea_2
					add_idea = JAP_maritime_sdf_idea_3
				}
			}
			hidden_effect = {
				JAP_maritime_sdf_effect = yes
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
	}

	focus = {
		id = JAP_doctrine_of_coastal_protection
		icon = GFX_goal_generic_coastal_navy2
		cost = 5

		relative_position_id = JAP_transport_ship_programme
		x = 1
		y = 1

		prerequisite = { focus = JAP_transport_ship_programme }
		ai_will_do = { base = 100 }

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_doctrine_of_coastal_protection"
			add_tech_bonus = {
				name = JAP_doctrine_of_coastal_protection
				bonus = 0.5
				uses = 1
				category = dd_tech
			}
			add_doctrine_cost_reduction = {
				name = JAP_doctrine_of_coastal_protection
				cost_reduction = 0.75
				uses = 1
				category = naval_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
	}

	focus = {
		id = JAP_organise_the_maritime_self_defense_force
		icon = GFX_goal_JAP_Navy
		cost = 5

		relative_position_id = JAP_create_the_mine_warfare_force
		x = 1
		y = 1

		prerequisite = { focus = JAP_doctrine_of_coastal_protection }
		prerequisite = { focus = JAP_create_the_mine_warfare_force }
		ai_will_do = { base = 100 }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus JAP_organise_the_maritime_self_defense_force"
			add_tech_bonus = {
				name = JAP_organise_the_maritime_self_defense_force
				bonus = 1
				uses = 2
				category = naval_equipment
			}
			effect_tooltip = {
				swap_ideas = {
					remove_idea = JAP_maritime_sdf_idea_3
					add_idea = JAP_maritime_sdf_idea_4
				}
			}
			hidden_effect = {
				JAP_maritime_sdf_effect = yes
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS }
	}
}

