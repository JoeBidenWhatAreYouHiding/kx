
focus_tree = {
	id = lombardy_focus

	country = {
		factor = 0
		modifier = {
			add = 10
			tag = LOM
		}
	}

	default = no
	continuous_focus_position = { x = 1900 y = 850 }

	####
	# Duchy tree
	####

	focus = {
		id = LOM_rule_of_law
		icon = GFX_goal_MEX_Appointed_judges
		x = 6
		y = 0
		cost = 6

		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_rule_of_law"
			if = {
				limit = {
					has_government = authoritarian_democrat
					is_subject = no
				}
				country_event = lombardy.21
			}
			else_if = {
				limit = {
					NOT = {
						has_government = totalist
						has_government = syndicalist
						has_government = authoritarian_democrat
						has_government = paternal_autocrat
						has_government = national_populist
					}
					is_subject = no
				}
				country_event = lombardy.22
			}
			else = {
				add_stability = 0.1
			}
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = LOM_building_duchy
		icon = GFX_LOM_Milan
		prerequisite = { focus = LOM_rule_of_law }
		relative_position_id = LOM_rule_of_law
		available = {
			OR = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		x = -3
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_building_duchy"
			add_ideas = LOM_duchy
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = LOM_land_reform
		icon = GFX_goal_SKM_Dire_Need_Land_Reforms
		prerequisite = { focus = LOM_building_duchy }
		relative_position_id = LOM_building_duchy
		available = {
			OR = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		x = -2
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_land_reform"
			add_ideas = LOM_land_reform
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = LOM_agricultural_subsidies
		icon = GFX_USA_sweep_farm_tariffs
		prerequisite = { focus = LOM_land_reform }
		available = {
			OR = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_land_reform
		x = 0
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_agricultural_subsidies"
			swap_ideas = {
				remove_idea = LOM_land_reform
				add_idea = LOM_agricultural_subsidies
			}
		}
		search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = LOM_wounds_of_war
		icon = GFX_DKB_Rebuild
		prerequisite = { focus = LOM_building_duchy }
		available = {
			OR = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_building_duchy
		x = 0
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_wounds_of_war"
			increase_ruling_party_popularity_by_10 = yes
			add_political_power = 50
			add_war_support = -0.10
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = LOM_lombard_constitution
		icon = GFX_goal_POR_royal_edicts
		prerequisite = { focus = LOM_wounds_of_war }
		available = {
			OR = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_wounds_of_war
		x = 0
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_lombard_constitution"
			swap_ideas = {
				remove_idea = LOM_duchy
				add_idea = LOM_duchy_constitution
			}
			custom_effect_tooltip = LOM_join_factions_now
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = LOM_universal_suffrage
		icon = GFX_goal_SRD_womens_suffrage
		prerequisite = { focus = LOM_lombard_constitution }
		mutually_exclusive = {
			focus = LOM_strengthen_duke
		}
		available = {
			OR = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_lombard_constitution
		x = -1
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_universal_suffrage"
			set_country_flag = LOM_constitutional_monarchy
			add_stability = 0.05
			swap_ideas = {
				remove_idea = LOM_duchy_constitution
				add_idea = LOM_constitution_suffrage
			}

			set_politics = {
				ruling_party = social_conservative
				election_frequency = 48
				elections_allowed = yes
			}

			custom_effect_tooltip = LOM_elections_three_months

			hidden_effect = {
				set_cosmetic_tag = LOM_duchy
				meta_effect = {
					text = {
						set_politics = {
							ruling_party = social_conservative
							last_election = "[CURRENT_DATE]"
							election_frequency = 3
							elections_allowed = yes
						}
					}
					CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
				}
				remove_all_ministers = yes
				add_ideas = {
					LOM_Achille_Grandi_hog_sco
					LOM_Tommaso_Gallarati_Scotti_for_sco
					LOM_Agostino_Rocca_eco_sco
					LOM_Febo_Borromeo_d'Adda_sec_sco
				}
				create_country_leader = {
					name = "Adriano I"
					picture = "gfx/leaders/LOM/Portrait_LOM_Adriano_Visconti.png"
					expire = "1.1.1"
					ideology = italian_legionarism_subtype
				}
				create_country_leader = {
					name = "Adriano I"
					picture = "gfx/leaders/LOM/Portrait_LOM_Adriano_Visconti.png"
					expire = "1.1.1"
					ideology = oligarchy_subtype
				}
				create_country_leader = {
					name = "Adriano I"
					picture = "gfx/leaders/LOM/Portrait_LOM_Adriano_Visconti.png"
					expire = "1.1.1"
					ideology = paternal_socialism_subtype
				}
				create_country_leader = {
					name = "Adriano I"
					picture = "gfx/leaders/LOM/Portrait_LOM_Adriano_Visconti.png"
					expire = "1.1.1"
					ideology = liberalism_spirit_subtype
				}
				create_country_leader = {
					name = "Adriano I"
					picture = "gfx/leaders/LOM/Portrait_LOM_Adriano_Visconti.png"
					expire = "1.1.1"
					ideology = paneuropeanism_subtype
				}
				create_country_leader = {
					name = "Adriano I"
					picture = "gfx/leaders/LOM/Portrait_LOM_Adriano_Visconti.png"
					expire = "1.1.1"
					ideology = austromarxism_subtype
				}
				add_popularity = { ideology = social_democrat popularity = 0.05 }
				add_popularity = { ideology = social_liberal popularity = 0.05 }
				add_popularity = { ideology = market_liberal popularity = 0.05 }
				add_popularity = { ideology = social_conservative popularity = 0.05 }
				add_ideas = {
					LOM_Sebastiano_Visconti_Prasca_hog_sco
					LOM_Tommaso_Gallarati_Scotti_for_sco
					LOM_Agostino_Rocca_eco_sco
					LOM_Cesare_Genovesi_sec_mli
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = LOM_strengthen_duke
		icon = GFX_LOM_Lombard_King
		prerequisite = { focus = LOM_lombard_constitution }
		mutually_exclusive = {
			focus = LOM_universal_suffrage
		}
		available = {
			OR = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_lombard_constitution
		x = 1
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_strengthen_duke"
			set_country_flag = LOM_constitutional_monarchy
			add_stability = -0.05
			swap_ideas = {
				remove_idea = LOM_duchy_constitution
				add_idea = LOM_constitution_absolute
			}
			add_popularity = { ideology = paternal_autocrat popularity = 0.20 }
			add_popularity = { ideology = national_populist popularity = 0.05 }

			set_politics = {
				ruling_party = paternal_autocrat
				elections_allowed = no
			}

			hidden_effect = {
				set_cosmetic_tag = LOM_duchy
				create_country_leader = {
					name = "Marcello I"
					picture = "gfx/leaders/LOM/Portrait_LOM_Marcello_Visconti_Modrone.png"
					expire = "1.1.1"
					ideology = absolute_monarchy_subtype
				}
				create_country_leader = {
					name = "Marcello I"
					picture = "gfx/leaders/LOM/Portrait_LOM_Marcello_Visconti_Modrone.png"
					expire = "1.1.1"
					ideology = oligarchy_subtype
				}
				add_ideas = {
					LOM_Piero_Parini_hog_pau
					LOM_Giuseppe_Visconti_di_Modrone_for_pau
					LOM_Franco_Lanfredi_eco_pau
					LOM_Arrigo_Solmi_sec_pau
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = LOM_denounce_ambrosia
		icon = GFX_goal_NEE_Stamp_out_Republicanism
		prerequisite = { focus = LOM_universal_suffrage }
		available = {
			OR = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_universal_suffrage
		x = -1
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				NOT = {
					has_government = social_conservative
					has_government = authoritarian_democrat
					has_government = paternal_autocrat
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_denounce_ambrosia"
			add_political_power = 50
			add_popularity = { ideology = social_conservative popularity = 0.10 }
			add_popularity = { ideology = social_democrat popularity = -0.10 }
			add_popularity = { ideology = national_populist popularity = -0.10 }
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = LOM_return_crown
		icon = GFX_goal_NFA_Take_Crown
		prerequisite = { focus = LOM_universal_suffrage focus = LOM_strengthen_duke }
		available = {
			is_subject = no
			controls_all_owned_states = yes
			OR = {
				has_government = paternal_autocrat
				has_country_flag = LOM_constitutional_monarchy
			}
			if = {
				limit = { country_exists = AUS }
				NOT = { has_war_with = AUS }
			}
			else_if = {
				limit = { country_exists = SIC }
				NOT = { has_war_with = SIC }
			}
			else_if = {
				limit = { NOT = { owns_state = 4 } }
				4 = {
					owner = {
						NOT = { has_war_with = ROOT }
					}
				}
			}
		}
		relative_position_id = LOM_universal_suffrage
		x = 1
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
		}

		bypass = {
			NOT = { country_exists = AUS }
			NOT = { country_exists = SIC }
			owns_state = 4
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_return_crown"
			country_event = lombardy.1
		}
	}

	focus = {
		id = LOM_crown_king
		icon = GFX_LOM_IronCrown
		prerequisite = { focus = LOM_return_crown }
		available = {
			is_subject = no
			has_completed_focus = LOM_renaissance
			OR = {
				has_country_flag = LOM_has_crown
				owns_state = 4
				4 = {
					owner = { is_ally_of_ROOT = yes }
				}
			}
			OR = {
				has_government = paternal_autocrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_return_crown
		x = 0
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_crown_king"
			set_cosmetic_tag = LOM_kingdom
			set_country_flag = italy_irredentist_decisions_unlocked
			if = {
				limit = {
					783 = {
						NOT = {
							is_owned_by = ROOT
							is_claimed_by = ROOT
						}
					}
				}
				783 = { add_claim_by = ROOT }
			}
			add_research_slot = 1
			hidden_effect = {
				news_event = { id = lombardy.5 }
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = LOM_extinguish_flames
		icon = GFX_goal_AUS_legit_republic
		prerequisite = { focus = LOM_strengthen_duke }
		available = {
			has_government = paternal_autocrat
		}
		relative_position_id = LOM_strengthen_duke
		x = 1
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_extinguish_flames"
			add_political_power = 50
			add_ideas = LOM_anti_republicanism

		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = LOM_encourage_nationalism
		icon = GFX_goal_FRA_revitalize_nationalism
		prerequisite = {
			focus = LOM_building_duchy
			focus = LOM_lombard_republic
		}
		relative_position_id = LOM_building_duchy
		x = 3
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_encourage_nationalism"
			add_ideas = LOM_nationalism
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = LOM_lombard_youth
		icon = GFX_goal_POL_Youths_Exceptionalism
		prerequisite = { focus = LOM_encourage_nationalism }
		relative_position_id = LOM_encourage_nationalism
		x = 0
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_lombard_youth"
			add_ideas = LOM_youth_league
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
	}


####
# Republic tree
####

	focus = {
		id = LOM_lombard_republic
		icon = GFX_LOM_Lombardy
		prerequisite = { focus = LOM_rule_of_law }
		available = {
			NOT = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_rule_of_law

		x = 3
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_lombard_republic"
			add_ideas = LOM_republic_idea
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = LOM_question_of_radicals
		icon = GFX_GRU_CONS_SIDELINE_RADICALS
		prerequisite = { focus = LOM_lombard_republic }
		available = {
			NOT = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_lombard_republic
		x = 0
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_question_of_radicals"
			country_event = lombardy.20
		}
	}

	focus = {
		id = LOM_republic_constitution
		icon = GFX_goal_NEE_Reinstate_Constitution
		prerequisite = { focus = LOM_question_of_radicals }
		available = {
			NOT = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_question_of_radicals
		x = 0
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_republic_constitution"
			add_stability = 0.05
			swap_ideas = {
				remove_idea = LOM_republic_idea
				add_idea = LOM_republic_constitution_idea
			}
			custom_effect_tooltip = LOM_elections_three_months
			hidden_effect = {
				meta_effect = {
					text = {
						set_politics = {
							ruling_party = var:current_party_ideology_group
							last_election = "[CURRENT_DATE]"
							election_frequency = 3
							elections_allowed = yes
						}
					}
					CURRENT_DATE = "[?global.date.GetDateStringNoHour]"
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = LOM_state_industry
		icon = GFX_goal_MEX_Enshrine_Rights_Workers_Laborers
		prerequisite = { focus = LOM_lombard_republic }
		available = {
			NOT = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_lombard_republic
		x = 2
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_state_industry"
			add_ideas = LOM_industrial_act_idea
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = LOM_heart_of_the_north
		icon = GFX_goal_NEE_Meritocracy_Focused_Growing_Urban_Heart_alt
		prerequisite = { focus = LOM_state_industry }
		available = {
			NOT = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_state_industry
		x = 0
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_heart_of_the_north"
			swap_ideas = {
				remove_idea = LOM_industrial_act_idea
				add_idea = LOM_industrial_act_idea2
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = LOM_golden_ambrosia
		icon = GFX_LOM_Ambrosia
		prerequisite = { focus = LOM_republic_constitution }
		mutually_exclusive = { focus = LOM_work_with_nobility }
		available = {
			NOT = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_republic_constitution
		x = -1
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0.5
				NOT = {
					has_government = national_populist
					has_government = social_democrat
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_golden_ambrosia"
			add_stability = -0.10
			add_political_power = 100
			swap_ideas = {
				remove_idea = LOM_republic_constitution_idea
				add_idea = LOM_republic_constitution_idea3
			}
			custom_effect_tooltip = LOM_faction_warning
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = LOM_work_with_nobility
		icon = GFX_goal_SRD_ensure_corporate_support
		prerequisite = { focus = LOM_republic_constitution }
		mutually_exclusive = { focus = LOM_golden_ambrosia }
		available = {
			NOT = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_republic_constitution
		x = 1
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0.2
				OR = {
					has_government = national_populist
					has_government = social_democrat
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_work_with_nobility"
			add_stability = 0.10
			add_political_power = -100
			increase_ruling_party_popularity_by_10 = yes
			swap_ideas = {
				remove_idea = LOM_republic_constitution_idea
				add_idea = LOM_republic_constitution_idea2
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = LOM_republican_cause
		icon = GFX_goal_POL_Crush_Monarchists
		prerequisite = { focus = LOM_golden_ambrosia }
		available = {
			NOT = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_golden_ambrosia
		x = -1
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_republican_cause"
			add_war_support = 0.20
			add_popularity = { ideology = authoritarian_democrat popularity = -0.20 }
			add_popularity = { ideology = paternal_autocrat popularity = -0.05 }
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
	}

	focus = {
		id = LOM_place_in_the_world
		icon = GFX_goal_generic_world_diplomacy
		prerequisite = {
			focus = LOM_work_with_nobility
			focus = LOM_golden_ambrosia
		}
		available = {
			is_subject = no
			NOT = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_golden_ambrosia
		x = 1
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_place_in_the_world"
			add_political_power = 100
			custom_effect_tooltip = LOM_join_factions_now
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = LOM_securing_milan
		icon = GFX_goal_ATH_in_the_castle
		prerequisite = { focus = LOM_work_with_nobility }
		available = {
			159 = { is_owned_and_controlled_by = ROOT }
			NOT = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_work_with_nobility
		x = 1
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_securing_milan"
			add_ideas = LOM_milan_fortress
			159 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = { type = bunker province = 3780 level = 3 instant_build = yes }
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = LOM_republic_triumphant
		icon = GFX_SRI_fascist_brotherhood
		prerequisite = { focus = LOM_place_in_the_world }
		available = {
			is_subject = no
			has_completed_focus = LOM_renaissance
			NOT = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_place_in_the_world
		x = 0
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_republic_triumphant"
			set_country_flag = italy_irredentist_decisions_unlocked
			if = {
				limit = {
					783 = {
						NOT = {
							is_owned_by = ROOT
							is_claimed_by = ROOT
						}
					}
				}
				783 = { add_claim_by = ROOT }
			}
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}


####
# Economic Tree
####

	focus = {
		id = LOM_economic_reorganization
		icon = GFX_goal_NFA_review_economy
		x = 16
		y = 0
		cost = 6

		ai_will_do = {
			factor = 5
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_economic_reorganization"
			add_tech_bonus = {
				name = LOM_economic_reorganization
				bonus = 1
				uses = 1
				category = industry
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = LOM_repair
		icon = GFX_goal_CAL_massive_projects
		prerequisite = { focus = LOM_economic_reorganization }
		relative_position_id = LOM_economic_reorganization
		x = -2
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_repair"
			add_tech_bonus = {
				name = LOM_repair
				bonus = 1
				uses = 1
				category = construction_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = LOM_milan_factory
		icon = GFX_RUS_Industrial_Expansion
		prerequisite = { focus = LOM_repair }
		relative_position_id = LOM_repair
		x = -1
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_milan_factory"
			if = {
				limit = {
					ROOT = {
						owns_state = 159 #Lombardy
					}
				}
				159 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				else = {
					random_owned_state = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = LOM_Brescia_factory
		icon = GFX_RUS_Moderate_Industrialization
		prerequisite = { focus = LOM_milan_factory }
		relative_position_id = LOM_milan_factory
		x = 0
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_Brescia_factory"
			if = {
				limit = {
					ROOT = {
						owns_state = 159 #Lombardy
					}
				}
				159 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				else = {
					random_owned_state = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = LOM_rearmament
		icon = GFX_goal_NIC_Military_Industry
		prerequisite = { focus = LOM_repair }
		relative_position_id = LOM_repair
		x = 1
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_rearmament"
			if = {
				limit = {
					ROOT = {
						owns_state = 159 #Lombardy
					}
				}
				159 = {
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				else = {
					random_owned_state = {
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = LOM_heavy_industry
		icon = GFX_goal_IRE_generic_construction
		prerequisite = { focus = LOM_rearmament }
		relative_position_id = LOM_rearmament
		x = 0
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_heavy_industry"
			add_ideas = LOM_heavy_industry_idea
		}
	}

	focus = {
		id = LOM_railways
		icon = GFX_BAY_RAILWAYS
		prerequisite = { focus = LOM_economic_reorganization }
		relative_position_id = LOM_economic_reorganization
		x = 1
		y = 2
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_railways"
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_state = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = LOM_raw_materials
		icon = GFX_all_resource
		prerequisite = { focus = LOM_railways }
		relative_position_id = LOM_railways
		x = 0
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_raw_materials"
			if = {
				limit = { owns_state = 159 } #Lombardy
				159 = {
					add_resource = {
						type = steel
						amount = 8
					}
				}
				else = {
					random_owned_state = {
						add_resource = {
							type = steel
							amount = 8
						}
					}
				}
			}
			hidden_effect = {
				every_possible_country = {
					limit = { is_italian_tag = yes }
					remove_targeted_decision = { decision = LOM_develop_lombardy_coal_mines target = 159 }
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = LOM_nonrepublican_schools
		icon = GFX_goal_CZE_rural_education
		prerequisite = { focus = LOM_economic_reorganization }
		relative_position_id = LOM_economic_reorganization
		x = 3
		y = 2
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_nonrepublican_schools"
			add_ideas = { LOM_education_reform_idea }
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = LOM_education_reform
		icon = GFX_LOM_University_Milan
		prerequisite = { focus = LOM_nonrepublican_schools }
		relative_position_id = LOM_nonrepublican_schools
		x = 0
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_education_reform"
			add_research_slot = 1
			if = {
				limit = {
					NOT = {
						has_idea = universita_milano_lom
						has_idea = astaldi
						has_idea = pirelli
					}
				}
				add_ideas = universita_milano_lom
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = LOM_renaissance
		icon = GFX_goal_ATH_aristocracy_2
		prerequisite = { focus = LOM_Brescia_factory }
		prerequisite = { focus = LOM_heavy_industry }
		prerequisite = { focus = LOM_raw_materials }
		prerequisite = { focus = LOM_education_reform }
		available = {
			is_subject = no
			has_completed_focus = LOM_encourage_nationalism
		}
		relative_position_id = LOM_raw_materials
		x = -1
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_renaissance"
			add_ideas = LOM_renaissance_idea
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = LOM_patronage
		icon = GFX_goal_generic_culture2
		prerequisite = { focus = LOM_renaissance }
		available = {
			OR = {
				has_government = authoritarian_democrat
				has_country_flag = LOM_constitutional_monarchy
			}
		}
		relative_position_id = LOM_renaissance
		x = -2
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_patronage"
			add_stability = 0.1
			add_political_power = 50
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = LOM_industrious_people
		icon = GFX_goal_generic_happy_workers
		prerequisite = { focus = LOM_renaissance }
		relative_position_id = LOM_renaissance
		x = 0
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_industrious_people"
			swap_ideas = {
				remove_idea = LOM_renaissance_idea
				add_idea = LOM_renaissance_idea2
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = LOM_longobards
		icon = GFX_goal_BUL_Revenge_Warrior
		prerequisite = { focus = LOM_renaissance }
		relative_position_id = LOM_renaissance
		x = 2
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus LOM_longobards"
			swap_ideas = {
				remove_idea = LOM_nationalism
				add_idea = LOM_nationalism2
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}


####
# Military Tree
####
focus = {
	id = LOM_new_army
	icon = GFX_goal_LOM_army
	cost = 6

	relative_position_id = LOM_economic_reorganization
	x = 8
	y = 0

	ai_will_do = {
		factor = 10
		modifier = {
			factor = 5
			has_war = yes
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_new_army"
		army_experience = 30
		add_one_random_military_factory = yes
	}
	search_filters = { FOCUS_FILTER_ARMY_XP }
}

focus = {# Flexiable Planning
	id = LOM_flexiable_planning
	icon = GFX_goal_ATH_mech_peltasts
	cost = 6

	relative_position_id = LOM_new_army
	x = 3
	y = 1

	prerequisite = {
		focus = LOM_new_army
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_flexiable_planning"
		add_tech_bonus = {
			name = LOM_flexiable_planning
			bonus = 1
			uses = 2
			category = cat_mechanized_equipment
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {
	id = LOM_armored
	icon = GFX_goal_POL_light_tanks
	cost = 6

	relative_position_id = LOM_flexiable_planning
	x = 0
	y = 1

	prerequisite = { focus = LOM_flexiable_planning }

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 5
			has_war = yes
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_armored"
		add_tech_bonus = {
			name = LOM_armored
			bonus = 1
			uses = 1
			category = armor
		}
		if = {
			limit = { has_dlc = "No Step Back" }
			if = {
				limit = { NOT = { has_tech = basic_light_tank_chassis } }
				set_technology = { basic_light_tank_chassis = 1 }
			}
			create_equipment_variant = {
				name = "Panzer I Ausf.G"
				type = light_tank_chassis_1
				parent_version = 0
				modules = {
					main_armament_slot = tank_auto_cannon
					turret_type_slot = tank_light_one_man_tank_turret
					suspension_type_slot = tank_christie_suspension
					armor_type_slot = tank_riveted_armor
					engine_type_slot = tank_gasoline_engine
					special_type_slot_1 = tank_radio_1
				}
				upgrades = {
					tank_nsb_engine_upgrade = 5
					tank_nsb_armor_upgrade = 3
				}
			}
			}
		else = {
			if = {
				limit = { NOT = { has_tech = basic_light_tank } }
				set_technology = { basic_light_tank = 1 }
			}
		}
		division_template = {
			name = "Lombard Tank Division"
			division_names_group = ITA_ARM_01
			priority = 2
			regiments = {
				light_armor = { x = 0 y = 0 }
				light_armor = { x = 0 y = 1 }
				light_armor = { x = 0 y = 2 }
				light_armor = { x = 0 y = 3 }
				motorized = { x = 1 y = 0 }
				motorized = { x = 1 y = 1 }
				motorized = { x = 1 y = 2 }
				motorized = { x = 1 y = 3 }
				light_armor = { x = 2 y = 0 }
				motorized = { x = 3 y = 0 }
			}
			support = {
				mot_recon = { x = 0 y = 0 }
				artillery = { x = 0 y = 1 }
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				valid_state_for_spawning_friendly_unit = yes
			}
			create_unit = {
				division = "division_template = \"Lombard Tank Division\" start_experience_factor = 1 start_equipment_factor = 1"
				owner = ROOT
			}
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {
	id = LOM_equipment_purchase
	icon = GFX_goal_OTT_arms_purchase
	cost = 6

	relative_position_id = LOM_new_army
	x = -3
	y = 1

	prerequisite = { focus = LOM_new_army }

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 3
			has_war = yes
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_equipment_purchase"
		add_tech_bonus = {
			name = LOM_equipment_purchase
			bonus = 1
			uses = 2
			category = infantry_weapons
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 2000
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {
	id = LOM_artillery_purchase
	icon = GFX_goal_SKM_Modern_Artillery
	cost = 6

	relative_position_id = LOM_equipment_purchase
	x = 0
	y = 1

	prerequisite = { focus = LOM_equipment_purchase }

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 3
			has_war = yes
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_artillery_purchase"
		add_tech_bonus = {
			name = LOM_artillery_purchase
			bonus = 0.5
			uses = 1
			category = artillery
		}
		add_equipment_to_stockpile = {
			type = artillery_equipment
			amount = 500
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {# Superior Fire Power
	id = LOM_superior_fire_power
	icon = GFX_goal_UMN_european_artillery
	cost = 6

	relative_position_id = LOM_new_army
	x = -1
	y = 1

	prerequisite = {
		focus = LOM_new_army
	}
	mutually_exclusive = {
		focus = LOM_grand_battle_plan
	}
	ai_will_do = {
		factor = 25
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_superior_fire_power"
		every_army_leader = { add_attack = 1 }
		add_doctrine_cost_reduction = {
			name = LOM_superior_fire_power
			cost_reduction = 0.5
			uses = 2
			category = land_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {# Grand Battle Plan
	id = LOM_grand_battle_plan
	icon = GFX_goal_generic_army_high_command
	cost = 6

	relative_position_id = LOM_new_army
	x = 1
	y = 1

	prerequisite = {
		focus = LOM_new_army
	}
	mutually_exclusive = {
		focus = LOM_superior_fire_power
	}
	ai_will_do = {
		factor = 25
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_grand_battle_plan"
		every_army_leader = { add_planning = 1 }
		add_doctrine_cost_reduction = {
			name = LOM_grand_battle_plan
			cost_reduction = 0.5
			uses = 2
			category = land_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {# Support Brigades
	id = LOM_support_brigades
	icon = GFX_goal_ATH_logistics
	cost = 6

	relative_position_id = LOM_new_army
	x = 1
	y = 2

	prerequisite = {
		focus = LOM_grand_battle_plan
		focus = LOM_superior_fire_power
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_support_brigades"
		add_tech_bonus = {
			name = LOM_support_brigades
			bonus = 1
			uses = 2
			category = support_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}
focus = {
	id = LOM_drill
	icon = GFX_goal_KSV_best_of_best
	cost = 6

	relative_position_id = LOM_new_army
	x = -1
	y = 2

	prerequisite = {
		focus = LOM_grand_battle_plan
		focus = LOM_superior_fire_power
	}

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 5
			has_war = yes
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_drill"
		country_event = lombardy.6
	}
}

focus = {
	id = LOM_heavy_armaments
	icon = GFX_goal_KSV_rail_gun
	cost = 6

	relative_position_id = LOM_superior_fire_power
	x = -1
	y = 2

	prerequisite = { focus = LOM_superior_fire_power }

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 5
			has_war = yes
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_heavy_armaments"
		add_tech_bonus = {
			name = LOM_heavy_armaments
			bonus = 1
			uses = 2
			category = artillery
		}
		add_one_random_military_factory = yes
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
}

focus = {
	id = LOM_recruitment
	icon = GFX_goal_COR_Encourage_Recruits
	cost = 6

	relative_position_id = LOM_drill
	x = 1
	y = 1

	prerequisite = { focus = LOM_drill }
	prerequisite = { focus = LOM_support_brigades }

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 5
			has_war = yes
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_recruitment"
		add_ideas = LOM_recruitment_idea
	}
	search_filters = { FOCUS_FILTER_MANPOWER }
}

focus = {
	id = LOM_combat_doctrines
	icon = GFX_goal_NEE_joint_entente_excercises
	cost = 6

	relative_position_id = LOM_grand_battle_plan
	x = 1
	y = 2

	prerequisite = { focus = LOM_grand_battle_plan }

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 5
			has_war = yes
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_combat_doctrines"
		add_doctrine_cost_reduction = {
			name = LOM_combat_doctrines
			cost_reduction = 0.75
			uses = 3
			category = land_doctrine
			category = air_doctrine
			category = naval_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {# Combined Arms
	id = LOM_infantry_tanks
	icon = GFX_goal_COR_new_tank_forces_icon
	cost = 6

	relative_position_id = LOM_heavy_armaments
	x = 1
	y = 1
	prerequisite = { focus = LOM_heavy_armaments }
	prerequisite = { focus = LOM_recruitment }
	ai_will_do = {
		factor = 20
		modifier = {
			factor = 5
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_infantry_tanks"
		add_ideas = VNC_combined_arms
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

focus = {
	id = LOM_officer_school
	icon = GFX_goal_KEN_officer_corps
	cost = 6

	relative_position_id = LOM_combat_doctrines
	prerequisite = { focus = LOM_combat_doctrines }
	prerequisite = { focus = LOM_recruitment }
	x = -1
	y = 1

	ai_will_do = {
		factor = 20
		modifier = {
			factor = 5
			has_war = yes
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_officer_school"
		add_ideas = VNC_planning_schools_idea
		every_army_leader = { add_planning = 1 }
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

### Lombard Air Force	###
focus = {# Aeronautica Militare
	id = LOM_aeronautica_militare
	icon = GFX_goal_LOM_air_force
	cost = 6

	x = 32
	y = 0

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_aeronautica_militare"
		add_ideas = VNC_aeronautica_militare_idea
		air_experience = 50
	}
}

focus = {
	id = LOM_new_aircraft
	icon = GFX_goal_CAN_Fighter_Programme
	cost = 6

	relative_position_id = LOM_aeronautica_militare
	x = 4
	y = 1

	prerequisite = { focus = LOM_aeronautica_militare }

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 5
			has_war = yes
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_new_aircraft"
		add_tech_bonus = {
			name = LOM_new_aircraft
			bonus = 1
			uses = 1
			category = air_equipment
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {# Upgrade the Army Air force
	id = LOM_army_air_upgrade
	icon = GFX_HUN_heavy_bombers
	cost = 6

	x = 1
	y = 1

	available = { has_design_based_on = small_plane_airframe }
	prerequisite = { focus = LOM_new_aircraft }
	relative_position_id = LOM_new_aircraft
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 4
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_army_air_upgrade"
		air_experience = 30
		add_equipment_to_stockpile = {
			type = small_plane_airframe
			amount = 40
		}
	}
	search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_AIRFORCE_BONUS }
}

focus = {# Upgrade the Naval Air force
	id = LOM_navy_air_upgrade
	icon = GFX_goal_FIU_naval_bomber
	cost = 6
	available = { has_design_based_on = small_plane_naval_bomber_airframe }
	relative_position_id = LOM_new_aircraft
	prerequisite = { focus = LOM_new_aircraft }
	x = -1
	y = 1

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_navy_air_upgrade"
		air_experience = 30
		add_equipment_to_stockpile = {
			type = small_plane_naval_bomber_airframe
			amount = 40
			producer = GER
		}
	}
	search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_AIRFORCE_BONUS }
}

focus = {# Lombard Avaiatian Companies
	id = LOM_air_companies
	icon = GFX_goal_CZE_air_industry
	cost = 6

	relative_position_id = LOM_aeronautica_militare
	x = -2
	y = 1

	prerequisite = {
		focus = LOM_aeronautica_militare
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_air_companies"
		add_ideas = VNC_aviation_industry
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

focus = {# Build Airports
	id = LOM_build_air_ports
	icon = GFX_goal_generic_airports
	cost = 6

	relative_position_id = LOM_air_companies
	x = -1
	y = 1

	prerequisite = { focus = LOM_air_companies }
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_build_air_ports"
		add_one_random_military_factory = yes
		159 = {
			if = {
				limit = { is_owned_and_controlled_by = LOM }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIRFORCE_BONUS }
}

focus = {
	id = LOM_air_academy
	icon = GFX_goal_KSV_rule_from_the_air
	cost = 6

	relative_position_id = LOM_aeronautica_militare
	x = 0
	y = 1

	prerequisite = { focus = LOM_aeronautica_militare }

	ai_will_do = {
		factor = 5
		modifier = {
			factor = 5
			has_war = yes
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_air_academy"
		add_doctrine_cost_reduction = {
			name = LOM_air_academy
			cost_reduction = 0.5
			uses = 2
			category = air_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {# Offensive Priority
	id = LOM_offensive_priorty
	icon = GFX_HUN_fighters
	cost = 6

	relative_position_id = LOM_air_academy
	x = -1
	y = 1

	prerequisite = { focus = LOM_air_academy }
	mutually_exclusive = { focus = LOM_defend_skies }
	ai_will_do = {
		factor = 10
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_offensive_priorty"
		air_experience = 10
		add_tech_bonus = {
			name = LOM_offensive_priorty
			bonus = 1
			uses = 2
			category = light_fighter
		}
		swap_ideas = {
			remove_idea = VNC_aeronautica_militare_idea
			add_idea = VNC_aeronautica_militare_idea_2
		}
	}
	search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIRFORCE_BONUS }
}

focus = {# Strategic Bombing
	id = LOM_strat_bombers
	icon = GFX_goal_generic_bombing_pacification
	cost = 6

	relative_position_id = LOM_offensive_priorty
	x = 0
	y = 1

	prerequisite = {
		focus = LOM_offensive_priorty
	}
	ai_will_do = {
		factor = 15
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_strat_bombers"
		air_experience = 25
		add_doctrine_cost_reduction = {
			name = LOM_strat_bombers
			cost_reduction = 0.75
			uses = 1
			category = air_doctrine
		}
		add_tech_bonus = {
			name = LOM_strat_bombers
			bonus = 1
			uses = 2
			category = cat_strategic_bomber
		}
		swap_ideas = {
			remove_idea = VNC_aeronautica_militare_idea_2
			add_idea = VNC_aeronautica_militare_idea_3
		}
	}
	search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIRFORCE_BONUS }
}

focus = {# Defend La Serenissima
	id = LOM_defend_skies
	icon = GFX_goal_taking_to_sky
	cost = 6

	relative_position_id = LOM_air_academy
	x = 1
	y = 1

	prerequisite = { focus = LOM_air_academy }
	mutually_exclusive = {
		focus = LOM_offensive_priorty
	}
	ai_will_do = {
		factor = 15
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_defend_skies"
		air_experience = 10
		add_tech_bonus = {
			name = LOM_defend_skies
			bonus = 1
			uses = 1
			category = light_fighter
		}
		swap_ideas = {
			remove_idea = VNC_aeronautica_militare_idea
			add_idea = VNC_aeronautica_militare_idea_4
		}
	}
	search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIRFORCE_BONUS }
}

focus = {#
	id = LOM_fighters
	icon = GFX_goal_USA_organic_air_support
	cost = 6

	relative_position_id = LOM_defend_skies
	x = 0
	y = 1

	prerequisite = {
		focus = LOM_defend_skies
	}
	ai_will_do = {
		factor = 15
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_fighters"
		air_experience = 25
		add_doctrine_cost_reduction = {
			name = LOM_fighters
			cost_reduction = 0.75
			uses = 1
			category = air_doctrine
		}
		add_tech_bonus = {
			name = LOM_fighters
			bonus = 1
			uses = 2
			category = cas_bomber
		}
		swap_ideas = {
			remove_idea = VNC_aeronautica_militare_idea_4
			add_idea = VNC_aeronautica_militare_idea_5
		}
	}
	search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIRFORCE_BONUS }
}

### Navy Foci ###
focus = {# Republican navy
	id = LOM_navy_focus
	icon = GFX_goal_LOM_navy
	cost = 6

	x = 40
	y = 0
	available = { any_owned_state = { is_coastal = yes } }
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_navy_focus"
		navy_experience = 50
		add_doctrine_cost_reduction = {
			name = LOM_navy_focus
			cost_reduction = 0.5
			uses = 1
			category = naval_doctrine
		}
		add_ideas = LOM_navy_idea
	}
	search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_RESEARCH }
}

focus = {# Merchant Marine
	id = LOM_merchant_marine
	icon = GFX_goal_CAL_trade_fleet
	cost = 6

	relative_position_id = LOM_navy_focus
	x = -2
	y = 1

	prerequisite = {
		focus = LOM_navy_focus
	}
	ai_will_do = { factor = 5 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_merchant_marine"
		if = {
			limit = { has_idea = LOM_navy_idea }
			swap_ideas = {
				remove_idea = LOM_navy_idea
				add_idea = LOM_merchant_marine_idea
			}
		}
		else = {
			swap_ideas = {
				remove_idea = LOM_marines_navy_idea
				add_idea = LOM_navy_idea2
			}
		}
	}
}

focus = {# Republican Marines
	id = LOM_republican_marines
	icon = GFX_goal_NFE_elite_marines
	cost = 6

	relative_position_id = LOM_navy_focus
	x = 0
	y = 1

	prerequisite = {
		focus = LOM_navy_focus
	}
	ai_will_do = {
		factor = 10
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_republican_marines"
		if = {
			limit = { NOT = { has_tech = marines } }
			set_technology = { marines = 1 }
			add_tech_bonus = {
				name = VNC_venetian_marines
				bonus = 1
				uses = 1
				category = marine_tech
			}
		}
		else = {
			add_tech_bonus = {
				name = VNC_venetian_marines
				bonus = 1
				uses = 2
				category = marine_tech
			}
		}
		hidden_effect = {
			if = {
				limit = { has_template = "Lombard Marine Division" }
				delete_unit_template_and_units = { division_template = "Lombard Marine Division" disband = yes } #no cheating
			}
		}
		if = {
			limit = { has_tech = tech_long_range_patrol_support }
			division_template = {
				name = "Lombard Marine Division"
				division_names_group = VNC_MAR_01
				regiments = {
					marine = { x = 0 y = 0 }
					marine = { x = 0 y = 1 }
					marine = { x = 0 y = 2 }
					marine = { x = 1 y = 0 }
					marine = { x = 1 y = 1 }
					marine = { x = 1 y = 2 }
				}
				support = {
					long_range_patrol_support = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
					artillery = { x = 0 y = 2 }
				}
			}
		}
		else = {
			division_template = {
				name = "Lombard Marine Division"
				division_names_group = VNC_MAR_01
				regiments = {
					marine = { x = 0 y = 0 }
					marine = { x = 0 y = 1 }
					marine = { x = 0 y = 2 }
					marine = { x = 1 y = 0 }
					marine = { x = 1 y = 1 }
					marine = { x = 1 y = 2 }
				}
				support = {
					recon = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
					artillery = { x = 0 y = 2 }
				}
			}
		}
		random_core_state = {
			limit = {
				is_controlled_by = ROOT
				valid_state_for_spawning_friendly_unit = yes
			}
			create_unit = {
				division = "division_template = \"Lombard Marine Division\" start_experience_factor = 0.6"
				owner = ROOT
				count = 2
			}
		}
		if = {
			limit = { has_idea = LOM_navy_idea }
			swap_ideas = {
				remove_idea = LOM_navy_idea
				add_idea = LOM_marines_navy_idea
			}
		}
		else = {
			swap_ideas = {
				remove_idea = LOM_merchant_marine_idea
				add_idea = LOM_navy_idea2
			}
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {# Re-enforce the Coast
	id = LOM_expand_dockyards
	icon = GFX_goal_generic_coastal_navy2
	cost = 6

	relative_position_id = LOM_navy_focus
	x = 2
	y = 1

	prerequisite = {
		focus = LOM_navy_focus
	}
	ai_will_do = {
		factor = 20
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_expand_dockyards"
		add_one_random_dockyard = yes
		add_one_random_dockyard = yes
		add_one_random_dockyard = yes
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

focus = {# Grand Navy
	id = LOM_grand_navy
	icon = GFX_MAF_continue_heydrich_reforms
	cost = 6

	relative_position_id = LOM_navy_focus
	x = -1
	y = 2

	prerequisite = {
		focus = LOM_merchant_marine
	}
	prerequisite = {
		focus = LOM_republican_marines
	}
	prerequisite = {
		focus = LOM_expand_dockyards
	}
	mutually_exclusive = {
		focus = LOM_defend_the_coast
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_grand_navy"
		swap_ideas = {
			remove_idea = LOM_navy_idea2
			add_idea = LOM_navy_idea_capital
		}
		add_tech_bonus = {
			name = LOM_grand_navy
			bonus = 0.5
			uses = 2
			category = bc_tech
			category = bb_tech
		}
		add_doctrine_cost_reduction = {
			name = LOM_grand_navy
			cost_reduction = 0.5
			uses = 1
			category = naval_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {# Battle Cruisers
	id = LOM_battle_cruisers
	icon = GFX_goal_CSA_power_of_red_navy_2
	cost = 6

	relative_position_id = LOM_navy_focus
	x = -1
	y = 3

	prerequisite = {
		focus = LOM_grand_navy
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_battle_cruisers"
		navy_experience = 10
		add_tech_bonus = {
			name = LOM_battle_cruisers
			bonus = 0.50
			uses = 2
			category = bc_tech
		}
	}
	search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_RESEARCH }
}

focus = {# Battleship efforts
	id = LOM_battleships
	icon = GFX_goal_NFA_unchallenged_fleet
	cost = 6

	relative_position_id = LOM_navy_focus
	x = -2
	y = 4

	prerequisite = {
		focus = LOM_battle_cruisers
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_battleships"
		add_tech_bonus = {
			name = LOM_battleships
			bonus = 0.50
			uses = 2
			category = bb_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {# Defend the Coast
	id = LOM_defend_the_coast
	icon = GFX_coastalfortifications
	cost = 6

	relative_position_id = LOM_navy_focus
	x = 1
	y = 2

	prerequisite = {
		focus = LOM_expand_dockyards
	}
	prerequisite = {
		focus = LOM_republican_marines
	}
	prerequisite = {
		focus = LOM_merchant_marine
	}
	mutually_exclusive = {
		focus = LOM_grand_navy
	}
	ai_will_do = {
		factor = 15
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_defend_the_coast"
		swap_ideas = {
			remove_idea = LOM_navy_idea2
			add_idea = LOM_navy_idea_destroyer
		}
		add_tech_bonus = {
			name = LOM_defend_the_coast
			bonus = 0.5
			uses = 2
			category = cl_tech
			category = dd_tech
		}
		add_doctrine_cost_reduction = {
			name = LOM_defend_the_coast
			cost_reduction = 0.5
			uses = 1
			category = naval_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_RESEARCH }
}

focus = {# Coast Guard
	id = LOM_destroyers
	icon = GFX_goal_FIU_cave_to_pirates
	cost = 6

	relative_position_id = LOM_navy_focus
	x = 1
	y = 3

	prerequisite = {
		focus = LOM_defend_the_coast
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_destroyers"
		add_tech_bonus = {
			name = LOM_destroyers
			bonus = 1
			uses = 1
			category = dd_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {# Light Cruisers
	id = LOM_light_cruisers
	icon = GFX_goal_generic_naval_cruiser2
	cost = 6

	relative_position_id = LOM_navy_focus
	x = 2
	y = 4

	prerequisite = {
		focus = LOM_destroyers
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_light_cruisers"
		add_tech_bonus = {
			name = LOM_light_cruisers
			bonus = 1
			uses = 1
			category = cl_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {# Submarines
	id = LOM_subs
	icon = GFX_goal_AUS_unrestricted_submarine_warfare
	cost = 6

	relative_position_id = LOM_navy_focus
	x = 0
	y = 4

	prerequisite = {
		focus = LOM_battle_cruisers
		focus = LOM_destroyers
	}
	ai_will_do = {
		factor = 5
		modifier = {
			factor = 2
			has_war = yes
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_subs"
		if = {
			limit = { has_idea = LOM_navy_idea_capital }
			swap_ideas = {
				remove_idea = LOM_navy_idea_capital
				add_idea = LOM_navy_idea_capital_sub
			}
		}
		else = {
			swap_ideas = {
				remove_idea = LOM_navy_idea_destroyer
				add_idea = LOM_navy_idea_destroyer_sub
			}
		}
		add_tech_bonus = {
			name = LOM_subs
			bonus = 1
			uses = 1
			category = ss_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

focus = {# Rule the Seas
	id = LOM_rule_the_seas
	icon = GFX_ITA_navy
	cost = 6

	relative_position_id = LOM_navy_focus
	x = 0
	y = 5

	prerequisite = {
		focus = LOM_battleships
		focus = LOM_light_cruisers
	}
	prerequisite = {
		focus = LOM_subs
	}
	ai_will_do = { factor = 20 }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus LOM_rule_the_seas"
		navy_experience = 25
		add_doctrine_cost_reduction = {
			name = LOM_rule_the_seas
			cost_reduction = 0.5
			uses = 1
			category = naval_doctrine
		}
		if = {
			limit = { has_idea = LOM_navy_idea_capital_sub }
			swap_ideas = {
				remove_idea = LOM_navy_idea_capital_sub
				add_idea = LOM_rule_the_seas_capital_idea
			}
		}
		else = {
			swap_ideas = {
				remove_idea = LOM_navy_idea_destroyer_sub
				add_idea = LOM_rule_the_seas_destroyer_idea
			}
		}
	}
	search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_RESEARCH }
}
}

