###########################
# Anqing Clique Focus Tree
###########################
# By Erag, Jeankedezeehond, Flamefang
###########################

focus_tree = {
	id = Anqing_Clique
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = ANQ
		}
	}
	default = no

	continuous_focus_position = { x = 50 y = 2200 }

	#########################
	# Revamped Foreign Tree #
	#########################

	focus = {
		id = ANQ_rolling_dice
		icon = GFX_goal_rolling_the_dice

		x = 9
		y = 0

		cost = 1

		ai_will_do = {
			factor = 300
			modifier = {
				factor = 0
				NOT = { has_country_flag = choice_made }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_rolling_dice"
			add_political_power = 25
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	# PRO-NIPPON PATH 
	focus = {
		id = ANQ_stand_with_republic
		icon = GFX_goal_ANQ_stand_with_fengtian

		x = -1
		y = 1
		relative_position_id = ANQ_rolling_dice

		cost = 6

		prerequisite = {
			focus = ANQ_rolling_dice
		}

		mutually_exclusive = {
			focus = ANQ_stand_with_beijing
		}

		available = {
			always = no
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_stand_with_republic"
			add_popularity = {
				ideology = paternal_autocrat
				popularity = 0.05
			}
			hidden_effect = {
				set_popularities = {
					totalist = 0
					radical_socialist = 0
					syndicalist = 0
					social_democrat = 6
					social_liberal = 5
					market_liberal = 9
					social_conservative = 9
					authoritarian_democrat = 34
					paternal_autocrat = 37
					national_populist = 0
				}
			}
		}
	}

	focus = {
		id = ANQ_defend_coastal_corridor
		icon = GFX_focus_generic_coastal_fort

		x = -2
		y = 1
		relative_position_id = ANQ_stand_with_republic

		cost = 5

		prerequisite = {
			focus = ANQ_stand_with_republic
		}

		available = {
			controls_state = 596
		}

		bypass = {
			has_country_flag = ANQ_peace
		}

		ai_will_do = {
			base = 1
			modifier = {
				factor = 10
				OR = {
					has_war_with = LEP
					has_war_with = CHI
					has_war_with = SQI
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_defend_coastal_corridor"
			596 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 4042
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 7191
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 10014
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 10101
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = ANQ_expand_shipment_capacity
		icon = GFX_goal_generic_coastal_navy

		x = 0
		y = 1
		relative_position_id = ANQ_defend_coastal_corridor

		cost = 5

		available = {
			controls_state = 596
		}

		prerequisite = {
			focus = ANQ_defend_coastal_corridor
		}

		bypass = {
			has_country_flag = ANQ_peace
		}

		ai_will_do = {
			base = 1
			modifier = {
				factor = 10
				OR = {
					has_war_with = LEP
					has_war_with = CHI
					has_war_with = SQI
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_expand_shipment_capacity"
			custom_effect_tooltip = anq_increase_jap_shipments_war_tt
			hidden_effect = {
				set_variable = {
					var = anq_equip_line_vvvlarge
					value = 450
				}
				set_variable = {
					var = anq_equip_line_vvlarge
					value = 350
				}
				set_variable = {
					var = anq_equip_line_vlarge
					value = 300
				}
				set_variable = {
					var = anq_equip_line_large
					value = 160
				}
				set_variable = {
					var = anq_equip_line_medium
					value = 110
				}
				set_variable = {
					var = anq_equip_line_small
					value = 80
				}
				set_variable = {
					var = anq_equip_line_vsmall
					value = 20
				}
			}
			596 = {
				add_building_construction = {
					type = naval_base
					level = 3
					instant_build = yes
					province = 7191
				}
			}
			if = {
				limit = {
					controls_state = 1075
				}
				1075 = {
					add_building_construction = {
						type = naval_base
						level = 3
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					controls_state = 803
				}
				803 = {
					add_building_construction = {
						type = naval_base
						level = 3
						instant_build = yes
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = ANQ_tokyo_university_exchange_program
		icon = GFX_goal_generic_scientific_exchange

		x = -4
		y = 2
		relative_position_id = ANQ_stand_with_republic

		cost = 6

		ai_will_do = {
			factor = 40
		}

		available = {
			has_country_flag = ANQ_friendly_japan
		}

		prerequisite = {
			focus = ANQ_defend_coastal_corridor
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_tokyo_university_exchange_program"
			add_research_slot = 1
			custom_effect_tooltip = anq_increase_jap_1
			add_to_variable = { ANQ_tokyo_score = 1}
			custom_effect_tooltip = anq_increase_fng_2
			hidden_effect = {
				add_popularity = {
					ideology = market_liberal
					popularity = 0.02
				}
				ANQ_remove_fengtian_spirit = yes
				ANQ_calculate_fengtian_level = yes
				ANQ_add_fengtian_spirit = yes
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = ANQ_new_xinhai
		icon = GFX_goal_ANQ_fengtian_loyalty

		x = 0
		y = 2
		relative_position_id = ANQ_stand_with_republic

		cost = 6

		ai_will_do = {
			factor = 30
			modifier = {
				has_completed_focus = ANQ_rural_outreach
				add = 40
			}
		}

		prerequisite = {
			focus = ANQ_stand_with_republic
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_new_xinhai"
			add_political_power = 75
			add_ideas = ANQ_new_xinhai_idea
			custom_effect_tooltip = anq_increase_fng_2
			hidden_effect = {
				add_popularity = {
					ideology = market_liberal
					popularity = 0.02
				}
				ANQ_remove_fengtian_spirit = yes
				ANQ_calculate_fengtian_level = yes
				ANQ_add_fengtian_spirit = yes
			}
			custom_effect_tooltip = anq_unlocks_xinhai_loyalists_tt
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = ANQ_panasian_legitimacy
		icon = GFX_goal_ANQ_panasian

		x = -4
		y = 1
		relative_position_id = ANQ_new_xinhai

		cost = 6

		ai_will_do = {
			factor = 30
		}

		prerequisite = {
			focus = ANQ_new_xinhai
		}

		mutually_exclusive = {
			focus = ANQ_republican_focus
		}

		available = {
			has_country_flag = ANQ_peace
			has_country_flag = ANQ_reclamation_decided
			has_country_flag = ANQ_friendly_japan
			NOT = { has_country_flag = ANQ_abandons_reclamation }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_panasian_legitimacy"
			# Social Credit Score
			set_country_flag = ANQ_panasian_path
			custom_effect_tooltip = anq_increase_cred_10
			add_to_variable = {
				var = credibility_factor
				value = 10
			}
			anq_recalculate_chens_credibility = yes
			custom_effect_tooltip = anq_increase_jap_1
			add_to_variable = { ANQ_tokyo_score = 1}
			custom_effect_tooltip = anq_increase_fng_1
			hidden_effect = {
				add_popularity = {
					ideology = market_liberal
					popularity = 0.01
				}
				ANQ_remove_fengtian_spirit = yes
				ANQ_calculate_fengtian_level = yes
				ANQ_add_fengtian_spirit = yes
			}
		}
	}



	focus = {
		id = ANQ_japanese_industrial_methods
		icon = GFX_goal_economic_control

		x = -2
		y = 1
		relative_position_id = ANQ_tokyo_university_exchange_program

		cost = 5

		ai_will_do = {
			factor = 30
			modifier = {
				has_completed_focus = ANQ_jiangsu_yiguandao_problem
				has_completed_focus = ANQ_fujian_encirclement_campaigns
				add = 30
			}
		}

		available = {
			has_country_flag = ANQ_friendly_japan
		}

		prerequisite = {
			focus = ANQ_tokyo_university_exchange_program
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_japanese_industrial_methods"
			add_tech_bonus = {
				name = ANQ_japanese_industrial_methods
				category = industry
				bonus = 0.5
				uses = 2
			}
			custom_effect_tooltip = anq_increase_jap_1
			add_to_variable = { ANQ_tokyo_score = 1}
			custom_effect_tooltip = anq_increase_fng_2
			hidden_effect = {
				add_popularity = {
					ideology = market_liberal
					popularity = 0.02
				}
				ANQ_remove_fengtian_spirit = yes
				ANQ_calculate_fengtian_level = yes
				ANQ_add_fengtian_spirit = yes
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = ANQ_mantetsu_rolling_stock
		icon = GFX_goal_mantetsu_projects

		x = -1
		y = 1
		relative_position_id = ANQ_japanese_industrial_methods

		cost = 6

		available = {
			has_country_flag = ANQ_peace
			has_country_flag = ANQ_friendly_japan
		}

		prerequisite = {
			focus = ANQ_japanese_industrial_methods
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_mantetsu_rolling_stock"
			every_owned_state = {
				limit = {
					is_core_of = ANQ
					infrastructure > 2
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			add_ideas = mantetsu_industrial_subsidiaries
			custom_effect_tooltip = anq_increase_jap_1
			add_to_variable = { ANQ_tokyo_score = 1}
			custom_effect_tooltip = anq_increase_fng_2
			hidden_effect = {
				add_popularity = {
					ideology = market_liberal
					popularity = 0.02
				}
				ANQ_remove_fengtian_spirit = yes
				ANQ_calculate_fengtian_level = yes
				ANQ_add_fengtian_spirit = yes
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = ANQ_electronic_studies
		icon = GFX_goal_electronics

		x = 0
		y = 1
		relative_position_id = ANQ_mantetsu_rolling_stock

		cost = 5

		available = {
			has_country_flag = ANQ_friendly_japan
		}

		prerequisite = {
			focus = ANQ_mantetsu_rolling_stock
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_electronic_studies"
			add_tech_bonus = {
				name = ANQ_electronic_studies
				bonus = 1
				uses = 2
				category = decryption_tech
				category = encryption_tech
			}
			custom_effect_tooltip = anq_increase_jap_1
			add_to_variable = { ANQ_tokyo_score = 1}
			custom_effect_tooltip = anq_increase_fng_1
			hidden_effect = {
				add_popularity = {
					ideology = market_liberal
					popularity = 0.01
				}
				ANQ_remove_fengtian_spirit = yes
				ANQ_calculate_fengtian_level = yes
				ANQ_add_fengtian_spirit = yes
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = ANQ_okura_bank_loans
		icon = GFX_goal_ANQ_okura_bank_loans_2

		x = -2
		y = 1
		relative_position_id = ANQ_mantetsu_rolling_stock

		cost = 6

		prerequisite = {
			focus = ANQ_mantetsu_rolling_stock
		}

		available = {
			has_country_flag = ANQ_friendly_japan
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_okura_bank_loans"
			random_owned_controlled_state = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			add_timed_idea = {
				idea = ANQ_okura_bank_loans
				days = 300
			}
			custom_effect_tooltip = NEE_white_line
			# Social Credit Score
			custom_effect_tooltip = anq_decrease_cred_5
			subtract_from_variable = {
				var = credibility_factor
				value = 5
			}
			anq_recalculate_chens_credibility = yes
			custom_effect_tooltip = anq_increase_jap_1
			add_to_variable = { ANQ_tokyo_score = 1}
			custom_effect_tooltip = anq_increase_fng_2
			hidden_effect = {
				add_popularity = {
					ideology = market_liberal
					popularity = 0.02
				}
				ANQ_remove_fengtian_spirit = yes
				ANQ_calculate_fengtian_level = yes
				ANQ_add_fengtian_spirit = yes
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = ANQ_zaibatsu_contracts
		icon = GFX_goal_ANQ_Zaibatsu_Contracts

		x = 2
		y = 1
		relative_position_id = ANQ_mantetsu_rolling_stock

		cost = 6

		prerequisite = {
			focus = ANQ_mantetsu_rolling_stock
		}

		available = {
			has_country_flag = ANQ_friendly_japan
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_zaibatsu_contracts"
			add_offsite_building = {
				type = arms_factory
				level = 2
			}
			add_offsite_building = {
				type = industrial_complex
				level = 1
			}
			add_timed_idea = {
				idea = ANQ_zaibatsu_contracts
				days = 300
			}
			custom_effect_tooltip = NEE_white_line
			# Social Credit Score
			custom_effect_tooltip = anq_decrease_cred_5
			subtract_from_variable = {
				var = credibility_factor
				value = 5
			}
			anq_recalculate_chens_credibility = yes
			custom_effect_tooltip = anq_increase_jap_1
			add_to_variable = { ANQ_tokyo_score = 1}
			custom_effect_tooltip = anq_increase_fng_2
			hidden_effect = {
				add_popularity = {
					ideology = market_liberal
					popularity = 0.02
				}
				ANQ_remove_fengtian_spirit = yes
				ANQ_calculate_fengtian_level = yes
				ANQ_add_fengtian_spirit = yes
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	#focus = {
	#	id = ANQ_industrial_leap_forward
	#	icon = GFX_goal_factory_complex
	#
	#	x = 0
	#	y = 1
	#	relative_position_id = ANQ_electronic_studies
	#
	#	cost = 6
	#
	#	prerequisite = {
	#		focus = ANQ_zaibatsu_contracts
	#	}
	#
	#	prerequisite = {
	#		focus = ANQ_okura_bank_loans
	#	}
	#
	#	prerequisite = {
	#		focus = ANQ_electronic_studies
	#	}
	#
	#	completion_reward = {
	#		log = "[GetDateText]: [Root.GetName]: Focus ANQ_industrial_leap_forward"
	#	}
	#}

	focus = {
		id = ANQ_undermine_anticoncessionist_movement
		icon = GFX_goal_ANQ_undermine_anticoncessionists

		x = -1
		y = 1
		relative_position_id = ANQ_panasian_legitimacy

		cost = 5

		available = {
			NOT = { has_country_flag = ANQ_chen_alone }
		}

		prerequisite = {
			focus = ANQ_panasian_legitimacy
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_undermine_anticoncessionist_movement"
			increase_ruling_party_popularity_by_5 = yes
			custom_effect_tooltip = anq_increase_jap_1
			add_to_variable = { ANQ_tokyo_score = 1}
			custom_effect_tooltip = anq_increase_fng_1
			hidden_effect = {
				add_popularity = {
					ideology = market_liberal
					popularity = 0.01
				}
				ANQ_remove_fengtian_spirit = yes
				ANQ_calculate_fengtian_level = yes
				ANQ_add_fengtian_spirit = yes
			}
		}
	}

	focus = {
		id = ANQ_republican_focus
		icon = GFX_goal_beijing_begonia

		x = -1
		y = 1
		relative_position_id = ANQ_new_xinhai

		cost = 6

		ai_will_do = {
			factor = 60

			modifier = {
				has_completed_focus = ANQ_jiangsu_yiguandao_problem
				has_completed_focus = ANQ_fujian_encirclement_campaigns
				add = 30
			}
		}

		available = {
			has_country_flag = ANQ_peace
			OR = {
				has_country_flag = ANQ_reclamation_decided
				has_country_flag = ANQ_chen_alone
			}
		}

		prerequisite = {
			focus = ANQ_new_xinhai
		}

		mutually_exclusive = {
			focus = ANQ_panasian_legitimacy
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_republican_focus"
			if = {
				limit = { NOT = { has_country_flag = ANQ_chen_alone } }
				custom_effect_tooltip = anq_increase_fng_1
				hidden_effect = {
					add_popularity = {
						ideology = market_liberal
						popularity = 0.01
					}
					ANQ_remove_fengtian_spirit = yes
					ANQ_calculate_fengtian_level = yes
					ANQ_add_fengtian_spirit = yes
				}
			}
			#If Qing became a republic (so if it doesn't have Puyi), the credibility boost is not as large
			if = {
				limit = {
					QIE = {
						exists = yes
						has_country_leader = {
							name = "Puyi"
							ruling_only = yes
						}
					}
				}
				custom_effect_tooltip = anq_increase_cred_20
				add_to_variable = {
					var = credibility_factor
					value = 20
				}
			}
			else = {
				custom_effect_tooltip = anq_increase_cred_10
				add_to_variable = {
					var = credibility_factor
					value = 10
				}
			}
		}
	}

	focus = {
		id = ANQ_manchurian_imports
		icon = GFX_goal_develop_provinces
		x = -2
		y = 1
		relative_position_id = ANQ_republican_focus

		cost = 6

		ai_will_do = {
			factor = 30
		}

		bypass = {
			has_country_flag = FNG_hostile
		}

		prerequisite = {
			focus = ANQ_republican_focus
			focus = ANQ_panasian_legitimacy
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_manchurian_imports"
			add_ideas = shenyang_arsenal
			custom_effect_tooltip = NEE_white_line
			613 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment_0
				amount = 2000
				producer = FNG
			}
			add_equipment_to_stockpile = {
				type = artillery_equipment_1
				amount = 150
				producer = FNG
			}
			custom_effect_tooltip = anq_increase_fng_2
			hidden_effect = {
				add_popularity = {
					ideology = market_liberal
					popularity = 0.02
				}
				ANQ_remove_fengtian_spirit = yes
				ANQ_calculate_fengtian_level = yes
				ANQ_add_fengtian_spirit = yes
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = ANQ_beiyang_ideals
		icon = GFX_goal_beiyang_flags

		x = 0
		y = 1
		relative_position_id = ANQ_republican_focus

		available = {
			custom_trigger_tooltip = {
				tooltip = cred_check
				check_variable = {
					credibility_factor > 79
				}
			}
		}

		cost = 5

		ai_will_do = {
			factor = 30
		}

		prerequisite = {
			focus = ANQ_republican_focus
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_beiyang_ideals"
			add_political_power = 100
			if = {
				limit = { has_country_flag = ANQ_chen_alone }
				increase_ruling_party_popularity_by_5 = yes
			}
			else = {
				increase_ruling_party_popularity_by_3 = yes
				custom_effect_tooltip = anq_increase_fng_2
				hidden_effect = {
					add_popularity = {
						ideology = market_liberal
						popularity = 0.02
					}
					ANQ_remove_fengtian_spirit = yes
					ANQ_calculate_fengtian_level = yes
					ANQ_add_fengtian_spirit = yes
				}
			}
		}
	}

	#focus = {
	#	id = ANQ_national_development_project
	#	icon = GFX_focus_jap_manchurian_project
	#
	#	x = -1
	#	y = 1
	#	relative_position_id = ANQ_beiyang_ideals
	#
	#	cost = 6
	#
	#	ai_will_do = {
	#		factor = 30
	#	}
	#
	#	prerequisite = {
	#		focus = ANQ_beiyang_ideals
	#	}
	#
	#	prerequisite = {
	#		focus = ANQ_manchurian_imports
	#	}
	#
	#	completion_reward = {
	#		log = "[GetDateText]: [Root.GetName]: Focus ANQ_national_development_project"
	#		if = {
	#			limit = { has_country_flag = ANQ_is_profengtian }
	#			custom_effect_tooltip = anq_increase_fng_1
	#			hidden_effect = {
	#				add_popularity = {
	#					ideology = market_liberal
	#					popularity = 0.01
	#				}
	#				ANQ_remove_fengtian_spirit = yes
	#				ANQ_calculate_fengtian_level = yes
	#				ANQ_add_fengtian_spirit = yes
	#			}
	#		}
	#	}
	#}

	focus = {
		id = ANQ_smother_dragon
		icon = GFX_goal_QIE_forbiddenpalace

		x = 1
		y = 1
		relative_position_id = ANQ_new_xinhai

		cost = 5

		ai_will_do = {
			factor = 30

			modifier = {
				has_country_flag = ANQ_chen_alone
				factor = 4
			}
		}

		prerequisite = {
			focus = ANQ_new_xinhai
		}

		bypass = {
			OR = {
				NOT = { country_exists = QIE }
				# has_country_flag = ANQ_with_zhili
			}
		}

		available = {
			has_country_flag = ANQ_peace
			FNG = {
				OR = {
					has_country_flag = FNG_preparing_war_of_national_reclamation
					has_war_with = QIE
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_smother_dragon"
			swap_ideas = {
				remove_idea = ANQ_new_xinhai_idea
				add_idea = ANQ_new_xinhai_idea1
			}
			custom_effect_tooltip = anq_unlocks_war_beijing_tt
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = ANQ_look_west_again
		icon = GFX_YUN_Goal_Secure_Southern_China

		x = 0
		y = 1
		relative_position_id = ANQ_smother_dragon

		cost = 5

		ai_will_do = {
			factor = 30
		}

		prerequisite = {
			focus = ANQ_smother_dragon
		}

		available = {
			OR = {
				NOT = { country_exists = QIE }
				# has_country_flag = ANQ_with_zhili
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_look_west_again"
			custom_effect_tooltip = ANQ_can_attack_hnngxc_tt
		}
	}

	# PRO-QING PATH

	focus = {
		id = ANQ_stand_with_beijing
		icon = GFX_goal_ANQ_stand_with_qing

		x = 1
		y = 1
		relative_position_id = ANQ_rolling_dice

		cost = 6

		prerequisite = {
			focus = ANQ_rolling_dice
		}

		mutually_exclusive = {
			focus = ANQ_stand_with_republic
		}

		available = {
			always = no
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_stand_with_beijing"
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.05
			}
			hidden_effect = {
				set_politics = {
					ruling_party = authoritarian_democrat
					elections_allowed = no
				}
				set_popularities = {
					totalist = 0
					radical_socialist = 0
					syndicalist = 0
					social_democrat = 9
					social_liberal = 8
					market_liberal = 12
					social_conservative = 10
					authoritarian_democrat = 38
					paternal_autocrat = 23
					national_populist = 0
				}
				QIE = {
					country_event = {
						id = qieflavor.15
						hours = 6
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = ANQ_secure_jinpu_line
		icon = GFX_focus_generic_provoke_border_clashes

		x = 0
		y = 1
		relative_position_id = ANQ_stand_with_beijing

		cost = 5

		ai_will_do = {
			factor = 100
		}

		bypass = {
			has_country_flag = ANQ_peace
		}

		prerequisite = {
			focus = ANQ_stand_with_beijing
		}

		available = {
			controls_state = 606
		}

		ai_will_do = {
			base = 1
			modifier = {
				factor = 10
				OR = {
					has_war_with = LEP
					has_war_with = CHI
					has_war_with = SQI
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_secure_jinpu_line"
			606 = {
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 7035
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 1083
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 12061
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 11994
				}
				add_building_construction = {
					type = bunker
					level = 2
					instant_build = yes
					province = 1146
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = ANQ_increase_rail_capacity
		icon = GFX_goal_generic_construct_infrastructure

		x = 0
		y = 2
		relative_position_id = ANQ_stand_with_beijing

		cost = 5

		prerequisite = {
			focus = ANQ_secure_jinpu_line
		}

		available = {
			controls_state = 1050
			controls_state = 606
			controls_state = 1014
		}

		bypass = {
			has_country_flag = ANQ_peace
		}

		ai_will_do = {
			base = 1
			modifier = {
				factor = 10
				OR = {
					has_war_with = LEP
					has_war_with = CHI
					has_war_with = SQI
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_increase_rail_capacity"
			custom_effect_tooltip = anq_increase_qing_shipments_war_tt
			hidden_effect = {
				set_variable = {
					var = anq_equip_line_vvlarge
					value = 300
				}
				set_variable = {
					var = anq_equip_line_vlarge
					value = 230
				}
				set_variable = {
					var = anq_equip_line_large
					value = 150
				}
				set_variable = {
					var = anq_equip_line_medium
					value = 100
				}
				set_variable = {
					var = anq_equip_line_small
					value = 70
				}
				set_variable = {
					var = anq_equip_line_vsmall
					value = 15
				}
			}
		}
	}


	focus = {
		id = ANQ_renovate_longhai_railway
		icon = GFX_goal_generic_railway_construction

		x = 1
		y = 1
		relative_position_id = ANQ_increase_rail_capacity

		cost = 6

		ai_will_do = {
			factor = 30
		}

		prerequisite = {
			focus = ANQ_increase_rail_capacity
		}
		prerequisite = {
			focus = ANQ_imperial_keystone
		}

		available = {
			has_country_flag = ANQ_peace
			1047 = { #Xuhai
				is_controlled_by = ANQ
			}
			1059 = { #Kaifeng
				is_controlled_by = QIE
			}
			607 = { #Heluo
				is_controlled_by = QIE
			}
			799 = { #Guanzhong
				is_controlled_by = QIE
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_renovate_longhai_railway"
			1047 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			1059 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			607 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			799 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			build_railway = {
				start_province = 12055
				target_province = 1976
			}
			custom_effect_tooltip = anq_increase_qie_1
			hidden_effect = {
				add_popularity = {
					ideology = market_liberal
					popularity = 0.01
				}
				ANQ_remove_beijing_spirit = yes
				ANQ_calculate_beijing_level = yes
				ANQ_add_beijing_spirit = yes
			}
			custom_effect_tooltip = anq_unlocks_future_railway_projects_tt
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = ANQ_imperial_keystone
		icon = GFX_goal_ANQ_qing_loyalty

		x = 3
		y = 1
		relative_position_id = ANQ_stand_with_beijing

		cost = 5

		ai_will_do = {
			factor = 60
		}

		prerequisite = {
			focus = ANQ_stand_with_beijing
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_imperial_keystone"
			add_political_power = 75
			custom_effect_tooltip = ANQ_can_attack_hnngxc_proqie_tt
			custom_effect_tooltip = anq_increase_qie_5
			hidden_effect = {
				add_popularity = {
					ideology = market_liberal
					popularity = 0.05
				}
				ANQ_remove_beijing_spirit = yes
				ANQ_calculate_beijing_level = yes
				ANQ_add_beijing_spirit = yes
			}
			country_event = {
				id = anq.73
				days = 50
				random = 20
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = ANQ_nationalist_credibility
		icon = GFX_goal_ANQ_nationalist_credibility

		x = 0
		y = 1
		relative_position_id = ANQ_imperial_keystone

		cost = 5

		ai_will_do = {
			factor = 30
		}

		prerequisite = {
			focus = ANQ_imperial_keystone
		}

		available = {
			has_country_flag = ANQ_peace
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_nationalist_credibility"
			# Social Credit Score
			custom_effect_tooltip = anq_increase_cred_20
			add_to_variable = {
				var = credibility_factor
				value = 20
			}
			anq_recalculate_chens_credibility = yes
		}
	}

	focus = {
		id = ANQ_detain_foreign_engineers
		icon = GFX_goal_imprison_opposition1

		x = 0
		y = 1
		relative_position_id = ANQ_nationalist_credibility

		cost = 5

		ai_will_do = {
			factor = 30
		}

		prerequisite = {
			focus = ANQ_nationalist_credibility
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_detain_foreign_engineers"
			add_tech_bonus = {
				name = ANQ_detain_foreign_engineers
				category = industry
				uses = 1
				bonus = 0.5
			}
			custom_effect_tooltip = NEE_white_line
			# Social Credit Score
			custom_effect_tooltip = anq_increase_cred_10
			add_to_variable = {
				var = credibility_factor
				value = 10
			}
			anq_recalculate_chens_credibility = yes
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = ANQ_academia_sinica
		icon = GFX_focus_research2

		x = -1
		y = 1
		relative_position_id = ANQ_detain_foreign_engineers

		cost = 6
		ai_will_do = {
			factor = 80
		}

		prerequisite = {
			focus = ANQ_detain_foreign_engineers
		}
		prerequisite = {
			focus = ANQ_renovate_longhai_railway
		}

		available = {
			OR = {
				has_full_control_of_state = 608
				has_country_flag = ANQ_is_proqing
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_academia_sinica"
			add_research_slot = 1
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = ANQ_court_the_vermillion_society
		icon = GFX_goal_ANQ_court_vermilion_society

		x = 6
		y = 1
		relative_position_id = ANQ_imperial_keystone

		cost = 6

		ai_will_do = {
			factor = 5

			modifier = {
				factor = 2
				has_completed_focus = ANQ_rural_outreach
			}
		}

		prerequisite = {
			focus = ANQ_imperial_keystone
		}

		mutually_exclusive = {
			focus = ANQ_mend_qie_relations
		}

		available = {
			has_country_flag = ANQ_peace
			custom_trigger_tooltip = {
				tooltip = cred_check
				check_variable = {
					credibility_factor > 79
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_court_the_vermillion_society"
			random_owned_controlled_state = {
				limit = {
					is_core_of = ANQ
					infrastructure > 2
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_popularity = {
				ideology = social_liberal
				popularity = 0.03

			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = ANQ_mend_qie_relations
		icon = GFX_goal_QIE_manchu_unite_china

		x = 3
		y = 1
		relative_position_id = ANQ_imperial_keystone

		cost = 6

		ai_will_do = {
			factor = 30

			modifier = {
				add = 10
				date > 1938.6.1
			}

			modifier = {
				factor = 2
				has_completed_focus = ANQ_rural_outreach
			}


		}

		prerequisite = {
			focus = ANQ_imperial_keystone
		}

		mutually_exclusive = {
			focus = ANQ_court_the_vermillion_society
		}

		available = {
			has_country_flag = ANQ_peace
			country_exists = QIE
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_mend_qie_relations"
			add_opinion_modifier = {
				target = QIE
				modifier = large_increase
			}
			QIE = {
				add_opinion_modifier = {
					target = ANQ
					modifier = large_increase
				}
			}

			custom_effect_tooltip = anq_increase_qie_5
			hidden_effect = {
				add_popularity = {
					ideology = market_liberal
					popularity = 0.05
				}
				ANQ_remove_beijing_spirit = yes
				ANQ_calculate_beijing_level = yes
				ANQ_add_beijing_spirit = yes
			}
		}
	}

	focus = {
		id = ANQ_promote_nationalist_thought
		icon = GFX_goal_ANQ_promote_nationalist_thought

		x = 0
		y = 1
		relative_position_id = ANQ_court_the_vermillion_society

		cost = 5

		ai_will_do = {
			factor = 40
		}

		prerequisite = {
			focus = ANQ_court_the_vermillion_society
		}

		available = {
			has_country_flag = ANQ_peace
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_promote_nationalist_thought"
			add_popularity = {
				ideology = authoritarian_democrat
				popularity = 0.05
			}
			every_other_country = {
				limit = {
					NOT = {
						is_in_faction_with = QIE
					}
					OR = {
						is_chinese_tag = yes
						tag = GER
						tag = JAP
						tag = RUS
					}
				}
				reverse_add_opinion_modifier = {
					target = ANQ
					modifier = small_decrease
				}
			}
		}
	}

	#focus = {
	#	id = ANQ_dare_to_die_corps
	#	icon = GFX_focus_prc_infiltration
	#
	#	x = -1
	#	y = 2
	#	relative_position_id = ANQ_mend_qie_relations
	#
	#	cost = 6
	#
	#	prerequisite = {
	#		focus = ANQ_promote_nationalist_thought
	#	}
	#
	#	available = {
	#		custom_trigger_tooltip = {
	#			tooltip = cred_check
	#			check_variable = {
	#				credibility_factor > 79
	#			}
	#		}
	#		has_war = yes
	#	}
	#
	#	completion_reward = {
	#		add_ideas = ANQ_dare_to_die_corps
	#	}
	#}

	focus = {
		id = ANQ_deepen_army_cooperation
		icon = GFX_goal_QIE_hail_to_the_qing

		x = 1
		y = 1
		relative_position_id = ANQ_mend_qie_relations

		cost = 5

		ai_will_do = {
			factor = 40
		}

		prerequisite = {
			focus = ANQ_mend_qie_relations
		}

		available = {
			is_in_faction_with = QIE
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_deepen_army_cooperation"
			add_ideas = ANQ_qing_army_cooperation
			custom_effect_tooltip = anq_increase_qie_2
			hidden_effect = {
				add_popularity = {
					ideology = market_liberal
					popularity = 0.02
				}
				ANQ_remove_beijing_spirit = yes
				ANQ_calculate_beijing_level = yes
				ANQ_add_beijing_spirit = yes
			}
			QIE = {
				country_event = {
					id = qiefor.71
					days = 5
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}

	focus = {
		id = ANQ_dalu_yinhang_loans
		icon = GFX_goal_ANQ_Dalu_Yinhang

		x = -1
		y = 1
		relative_position_id = ANQ_mend_qie_relations

		cost = 5

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 3
				has_completed_focus = ANQ_rural_outreach
			}
		}

		prerequisite = {
			focus = ANQ_mend_qie_relations
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_dalu_yinhang_loans"
			add_timed_idea = {
				idea = ANQ_dalu_yinhang_loans_idea
				days = 300
			}
			custom_effect_tooltip = anq_increase_qie_2
			hidden_effect = {
				add_popularity = {
					ideology = market_liberal
					popularity = 0.02
				}
				ANQ_remove_beijing_spirit = yes
				ANQ_calculate_beijing_level = yes
				ANQ_add_beijing_spirit = yes
			}
			QIE = {
				country_event = {
					id = qiefor.76
					days = 200
				}
			}
		}
	}

	focus = {
		id = ANQ_caifa_contracts
		icon = GFX_goal_ANQ_Caifa_Contracts

		x = 0
		y = 1
		relative_position_id = ANQ_dalu_yinhang_loans

		cost = 5

		ai_will_do = {
			factor = 50
		}

		prerequisite = {
			focus = ANQ_dalu_yinhang_loans
		}

		available = {
			controls_state = 613
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_caifa_contracts"
			613 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = anq_increase_qie_1
			hidden_effect = {
				add_popularity = {
					ideology = market_liberal
					popularity = 0.01
				}
				ANQ_remove_beijing_spirit = yes
				ANQ_calculate_beijing_level = yes
				ANQ_add_beijing_spirit = yes
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = ANQ_end_century_of_humiliation
		icon = GFX_goal_ANQ_end_century_humiliation

		x = 1
		y = 1
		relative_position_id = ANQ_deepen_army_cooperation

		cost = 6

		ai_will_do = {
			factor = 30
		}

		prerequisite = {
			focus = ANQ_promote_nationalist_thought
			focus = ANQ_deepen_army_cooperation
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = cred_check
				check_variable = {
					credibility_factor > 79
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_end_century_of_humiliation"
			custom_effect_tooltip = anq_increase_qie_3
			hidden_effect = {
				add_popularity = {
					ideology = market_liberal
					popularity = 0.03
				}
				ANQ_remove_beijing_spirit = yes
				ANQ_calculate_beijing_level = yes
				ANQ_add_beijing_spirit = yes
			}
			# Social Credit Score
			custom_effect_tooltip = anq_increase_cred_10
			add_to_variable = {
				var = credibility_factor
				value = 10
			}
			anq_recalculate_chens_credibility = yes
		}
	}

	##############################
	# POST-INDEPENDENCE WAR TREE #
	##############################

	focus = {
		id = ANQ_five_stars_five_provinces
		icon = GFX_goal_ANQ_five_stars_five_provinces

		x = 17
		y = 0
		relative_position_id = ANQ_rolling_dice

		cost = 1

		available = {
			always = no
			LEP = { exists = no }
			owns_state = 613
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_five_stars_five_provinces"
			add_political_power = 100

			if = {
				limit = { has_idea = ANQ_overstretched_administration }
				swap_ideas = {
					remove_idea = ANQ_overstretched_administration
					add_idea = ANQ_idea_institutional_chaos
				}
			}
			else = {
				add_ideas = ANQ_idea_institutional_chaos
			}

			hidden_effect = {

				country_event = { #ruined interior damaged etc
					id = anq.77
					days = 4
				}
				country_event = { #kuomintang yiguandao
					id = anq.78
					days = 10
				}
				if = {
					limit = { has_country_flag = ANQ_is_profengtian }
					country_event = {
						id = anq.213
						days = 16
					}
				}
				country_event = {
					id = anq.118
					random_days = 10
					days = 20
				}
				country_event = { #deng ruzuo
					id = anq.29
					days = 25
				}
				country_event = {
					id = anq.36
					random = 2400
					days = 100
				}
				country_event = {
					id = anq.38
					random = 2000
					days = 300
				}
				country_event = {
					id = anq.39
					random = 4000
					days = 600
				}
				country_event = {
					id = anq.40
					random = 50
					days = 1500
				}
			}

			activate_mission = ANQ_temp_suppress_kmt
			activate_mission = ANQ_temp_suppress_yiguandao
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = ANQ_relocate_to_nanjing
		icon = GFX_goal_ANQ_relocate_nanjing

		x = -4
		y = 1
		relative_position_id = ANQ_five_stars_five_provinces

		ai_will_do = {
			factor = 200
		}

		cost = 5

		prerequisite = {
			focus = ANQ_five_stars_five_provinces
		}

		available = {
			controls_state = 613
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_relocate_to_nanjing"
			country_event = anq.18
			swap_ideas = {
				remove_idea = ANQ_idea_institutional_chaos
				add_idea = ANQ_idea_institutional_chaos1
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = ANQ_invite_back_governors
		icon = GFX_goal_ANQ_invite_governors
		x = -1
		y = 1
		relative_position_id = ANQ_relocate_to_nanjing

		cost = 5

		ai_will_do = {
			factor = 200
		}

		prerequisite = {
			focus = ANQ_relocate_to_nanjing
		}

		select_effect = {
			country_event = {
				id = anq.25
				days = 5
			}
			country_event = {
				id = anq.26
				days = 10
			}
			country_event = {
				id = anq.28
				days = 15
			}
			if = {
				limit = {
					has_country_flag = deng_time
				}
				country_event = {
					id = anq.30
					days = 20
				}
			}
			else = {
				country_event = {
					id = anq.31
					days = 20
				}
			}
			country_event = {
				id = anq.32
				days = 25
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_invite_back_governors"
			swap_ideas = {
				remove_idea = ANQ_idea_institutional_chaos1
				add_idea = ANQ_idea_institutional_chaos2
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = ANQ_new_provincial_governments
		icon = GFX_goal_generic_civilian_oversight

		x = -1
		y = 2
		relative_position_id = ANQ_relocate_to_nanjing

		cost = 5

		ai_will_do = {
			factor = 30
			modifier = {
				OR = {
					NOT = { has_idea = ANQ_kuomintang }
					NOT = { has_idea = ANQ_yiguandao }
				}
				factor = 3
			}
			modifier = {
				NOT = {
					has_idea = ANQ_kuomintang
					has_idea = ANQ_yiguandao
				}

				factor = 3
			}
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = anq_has_installed_all_governors_tt
				has_country_flag = zhejiang_governor_installed
				has_country_flag = jiangsu_governor_installed
				has_country_flag = jiangxi_governor_installed
				has_country_flag = fujian_governor_installed
			}
		}

		cancel_if_invalid = no

		prerequisite = {
			focus = ANQ_invite_back_governors
		}

		select_effect = {
			hidden_effect = {
				set_country_flag = ANQ_can_integrate_five_provinces
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_new_provincial_governments"
			custom_effect_tooltip = anq_can_integrate_tt
			remove_ideas = ANQ_idea_institutional_chaos2
			hidden_effect = {
				clr_country_flag = zhejiang_governor_installed
				clr_country_flag = jiangsu_governor_installed
				clr_country_flag = jiangxi_governor_installed
				clr_country_flag = fujian_governor_installed
			}
		}
	}

	focus = {
		id = ANQ_nanjing_purges
		icon = GFX_goal_purge_opposition
		x = 1
		y = 1
		relative_position_id = ANQ_relocate_to_nanjing

		cost = 5

		ai_will_do = {
			factor = 30

			modifier = {
				factor = 2
				OR = {
					NOT = { has_idea = ANQ_kuomintang }
					NOT = { has_idea = ANQ_yiguandao }
				}
			}

			modifier = {
				factor = 2
				NOT = {
					has_idea = ANQ_kuomintang
					has_idea = ANQ_yiguandao
				}
			}
		}

		prerequisite = {
			focus = ANQ_relocate_to_nanjing
		}

		select_effect = {
			country_event = {
				id = anq.21
				hours = 36
				random_hours = 12
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_nanjing_purges"
			custom_effect_tooltip = anq_nanjing_purge_integration_tt
			add_ideas = ANQ_clique_control
			# Social Credit Score
			custom_effect_tooltip = anq_decrease_cred_10
			subtract_from_variable = {
				var = credibility_factor
				value = 10
			}
			anq_recalculate_chens_credibility = yes
		}
		search_filters = { FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = ANQ_fight_high_level_corruption
		icon = GFX_goal_generic_tackle_corruption

		x = 1
		y = 2
		relative_position_id = ANQ_relocate_to_nanjing

		cost = 5

		ai_will_do = {
			factor = 70
		}

		prerequisite = {
			focus = ANQ_nanjing_purges
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_fight_high_level_corruption"
			swap_ideas = {
				remove_idea = ANQ_clique_control
				add_idea = ANQ_clique_control1
			}
			custom_effect_tooltip = anq_increase_cred_10
			add_to_variable = {
				var = credibility_factor
				value = 10
			}
			anq_recalculate_chens_credibility = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = ANQ_administrative_centralization
		icon = GFX_goal_ANQ_centralization

		x = 0
		y = 3
		relative_position_id = ANQ_relocate_to_nanjing

		cost = 5

		ai_will_do = {
			factor = 60
		}

		prerequisite = {
			focus = ANQ_new_provincial_governments
		}
		prerequisite = {
			focus = ANQ_fight_high_level_corruption
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_administrative_centralization"
			swap_ideas = {
				remove_idea = ANQ_clique_control1
				add_idea = ANQ_clique_control2
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = ANQ_reconstruction_cooperation
		icon = GFX_goal_generic_construction

		x = -1
		y = 1
		relative_position_id = ANQ_five_stars_five_provinces

		cost = 3

		ai_will_do = {
			factor = 100
		}

		prerequisite = {
			focus = ANQ_five_stars_five_provinces
		}
		mutually_exclusive = {
			focus = ANQ_reconstruction_efforts
		}

		available = {
			if = {
				limit = {
					has_completed_focus = ANQ_stand_with_republic
				}
				NOT = {
					has_country_flag = FNG_hostile
					has_country_flag = ANQ_feng_aid_undecided
					has_country_flag = ANQ_no_reconstruction_aid
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_reconstruction_cooperation"
			custom_effect_tooltip = anq_reduce_reconstruction_timecost_ally_tt
			hidden_effect = {
				subtract_from_variable = {
					var = anq_reconstruction_decision_cost?30
					value = 15
				}
				subtract_from_variable = {
					var = anq_reconstruction_decision_time?80
					value = 30
				}

				set_country_flag = ANQ_has_reconstruction_cooperation
			}
			if = {
				limit = { has_completed_focus = ANQ_stand_with_beijing }
				QIE = {
					country_event = {
						id = qiefor.79
						days = 1
					}
				}
			}

			if = {
				limit = {
					OR = {
						has_country_flag = ANQ_fengjapan_aids_reconstruction
						has_country_flag = ANQ_feng_aids_reconstruction
					}
				}
				country_event = {
					id = anq.163
					days = 5
				}
			}
		}
	}

	focus = {
		id = ANQ_reconstruction_efforts
		icon = GFX_goal_generic_construction

		x = 1
		y = 1
		relative_position_id = ANQ_five_stars_five_provinces

		cost = 3

		ai_will_do = {
			factor = 10
			modifier = {
				has_completed_focus = ANQ_stand_with_republic
				add = 200
			}
		}

		prerequisite = {
			focus = ANQ_five_stars_five_provinces
		}
		mutually_exclusive = {
			focus = ANQ_reconstruction_cooperation
		}

		available = {
			OR = {
				NOT = { has_country_flag = ANQ_is_profengtian }
				NOT = {
					has_country_flag = ANQ_feng_aid_undecided
					has_country_flag = ANQ_fengjapan_aids_reconstruction
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_reconstruction_efforts"
			custom_effect_tooltip = anq_reduce_reconstruction_timecost_self_tt
			hidden_effect = {
				subtract_from_variable = {
					var = anq_reconstruction_decision_cost?30
					value = 10
				}
				subtract_from_variable = {
					var = anq_reconstruction_decision_time?80
					value = 20
				}
			}
		}
	}

	focus = {
		id = ANQ_eight_regulations
		icon = GFX_focus_hol_the_foundations_of_defense

		x = 1
		y = 1
		relative_position_id = ANQ_reconstruction_cooperation

		cost = 5

		ai_will_do = {
			factor = 100
		}

		prerequisite = {
			focus = ANQ_reconstruction_cooperation
			focus = ANQ_reconstruction_efforts
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_eight_regulations"
			swap_ideas = {
				remove_idea = ANQ_ruined_interior
				add_idea = ANQ_ruined_interior1
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = ANQ_jiangsu_yiguandao_problem
		icon = GFX_goal_LEP_against_yiguandao

		x = -1
		y = 1
		relative_position_id = ANQ_eight_regulations

		cost = 5

		ai_will_do = {
			factor = 130
		}

		prerequisite = {
			focus = ANQ_eight_regulations
		}

		available = {
			has_idea = ANQ_yiguandao
			SQI = {
				OR = {
					exists = no
					NOT = {
						has_government = national_populist
					}
				}
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_jiangsu_yiguandao_problem"
			hidden_effect = {
				if = {
					limit = {
						check_variable = {
							var = anq_yiguandao_unrest_level
							value = 2
							compare = less_than
						}
					}
					set_country_flag = ANQ_no_temp_yiguandao_suppress
					remove_mission = ANQ_temp_suppress_yiguandao
				}
			}
			custom_effect_tooltip = anq_jiangsu_yiguandao_focus_tt
		}
	}

	focus = {
		id = ANQ_fujian_encirclement_campaigns
		icon = GFX_goal_LEP_kmt_encirclement

		x = 1
		y = 1
		relative_position_id = ANQ_eight_regulations

		cost = 5

		ai_will_do = {
			factor = 150
		}

		prerequisite = {
			focus = ANQ_eight_regulations
		}

		available = {
			has_idea = ANQ_kuomintang
			CHI = {
				exists = no
				hidden_trigger = { NOT = { has_country_flag = CHI_mingshu_lkmt } }
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_fujian_encirclement_campaigns"
			hidden_effect = {
				if = {
					limit = {
						check_variable = {
							var = anq_kmt_unrest_level
							value = 2
							compare = less_than
						}
					}
					set_country_flag = ANQ_no_temp_kmt_suppress
					remove_mission = ANQ_temp_suppress_kmt
				}
			}
			custom_effect_tooltip = anq_fujian_encirclement_focus_tt
		}
	}

	focus = {
		id = ANQ_provisional_currency
		icon = GFX_focus_hol_abandon_the_gold_standard

		x = 1
		y = 1
		relative_position_id = ANQ_jiangsu_yiguandao_problem

		cost = 5

		ai_will_do = {
			factor = 70
		}

		prerequisite = {
			focus = ANQ_jiangsu_yiguandao_problem
		}
		prerequisite = {
			focus = ANQ_fujian_encirclement_campaigns
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_provisional_currency"
			swap_ideas = {
				remove_idea = ANQ_ruined_interior1
				add_idea = ANQ_ruined_interior2
			}
			hidden_effect = {
				country_event = {
					id = anq.97
					days = 300
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = ANQ_rural_outreach
		icon = GFX_goal_ANQ_rural_outreach

		x = 0
		y = 1
		relative_position_id = ANQ_provisional_currency

		cost = 5

		prerequisite = {
			focus = ANQ_administrative_centralization
		}
		prerequisite = {
			focus = ANQ_provisional_currency
		}

		ai_will_do = {
			factor = 100
		}

		available = {
			NOT = {
				has_idea = ANQ_kuomintang
				has_idea = ANQ_yiguandao
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_rural_outreach"
			remove_ideas = ANQ_ruined_interior2
			if = {
				limit = { has_country_flag = ANQ_is_proqing }
				custom_effect_tooltip = anq_unlocks_future_banditry_projects_tt
			}
			# Social Credit Score
			custom_effect_tooltip = anq_increase_cred_10
			add_to_variable = {
				var = credibility_factor
				value = 10
			}
			anq_recalculate_chens_credibility = yes
		}
	}

	focus = {
		id = ANQ_dike_and_levee_authority
		icon = GFX_goal_generic_construction2

		x = -1
		y = 1
		relative_position_id = ANQ_rural_outreach

		cost = 5

		ai_will_do = {
			factor = 30
		}

		prerequisite = {
			focus = ANQ_rural_outreach
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_dike_and_levee_authority"
			custom_effect_tooltip = anq_gains_national_spirit
			show_ideas_tooltip = ANQ_dike_and_levee_authority_idea
			hidden_effect = {
				if = {
					limit = { has_idea = ANQ_modern_schooling_system_idea }
					swap_ideas = {
						remove_idea = ANQ_modern_schooling_system_idea
						add_idea = ANQ_developing_nation
					}
				}
				else = {
					add_ideas = ANQ_dike_and_levee_authority_idea
				}
			}

			country_event = {
				id = anq.33
				days = 15
			}

			if = { #event anq.94 triggers through has_completed_focus in ANQ scripted eff
				limit = { has_country_flag = ANQ_is_proqing }
				custom_effect_tooltip = anq_unlocks_future_canal_qing_authority_tt
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = ANQ_modern_schooling_system
		icon = GFX_goal_KTG_Bookstack

		x = 1
		y = 1
		relative_position_id = ANQ_rural_outreach

		cost = 5

		ai_will_do = {
			factor = 20
		}

		prerequisite = {
			focus = ANQ_rural_outreach
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_modern_schooling_system"
			custom_effect_tooltip = anq_gains_national_spirit
			show_ideas_tooltip = ANQ_modern_schooling_system_idea
			hidden_effect = {
				if = {
					limit = { has_idea = ANQ_dike_and_levee_authority_idea }
					swap_ideas = {
						remove_idea = ANQ_dike_and_levee_authority_idea
						add_idea = ANQ_developing_nation
					}
				}
				else_if = {
					limit = { has_idea = ANQ_dike_and_levee_authority_idea1 }
					swap_ideas = {
						remove_idea = ANQ_dike_and_levee_authority_idea1
						add_idea = ANQ_developing_nation1
					}
				}
				else_if = {
					limit = { has_idea = ANQ_dike_and_levee_authority_idea2 }
					swap_ideas = {
						remove_idea = ANQ_dike_and_levee_authority_idea2
						add_idea = ANQ_developing_nation2
					}
				}
				else = {
					add_ideas = ANQ_modern_schooling_system_idea
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESEARCH }
	}

	#focus = {
	#	id = ANQ_pacify_countryside
	#	icon = GFX_goal_coffee_boom
	#
	#	x = 1
	#	y = 1
	#	relative_position_id = ANQ_open_grain_stores
	#
	#	cost = 5
	#
	#	prerequisite = {
	#		focus = ANQ_open_grain_stores
	#	}
	#
	#	completion_reward = {
	#		add_stability = 0.10
	#	}
	#}

	focus = {
		id = ANQ_consortium_negotiations
		icon = GFX_goal_generic_intelligence_exchange

		x = -4
		y = 1
		relative_position_id = ANQ_provisional_currency

		cost = 5

		ai_will_do = {
			factor = 60
		}

		prerequisite = {
			focus = ANQ_provisional_currency
		}
		prerequisite = {
			focus = ANQ_administrative_centralization
		}


		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_consortium_negotiations"
			add_ideas = ANQ_industrial_backing
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = ANQ_expand_jiangnan_arsenal
		icon = GFX_goal_generic_construct_mil_factory

		x = -1
		y = 1
		relative_position_id = ANQ_consortium_negotiations

		cost = 6

		ai_will_do = {
			factor = 70
		}

		prerequisite = {
			focus = ANQ_consortium_negotiations
		}

		available = {
			controls_state = 606
			controls_state = 613
			controls_state = 596
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_expand_jiangnan_arsenal"
			606 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			613 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			596 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = ANQ_zhejiang_industrial_bank
		icon = GFX_focus_usa_reestablish_the_gold_standard

		x = 1
		y = 1
		relative_position_id = ANQ_consortium_negotiations

		cost = 5

		ai_will_do = {
			factor = 70
		}

		prerequisite = {
			focus = ANQ_consortium_negotiations
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_zhejiang_industrial_bank"
			swap_ideas = {
				remove_idea = ANQ_industrial_backing
				add_idea = ANQ_industrial_backing1
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = ANQ_lower_yangtze_development
		icon = GFX_goal_generic_construct_civ_factory

		x = 1
		y = 2
		relative_position_id = ANQ_consortium_negotiations

		cost = 6

		ai_will_do = {
			factor = 70
		}

		prerequisite = {
			focus = ANQ_zhejiang_industrial_bank
		}

		available = {
			controls_state = 606
			controls_state = 613
			controls_state = 596
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_lower_yangtze_development"
			606 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			613 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			596 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}

	focus = {
		id = ANQ_harness_anticoncessions_movement
		icon = GFX_goal_ANQ_use_anticoncessionists

		x = 4
		y = 1
		relative_position_id = ANQ_five_stars_five_provinces

		cost = 5

		ai_will_do = {
			factor = 20
		}

		prerequisite = {
			focus = ANQ_five_stars_five_provinces
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_harness_anticoncessions_movement"
			increase_ruling_party_popularity_by_5 = yes
			custom_effect_tooltip = NEE_white_line
			# Social Credit Score
			custom_effect_tooltip = anq_increase_cred_10
			add_to_variable = {
				var = credibility_factor
				value = 10
			}
			anq_recalculate_chens_credibility = yes
		}
	}

	#focus = {
	#	id = ANQ_take_over_foreign_assets
	#	icon = GFX_goal_generic_seize_money
	#
	#	x = -1
	#	y = 1
	#	relative_position_id = ANQ_harness_anticoncessions_movement
	#
	#	cost = 5
	#	
	#	prerequisite = {
	#		focus = ANQ_harness_anticoncessions_movement
	#	}
	#
	#	completion_reward = {
	#		add_offsite_building = {
	#			type = industrial_complex
	#			level = 1
	#		}
	#		custom_effect_tooltip = NEE_white_line
	#		GER = {
	#			add_opinion_modifier = {
	#				target = ANQ
	#				modifier = large_decrease					
	#			}
	#		}
	#		CAN = {
	#			add_opinion_modifier = {
	#				target = ANQ
	#				modifier = large_decrease					
	#			}
	#		}
	#		USA = {
	#			add_opinion_modifier = {
	#				target = ANQ
	#				modifier = large_decrease					
	#			}
	#		}
	#		NFA = {
	#			add_opinion_modifier = {
	#				target = ANQ
	#				modifier = large_decrease					
	#			}
	#		}
	#		RUS = {
	#			add_opinion_modifier = {
	#				target = ANQ
	#				modifier = large_decrease					
	#			}
	#		}
	#		custom_effect_tooltip = NEE_white_line
	#		# Social Credit Score
	#		custom_effect_tooltip = anq_increase_cred_10
	#		add_to_variable = {
	#			var = credibility_factor
	#			value = 10
	#		}
	#		anq_recalculate_chens_credibility = yes
	#	}
	#}

	#focus = {
	#	id = ANQ_expel_western_nationals
	#	icon = GFX_goal_generic_expel_people
	#
	#	x = 0
	#	y = 1
	#	relative_position_id = ANQ_take_over_foreign_assets
	#
	#	cost = 5
	#	
	#	prerequisite = {
	#		focus = ANQ_take_over_foreign_assets
	#	}
	#
	#	completion_reward = {
	#		add_ideas = ANQ_managed_movement
	#		custom_effect_tooltip = NEE_white_line
	#		# Social Credit Score
	#		custom_effect_tooltip = anq_increase_cred_10
	#		add_to_variable = {
	#			var = credibility_factor
	#			value = 10
	#		}
	#		anq_recalculate_chens_credibility = yes
	#	}
	#}

	focus = {
		id = ANQ_sanction_patriotic_protests
		icon = GFX_goal_ANQ_patriotic_protests

		x = -1
		y = 1
		relative_position_id = ANQ_harness_anticoncessions_movement

		cost = 5

		ai_will_do = {
			factor = 20
		}

		prerequisite = {
			focus = ANQ_harness_anticoncessions_movement
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_sanction_patriotic_protests"
			increase_ruling_party_popularity_by_3 = yes
			custom_effect_tooltip = NEE_white_line
			# Social Credit Score
			custom_effect_tooltip = anq_increase_cred_10
			add_to_variable = {
				var = credibility_factor
				value = 10
			}
			anq_recalculate_chens_credibility = yes
		}
	}

	focus = {
		id = ANQ_encourage_patriotic_contributions
		icon = GFX_goal_ANQ_patriotic_contributions

		x = 1
		y = 1
		relative_position_id = ANQ_harness_anticoncessions_movement

		cost = 5

		ai_will_do = {
			factor = 20
		}

		prerequisite = {
			focus = ANQ_harness_anticoncessions_movement
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_encourage_patriotic_contributions"
			add_ideas = ANQ_patriotic_nation
		}
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = ANQ_hunt_hanjian
		icon = GFX_goal_ANQ_hunt_hanjian_2

		x = 1
		y = 1
		relative_position_id = ANQ_sanction_patriotic_protests

		cost = 5

		ai_will_do = {
			factor = 20
		}

		#prerequisite = {
		#	focus = ANQ_expel_western_nationals
		#}

		prerequisite = {
			focus = ANQ_sanction_patriotic_protests
		}
		prerequisite = {
			focus = ANQ_encourage_patriotic_contributions
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_hunt_hanjian"
			swap_ideas = {
				remove_idea = ANQ_patriotic_nation
				add_idea = ANQ_patriotic_nation1
			}
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
	}

	focus = {
		id = ANQ_targeted_removals
		icon = GFX_goal_LEP_selective_enforcement

		x = -1
		y = 1
		relative_position_id = ANQ_hunt_hanjian

		cost = 5

		ai_will_do = {
			factor = 20
		}

		prerequisite = {
			focus = ANQ_hunt_hanjian
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_targeted_removals"
			if = {
				limit = { has_idea = ANQ_managed_movementb }
				swap_ideas = {
					remove_idea = ANQ_managed_movementb
					add_idea = ANQ_managed_movement1
				}
			}
			else = {
				add_ideas = ANQ_managed_movementa
			}
			# Social Credit Score
			custom_effect_tooltip = anq_decrease_cred_10
			subtract_from_variable = {
				var = credibility_factor
				value = 10
			}
			anq_recalculate_chens_credibility = yes
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = ANQ_seize_presses
		icon = GFX_goal_generic_seize_press

		x = 1
		y = 1
		relative_position_id = ANQ_hunt_hanjian

		cost = 5

		ai_will_do = {
			factor = 20
		}

		prerequisite = {
			focus = ANQ_hunt_hanjian
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_seize_presses"
			increase_ruling_party_popularity_by_5 = yes
			if = {
				limit = { has_idea = ANQ_managed_movementa }
				swap_ideas = {
					remove_idea = ANQ_managed_movementa
					add_idea = ANQ_managed_movement1
				}
			}
			else = {
				add_ideas = ANQ_managed_movementb
			}

		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }
	}

	focus = {
		id = ANQ_public_morality_campaigns
		icon = GFX_goal_generic_propaganda

		x = -1
		y = 1
		relative_position_id = ANQ_seize_presses

		cost = 5

		ai_will_do = {
			factor = 20
		}

		prerequisite = {
			focus = ANQ_seize_presses
		}

		prerequisite = {
			focus = ANQ_targeted_removals
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_public_morality_campaigns"
			swap_ideas = {
				remove_idea = ANQ_managed_movement1
				add_idea = ANQ_managed_movement2
			}
			custom_effect_tooltip = NEE_white_line
			# Social Credit Score
			custom_effect_tooltip = anq_increase_cred_10
			add_to_variable = {
				var = credibility_factor
				value = 10
			}
			anq_recalculate_chens_credibility = yes
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_POLITICAL }
	}

	#############
	# ARMY TREE #
	#############

	focus = {
		id = ANQ_a_new_army
		icon = GFX_goal_generic_allies_build_infantry
		x = 29
		y = 0
		cost = 6

		ai_will_do = {
			factor = 2

			modifier = {
				NOT = { has_completed_focus = ANQ_rolling_dice }
			}
		}

		relative_position_id = ANQ_rolling_dice
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_a_new_army"
			army_experience = 50
			add_war_support = 0.05
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_ARMY_BONUS }
	}
	focus = {
		id = ANQ_air_naval_command
		icon = GFX_goal_generic_air_fighter2
		x = -4
		y = 1
		cost = 6

		ai_will_do = {
			factor = 2
		}

		relative_position_id = ANQ_a_new_army
		prerequisite = {
			focus = ANQ_a_new_army
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_air_naval_command"
			navy_experience = 25
			air_experience = 25
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_AIRFORCE_BONUS }
	}
	focus = {
		id = ANQ_nanjing_naval_yard
		icon = GFX_goal_generic_construct_naval_dockyard
		x = -1
		y = 1
		cost = 5

		ai_will_do = {
			factor = 2
		}

		relative_position_id = ANQ_air_naval_command
		prerequisite = {
			focus = ANQ_air_naval_command
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_nanjing_naval_yard"
			add_tech_bonus = {
				name = ANQ_nanjing_naval_yard
				bonus = 1
				uses = 1
				category = dd_tech
				category = cl_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = ANQ_naval_officer_training
		icon = GFX_focus_generic_military_mission
		x = 0
		y = 1
		cost = 5

		ai_will_do = {
			factor = 2
		}

		relative_position_id = ANQ_nanjing_naval_yard
		prerequisite = {
			focus = ANQ_nanjing_naval_yard
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_naval_officer_training"
			navy_experience = 25
			add_doctrine_cost_reduction = {
				name = naval_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = naval_doctrine
			}
		}
		search_filters = { FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = ANQ_green_water_navy
		icon = GFX_goal_generic_coastal_navy
		x = 0
		y = 1
		cost = 5

		ai_will_do = {
			factor = 2
		}

		relative_position_id = ANQ_naval_officer_training
		prerequisite = {
			focus = ANQ_naval_officer_training
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_green_water_navy"
			add_tech_bonus = {
				name = ANQ_green_water_navy
				bonus = 1
				uses = 1
				category = cl_tech
				category = ca_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = ANQ_nanjing_air_corps
		icon = GFX_goal_generic_build_airforce
		x = 1
		y = 1
		cost = 5

		ai_will_do = {
			factor = 2
		}

		relative_position_id = ANQ_air_naval_command
		prerequisite = {
			focus = ANQ_air_naval_command
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_nanjing_air_corps"
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
			air_experience = 25
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = ANQ_expand_daijaochang_airbase
		icon = GFX_goal_generic_construction2
		x = 0
		y = 1
		cost = 5

		ai_will_do = {
			factor = 2
		}

		relative_position_id = ANQ_nanjing_air_corps
		prerequisite = {
			focus = ANQ_nanjing_air_corps
		}
		available = {
			controls_state = 606
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_expand_daijaochang_airbase"
			606 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}

		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = ANQ_eastern_aviation_school
		icon = GFX_goal_new_airforce
		x = 0
		y = 1
		cost = 5

		ai_will_do = {
			factor = 2
		}

		relative_position_id = ANQ_expand_daijaochang_airbase
		prerequisite = {
			focus = ANQ_expand_daijaochang_airbase
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_eastern_aviation_school"
			add_doctrine_cost_reduction = {
				name = air_doc_bonus
				cost_reduction = 0.5
				uses = 1
				category = air_doctrine
			}
			air_experience = 25
		}
		search_filters = { FOCUS_FILTER_AIRFORCE_BONUS FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = ANQ_aid_airframes
		icon = GFX_goal_generic_air_fighter
		dynamic = yes
		x = 0
		y = 1
		cost = 5

		ai_will_do = {
			factor = 2
		}

		relative_position_id = ANQ_eastern_aviation_school
		prerequisite = {
			focus = ANQ_eastern_aviation_school
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_aid_airframes"
			add_tech_bonus = {
				name = ANQ_aid_airframes
				bonus = 1
				uses = 1
				category = naval_bomber
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = ANQ_domestic_fighter_production
		icon = GFX_goal_generic_air_production
		x = 0
		y = 1
		cost = 5

		ai_will_do = {
			factor = 2
		}

		relative_position_id = ANQ_aid_airframes
		prerequisite = {
			focus = ANQ_aid_airframes
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_domestic_fighter_production"
			random_owned_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = ANQ_northern_school_doctrine
		icon = GFX_goal_ANQ_northern_school
		x = -1
		y = 1
		cost = 6

		ai_will_do = {
			factor = 5

			modifier = {
				has_completed_focus = ANQ_new_provincial_governments
				add = 10
			}
		}

		relative_position_id = ANQ_a_new_army
		prerequisite = {
			focus = ANQ_a_new_army
		}
		mutually_exclusive = {
			focus = ANQ_southern_school_doctrine
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_northern_school_doctrine"
			add_doctrine_cost_reduction = {
	name = land_doc_bonus
	cost_reduction = 0.5
	uses = 1
	category = cat_superior_firepower
			}
			add_tech_bonus = {
				name = ANQ_northern_school_doctrine
				bonus = 0.5
				uses = 1
				category = artillery
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = ANQ_southern_school_doctrine
		icon = GFX_goal_ANQ_southern_school
		x = 1
		y = 1
		cost = 6

		ai_will_do = {
			factor = 10
			modifier = {
				has_completed_focus = ANQ_new_provincial_governments
				add = 30
			}
		}

		relative_position_id = ANQ_a_new_army
		prerequisite = {
			focus = ANQ_a_new_army
		}
		mutually_exclusive = {
			focus = ANQ_northern_school_doctrine
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_southern_school_doctrine"
			add_doctrine_cost_reduction = {
	name = land_doc_bonus
	cost_reduction = 0.5
	uses = 1
	category = cat_mass_assault
			}
			add_war_support = 0.05
		}
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = ANQ_chinese_drill_standards
		icon = GFX_ITA_green_shirts
		x = 1
		y = 1
		cost = 5

		ai_will_do = {
			factor = 15
		}

		relative_position_id = ANQ_northern_school_doctrine
		prerequisite = {
			focus = ANQ_southern_school_doctrine
			focus = ANQ_northern_school_doctrine
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_chinese_drill_standards"
			add_tech_bonus = {
				name = ANQ_chinese_drill_standards
				bonus = 0.5
				uses = 1
				category = land_doctrine
			}
			army_experience = 50
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = ANQ_radio_innovations
		icon = GFX_goal_generic_radar
		x = 0
		y = 1
		cost = 5

		ai_will_do = {
			factor = 10
		}

		relative_position_id = ANQ_chinese_drill_standards
		prerequisite = {
			focus = ANQ_chinese_drill_standards
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_radio_innovations"
			add_tech_bonus = {
				name = ANQ_radio_innovations
				bonus = 0.8
				uses = 1
				category = electronics
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = ANQ_modern_rifle_research
		icon = GFX_focus_secret_rearmament
		x = -1
		y = 1
		cost = 5

		ai_will_do = {
			factor = 10
		}

		relative_position_id = ANQ_radio_innovations
		prerequisite = {
			focus = ANQ_radio_innovations
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_modern_rifle_research"
			add_tech_bonus = {
				name = ANQ_modern_rifle_research
				bonus = 0.8
				uses = 1
				category = infantry_weapons
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = ANQ_foreign_artillery
		icon = GFX_goal_artillery
		dynamic = yes
		x = 1
		y = 1
		cost = 5

		ai_will_do = {
			factor = 10
		}

		relative_position_id = ANQ_radio_innovations
		prerequisite = {
			focus = ANQ_radio_innovations
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_foreign_artillery"
			add_tech_bonus = {
				name = ANQ_foreign_artillery
				bonus = 0.8
				uses = 1
				category = artillery
			}
			if = {
				limit = {
					has_completed_focus = ANQ_stand_with_republic
					has_country_flag = ANQ_friendly_japan
				}
				JAP = {
					create_production_license = {
						target = ANQ
						cost_factor = 0
						equipment = {
							type = artillery_equipment_1
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = ANQ_japanese_tank_imports
		icon = GFX_goal_generic_army_tanks
		x = 0
		y = 1
		cost = 5

		ai_will_do = {
			factor = 5
		}

		relative_position_id = ANQ_modern_rifle_research
		prerequisite = {
			focus = ANQ_modern_rifle_research
		}
		prerequisite = {
			focus = ANQ_foreign_artillery
		}
		mutually_exclusive = {
			focus = ANQ_antitank_improvisation
		}

		available = {
			has_completed_focus = ANQ_stand_with_republic
			has_country_flag = ANQ_friendly_japan
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_japanese_tank_imports"
			add_tech_bonus = {
				name = ANQ_japanese_tank_imports
				category = cat_light_armor
				uses = 1
				bonus = 1
			}
			if = {
				limit = {
					has_completed_focus = ANQ_stand_with_republic
					NOT = {
						has_war_with = JAP
					}
				}
				JAP = {
					create_production_license = {
						target = ANQ
						cost_factor = 0
						equipment = {
							type = light_tank_equipment_1
						}
					}
					create_production_license = {
						target = ANQ
						cost_factor = 0
						equipment = {
							type = light_tank_equipment_2
						}
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = ANQ_antitank_improvisation
		icon = GFX_goal_anti_tank
		x = 0
		y = 1
		cost = 5

		ai_will_do = {
			factor = 5
		}

		relative_position_id = ANQ_foreign_artillery
		prerequisite = {
			focus = ANQ_foreign_artillery
		}
		prerequisite = {
			focus = ANQ_modern_rifle_research
		}
		mutually_exclusive = {
			focus = ANQ_japanese_tank_imports
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_antitank_improvisation"
			add_tech_bonus = {
				name = ANQ_antitank_improvisation
				bonus = 1
				uses = 1
				category = cat_anti_tank
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}

	focus = {
		id = ANQ_reform_jinling_academy
		icon = GFX_goal_tfv_generic_tech_sharing
		x = 4
		y = 1
		cost = 5

		ai_will_do = {
			factor = 3
		}

		relative_position_id = ANQ_a_new_army
		prerequisite = {
			focus = ANQ_a_new_army
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_reform_jinling_academy"
			every_army_leader = {
				add_planning = 1
			}
		}
	}
	focus = {
		id = ANQ_panasian_spirit
		icon = GFX_LEC_49ers
		x = -1
		y = 1
		cost = 5
		relative_position_id = ANQ_reform_jinling_academy
		prerequisite = {
			focus = ANQ_reform_jinling_academy
		}
		mutually_exclusive = {
			focus = ANQ_nationalist_spirit
		}
		available = {
			has_completed_focus = ANQ_panasian_legitimacy
			has_country_flag = ANQ_friendly_japan
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_panasian_spirit"
			add_ideas = ANQ_black_dragon_society
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}
	focus = {
		id = ANQ_nationalist_spirit
		icon = GFX_focus_chi_one_china_policy
		x = 1
		y = 1
		cost = 5

		ai_will_do = {
			factor = 3
		}

		relative_position_id = ANQ_reform_jinling_academy
		prerequisite = {
			focus = ANQ_reform_jinling_academy
		}
		mutually_exclusive = {
			focus = ANQ_panasian_spirit
		}
		available = {
			OR = {
				has_completed_focus = ANQ_stand_with_beijing
				has_completed_focus = ANQ_republican_focus
			}
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_nationalist_spirit"
			add_ideas = ANQ_nationalist_spirit_idea
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}
	focus = {
		id = ANQ_operational_battle_command
		icon = GFX_goal_generic_navy_doctrines_tactics
		x = 1
		y = 1
		cost = 5

		ai_will_do = {
			factor = 3
		}

		relative_position_id = ANQ_panasian_spirit
		prerequisite = {
			focus = ANQ_nationalist_spirit
			focus = ANQ_panasian_spirit
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_operational_battle_command"
			add_tech_bonus = {
				name = ANQ_operational_battle_command
				bonus = 1
				uses = 1
				category = support_tech
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = ANQ_special_intelligence_units
		icon = GFX_goal_generic_military_deal
		x = -1
		y = 1
		cost = 5

		ai_will_do = {
			factor = 5
		}

		relative_position_id = ANQ_operational_battle_command
		prerequisite = {
			focus = ANQ_operational_battle_command
		}
		mutually_exclusive = {
			focus = ANQ_capital_guard_divisions
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_special_intelligence_units"
			add_tech_bonus = {
				name = ANQ_special_intelligence_units
				bonus = 0.75
				uses = 1
				technology = tech_mountaineers
				technology = tech_mountaineers2
				technology = tech_mountaineers3
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = ANQ_capital_guard_divisions
		icon = GFX_goal_army_guy_2
		x = 1
		y = 1
		cost = 5

		ai_will_do = {
			factor = 5
		}

		relative_position_id = ANQ_operational_battle_command
		prerequisite = {
			focus = ANQ_operational_battle_command
		}
		mutually_exclusive = {
			focus = ANQ_special_intelligence_units
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_capital_guard_divisions"
			add_tech_bonus = {
				name = ANQ_capital_guard_divisions
				bonus = 1
				uses = 1
				category = cat_mechanized_equipment
			}
		}
		search_filters = { FOCUS_FILTER_RESEARCH }
	}
	focus = {
		id = ANQ_modern_officer_corps
		icon = GFX_goal_enlist_the_police
		x = 1
		y = 1
		cost = 6

		ai_will_do = {
			factor = 3
		}

		relative_position_id = ANQ_special_intelligence_units
		prerequisite = {
			focus = ANQ_special_intelligence_units
			focus = ANQ_operational_battle_command
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus ANQ_modern_officer_corps"
			every_unit_leader = {
				add_defense = 1
				add_logistics = 1
			}
		}
	}
}





