###########################
# Iran Focus Tree
# By Iranian Voodoo Doctor
###########################

focus_tree = {
	id = persia_focus
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = PER
		}
	}
	default = no
	continuous_focus_position = { x = 2800 y = 2500 }
# Starting political tree #
	focus = {
		id = PER_majlis_elections
		icon = GFX_goal_generic_propaganda
		x = 15
		y = 0
		cost = 2
		ai_will_do = {
			factor = 100
		}
		available = {
			has_country_flag = PER_emergency_elections_called
		}
		completion_reward = {
			add_political_power = 30
			country_event = { id = pers.3 }
		}
	}
# Foroughi victory #
	focus = {
		id = PER_lib_victory
		icon = GFX_goal_generic_propaganda
		prerequisite = {
			focus = PER_majlis_elections
		
		}
		available = {
			has_country_flag = PER_liberals_win
		}
		cost = 3
		x = -6
		y = 1
		relative_position_id = PER_majlis_elections
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			add_political_power = 30
			add_stability = 0.05
		 }
	}

	focus = {
		id = PER_consolidate_government
		icon = GFX_goal_generic_propaganda
		prerequisite = {
			focus = PER_lib_victory
		}
		cost = 4
		x = -1
		y = 1
		relative_position_id = PER_lib_victory
		completion_reward = { 
			custom_effect_tooltip = foroughi_and_the_majlis_tt
			custom_effect_tooltip = foroughi_kill_everybody_tt
			hidden_effect = {
				country_event = { id = pers.6 }
			}

		}
	}

	focus = {
		id = PER_meet_with_army
		icon = GFX_goal_generic_propaganda
		prerequisite = {
			focus = PER_lib_victory
		}
		cost = 4
		x = 1
		y = 1
		relative_position_id = PER_lib_victory
		completion_reward = { 
			add_stability = 0.15
			country_event = { id = pers.7 }
		}
	}

	focus = {
		id = PER_one_people
		icon = GFX_goal_generic_propaganda
		prerequisite = {
			focus = PER_consolidate_government
		}
		prerequisite = {
			focus = PER_meet_with_army
		}
		cost = 4
		x = 0
		y = 2
		relative_position_id = PER_lib_victory
		completion_reward = { 
		remove_ideas = PER_factional_fracturing
			add_stability = 0.05
		}
	}

		focus = {
		id = PER_making_promises
		icon = GFX_goal_generic_propaganda
		prerequisite = {
			focus = PER_one_people
		}
		cost = 5
		x = -2
		y = 3
		relative_position_id = PER_lib_victory
		completion_reward = { 
			add_political_power = 50
			add_popularity = {
				ideology = social_liberal
				popularity = 0.15
			}
		}
	}

		focus = {
		id = PER_friends_abroad
		icon = GFX_goal_generic_propaganda
		prerequisite = {
			focus = PER_one_people
		}
		cost = 5
		x = 0
		y = 3
		relative_position_id = PER_lib_victory
		completion_reward = { 
			country_event = { id = pers.8}
		}
	}

		focus = {
		id = PER_iranian_democracy
		icon = GFX_goal_generic_propaganda
		prerequisite = {
			focus = PER_one_people
		}
		cost = 5
		x = 2
		y = 3
		relative_position_id = PER_lib_victory
		completion_reward = { 
			add_stability = 0.2
			
		}
	}

		focus = {
		id = PER_prepare_for_war
		icon = GFX_goal_generic_propaganda
		prerequisite = {
			focus = PER_making_promises
		}
		prerequisite = {
			focus = PER_iranian_democracy
		}
		prerequisite = {
			focus = PER_friends_abroad
		}
		cost = 4
		x = -1
		y = 4
		relative_position_id = PER_lib_victory
		completion_reward = { # note for later add timed idea giving army boosts for 1 year
			add_unit_bonus = {
				category_light_infantry = {
					soft_attack = 0.05
				}
			}
			add_war_support = 0.25
		}
	}

		focus = {
		id = PER_memories_of_constitutionalism
		icon = GFX_goal_generic_propaganda
		prerequisite = {
			focus = PER_making_promises
		}
		prerequisite = {
			focus = PER_iranian_democracy
		}
		prerequisite = {
			focus = PER_friends_abroad
		}
		cost = 4
		x = 1
		y = 4
		relative_position_id = PER_lib_victory
		completion_reward = { 
			remove_ideas = PER_loss_of_confidence
		}
	}

		focus = {
		id = PER_iran_alone_and_strong
		icon = GFX_goal_generic_propaganda
		prerequisite = {
			focus = PER_memories_of_constitutionalism
		}
		prerequisite = {
			focus = PER_prepare_for_war
		}
		cost = 3
		x = 0
		y = 5
		relative_position_id = PER_lib_victory
		completion_reward = { add_war_support = 0.2
		add_political_power = 30
		}
	}

# Modarres Victory #
focus = {
	id = PER_mullah_win
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_majlis_elections
	}
	available = {
		has_country_flag = PER_modarres_win
		}
	x = 6
	y = 1
	relative_position_id = PER_majlis_elections
	completion_reward = {
		add_popularity = {
			ideology = social_conservative
			popularity = 0.2
		}
	}
}

focus = {
	id = PER_government_for_iranians_by_iranians
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_mullah_win
	}
	x = 0
	y = 1
	relative_position_id = PER_mullah_win
	completion_reward = {
		add_political_power = 40
		add_stability = 0.2
	}
}

focus = {
	id = PER_uniting_the_ummah
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_government_for_iranians_by_iranians
	}
	x = -1
	y = 2
	relative_position_id = PER_mullah_win
	completion_reward = { 
			remove_ideas = PER_loss_of_confidence
	}
}

focus = {
	id = PER_curbing_the_executive
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_government_for_iranians_by_iranians
	}
	x = 1
	y = 2
	relative_position_id = PER_mullah_win
	completion_reward = {
	}
}

focus = {
	id = PER_constituional_islam_praxis
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_uniting_the_ummah
	}
	prerequisite = {
		focus = PER_curbing_the_executive
	}
	x = -2
	y = 3
	relative_position_id = PER_mullah_win
	completion_reward = { 
		add_stability = 0.05
		add_political_power = 50
		add_popularity = {
			ideology = social_conservative
			popularity = 0.05
		}
	}
}

focus = {
	id = PER_by_our_will_alone
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_uniting_the_ummah
	}
	prerequisite = {
		focus = PER_curbing_the_executive
	}
	x = 0
	y = 3
	relative_position_id = PER_mullah_win
	completion_reward = { 
		add_war_support = 0.10
		add_ideas = PER_self_reliance
	}
}

focus = {
	id = PER_preaching_for_unity
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_uniting_the_ummah
	}
	prerequisite = {
		focus = PER_curbing_the_executive
	}
	x = 2
	y = 3
	relative_position_id = PER_mullah_win
	completion_reward = { 
		remove_ideas = PER_factional_fracturing
	}
}

focus = {
	id = PER_brothers_beyond
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_constituional_islam_praxis
	}
	prerequisite = {
		focus = PER_by_our_will_alone
	}
	prerequisite = {
		focus = PER_preaching_for_unity
	}
	x = 1
	y = 4
	relative_position_id = PER_mullah_win
	completion_reward = { 
		add_manpower = 9000
	}
}

focus = {
	id = PER_fervour_for_god_and_country
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_constituional_islam_praxis
	}
	prerequisite = {
		focus = PER_by_our_will_alone
	}
	prerequisite = {
		focus = PER_preaching_for_unity
	}
	x = -1
	y = 4
	relative_position_id = PER_mullah_win
	completion_reward = { 
		add_stability = 0.2
		add_political_power = 50
	}
}

focus = {
	id = PER_death_to_the_enemies_at_the_gate
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_fervour_for_god_and_country
	}
	prerequisite = {
		focus = PER_brothers_beyond
	}
	x = 0
	y = 5
	relative_position_id = PER_mullah_win
		completion_reward = { add_war_support = 0.2
		add_political_power = 30
		}
}
# Reza Khan Takeover #
focus = {
	id = PER_cossack_takeover
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_majlis_elections
	}
	available = {
		custom_trigger_tooltip = {
			tooltip = PER_reza_in_power_tt
		}
		has_country_flag = PER_reza_takeover
	}
	x = 0
	y = 1
	relative_position_id = PER_majlis_elections
	completion_reward = { 
		add_stability = -0.1
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.3
		}
	}
}

focus = {
	id = PER_majlis_is_closed_go_home
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_cossack_takeover
	}
	x = -2
	y = 1
	relative_position_id = PER_cossack_takeover
	completion_reward = {
				add_political_power = 75
				add_stability = -0.05
				remove_ideas = PER_republican_legitimacy
	}
}

focus = {
	id = PER_arrest_the_protestors
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_cossack_takeover
	}
	x = 0
	y = 1
	relative_position_id = PER_cossack_takeover
	completion_reward = { 
		add_stability = 0.05
		add_war_support = 0.05
		remove_ideas = PER_factional_fracturing
	}
}

focus = {
	id = PER_put_down_chaos
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_cossack_takeover
	}
	x = 2
	y = 1
	relative_position_id = PER_cossack_takeover
	completion_reward = { 
		army_experience = 20
		remove_ideas = PER_loss_of_confidence
	}
}

focus = {
	id = PER_hail_rahbar
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_majlis_is_closed_go_home
	}
	prerequisite = {
		focus = PER_arrest_the_protestors
	}
	prerequisite = {
		focus = PER_put_down_chaos
	}
	x = 0
	y = 2
	relative_position_id = PER_cossack_takeover
	completion_reward = { 
		add_stability = 0.10
		add_war_support = 0.10
		add_ideas = PER_military_rule
	}
}
focus = {
	id = PER_military_cabinet
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_hail_rahbar
	}
	x = -1
	y = 3
	relative_position_id = PER_cossack_takeover
	completion_reward = { 
		add_war_support = 0.10
		add_command_power = 50
	}
}

focus = {
	id = PER_army_first_civilians_second
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_hail_rahbar
	}
	x = 1
	y = 3
	relative_position_id = PER_cossack_takeover
	completion_reward = { 
		add_war_support = 0.10
		add_command_power = 50
	}
}

focus = {
	id = PER_show_of_force
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_military_cabinet
	}
	prerequisite = {
		focus = PER_army_first_civilians_second
	}
	x = -2
	y = 4
	relative_position_id = PER_cossack_takeover
	completion_reward = { 
		army_experience = 25
		add_manpower = 10000
	}
}

focus = {
	id = PER_justice_by_the_sword
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_military_cabinet
	}
	prerequisite = {
		focus = PER_army_first_civilians_second
	}
	x = 0
	y = 4
	relative_position_id = PER_cossack_takeover
	completion_reward = { 
		add_stability = 0.05
		add_political_power = 50
	}
}

focus = {
	id = PER_one_people_one_identity
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_military_cabinet
	}
	prerequisite = {
		focus = PER_army_first_civilians_second
	}
	x = 2
	y = 4
	relative_position_id = PER_cossack_takeover
	completion_reward = { 
		add_war_support = 0.05
		add_ideas = PER_national_unity
	}
}

focus = {
	id = PER_a_national_model_to_follow
	icon = GFX_goal_generic_propaganda
	cost = 7
	prerequisite = {
		focus = PER_show_of_force
	}
	prerequisite = {
		focus = PER_justice_by_the_sword
	}
	prerequisite = {
		focus = PER_one_people_one_identity
	}
	x = 0
	y = 5
	relative_position_id = PER_cossack_takeover
		completion_reward = { add_war_support = 0.2
		add_political_power = 30
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.3
		}
		}
}

################ MILITARY TREE ################
				###############
focus = {
	id = PER_state_of_the_military
	icon = GFX_goal_PER_army
	cost = 1
	x = 35
	y = 0
	available = {
		custom_trigger_tooltip = {
			tooltip = PER_elections_must_finish_tt
		}
		hidden_trigger = {
			OR = {
			has_country_flag = PER_liberals_win
			has_country_flag = PER_modarres_win
			has_country_flag = PER_accepted_reza_deal
			has_country_flag = PER_reza_takeover
			}
		}

	}
	completion_reward = { 
		add_political_power = 30
		army_experience = 15
	}
}
# Choosing the cossacks
focus = {
	id = PER_cossack_aggressive_doctrine
	icon = GFX_goal_PER_army
	cost = 1
	prerequisite = {
		focus = PER_state_of_the_military
	}
	mutually_exclusive = {
		focus = PER_gendarme_defensive_doctrine
	}
	x = -3
	y = 1
	relative_position_id = PER_state_of_the_military
	completion_reward = {
		custom_effect_tooltip = PER_cossack_chosen_tt
		hidden_effect = {
			set_country_flag = PER_chose_cossacks
		}
		swap_ideas = {
			remove_idea = PER_divided_military
			add_idea = PER_cossack_reorganisation
		}
		army_experience = 25
	}
}
# Choosing the Gendarmie
focus = {
	id = PER_gendarme_defensive_doctrine
	icon = GFX_goal_PER_army
	cost = 1
	prerequisite = {
		focus = PER_state_of_the_military
	}
	mutually_exclusive = {
		focus = PER_cossack_aggressive_doctrine
	}
	x = 3
	y = 1
	relative_position_id = PER_state_of_the_military
	completion_reward = {
		custom_effect_tooltip = PER_gendarme_chosen_tt
		hidden_effect = {
			set_country_flag = PER_chose_gendarmes
		}
		swap_ideas = {
			remove_idea = PER_divided_military
			add_idea = PER_gendarme_reorganisation
		}
		army_experience = 25
	}
}

### Mutual branch
focus = {
	id = PER_need_more_guns
	icon = GFX_goal_PER_army
	cost = 1
	prerequisite = {
		focus = PER_cossack_aggressive_doctrine
		focus = PER_gendarme_defensive_doctrine
	}
	x = 0
	y = 3
	relative_position_id = PER_state_of_the_military
	completion_reward = {
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 1000
			producer = PER
		}
	}
}

focus = {
	id = PER_weapons_of_today
	icon = GFX_goal_PER_army
	cost = 1
	prerequisite = {
		focus = PER_need_more_guns
	}
	x = 0
	y = 5
	relative_position_id = PER_state_of_the_military
	completion_reward = {
		add_tech_bonus = {
			name = infantry_weapons_bonus
			bonus = 1.0
			uses = 1
			category = infantry_weapons
		}
		add_tech_bonus = {
			name = artillery_bonus
			bonus = 1.0
			uses = 1
			category = artillery
		}
	}	
}

### Aggressive Doctrine
focus = {
	id = PER_brave_and_bold
	icon = GFX_goal_PER_army
	cost = 1
	prerequisite = {
		focus = PER_cossack_aggressive_doctrine
	}
	x = -2
	y = 2
	relative_position_id = PER_state_of_the_military
	completion_reward = {
		swap_ideas = {
			remove_idea = PER_cossack_reorganisation
			add_idea = PER_cossack_discipline
		}
		add_doctrine_cost_reduction = {
			name = land_doc_bonus
			cost_reduction = 0.5
			uses = 1
			category = land_doctrine
		}
	}
}

focus = {
	id = PER_strike_hard
	icon = GFX_goal_PER_army
	cost = 1
	prerequisite = {
		focus = PER_brave_and_bold
	}
	x = -4
	y = 3
	relative_position_id = PER_state_of_the_military
	completion_reward = {
		add_tech_bonus = {
			name = armor_bonus
			bonus = 1.0
			uses = 1
			category = armor
		}
		army_experience = 15
	}
}

focus = {
	id = PER_strike_fast
	icon = GFX_goal_PER_army
	cost = 1
	prerequisite = {
		focus = PER_brave_and_bold
	}
	x = -2
	y = 3
	relative_position_id = PER_state_of_the_military
	completion_reward = {
		add_tech_bonus = {
			name = motorized_bonus
			bonus = 1.0
			uses = 1
			category = motorized_equipment
		}
		army_experience = 15
	}
}

focus = {
	id = PER_instilling_loyalty
	icon = GFX_goal_PER_army
	cost = 1
	prerequisite = {
		focus = PER_strike_fast
	}
	prerequisite = {
		focus = PER_strike_hard

	}
	x = -3
	y = 4
	relative_position_id = PER_state_of_the_military
	completion_reward = {
		add_political_power = 50
		add_stability = 0.05
	}
}

focus = {
	id = PER_reputation_renewed
	icon = GFX_goal_PER_army
	cost = 1
	prerequisite = {
		focus = PER_strike_fast
	}
	prerequisite = {
		focus = PER_strike_hard

	}
	x = -1
	y = 4
	relative_position_id = PER_state_of_the_military
	completion_reward = {
		swap_ideas = {
			remove_idea = PER_cossack_discipline
			add_idea = PER_sword_of_persia
		}
		add_war_support = 0.1
	}
}

focus = {
	id = sword_of_the_nation
	icon = GFX_goal_PER_army
	cost = 1
	prerequisite = {
		focus = PER_instilling_loyalty
	}
	prerequisite = {
		focus = PER_reputation_renewed
	}
	x = -2
	y = 5
	relative_position_id = PER_state_of_the_military
	completion_reward = {
		country_event = { id = pers.23 }
	}
}
### Defensive Doctrine
focus = {
	id = PER_national_protectors
	icon = GFX_goal_PER_army
	cost = 1
	prerequisite = {
		focus = PER_gendarme_defensive_doctrine
	}
	x = 2
	y = 2
	relative_position_id = PER_state_of_the_military
	completion_reward = {
		swap_ideas = {
			remove_idea = PER_gendarme_reorganisation
			add_idea = PER_gendarme_discipline
		}
		add_doctrine_cost_reduction = {
			name = land_doc_bonus
			cost_reduction = 0.5
			uses = 1
			category = land_doctrine
		}
	}
}

focus = {
	id = PER_esprit_de_corps
	icon = GFX_goal_PER_army
	cost = 1
	prerequisite = {
		focus = PER_national_protectors
	}
	x = 2
	y = 3
	relative_position_id = PER_state_of_the_military
	completion_reward = {
		add_manpower = 10000
		army_experience = 15
	}
}

focus = {
	id = PER_stand_tall
	icon = GFX_goal_PER_army
	cost = 1
	prerequisite = {
		focus = PER_national_protectors
	}
	x = 4
	y = 3
	relative_position_id = PER_state_of_the_military
	completion_reward = {
		every_owned_state = {
		limit = { is_core_of = PER }
		add_building_construction = {
			type = bunker
			level = 1
			instant_build = yes
			province = { all_provinces = yes }
			}
		}
		army_experience = 15
	}
}

focus = {
	id = PER_vanguard_of_constitution
	icon = GFX_goal_PER_army
	cost = 1
	prerequisite = {
		focus = PER_esprit_de_corps
	}
	prerequisite = {
		focus = PER_stand_tall
	}
	x = 1
	y = 4
	relative_position_id = PER_state_of_the_military
	completion_reward = {
		add_political_power = 50
		add_stability = 0.05
	}
}

focus = {
	id = PER_ascetic_ideals
	icon = GFX_goal_PER_army
	cost = 1
	prerequisite = {
		focus = PER_esprit_de_corps
	}
	prerequisite = {
		focus = PER_stand_tall
	}
	x = 3
	y = 4
	relative_position_id = PER_state_of_the_military
	completion_reward = {
		swap_ideas = {
			remove_idea = PER_gendarme_discipline
			add_idea = PER_shield_of_persia
		}
		add_war_support = 0.1
	}
}

focus = {
	id = PER_dare_to_die
	icon = GFX_goal_PER_army
	cost = 1
	prerequisite = {
		focus = PER_vanguard_of_constitution
	}
	prerequisite = {
		focus = PER_ascetic_ideals
	}
	x = 2
	y = 5
	relative_position_id = PER_state_of_the_military
	completion_reward = {
			country_event = { id = pers.24 }
	}
}
##### What Comes Next
focus = {
	id = PER_what_comes_next
	icon = GFX_goal_PER_army
	cost = 1
	prerequisite = {
		focus = sword_of_the_nation
		focus = PER_dare_to_die
	}
	prerequisite = {
		focus = PER_weapons_of_today
	}
	x = 0
	y = 6
	relative_position_id = PER_state_of_the_military
	completion_reward = {
		add_war_support = 0.15
		army_experience = 50
		add_political_power = 100
	}
}





}

