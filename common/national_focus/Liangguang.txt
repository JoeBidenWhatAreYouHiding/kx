focus_tree = {
	id = KR_Liangguang_Federalist
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = GXC
		}
	}
	default = no
	shared_focus = GXC_Guangdong_Star
	shared_focus = GXC_provincial_armies
	shared_focus = GXC_County_Self_Governmence
	shared_focus = GXC_Initiate_United_Provinces
	continuous_focus_position = { x = 1500 y = 800 }
}
focus_tree = {
	id = KR_Guangxi_Clique
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = GXC
		}
	}
	default = no
	shared_focus = GXC_Guangxi_Construction_Plan
	shared_focus = GXC_provincial_armies
	shared_focus = GXC_Guangxi_Warlord_Domination
	shared_focus = CHS_provisional_government
	shared_focus = CHS_reintegrate_academies
	shared_focus = CHS_standardised_arsenals
	shared_focus = CHS_southern_fleets_legacy
	continuous_focus_position = { x = 1525 y = 850 }
}
focus_tree = {
	id = KR_Guangdong_Merchants
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = GXC
		}
	}
	default = no
	shared_focus = GXC_Guangdong_Star
	shared_focus = GXC_provincial_armies
	shared_focus = GXC_Merchant_Government

	shared_focus = CHS_provisional_government
	shared_focus = CHS_reintegrate_academies
	shared_focus = CHS_standardised_arsenals
	shared_focus = CHS_southern_fleets_legacy
	continuous_focus_position = { x = 1500 y = 700 }
}
focus_tree = {
	id = KR_Guangdong_KMT
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = GXC
		}
	}
	default = no
	shared_focus = GXC_Guangdong_Star
	shared_focus = GXC_provincial_armies
	shared_focus = GXC_Chen_Mingshu
	shared_focus = GXC_Li_Zongren
	continuous_focus_position = { x = 1700 y = 700 }
}
focus_tree = {
	id = KR_Guangxi_KMT
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = GXC
		}
	}
	default = no
	shared_focus = GXC_Guangxi_Construction_Plan
	shared_focus = GXC_provincial_armies
	shared_focus = GXC_Chen_Mingshu
	shared_focus = GXC_Li_Zongren
	continuous_focus_position = { x = 1575 y = 850 }
}
focus_tree = {
	id = KR_RKMT
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = GXC
		}
	}
	default = no
	shared_focus = GXC_Guangxi_Construction_Plan
	shared_focus = GXC_provincial_armies
	shared_focus = GXC_Chen_Mingshu
	shared_focus = GXC_Li_Zongren
	#shared_focus = GXC_first_stage
	shared_focus = GXC_legacy_of_war
	shared_focus = GXC_roc_navy
	continuous_focus_position = { x = 1575 y = 850 }
}

###Guandong Development
shared_focus = {
	id = GXC_Guangdong_Star
	icon = GFX_goal_generic_future_technology
	cost = 4
	x = 22
	y = 0

	ai_will_do = { factor = 50 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Guangdong_Star"
		add_tech_bonus = {
			name = GXC_Guangdong_Star
			bonus = 1
			uses = 1
			category = industry
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = GXC_Financial_Reform
	icon = GFX_goal_generic_banking_legislation
	cost = 5
	prerequisite = {
		focus = GXC_Guangdong_Star
	}
	x = -2
	y = 1
	relative_position_id = GXC_Guangdong_Star
	ai_will_do = { factor = 50 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Financial_Reform"
		add_ideas = GXC_reforming_guangdong_one
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_New_Industrial_Zones
	icon = GFX_goal_generic_industrial_planning
	cost = 5
	prerequisite = {
		focus = GXC_Financial_Reform
	}
	x = -2
	y = 1
	relative_position_id = GXC_Financial_Reform
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_New_Industrial_Zones"
		593 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		1012 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Infrastructral_Efforts
	icon = GFX_goal_NIC_Pacific_Rail_Expansion
	cost = 5
	prerequisite = {
		focus = GXC_Financial_Reform
	}
	x = 0
	y = 1
	relative_position_id = GXC_Financial_Reform
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Infrastructral_Efforts"
		593 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		1012 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		800 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Local_Investment
	icon = GFX_RUS_Money_For_Industrialization
	cost = 5
	prerequisite = {
		focus = GXC_Financial_Reform
	}
	x = 2
	y = 1
	relative_position_id = GXC_Financial_Reform
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Local_Investment"
		swap_ideas = {
			remove_idea = GXC_reforming_guangdong_one
			add_idea = GXC_reforming_guangdong_two
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Fuguo_Coal_Mine
	icon = GFX_goal_UMN_cobalt_mines
	cost = 5
	prerequisite = {
		focus = GXC_Infrastructral_Efforts
	}
	prerequisite = {
		focus = GXC_New_Industrial_Zones
	}
	x = 1
	y = 1
	relative_position_id = GXC_New_Industrial_Zones
	available = {
		800 = { is_owned_and_controlled_by = ROOT }
	}
	ai_will_do = { factor = 50 }

	bypass = {
		hidden_trigger = {
			800 = { has_state_flag = GXC_coal_mines_developed }
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Fuguo_Coal_Mine"
		activate_targeted_decision = { target = 800 decision = GXC_Fuguo_Coal_Mine }
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Municipal_Development
	icon = GFX_goal_KIV_urban
	cost = 5
	prerequisite = {
		focus = GXC_Infrastructral_Efforts
	}
	prerequisite = {
		focus = GXC_Local_Investment
	}
	x = 1
	y = 1
	relative_position_id = GXC_Infrastructral_Efforts
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Municipal_Development"
		593 = {
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Guangdong_Industrial_Exhibition
	icon = GFX_goal_NEE_Nationalize_Key_Industries_Railways
	cost = 5
	prerequisite = {
		focus = GXC_Fuguo_Coal_Mine
	}
	prerequisite = {
		focus = GXC_Municipal_Development
	}
	x = 1
	y = 1
	relative_position_id = GXC_Fuguo_Coal_Mine
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Guangdong_Industrial_Exhibition"
		add_tech_bonus = {
			name = GXC_Guangdong_Industrial_Exhibition
			bonus = 1
			uses = 1
			category = industry
		}
		swap_ideas = {
			remove_idea = GXC_reforming_guangdong_two
			add_idea = GXC_reforming_guangdong_three
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_Revive_Guangdong_Arsenal
	icon = GFX_goal_GXC_Guangdong_Arsenal
	cost = 5
	prerequisite = {
		focus = GXC_Fuguo_Coal_Mine
	}
	x = -1
	y = 1
	relative_position_id = GXC_Fuguo_Coal_Mine
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Revive_Guangdong_Arsenal"
		592 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Education_Reform_focus
	icon = GFX_goal_HON_Education_Research
	cost = 5
	prerequisite = {
		focus = GXC_Guangdong_Star
	}
	x = 2
	y = 1
	relative_position_id = GXC_Guangdong_Star
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Education_Reform_focus"
		add_ideas = GXC_education_reform
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_Expand_Yue_University
	icon = GFX_goal_generic_red_university
	cost = 5
	prerequisite = {
		focus = GXC_Education_Reform_focus
	}
	x = 0
	y = 1
	relative_position_id = GXC_Education_Reform_focus
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Expand_Yue_University"
		SZC_add_research_slot = yes
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_Professional_Training_School
	icon = GFX_goal_VIN_vietnam_academy_science_technology
	cost = 5
	prerequisite = {
		focus = GXC_Expand_Yue_University
	}
	mutually_exclusive = {
		focus = GXC_Massive_Literacy_Campaign
	}
	x = -1
	y = 1
	relative_position_id = GXC_Expand_Yue_University
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Professional_Training_School"
		swap_ideas = {
			remove_idea = GXC_education_reform
			add_idea = GXC_professional_training_focus
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_Massive_Literacy_Campaign
	icon = GFX_goal_VIN_national_education_campaign
	cost = 5
	prerequisite = {
		focus = GXC_Expand_Yue_University
	}
	mutually_exclusive = {
		focus = GXC_Professional_Training_School
	}
	x = 1
	y = 1
	relative_position_id = GXC_Expand_Yue_University
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Massive_Literacy_Campaign"
		swap_ideas = {
			remove_idea = GXC_education_reform
			add_idea = GXC_literacy_campaign
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH FOCUS_FILTER_STABILITY }
}
shared_focus = {
	id = GXC_Reform_Local_Culture
	icon = GFX_goal_LPD_no_booze
	cost = 5
	prerequisite = {
		focus = GXC_Professional_Training_School
		focus = GXC_Massive_Literacy_Campaign
	}
	allow_branch = {
		GXC_has_federalist_government = yes
	}
	x = 1
	y = 1
	relative_position_id = GXC_Professional_Training_School
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Reform_Local_Culture"
		add_political_power = 50
		add_stability = 0.05
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}
### Chen Jiongming's initial political branch
shared_focus = {
	id = GXC_County_Self_Governmence
	icon = GFX_RUS_Workers_Self_Government
	cost = 5
	allow_branch = {
		GXC_has_federalist_government = yes
	}
	x = 28
	y = 0
	ai_will_do = {
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_country_flag = choice_made }
		}
	}
	available = {
		NOT = { is_subject_of = LEP }
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_County_Self_Governmence"
		add_ideas = GXC_decentralisation
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}
shared_focus = {
	id = GXC_Consolidate_Local_Support
	icon = GFX_goal_collaborate_local_elites
	cost = 5
	prerequisite = {
		focus = GXC_County_Self_Governmence
	}
	mutually_exclusive = {
		focus = GXC_Republican_United_Front
	}
	x = -1
	y = 1
	relative_position_id = GXC_County_Self_Governmence
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Consolidate_Local_Support"
		add_political_power = 75
		add_popularity = {
			ideology = social_conservative
			popularity = 0.03
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.03
		}
		add_popularity = {
			ideology = social_democrat
			popularity = -0.06
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}
shared_focus = {
	id = GXC_Enlightened_Gentry_Dominance
	icon = GFX_goal_SKM_Nobles
	cost = 5
	prerequisite = {
		focus = GXC_Consolidate_Local_Support
	}
	x = 0
	y = 1
	relative_position_id = GXC_Consolidate_Local_Support
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Enlightened_Gentry_Dominance"
		swap_ideas = {
			remove_idea = GXC_decentralisation
			add_idea = GXC_gentry_dominance
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.10
		}
		add_popularity = {
			ideology = social_democrat
			popularity = -0.05
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.05
		}
		hidden_effect = {
			country_event = { id = lng.12 days = 7 }
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}
shared_focus = {
	id = GXC_Agricultural_Commodification
	icon = GFX_USA_sweep_farm_tariffs
	cost = 5
	prerequisite = {
		focus = GXC_Enlightened_Gentry_Dominance
	}
	x = 0
	y = 1
	relative_position_id = GXC_Enlightened_Gentry_Dominance
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Agricultural_Commodification"
		swap_ideas = {
			remove_idea = GXC_gentry_dominance
			add_idea = GXC_agrarianism
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}
shared_focus = {
	id = GXC_Republican_United_Front
	icon = GFX_goal_china_federalist_deal
	cost = 5
	prerequisite = {
		focus = GXC_County_Self_Governmence
	}
	mutually_exclusive = {
		focus = GXC_Consolidate_Local_Support
	}
	x = 1
	y = 1
	relative_position_id = GXC_County_Self_Governmence
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Republican_United_Front"
		add_political_power = -50
		add_popularity = {
			ideology = social_conservative
			popularity = -0.03
		}
		add_popularity = {
			ideology = market_liberal
			popularity = -0.03
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.02
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.02
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.02
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}
shared_focus = {
	id = GXC_Land_to_the_Tiller
	icon = GFX_goal_VIN_land_to_tillers
	cost = 5
	prerequisite = {
		focus = GXC_Republican_United_Front
	}
	x = 0
	y = 1
	relative_position_id = GXC_Republican_United_Front
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Land_to_the_Tiller"
		swap_ideas = {
			remove_idea = GXC_decentralisation
			add_idea = GXC_land_reform
		}
		add_popularity = {
			ideology = social_conservative
			popularity = -0.10
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.06
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.02
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.02
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Promote_Self_Organization
	icon = GFX_RUS_Prosperity_For_Peasants
	cost = 5
	prerequisite = {
		focus = GXC_Land_to_the_Tiller
	}
	x = 0
	y = 1
	relative_position_id = GXC_Land_to_the_Tiller
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Promote_Self_Organization"
		swap_ideas = {
			remove_idea = GXC_land_reform
			add_idea = GXC_self_management
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}
shared_focus = {
	id = GXC_Rural_Development
	icon = GFX_goal_BUL_mechanize_farming
	cost = 5
	prerequisite = {
		focus = GXC_Agricultural_Commodification
		focus = GXC_Promote_Self_Organization
	}
	x = 1
	y = 1
	relative_position_id = GXC_Agricultural_Commodification
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Rural_Development"
		1012 = {
			increase_state_category_by_one_level = yes
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		800 = {
			increase_state_category_by_one_level = yes
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Federalist_Model_Province
	icon = GFX_goal_NYC_Shining_City
	cost = 5
	prerequisite = {
		focus = GXC_Guangdong_Industrial_Exhibition
	}
	prerequisite = {
		focus = GXC_Reform_Local_Culture
	}
	prerequisite = {
		focus = GXC_Rural_Development
	}
	x = 4
	y = 1
	relative_position_id = GXC_Guangdong_Industrial_Exhibition
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Federalist_Model_Province"
		add_political_power = 100
		custom_effect_tooltip = GXC_guangdong_merge_ideas
		hidden_effect = {
			if = {
				limit = {
					has_idea = GXC_reforming_guangdong_three
					has_idea = GXC_literacy_campaign
					has_idea = GXC_self_management
				}
				remove_ideas = GXC_reforming_guangdong_three
				remove_ideas = GXC_literacy_campaign
				remove_ideas = GXC_self_management
				add_ideas = GXC_model_province_one
			}
			if = {
				limit = {
					has_idea = GXC_reforming_guangdong_three
					has_idea = GXC_professional_training_focus
					has_idea = GXC_self_management
				}
				remove_ideas = GXC_reforming_guangdong_three
				remove_ideas = GXC_professional_training_focus
				remove_ideas = GXC_self_management
				add_ideas = GXC_model_province_two
			}
			if = {
				limit = {
					has_idea = GXC_reforming_guangdong_three
					has_idea = GXC_literacy_campaign
					has_idea = GXC_agrarianism
				}
				remove_ideas = GXC_reforming_guangdong_three
				remove_ideas = GXC_literacy_campaign
				remove_ideas = GXC_agrarianism
				add_ideas = GXC_model_province_three
			}
			if = {
				limit = {
					has_idea = GXC_reforming_guangdong_three
					has_idea = GXC_professional_training_focus
					has_idea = GXC_agrarianism
				}
				remove_ideas = GXC_reforming_guangdong_three
				remove_ideas = GXC_professional_training_focus
				remove_ideas = GXC_agrarianism
				add_ideas = GXC_model_province_four
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}
###Military
shared_focus = {
	id = GXC_provincial_armies
	icon = GFX_goal_generic_army_high_command
	cost = 5
	x = 9
	y = 0
	ai_will_do = { factor = 50 }
	available = {
		NOT = { is_subject_of = LEP }
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_provincial_armies"
		remove_ideas = GXC_divided_military
		add_doctrine_cost_reduction = {
			name = GXC_provincial_armies
			cost_reduction = 0.5
			uses = 1
			category = land_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_hong_kong_contacts
	icon = GFX_focus_HKG_Fragrant_Port
	cost = 5
	prerequisite = {
		focus = GXC_provincial_armies
	}
	x = -6
	y = 1
	relative_position_id = GXC_provincial_armies
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_hong_kong_contacts"
		add_equipment_to_stockpile = {
			type = infantry_equipment_0
			amount = 1000
		}
		SZC_add_research_slot = yes
	}
}
shared_focus = {
	id = GXC_tooling_help
	icon = GFX_goal_USA_integral_mechanization
	cost = 5
	prerequisite = {
		focus = GXC_hong_kong_contacts
	}
	x = 2
	y = 1
	relative_position_id = GXC_hong_kong_contacts
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_tooling_help"
		add_tech_bonus = {
			name = GXC_tooling_help
			bonus = 1
			uses = 1
			category = industry
		}
		add_timed_idea = {
			idea = GXC_HK_tooling_help
			days = 100
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_second_arsenal
	icon = GFX_goal_GXC_Second_Guangdong_Arsenal
	cost = 5
	prerequisite = {
		focus = GXC_tooling_help
	}
	x = -1
	y = 1
	relative_position_id = GXC_tooling_help
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_second_arsenal"
		592 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		add_tech_bonus = {
			name = GXC_second_arsenal
			bonus = 1
			uses = 1
			category = artillery
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_improved_communications
	icon = GFX_goal_generic_infantry_radio
	cost = 5
	prerequisite = {
		focus = GXC_tooling_help
	}
	x = 1
	y = 1
	relative_position_id = GXC_tooling_help
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_improved_communications"
		if = {
			limit = { NOT = { has_tech = radio } }
			set_technology = { radio = 1 }
			else = {
				add_tech_bonus = {
					name = GXC_improved_communications
					bonus = 1
					uses = 1
					category = electronics
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_specialized_artillery
	icon = GFX_goal_generic_anti_air_gun
	cost = 5
	prerequisite = {
		focus = GXC_second_arsenal
	}
	x = 0
	y = 1
	relative_position_id = GXC_second_arsenal
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_specialized_artillery"
		add_tech_bonus = {
			name = GXC_specialized_artillery
			bonus = 1
			uses = 1
			category = cat_anti_tank
		}
		add_tech_bonus = {
			name = GXC_specialized_artillery
			bonus = 1
			uses = 1
			category = cat_anti_air
		}
		if = {
			limit = { 592 = { is_owned_and_controlled_by = GXC } } #Guangzhou
			592 = {
				add_building_construction = {
					type = anti_air_building
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_Liangguang_Aviation_Bureau
	icon = GFX_MON_light_fighter
	cost = 5
	prerequisite = {
		focus = GXC_hong_kong_contacts
	}
	x = -2
	y = 1
	relative_position_id = GXC_hong_kong_contacts
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Liangguang_Aviation_Bureau"
		air_experience = 20
		800 = {
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}
		}
		add_ideas = GXC_aviation_bureau_one
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIRFORCE_BONUS }
}
shared_focus = {
	id = GXC_Liangguang_Aviation_School
	icon = GFX_goal_KSV_rule_from_the_air
	cost = 5
	prerequisite = {
		focus = GXC_Liangguang_Aviation_Bureau
	}
	x = -1
	y = 1
	relative_position_id = GXC_Liangguang_Aviation_Bureau
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Liangguang_Aviation_School"
		air_experience = 20
		add_doctrine_cost_reduction = {
			name = GXC_Liangguang_Aviation_School
			cost_reduction = 0.5
			uses = 2
			category = air_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIRFORCE_BONUS }
}
shared_focus = {
	id = GXC_Aircraft_Repair_Factory
	icon = GFX_goal_CZE_air_industry
	cost = 5
	prerequisite = {
		focus = GXC_Liangguang_Aviation_Bureau
	}
	x = 1
	y = 1
	relative_position_id = GXC_Liangguang_Aviation_Bureau
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Aircraft_Repair_Factory"
		800 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		swap_ideas = {
			remove_idea = GXC_aviation_bureau_one
			add_idea = GXC_aviation_bureau_two
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIRFORCE_BONUS }
}
shared_focus = {
	id = GXC_rejuvenation_type_aircraft
	icon = GFX_HUN_fighters
	cost = 5
	prerequisite = {
		focus = GXC_Liangguang_Aviation_School
	}
	prerequisite = {
		focus = GXC_Aircraft_Repair_Factory
	}
	x = 1
	y = 1
	relative_position_id = GXC_Liangguang_Aviation_School
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_rejuvenation_type_aircraft"
		add_tech_bonus = {
			name = GXC_rejuvenation_type_aircraft
			bonus = 1
			uses = 1
			category = light_fighter
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_northern_doctrine
	icon = GFX_goal_GXC_northern_school
	cost = 5
	allow_branch = {
		GXC_has_KMT_government = no
	}
	prerequisite = {
		focus = GXC_provincial_armies
	}
	mutually_exclusive = {
		focus = GXC_southern_doctrine
	}
	x = -1
	y = 1
	relative_position_id = GXC_provincial_armies
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_northern_doctrine"
		add_doctrine_cost_reduction = {
			name = GXC_northern_doctrine
			cost_reduction = 0.5
			uses = 2
			category = cat_superior_firepower
		}
		add_tech_bonus = {
			name = GXC_northern_doctrine
			bonus = 1
			uses = 1
			category = artillery
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_southern_doctrine
	icon = GFX_goal_GXC_southern_school
	cost = 5
	prerequisite = {
		focus = GXC_provincial_armies
	}
	mutually_exclusive = {
		focus = GXC_northern_doctrine
	}
	allow_branch = {
		GXC_has_KMT_government = no
	}
	x = 1
	y = 1
	relative_position_id = GXC_provincial_armies
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_southern_doctrine"
		add_doctrine_cost_reduction = {
			name = GXC_northern_doctrine
			cost_reduction = 0.5
			uses = 2
			category = cat_mass_assault
		}
		add_tech_bonus = {
			name = GXC_southern_doctrine
			bonus = 1
			uses = 1
			category = infantry_weapons
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_reopen_whampoa
	icon = GFX_focus_HKG_19_Army
	cost = 5
	prerequisite = {
		focus = GXC_northern_doctrine
		focus = GXC_southern_doctrine
	}
	x = 0
	y = 1
	relative_position_id = GXC_northern_doctrine
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_reopen_whampoa"
		if = {
			limit = {
				has_idea = GXC_integrated_militia
			}
			swap_ideas = {
				remove_idea = GXC_integrated_militia
				add_idea = GXC_imp_officers_int_militia
			}
			else = {
				add_ideas = GXC_improved_officers
			}
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}
shared_focus = {
	id = GXC_militia_integration
	icon = GFX_goal_integrate_the_militia
	cost = 5
	prerequisite = {
		focus = GXC_northern_doctrine
		focus = GXC_southern_doctrine
	}
	x = 2
	y = 1
	relative_position_id = GXC_northern_doctrine
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_militia_integration"
		if = {
			limit = {
				has_idea = GXC_improved_officers
			}
			swap_ideas = {
				remove_idea = GXC_improved_officers
				add_idea = GXC_imp_officers_int_militia
			}
			else = {
				add_ideas = GXC_integrated_militia
			}
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}
shared_focus = {
	id = GXC_minjun_reforms
	icon = GFX_goal_NYC_new_york_volunteers
	cost = 5
	prerequisite = {
		focus = GXC_reopen_whampoa
	}
	prerequisite = {
		focus = GXC_militia_integration
	}
	x = 1
	y = 1
	relative_position_id = GXC_reopen_whampoa
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_minjun_reforms"
		swap_ideas = {
			remove_idea = GXC_imp_officers_int_militia
			add_idea = GXC_reformed_minjun
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}
shared_focus = {
	id = GXC_civilwar_lessons
	icon = GFX_YUN_Goal_Secure_Southern_China
	cost = 5
	prerequisite = {
		focus = GXC_provincial_armies
	}
	x = 5
	y = 1
	relative_position_id = GXC_provincial_armies
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_civilwar_lessons"
		army_experience = 50
		add_doctrine_cost_reduction = {
			name = GXC_civilwar_lessons
			cost_reduction = 0.5
			uses = 1
			category = land_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_modern_army_structure
	icon = GFX_goal_LPD_white_officer_primacy
	cost = 5
	prerequisite = {
		focus = GXC_civilwar_lessons
	}
	x = -1
	y = 1
	relative_position_id = GXC_civilwar_lessons
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_modern_army_structure"
		add_political_power = -50
		custom_effect_tooltip = GXC_modern_division_tt
		division_template = {
			name = "Xiandaihua Bubing Shi"
			division_names_group = "GXC_INF_01"
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
				infantry = { x = 1 y = 2 }
				infantry = { x = 2 y = 0 }
				infantry = { x = 2 y = 1 }
				infantry = { x = 2 y = 2 }
			}
			support = {
				artillery = { x = 0 y = 0 }
			}
			priority = 2
		}
		random_owned_controlled_state = {
			prioritize = { 592 } #Guangzhou
			limit = {
				is_in_home_area = yes
				impassable = no
			}
			create_unit = {
				division = "name = \"Xiandaihua Bubing Shi\" division_template = \"Xiandaihua Bubing Shi\" start_experience_factor = 1.0"
				prioritize_location = 592
				owner = ROOT
			}
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
}
shared_focus = {
	id = GXC_improved_logistics
	icon = GFX_goal_ATH_logistics
	cost = 5
	prerequisite = {
		focus = GXC_civilwar_lessons
	}
	x = 1
	y = 1
	relative_position_id = GXC_civilwar_lessons
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_improved_logistics"
		add_ideas = GXC_better_logistics
		add_tech_bonus = {
			name = GXC_improved_logistics
			bonus = 1
			uses = 1
			category = logistics_tech
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_proper_recon
	icon = GFX_goal_DOM_Recon
	cost = 5
	prerequisite = {
		focus = GXC_modern_army_structure
	}
	prerequisite = {
		focus = GXC_improved_logistics
	}
	x = 3
	y = 1
	relative_position_id = GXC_modern_army_structure
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_proper_recon"
		if = {
			limit = { NOT = { has_tech = tech_recon } }
			set_technology = { tech_recon = 1 }
			else = {
				add_tech_bonus = {
					name = GXC_proper_recon
					bonus = 1
					uses = 1
					category = recon_tech
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_mountain_warfare
	icon = GFX_goal_SKM_Mastery_Mountains
	cost = 5
	prerequisite = {
		focus = GXC_modern_army_structure
	}
	prerequisite = {
		focus = GXC_improved_logistics
	}
	x = -1
	y = 1
	relative_position_id = GXC_modern_army_structure
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_mountain_warfare"
		custom_effect_tooltip = mountain_training_tech_effect
		hidden_effect = {
			set_technology = { mountain_training_tech = 1 popup = no }
		}
		custom_effect_tooltip = tooltip_white_line
		add_tech_bonus = {
			name = GXC_mountain_warfare
			bonus = 1
			uses = 1
			category = mountaineers_tech
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_modern_engineers
	icon = GFX_goal_ATH_engineering
	cost = 5
	prerequisite = {
		focus = GXC_modern_army_structure
	}
	prerequisite = {
		focus = GXC_improved_logistics
	}
	x = 1
	y = 1
	relative_position_id = GXC_modern_army_structure
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_modern_engineers"
		add_tech_bonus = {
			name = GXC_modern_engineers
			bonus = 1
			uses = 2
			technology = tech_engineers
			technology = tech_engineers2
			technology = tech_engineers3
			technology = tech_engineers4
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_modern_forts
	icon = GFX_goal_NVN_Fortify_Fort_Defiance
	cost = 5
	prerequisite = {
		focus = GXC_modern_engineers
	}
	x = 0
	y = 1
	relative_position_id = GXC_modern_engineers
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_modern_forts"
		add_ideas = GXC_new_defense_techniques
		592 = {
			add_building_construction = {
				type = coastal_bunker
				province = {
					all_provinces = yes
					limit_to_coastal = yes
				}
				level = 2
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_federal_army
	icon = GFX_goal_china_federalist_army
	cost = 5
	prerequisite = { focus = GXC_minjun_reforms }
	prerequisite = {
		focus = GXC_second_arsenal
		focus = GXC_improved_communications
	}
	prerequisite = {
		focus = GXC_mountain_warfare
		focus = GXC_modern_engineers
		focus = GXC_proper_recon
	}
	allow_branch = {
		GXC_has_federalist_government = yes
	}
	x = 0
	y = 1
	relative_position_id = GXC_minjun_reforms
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_federal_army"
		custom_effect_tooltip = GXC_guofangjun_tt
		hidden_effect = {
			remove_ideas = {
				GXC_better_logistics
				GXC_reformed_minjun
			}
			add_ideas = GXC_guofangjun
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}
### Special non-Federalist end
shared_focus = {
	id = GXC_defense_force
	icon = GFX_goal_zhang_rifle
	cost = 5
	prerequisite = { focus = GXC_minjun_reforms }
	prerequisite = {
		focus = GXC_second_arsenal
		focus = GXC_improved_communications
	}
	prerequisite = {
		focus = GXC_mountain_warfare
		focus = GXC_modern_engineers
		focus = GXC_proper_recon
	}
	allow_branch = {
		OR = {
			has_country_leader = {
				name = "Chen Lianbo"
				ruling_only = yes
			}
			has_country_leader = {
				name = "Ma Ji"
				ruling_only = yes
			}
		}
	}
	x = 0
	y = 1
	relative_position_id = GXC_minjun_reforms
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_defense_force"
		custom_effect_tooltip = GXC_southern_defense_force_tt
		hidden_effect = {
			remove_ideas = {
				GXC_better_logistics
				GXC_reformed_minjun
			}
			add_ideas = GXC_southern_defense_force
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}
### Special NRA branch
shared_focus = {
	id = GXC_fourth_army
	icon = GFX_goal_CHI_military_affairs_cmsn
	cost = 5
	allow_branch = {
		GXC_has_KMT_government = yes
	}
	prerequisite = {
		focus = GXC_provincial_armies
	}
	mutually_exclusive = {
		focus = GXC_seventh_army
	}
	x = 1
	y = 1
	relative_position_id = GXC_provincial_armies
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_fourth_army"
		add_doctrine_cost_reduction = {
			name = GXC_fourth_army
			cost_reduction = 0.5
			uses = 2
			category = cat_superior_firepower
		}
		add_ideas = GXC_iron_army_legacy
		if = {
			limit = { NOT = { country_exists = CHI } }
			country_event = lngkmt.30  #Transfer the og Fourth Army guys
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_seventh_army
	icon = GFX_goal_CHI_peoples_army
	cost = 5
	prerequisite = {
		focus = GXC_provincial_armies
	}
	mutually_exclusive = {
		focus = GXC_fourth_army
	}
	allow_branch = {
		GXC_has_KMT_government = yes
	}
	x = -1
	y = 1
	relative_position_id = GXC_provincial_armies
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_seventh_army"
		add_doctrine_cost_reduction = {
			name = GXC_seventh_army
			cost_reduction = 0.5
			uses = 2
			category = cat_mass_assault
		}
		add_ideas = GXC_steel_army_glory
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_Officer_Vanguards
	icon = GFX_goal_integrate_the_militia
	cost = 5
	prerequisite = {
		focus = GXC_seventh_army
	}
	x = 0
	y = 1
	relative_position_id = GXC_seventh_army
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Officer_Vanguards"
		swap_ideas = {
			remove_idea = GXC_steel_army_glory
			add_idea = GXC_officer_vanguards_idea
		}
		add_command_power = 40
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}
shared_focus = {
	id = GXC_Professional_Officer_Corps
	icon = GFX_focus_HKG_19_Army
	cost = 5
	prerequisite = {
		focus = GXC_fourth_army
	}
	x = 0
	y = 1
	relative_position_id = GXC_fourth_army
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Professional_Officer_Corps"
		swap_ideas = {
			remove_idea = GXC_iron_army_legacy
			add_idea = GXC_professional_officers
		}
		army_experience = 30
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}
shared_focus = {
	id = GXC_russian_advisors
	icon = GFX_focus_russian_cooperation
	cost = 5

	relative_position_id = GXC_Officer_Vanguards
	x = 1
	y = 1

	prerequisite = {
		focus = GXC_Officer_Vanguards
		focus = GXC_Professional_Officer_Corps
	}
	bypass = {
		OR = {
			has_war_with = RUS #sanity check
			NOT = { country_exists = RUS }
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_russian_advisors"
		add_ideas = GXC_russian_advisors_idea
		add_equipment_to_stockpile = {
			type = infantry_equipment_1
			amount = 800
			producer = RUS
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}
shared_focus = {
	id = GXC_liangguang_NRA
	icon = GFX_goal_CHI_form_2nd_NRA
	cost = 5
	relative_position_id = GXC_russian_advisors
	x = 0
	y = 1

	prerequisite = { focus = GXC_russian_advisors }
	prerequisite = {
		focus = GXC_second_arsenal
		focus = GXC_improved_communications
	}
	prerequisite = {
		focus = GXC_mountain_warfare
		focus = GXC_modern_engineers
		focus = GXC_proper_recon
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_liangguang_NRA"
		if = {
			limit = { has_idea = GXC_professional_officers }
			swap_ideas = {
				remove_idea = GXC_professional_officers
				add_idea = GXC_NRA_idea1
			}
		}
		else_if = {
			limit = { has_idea = GXC_officer_vanguards_idea }
			swap_ideas = {
				remove_idea = GXC_officer_vanguards_idea
				add_idea = GXC_NRA_idea2
			}
		}
		else = {
			custom_effect_tooltip = GXC_if_seventh_army_chosen
			effect_tooltip = {
				swap_ideas = {
					remove_idea = GXC_professional_officers
					add_idea = GXC_NRA_idea1
				}
			}
			custom_effect_tooltip = tooltip_white_line
			custom_effect_tooltip = GXC_if_fourth_army_chosen
			effect_tooltip = {
				swap_ideas = {
					remove_idea = GXC_officer_vanguards_idea
					add_idea = GXC_NRA_idea2
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}
### Federalists post-crisis
shared_focus = {
	id = GXC_Initiate_United_Provinces
	icon = GFX_goal_GXC_conference
	cost = 5
	available = {
		has_country_leader = {
			name = "Chen Jiongming"
			ruling_only = yes
		}
		has_country_flag = GXC_guangdong_victory
	}
	ai_will_do = {
		factor = 100
	}
	x = 9
	y = 5
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Initiate_United_Provinces"
		if = {
			limit = { has_idea = GXC_factionalism }
			remove_ideas = GXC_factionalism
		}
		create_faction = china_upc_faction
		set_country_flag = UPC_Exists
		save_global_event_target_as = UPC_leader
		country_event = { id = lngupc.1 }
		custom_effect_tooltip = UPC_focus_invites_federalists
		if = {
			limit = {
				YUN = {
					exists = yes
					has_country_leader = {
						name = "Tang Jiyao"
						ruling_only = yes
					}
					NOT = {
						has_country_flag = YUN_federalists_not_Favored
						has_country_flag = YUN_isolationists_chosen
					}
				}
			}
			YUN = {
				country_event = { id = lngupc.2 }
			}
		}
		if = {
			limit = {
				HNN = {
					exists = yes
					is_in_faction = no
					OR = {
						has_country_leader = {
							name = "Zhao Hengti"
							ruling_only = yes
						}
						has_country_leader = {
							name = "Tang Shengzhi"
							ruling_only = yes
						}
					}
				}
			}
			HNN = {
				country_event = { id = lngupc.2 }
			}
		}
		if = {
			limit = {
				SZC = {
					has_country_leader = {
						name = "Xiong Kewu"
						ruling_only = yes
					}
					is_subject = no
				}
			}
			SZC = {
				country_event = { id = lngupc.2 }
			}
		}
		if = {
			limit = {
				LEC = {
					exists = yes
					is_subject = no
				}
			}
			LEC = {
				country_event = { id = lec.118 }
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}
shared_focus = {
	id = GXC_United_Provincial_Consititution
	icon = GFX_goal_NEE_Reinstate_Constitution
	cost = 5
	prerequisite = {
		focus = GXC_Initiate_United_Provinces
	}
	available = {
		is_faction_leader = yes
	}
	x = -1
	y = 1
	ai_will_do = {
		factor = 100
	}
	relative_position_id = GXC_Initiate_United_Provinces
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_United_Provincial_Consititution"
		add_political_power = 75
		add_stability = 0.05
		every_other_country = {
			limit = {
				OR = {
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
			}
			country_event = { id = lngupc.6 }
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}
shared_focus = {
	id = GXC_Southern_Reconstruction_Plan
	icon = GFX_goal_SRD_rebuild_piedmont
	cost = 5
	prerequisite = {
		focus = GXC_United_Provincial_Consititution
	}
	available = {
		is_faction_leader = yes
	}
	x = 0
	y = 1
	ai_will_do = {
		factor = 100
	}
	relative_position_id = GXC_United_Provincial_Consititution
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Southern_Reconstruction_Plan"
		add_political_power = 50
		#+relations
		set_country_flag = UPC_reconstruction_plan_unlocked
		custom_effect_tooltip = UPC_southern_reconstruction_plan_tt
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}
shared_focus = {
	id = GXC_Civilian_Guangxi
	icon = GFX_goal_WCC_civilian_allies
	cost = 5
	prerequisite = {
		focus = GXC_Initiate_United_Provinces
	}
	available = {
		is_faction_leader = yes
	}
	x = 1
	y = 1
	ai_will_do = {
		factor = 100
	}
	relative_position_id = GXC_Initiate_United_Provinces
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Civilian_Guangxi"
		swap_ideas = {
			remove_idea = GXC_backwards_guangxi
			add_idea = GXC_modernising_guangxi
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Feds_Supress_Bandits
	icon = GFX_focus_HKG_banditry_suppressed
	cost = 5
	prerequisite = {
		focus = GXC_Civilian_Guangxi
	}
	available = {
		is_faction_leader = yes
	}
	x = 0
	y = 1
	ai_will_do = {
		factor = 100
	}
	relative_position_id = GXC_Civilian_Guangxi
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Feds_Supress_Bandits"
		swap_ideas = {
			remove_idea = GXC_modernising_guangxi
			add_idea = GXC_suppressing_bandits
			days = 90
		}
	}
}
shared_focus = {
	id = GXC_Military_Nationalization
	icon = GFX_RUS_Enlist_Army_Support
	cost = 5
	prerequisite = {
		focus = GXC_Southern_Reconstruction_Plan
	}
	prerequisite = {
		focus = GXC_Feds_Supress_Bandits
	}
	available = {
		is_faction_leader = yes
	}
	x = 1
	y = 1
	ai_will_do = {
		factor = 100
	}
	relative_position_id = GXC_Southern_Reconstruction_Plan
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Military_Nationalization"
		every_other_country = {
			limit = {
				OR = {
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
			}
			country_event = { id = lngupc.4 }
		}
		custom_effect_tooltip = tooltip_white_line
		china_enable_non_government_demand_submission_decisions = yes
		set_variable = { kr_china_provinceintegration_cost_small = 40 }
		set_variable = { kr_china_provinceintegration_cost_medium = 60 }
		set_variable = { kr_china_provinceintegration_cost_large = 80 }
		set_variable = { kr_china_provinceintegration_speed = 120 }
		set_variable = { kr_china_concessionintegration_cost = 25 }
		set_variable = { kr_china_concessionintegration_speed = 60 }
		set_potential_national_government = yes
	}
}
shared_focus = {
	id = GXC_Negotiate_For_Reunification
	icon = GFX_goal_china_negotiations
	cost = 3
	prerequisite = {
		focus = GXC_Military_Nationalization
	}
	x = 1
	y = 1
	ai_will_do = {
		factor = 100
	}
	relative_position_id = GXC_Military_Nationalization
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Negotiate_For_Reunification"
		add_political_power = 100
		custom_effect_tooltip = GXC_reunification_tt
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}
shared_focus = {
	id = GXC_A_New_China
	icon = GFX_goal_china_deal
	cost = 5
	prerequisite = {
		focus = GXC_Military_Nationalization
	}
	available = {
		has_war = no
		owns_state = 608
		owns_state = 613
		has_completed_focus = GXC_federal_army
		has_completed_focus = GXC_Federalist_Model_Province
	}
	x = -1
	y = 1
	relative_position_id = GXC_Military_Nationalization
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_A_New_China"
		setup_federalist_china = yes
		set_country_flag = has_united_china
		hidden_effect = {
			news_event = worldnews.242
		}
	}
}
###Guangxi Development
shared_focus = {
	id = GXC_Guangxi_Construction_Plan
	icon = GFX_goal_SRD_rebuild_piedmont
	cost = 5
	x = 23
	y = 0
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Guangxi_Construction_Plan"
		increase_ruling_party_popularity_by_3 = yes
		594 = {
			increase_state_category_by_one_level = yes
		}
		599 = {
			increase_state_category_by_one_level = yes
		}
		add_tech_bonus = {
			name = GXC_Guangxi_Construction_Plan
			bonus = 1
			uses = 2
			category = industry
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Get_Some_Money
	icon = GFX_focus_empty_coffers
	cost = 5
	prerequisite = {
		focus = GXC_Guangxi_Construction_Plan
	}
	x = -4
	y = 1
	relative_position_id = GXC_Guangxi_Construction_Plan
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Get_Some_Money"
		add_stability = 0.1
		swap_ideas = {
			remove_idea = GXC_backwards_guangxi
			add_idea = GXC_reforming_guangxi
		}
		add_offsite_building = {
			type = arms_factory
			level = 1
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Warlordist_Economy
	icon = GFX_focus_HKG_business_reach
	cost = 5
	prerequisite = {
		focus = GXC_Get_Some_Money
	}
	available = { has_government = paternal_autocrat }
	mutually_exclusive = {
		focus = GXC_Economic_Modernization
	}
	x = -1
	y = 1
	relative_position_id = GXC_Get_Some_Money
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Warlordist_Economy"
		increase_ruling_party_popularity_by_5 = yes
		swap_ideas = {
			remove_idea = GXC_reforming_guangxi
			add_idea = GXC_warlord_economy_one
		}
		add_one_random_infrastructure = yes
		add_one_random_infrastructure = yes
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Opium_Smuggling
	icon = GFX_goal_YUN_opium_road
	cost = 5
	prerequisite = {
		focus = GXC_Warlordist_Economy
	}
	x = 0
	y = 1
	relative_position_id = GXC_Warlordist_Economy
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Opium_Smuggling"
		swap_ideas = {
			remove_idea = GXC_warlord_economy_one
			add_idea = GXC_warlord_economy_two
		}
		add_offsite_building = {
			type = industrial_complex
			level = 2
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Economic_Modernization
	icon = GFX_goal_VIN_agricultural_modernization
	cost = 10
	prerequisite = {
		focus = GXC_Get_Some_Money
	}
	mutually_exclusive = {
		focus = GXC_Warlordist_Economy
	}
	x = 1
	y = 1
	relative_position_id = GXC_Get_Some_Money
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Economic_Modernization"
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
		add_tech_bonus = {
			name = GXC_Economic_Modernization
			bonus = 1
			uses = 1
			category = construction_tech
		}
		swap_ideas = {
			remove_idea = GXC_reforming_guangxi
			add_idea = GXC_modernising_guangxi
		}
		594 = {
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 1
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_Financial_Reorganization
	icon = GFX_goal_generic_financial_markets
	cost = 10
	prerequisite = {
		focus = GXC_Economic_Modernization
	}
	x = 0
	y = 1
	relative_position_id = GXC_Economic_Modernization
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Financial_Reorganization"
		swap_ideas = {
			remove_idea = GXC_modernising_guangxi
			add_idea = GXC_reorganised_economy
		}
		594 = {
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 1
		}
		594 = {
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 1
		}
	}
}
shared_focus = {
	id = GXC_Develop_Terrace_Field
	icon = GFX_goal_agriculture2
	cost = 5
	prerequisite = {
		focus = GXC_Opium_Smuggling
		focus = GXC_Financial_Reorganization
	}
	x = 0
	y = 3
	relative_position_id = GXC_Get_Some_Money
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Develop_Terrace_Field"
		1053 = {
			increase_state_category_by_one_level = yes
		}
		1054 = {
			increase_state_category_by_one_level = yes
		}
		1055 = {
			increase_state_category_by_one_level = yes
		}
		1056 = {
			increase_state_category_by_one_level = yes
		}
		add_one_random_infrastructure = yes
		add_one_random_infrastructure = yes
		add_stability = 0.05
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_three_year_plan
	icon = GFX_goal_NOR_Three_Year_Plan
	cost = 5
	prerequisite = {
		focus = GXC_Guangxi_Construction_Plan
	}
	x = 0
	y = 1
	relative_position_id = GXC_Guangxi_Construction_Plan
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_three_year_plan"
		add_political_power = -50
		add_ideas = GXC_three_year_plan_idea
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}
shared_focus = {
	id = GXC_grand_construction_scheme
	icon = GFX_goal_IRE_generic_construction
	cost = 10
	prerequisite = {
		focus = GXC_three_year_plan
	}
	mutually_exclusive = {
		focus = GXC_We_Are_Bandits
	}
	x = -1
	y = 1
	relative_position_id = GXC_three_year_plan
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_grand_construction_scheme"
		add_political_power = -50
		add_tech_bonus = {
			name = GXC_grand_construction_scheme
			bonus = 0.5
			uses = 2
			category = construction_tech
		}
		swap_ideas = {
			remove_idea = GXC_three_year_plan_idea
			add_idea = GXC_three_year_plan_idea_2
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}
shared_focus = {
	id = GXC_rapid_industrialisation
	icon = GFX_goal_GEO_Industrialize_the_Countryside
	cost = 10
	prerequisite = {
		focus = GXC_grand_construction_scheme
	}
	x = 0
	y = 1
	relative_position_id = GXC_grand_construction_scheme
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_rapid_industrialisation"
		add_stability = -0.1
		swap_ideas = {
			remove_idea = GXC_three_year_plan_idea_2
			add_idea = GXC_three_year_plan_idea_3
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}
shared_focus = {
	id = GXC_We_Are_Bandits
	icon = GFX_goal_NYC_Mafia_Rule
	cost = 5
	prerequisite = {
		focus = GXC_three_year_plan
	}
	available = { has_government = paternal_autocrat }
	mutually_exclusive = {
		focus = GXC_grand_construction_scheme
	}
	x = 1
	y = 1
	relative_position_id = GXC_three_year_plan
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_We_Are_Bandits"
		add_political_power = 50
		increase_ruling_party_popularity_by_5 = yes
		594 = {
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 2
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}
shared_focus = {
	id = GXC_Embrace_Regionalism
	icon = GFX_focus_generic_self_management
	cost = 5
	prerequisite = {
		focus = GXC_We_Are_Bandits
	}
	x = 0
	y = 1
	relative_position_id = GXC_We_Are_Bandits
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Embrace_Regionalism"
		add_political_power = 50
		add_war_support = 0.1
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}
shared_focus = {
	id = GXC_guide_economy
	icon = GFX_goal_generic_banking_legislation
	cost = 5
	prerequisite = {
		focus = GXC_rapid_industrialisation
		focus = GXC_Embrace_Regionalism
	}
	x = 1
	y = 1
	relative_position_id = GXC_rapid_industrialisation
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_guide_economy"		
		if = {
			limit = { has_idea = GXC_three_year_plan_idea } #If went with Ma Ji
			swap_ideas = {
				remove_idea = GXC_three_year_plan_idea
				add_idea = GXC_unfinished_reforms
			}
		}
		else_if = {
			limit = { has_idea = GXC_three_year_plan_idea_3 }
			swap_ideas = {
				remove_idea = GXC_three_year_plan_idea_3
				add_idea = GXC_three_year_plan_idea_4
			}
		}
		custom_effect_tooltip = tooltip_white_line
		add_political_power = 50
		random_owned_controlled_state = {
			add_extra_state_shared_building_slots = 2
		}
	}
	search_filters = { FOCUS_FILTER_STABILITY FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }
}
shared_focus = {
	id = GXC_resource_extraction
	icon = GFX_all_resource
	cost = 5
	prerequisite = {
		focus = GXC_Guangxi_Construction_Plan
	}
	x = 4
	y = 1
	relative_position_id = GXC_Guangxi_Construction_Plan
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_We_Need_Soldiers"
		add_tech_bonus = {
			name = GXC_resource_extraction
			bonus = 1
			uses = 2
			category = excavation_tech
		}
		594 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER }
}
shared_focus = {
	id = GXC_intensify_mining
	icon = GFX_goal_generic_coal_mining
	cost = 5
	prerequisite = {
		focus = GXC_resource_extraction
	}
	x = 0
	y = 1
	relative_position_id = GXC_resource_extraction
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_intensify_mining"
		add_ideas = GXC_mining
		add_stability = -0.1
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_MANPOWER }
}
shared_focus = {
	id = GXC_liquidate_assets
	icon = GFX_goal_Yellow_Union
	cost = 5
	relative_position_id = GXC_We_Are_Bandits
	x = 2
	y = 1

	prerequisite = { focus = GXC_intensify_mining }
	prerequisite = { focus = GXC_We_Are_Bandits }
	available = {
		has_government = paternal_autocrat
	}
	
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_liquidate_assets"
		add_timed_idea = {
			idea = GXC_loot_economy
			days = 365
		}
		add_political_power = 50
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_resource_industry
	icon = GFX_focus_generic_steel
	cost = 5
	prerequisite = {
		focus = GXC_intensify_mining
	}
	x = 1
	y = 1
	relative_position_id = GXC_intensify_mining
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_resource_industry"
		add_tech_bonus = {
			name = GXC_resource_industry
			bonus = 0.5
			uses = 2
			category = synth_resources
		}

		add_resource = {
			type = tungsten
			amount = 3
			state = 594
		}
		add_resource = {
			type = steel
			amount = 3
			state = 594
		}
		594 = {
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
			add_extra_state_shared_building_slots = 1
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_autarky
	icon = GFX_goal_generic_autarky
	cost = 5
	relative_position_id = GXC_intensify_mining
	x = 0
	y = 2

	prerequisite = {
		focus = GXC_resource_industry
		focus = GXC_liquidate_assets
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_autarky"
		swap_ideas = {
			remove_idea = GXC_mining
			add_idea = GXC_mining2
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_twin_model_provinces
	icon = GFX_VNC_model_of_modern_republicanism
	cost = 5
	relative_position_id = GXC_guide_economy
	x = 0
	y = 1

	prerequisite = { focus = GXC_Develop_Terrace_Field }
	prerequisite = { focus = GXC_guide_economy }
	prerequisite = { focus = GXC_autarky }
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_twin_model_provinces"
		add_political_power = 50
		custom_effect_tooltip = GXC_guangxi_merge_ideas
		if = {
			limit = { has_government = authoritarian_democrat }
			custom_effect_tooltip = tooltip_white_line
			effect_tooltip = {
				swap_ideas = {
					remove_idea = GXC_modernised_economy_authdem_dummy1
					add_idea = GXC_modernised_economy_authdem_dummy2
				}
			}
			else = {
				custom_effect_tooltip = tooltip_white_line
				effect_tooltip = {
					swap_ideas = {
						remove_idea = GXC_warlord_economy_idea_dummy1
						add_idea = GXC_warlord_economy_idea_dummy2
					}
				}
			}
		}
		hidden_effect = {
			GXC_economic_reforms = yes
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
###Guangxi Dominance
shared_focus = {
	id = GXC_Guangxi_Warlord_Domination
	icon = GFX_goal_ideology_paternal_autocrat
	cost = 5
	available = {
		has_country_leader = {
			name = "Ma Ji"
			ruling_only = yes
		}
		has_country_flag = GXC_guangxi_victory
	}
	ai_will_do = {
		factor = 100
	}
	x = 9
	y = 5
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Guangxi_Warlord_Domination"
		add_stability = 0.10
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.15
		}
		remove_ideas = GXC_factionalism
	}
	search_filters = { FOCUS_FILTER_STABILITY }
}
shared_focus = {
	id = GXC_Stabilize_the_Situation
	icon = GFX_goal_generic_neutrality_focus
	cost = 5
	prerequisite = {
		focus = GXC_Guangxi_Warlord_Domination
	}
	mutually_exclusive = {
		focus = GXC_Exploit_Our_New_Lands
	}
	x = -3
	y = 1
	relative_position_id = GXC_Guangxi_Warlord_Domination
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Stabilize_the_Situation"
		add_ideas = GXC_deal_with_guangdong
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Exploit_Our_New_Lands
	icon = GFX_goal_forced_res
	cost = 5
	prerequisite = {
		focus = GXC_Guangxi_Warlord_Domination
	}
	mutually_exclusive = {
		focus = GXC_Stabilize_the_Situation
	}
	x = -1
	y = 1
	relative_position_id = GXC_Guangxi_Warlord_Domination
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Exploit_Our_New_Lands"
		add_ideas = GXC_exploitation
		hidden_effect = {
			country_event = {
				id = lng.27
				days = 7
			}
		}
	}
	search_filters = { FOCUS_FILTER_MANPOWER FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Further_Militarization
	icon = GFX_goal_generic_construct_military
	cost = 5
	prerequisite = {
		focus = GXC_Exploit_Our_New_Lands
		focus = GXC_Stabilize_the_Situation
	}
	x = 1
	y = 1
	relative_position_id = GXC_Stabilize_the_Situation
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Further_Militarization"
		add_ideas = GXC_militarised_guangdong
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESISTANCE }
}
shared_focus = {
	id = GXC_Expand_Nanning_Academy
	icon = GFX_goal_military_academy
	cost = 5
	prerequisite = {
		focus = GXC_Further_Militarization
	}
	x = -1
	y = 1
	relative_position_id = GXC_Further_Militarization
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Expand_Nanning_Academy"
		add_ideas = GXC_nanning_academy
		SZC_add_research_slot = yes
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_Raid_Our_Enemy
	icon = GFX_focus_generic_provoke_border_clashes
	cost = 5
	prerequisite = {
		focus = GXC_Further_Militarization
	}
	x = 1
	y = 1
	relative_position_id = GXC_Further_Militarization
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Raid_Our_Enemy"
		custom_effect_tooltip = GXC_border_raids_tt
		hidden_effect = {
			GXC_open_GXC_border_raid_decisions = yes
		}
	}
}
shared_focus = {
	id = GXC_Expansionism
	icon = GFX_goal_generic_demand_territory
	cost = 5
	prerequisite = {
		focus = GXC_Guangxi_Warlord_Domination
	}
	mutually_exclusive = {
		focus = GXC_Republican_Glory
	}
	x = 1
	y = 1
	relative_position_id = GXC_Guangxi_Warlord_Domination
	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			OR = {
				has_game_rule = { rule = GXC_path option = GXC_PATH_PATAUT_QIE }
				has_game_rule = { rule = GXC_path option = GXC_PATH_NPA }
			}
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Expansionism"
		add_war_support = 0.15
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT }
}
shared_focus = {
	id = GXC_End_Yunnan_Threat
	icon = GFX_goal_generic_attack_allies
	cost = 5
	prerequisite = {
		focus = GXC_Expansionism
	}
	available = {
		can_declare_war_on = YUN
	}
	bypass = {
		NOT = { can_declare_war_on = YUN }
	}
	will_lead_to_war_with = YUN
	x = 0
	y = 1
	relative_position_id = GXC_Expansionism
	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			ROOT_is_threatened = yes
		}
		modifier = {
			factor = 0
			YUN = { default_attack_AI_trigger_FROM = yes }
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_End_Yunnan_Threat"
		declare_war_on = {
			type = puppet_wargoal_focus
			target = YUN
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}
shared_focus = {
	id = GXC_Republican_Glory
	icon = GFX_goal_beiyang_star
	cost = 5
	prerequisite = {
		focus = GXC_Guangxi_Warlord_Domination
	}
	mutually_exclusive = {
		focus = GXC_Expansionism
	}
	x = 3
	y = 1
	relative_position_id = GXC_Guangxi_Warlord_Domination
		ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			has_game_rule = { rule = GXC_path option = GXC_PATH_EXPANSIONISM }
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Republican_Glory"
		add_stability = 0.15
	}
	search_filters = { FOCUS_FILTER_STABILITY }
}
shared_focus = {
	id = GXC_Reapproachment_with_Yunnan
	icon = GFX_goal_generic_major_alliance
	cost = 5
	available = {
		country_exists = YUN
		NOT = { has_war_with = YUN }
		YUN = { is_subject = no }
	}
	bypass = {
		OR = {
			NOT = { country_exists = YUN }
			has_war_with = YUN
			YUN = { is_subject = yes }
		}
	}
	prerequisite = {
		focus = GXC_Republican_Glory
	}
	x = 0
	y = 1
	relative_position_id = GXC_Republican_Glory
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Reapproachment_with_Yunnan"
		YUN = {
			country_event = lng.2
		}
	}
}
shared_focus = {
	id = GXC_Lu_Rontings_Legacy
	icon = GFX_focus_generic_support_the_left_right
	cost = 5
	prerequisite = {
		focus = GXC_Further_Militarization
	}
	prerequisite = {
		focus = GXC_End_Yunnan_Threat
		focus = GXC_Reapproachment_with_Yunnan
	}
	x = 1
	y = 1
	relative_position_id = GXC_End_Yunnan_Threat
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Lu_Rontings_Legacy"
		swap_ideas = {
			remove_idea = GXC_militarised_guangdong
			add_idea = GXC_lus_legacy
		}
		
		if = {
			limit = {
				is_subject = no
				country_exists = QIE
				NOT = { has_global_flag = QIE_manchu_restoration }
			}
			activate_targeted_decision = { target = QIE decision = GXC_align_with_zhili }
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_RESISTANCE FOCUS_FILTER_STABILITY }
}
shared_focus = {
	id = GXC_Secure_South_China
	icon = GFX_goal_generic_more_territorial_claims
	cost = 5
	prerequisite = {
		focus = GXC_Lu_Rontings_Legacy
	}
	mutually_exclusive = {
		focus = GXC_National_Protection_Alliance
	}
	available = {
		is_subject = no
	}
	bypass = {
		OR = {
			is_in_faction = yes
			NOT = {
				can_declare_war_on = HNN
				can_declare_war_on = SZC
				can_declare_war_on = YUN
			}
		}
	}
	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			OR = {
				has_game_rule = { rule = GXC_path option = GXC_PATH_PATAUT_QIE }
				has_game_rule = { rule = GXC_path option = GXC_PATH_NPA }
			}
		}
	}
	x = -1
	y = 1
	relative_position_id = GXC_Lu_Rontings_Legacy
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Secure_South_China"
		custom_effect_tooltip = GXC_secure_south_tt
		hidden_effect = {
			activate_targeted_decision = { target = HNN decision = china_attack_decision }
			activate_targeted_decision = { target = SZC decision = china_attack_decision }
			activate_targeted_decision = { target = YUN decision = china_attack_decision }
		}
	}
}

shared_focus = {
	id = GXC_Conquer_Indochina
	icon = GFX_YUN_Goal_Conquer_IndoChina
	cost = 5
	prerequisite = {
		focus = GXC_Secure_South_China
	}
	available = {
		is_subject = no
		can_declare_war_on = INC
	}
	bypass = {
		NOT = { can_declare_war_on = INC }
	}
	will_lead_to_war_with = INC
	x = 0
	y = 1
	relative_position_id = GXC_Secure_South_China
	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			ROOT_is_threatened = yes
		}
		modifier = {
			factor = 0
			INC = { dont_start_major_faction_wars = yes }
		}
		modifier = {
			factor = 0
			INC = { default_attack_AI_trigger_FROM = yes }
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Conquer_Indochina"
		create_wargoal = {
			type = puppet_wargoal_focus
			target = INC
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}
shared_focus = {
	id = GXC_National_Protection_Alliance
	icon = GFX_goal_chinese_investment
	cost = 5
	prerequisite = {
		focus = GXC_Lu_Rontings_Legacy
	}
	mutually_exclusive = {
		focus = GXC_Secure_South_China
	}
	available = {
		is_subject = no
		is_in_faction = no
	}
	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			OR = {
				has_game_rule = { rule = GXC_path option = GXC_PATH_PATAUT_QIE }
				has_game_rule = { rule = GXC_path option = GXC_PATH_EXPANSIONISM }
			}
		}
	}
	x = 1
	y = 1
	relative_position_id = GXC_Lu_Rontings_Legacy
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_National_Protection_Alliance"
		if = {
			limit = {
				NOT = { has_global_flag = npa_formed }
			}
			country_event = npa.1
		}
		else = {
			NPA = { country_event = npa.2 }
		}
		add_to_variable = { GXC.kr_china_provinceintegration_cost_small = -10 }
		add_to_variable = { GXC.kr_china_provinceintegration_cost_medium = -10 }
		add_to_variable = { GXC.kr_china_provinceintegration_cost_large = -10 }
		add_to_variable = { GXC.kr_china_concessionintegration_cost = -5 }
		add_to_variable = { GXC.kr_china_provinceintegration_speed = -20 }
		add_to_variable = { GXC.kr_china_concessionintegration_speed = -15 }
		custom_effect_tooltip = CHI_integration_cost_down_tt
		custom_effect_tooltip = CHI_integration_time_down_tt
	}
}
###Chen Lianbo's Ancapistan
shared_focus = {
	id = GXC_Merchant_Government
	icon = GFX_focus_HKG_business_reach
	cost = 5
	available = {
		has_country_leader = {
			name = "Chen Lianbo"
			ruling_only = yes
		}
		has_country_flag = GXC_guangdong_victory
	}
	ai_will_do = {
		factor = 100
	}
	x = 9
	y = 5
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Merchant_Government"
		add_stability = 0.10
		add_political_power = 75
		add_popularity = {
			ideology = market_liberal
			popularity = 0.15
		}
		remove_ideas = GXC_factionalism
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}
shared_focus = {
	id = GXC_Merchant_Corp_Dominance
	icon = GFX_focus_HKG_Military_Cabinet
	cost = 5
	prerequisite = {
		focus = GXC_Merchant_Government
	}
	x = -1
	y = 1
	relative_position_id = GXC_Merchant_Government
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Merchant_Corp_Dominance"
		add_ideas = GXC_merchant_corps
		add_stability = 0.05
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_POLITICAL }
}
shared_focus = {
	id = GXC_Strengthen_Trade_Protection
	icon = GFX_GRU_CONS_TARIFF
	cost = 5
	prerequisite = {
		focus = GXC_Merchant_Government
	}
	x = 1
	y = 1
	relative_position_id = GXC_Merchant_Government
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Strengthen_Trade_Protection"
		add_ideas = GXC_trade_regulations
		add_stability = 0.05
	}
}
shared_focus = {
	id = GXC_End_Labor_Movement
	icon = GFX_goal_NYC_Oppose_Radical_Unions
	cost = 5
	prerequisite = {
		focus = GXC_Merchant_Corp_Dominance
	}
	prerequisite = {
		focus = GXC_Strengthen_Trade_Protection
	}
	x = 1
	y = 1
	relative_position_id = GXC_Merchant_Corp_Dominance
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_End_Labor_Movement"
		swap_ideas = {
			remove_idea = GXC_merchant_corps
			add_idea = GXC_suppressing_labour
		}
		hidden_effect = {
			country_event = { id = lng.27 days = 7 }
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Philantropy
	icon = GFX_goal_HON_Humanist_Charity
	cost = 5
	prerequisite = {
		focus = GXC_Merchant_Corp_Dominance
	}
	prerequisite = {
		focus = GXC_Strengthen_Trade_Protection
	}
	x = 3
	y = 1
	relative_position_id = GXC_Merchant_Corp_Dominance
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Philantropy"
		swap_ideas = {
			remove_idea = GXC_trade_regulations
			add_idea = GXC_philantropic_investments
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Merchants_Fight_Bandits
	icon = GFX_focus_HKG_banditry_suppressed
	cost = 5
	prerequisite = {
		focus = GXC_Merchant_Corp_Dominance
	}
	prerequisite = {
		focus = GXC_Strengthen_Trade_Protection
	}
	x = -1
	y = 1
	relative_position_id = GXC_Merchant_Corp_Dominance
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Merchants_Fight_Bandits"
		add_political_power = 75
		remove_ideas = GXC_backwards_guangxi
		add_timed_idea = {
			idea = GXC_suppressing_bandits
			days = 180
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}
shared_focus = {
	id = GXC_Reapproachment_with_Yunnan2
	icon = GFX_goal_YUN_Cai_E_Art_War
	cost = 5
	available = {
		country_exists = YUN
		NOT = { has_war_with = YUN }
		YUN = { is_subject = no }
	}
	bypass = {
		OR = {
			NOT = { country_exists = YUN }
			has_war_with = YUN
			YUN = { is_subject = yes }
		}
	}
	prerequisite = {
		focus = GXC_Merchants_Fight_Bandits
	}
	prerequisite = {
		focus = GXC_End_Labor_Movement
	}
	prerequisite = {
		focus = GXC_Philantropy
	}
	x = -1
	y = 1
	relative_position_id = GXC_End_Labor_Movement
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Reapproachment_with_Yunnan2"
		add_stability = 0.05
		YUN = {
			country_event = lng.2
		}
	}
}
shared_focus = {
	id = GXC_Chinese_Washington
	icon = GFX_goal_NEE_Washingtonian_Military_Centrism
	cost = 5
	prerequisite = {
		focus = GXC_Merchants_Fight_Bandits
	}
	prerequisite = {
		focus = GXC_End_Labor_Movement
	}
	prerequisite = {
		focus = GXC_Philantropy
	}
	x = 1
	y = 1
	relative_position_id = GXC_End_Labor_Movement
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Chinese_Washington"
		custom_effect_tooltip = GXC_ancap_merge
		hidden_effect = {
			remove_ideas = GXC_suppressing_labour
			remove_ideas = GXC_philantropic_investments
			add_ideas = GXC_chinese_washington_idea
		}
		if = {
			limit = {
				is_subject = no
				china_is_potential_government = no
				JAP = { is_faction_leader = yes }
			}
			activate_targeted_decision = { target = JAP decision = GXC_align_with_japan }
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_Secure_South_China2
	icon = GFX_goal_SZC_recover_the_first_province
	cost = 5
	prerequisite = {
		focus = GXC_Chinese_Washington
	}
	prerequisite = {
		focus = GXC_Reapproachment_with_Yunnan2
	}
	mutually_exclusive = {
		focus = GXC_National_Protection_Alliance2
	}
	available = {
		is_subject = no
	}
	bypass = {
		OR = {
			is_in_faction = yes
			NOT = {
				can_declare_war_on = HNN
				can_declare_war_on = SZC
				can_declare_war_on = YUN
			}
		}
	}
	ai_will_do = {
		factor = 60
		modifier = {
			factor = 0
			has_game_rule = { rule = GXC_path option = GXC_PATH_NPA }
		}
	}
	x = -2
	y = 1
	relative_position_id = GXC_Chinese_Washington
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Secure_South_China2"
		custom_effect_tooltip = GXC_secure_south_tt
		hidden_effect = {
			activate_targeted_decision = { target = HNN decision = china_attack_decision }
			activate_targeted_decision = { target = SZC decision = china_attack_decision }
			activate_targeted_decision = { target = YUN decision = china_attack_decision }
		}
	}
}
shared_focus = {
	id = GXC_Conquer_Indochina2
	icon = GFX_YUN_Goal_Conquer_IndoChina
	cost = 5
	prerequisite = {
		focus = GXC_Secure_South_China2
	}
	available = {
		is_subject = no
		can_declare_war_on = INC
	}
	bypass = {
		NOT = { can_declare_war_on = INC }
	}
	will_lead_to_war_with = INC
	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			ROOT_is_threatened = yes
		}
		modifier = {
			factor = 0
			INC = { dont_start_major_faction_wars = yes }
		}
		modifier = {
			factor = 0
			INC = { default_attack_AI_trigger_FROM = yes }
		}
	}
	x = 0
	y = 1
	relative_position_id = GXC_Secure_South_China2
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Conquer_Indochina2"
		create_wargoal = {
			type = puppet_wargoal_focus
			target = INC
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}
shared_focus = {
	id = GXC_National_Protection_Alliance2
	icon = GFX_goal_chinese_investment
	cost = 5
	prerequisite = {
		focus = GXC_Chinese_Washington
	}
	prerequisite = {
		focus = GXC_Reapproachment_with_Yunnan2
	}
	mutually_exclusive = {
		focus = GXC_Secure_South_China2
	}
	available = {
		is_subject = no
		is_in_faction = no
	}
	ai_will_do = {
		factor = 100
		modifier = {
			factor = 0
			OR = {
				has_game_rule = { rule = GXC_path option = GXC_PATH_EXPANSIONISM }
				has_game_rule = { rule = GXC_path option = GXC_PATH_MARLIB_JAP }
			}
		}
	}
	x = 0
	y = 1
	relative_position_id = GXC_Chinese_Washington
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_National_Protection_Alliance2"
		if = {
			limit = {
				NOT = { has_global_flag = npa_formed }
			}
			country_event = npa.1
		}
		else = {
			NPA = { country_event = npa.2 }
		}
		add_to_variable = { GXC.kr_china_provinceintegration_cost_small = -10 }
		add_to_variable = { GXC.kr_china_provinceintegration_cost_medium = -10 }
		add_to_variable = { GXC.kr_china_provinceintegration_cost_large = -10 }
		add_to_variable = { GXC.kr_china_concessionintegration_cost = -5 }
		add_to_variable = { GXC.kr_china_provinceintegration_speed = -20 }
		add_to_variable = { GXC.kr_china_concessionintegration_speed = -15 }
		custom_effect_tooltip = CHI_integration_cost_down_tt
		custom_effect_tooltip = CHI_integration_time_down_tt
	}
}

###New Guangxi Clique
shared_focus = {
	id = GXC_Li_Zongren
	icon = GFX_focus_HKG_Zongren_Clique
	cost = 5
	available = {
		GXC_has_RKMT_government = yes
		OR = {
			has_country_flag = GXC_guangxi_victory
			has_country_flag = GXC_guangdong_victory
			has_country_flag = GXC_KMT_takeover
		}
		is_subject = no
	}
	bypass = {
		is_subject = yes
	}
	ai_will_do = {
		factor = 100
	}
	x = 6
	y = 5
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Li_Zongren"
		if = {
			limit = { owns_state = 592 }
			set_capital = { state = 592 remember_old_capital = no } #Move to Guangzhou
		}
		remove_ideas = GXC_factionalism
		add_ideas = {
			KR_RKMT_popular_support_1
			GXC_RKMT_weary_gentry
			GXC_RKMT_angry_merchants
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.20
		}
		set_cosmetic_tag = GXC_government_nanning
		hidden_effect = {
			country_event = lngkmt.4
		}
	}
}
shared_focus = {
	id = GXC_three-stage_revolution
	icon = GFX_focus_HKG_One_Party
	cost = 5
	prerequisite = {
		focus = GXC_Li_Zongren
	}
	x = -1
	y = 1
	relative_position_id = GXC_Li_Zongren
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_three-stage_revolution"
		add_ideas = GXC_political_tutelage_one
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}
shared_focus = {
	id = GXC_reform_7th_army
	icon = GFX_focus_HKG_Silence_Liberals
	cost = 5
	prerequisite = {
		focus = GXC_three-stage_revolution
	}
	x = -1
	y = 1
	relative_position_id = GXC_three-stage_revolution
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_reform_7th_army"
		add_ideas = GXC_new_guangxi_army
		country_event = lngkmt.66
		add_war_support = 0.05
		add_ideas = GXC_kmt_comissar_idea
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}
shared_focus = {
	id = GXC_dang_guo
	icon = GFX_focus_HKG_Generalissimo_Zongren
	cost = 5
	prerequisite = {
		focus = GXC_three-stage_revolution
	}
	x = 1
	y = 1
	relative_position_id = GXC_three-stage_revolution
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_dang_guo"
		add_country_leader_trait = GXC_generalissimo
		swap_ideas = {
			remove_idea = GXC_political_tutelage_one
			add_idea = GXC_political_tutelage_two
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}
shared_focus = {
	id = GXC_kmt_militarism
	icon = GFX_focus_HKG_Silence_Liberals
	cost = 5
	prerequisite = {
		focus = GXC_reform_7th_army
	}
	x = 0
	y = 1
	relative_position_id = GXC_reform_7th_army
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_kmt_militarism"
		swap_ideas = {
			remove_idea = GXC_new_guangxi_army
			add_idea = GXC_kmt_militarisation
		}
		if = {
			limit = { country_exists = CHI }
			CHI = { country_event = { id = CHI.midgame.215 } }
		}
		else = {
			random_unit_leader = {
				limit = { has_id = 5055 }
				retire = yes
			}
			random_unit_leader = {
				limit = { has_id = 5054 }
				retire = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}
shared_focus = {
	id = GXC_provisional_yuan
	icon = GFX_focus_chi_legislative_yuan
	cost = 5

	relative_position_id = GXC_Li_Zongren
	x = 1
	y = 1

	ai_will_do = { factor = 25 }

	prerequisite = { 
		focus = GXC_Li_Zongren 
		focus = GXC_Chen_Mingshu
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_provisional_yuan"
		increase_RKMT_popular_support = yes
		add_political_power = 50
		add_stability = 0.05
		add_ideas = GXC_provisional_yuan_idea
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}
shared_focus = {
	id = GXC_provinical_unrest
	icon = GFX_focus_HKG_Military_Cabinet
	cost = 5

	relative_position_id = GXC_Li_Zongren
	x = 3
	y = 1

	ai_will_do = { factor = 25 }

	prerequisite = { 
		focus = GXC_Li_Zongren 
		focus = GXC_Chen_Mingshu
	}

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_provinical_unrest"
		increase_RKMT_popular_support = yes
		add_war_support = -0.05
		swap_ideas = {
			remove_idea = GXC_RKMT_angry_merchants
			add_idea = GXC_RKMT_appeased_merchants
		}
		if = {
			limit = { 
				has_country_leader = {
					name = "Chen Mingshu"
					ruling_only = yes
				}
			}
			remove_ideas = 	GXC_backwards_guangxi
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {###yet another shared that had to move because pdox is really weird
	id = GXC_tridemism
	icon = GFX_focus_HKG_Praise_Sun
	cost = 5
	prerequisite = {
		focus = GXC_People_Production_Party_Plan
		focus = GXC_three-stage_revolution
	}
	prerequisite = {
		focus = GXC_provinical_unrest
	}
	x = -1
	y = 1
	relative_position_id = GXC_provinical_unrest
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_tridemism"
		add_ideas = GXC_sanmin
		increase_RKMT_popular_support = yes
		add_stability = 0.05
		add_war_support = 0.1
		add_tech_bonus = {
			name = GXC_communications
			category = electronics
			bonus = 0.5
			uses = 2
		}
		hidden_effect = {
			country_event = { id = lngkmt.62 days = 5 }
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}
shared_focus = {
	id = GXC_minzu_focus
	icon = GFX_focus_HKG_Salvation_China
	cost = 5
	prerequisite = {
		focus = GXC_tridemism
	}
	prerequisite = {
		focus = GXC_dang_guo
	}
	x = -2
	y = 1
	relative_position_id = GXC_tridemism
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_minzu_focus"
		swap_ideas = {
			remove_idea = GXC_sanmin
			add_idea = GXC_sanmin_minzu
		}
	}
	search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
}
###Chen Mingshu
shared_focus = {
	id = GXC_Chen_Mingshu
	icon = GFX_focus_HKG_Cooperate_Mingshu
	cost = 5
	available = {
		GXC_has_LKMT_government = yes
		OR = {
			has_country_flag = GXC_guangdong_victory
			has_country_flag = GXC_KMT_takeover
		}
	}
	ai_will_do = {
		factor = 100
	}
	x = 12
	y = 5
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_Chen_Mingshu"
		if = {
			limit = { owns_state = 592 }
			set_capital = { state = 592 remember_old_capital = no } #Move to Guangzhou
		}
		remove_ideas = GXC_factionalism
		add_ideas = {
			KR_RKMT_popular_support_1
			GXC_RKMT_weary_gentry
			GXC_RKMT_angry_merchants
		}
		set_cosmetic_tag = GXC_government_left_kmt
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.20
		}
		hidden_effect = {
			country_event = lngkmt.4
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}
shared_focus = {
	id = GXC_People_Production_Party_Plan
	icon = GFX_goal_MEX_Mexican_Democratic_Socialism
	cost = 5
	prerequisite = {
		focus = GXC_Chen_Mingshu
	}
	x = 1
	y = 1
	relative_position_id = GXC_Chen_Mingshu
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_People_Production_Party_Plan"
		add_ideas = GXC_ppp_plan
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}
shared_focus = {
	id = GXC_local_democracy
	icon = GFX_focus_HKG_Dem_Central
	cost = 5
	prerequisite = {
		focus = GXC_People_Production_Party_Plan
	}
	x = -1
	y = 1
	relative_position_id = GXC_People_Production_Party_Plan
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_local_democracy"
		if = {
			limit = {
				has_completed_focus = GXC_kmt_land_reform
			}
			swap_ideas = {
				remove_idea = GXC_ppp_land_reform
				add_idea = GXC_ppp_plan_all
			}
		}
		else = {
			swap_ideas = {
				remove_idea = GXC_ppp_plan
				add_idea = GXC_ppp_local_democracy
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
}
shared_focus = {
	id = GXC_work_with_pac
	icon = GFX_Socialist_Law
	cost = 5

	relative_position_id = GXC_People_Production_Party_Plan
	x = 1
	y = 1

	prerequisite = { focus = GXC_People_Production_Party_Plan }

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_work_with_pac"
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.1
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.1
		}
		custom_effect_tooltip = GXC_work_with_chi_tt
		custom_effect_tooltip = tooltip_white_line
		set_party_name = {
			ideology = radical_socialist
			long_name = GXC_kmt_pac_long
			name = GXC_kmt_pac
		}
		if = {
			limit = {
				NOT = { country_exists = CHI }
			}
			CHI = {
				random_unit_leader = {
					limit = { has_id = 2207 }
					set_nationality = ROOT 
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}
shared_focus = {
	id = GXC_kmt_land_reform
	icon = GFX_goal_VIN_land_to_tillers
	cost = 5
	prerequisite = {
		focus = GXC_People_Production_Party_Plan
		focus = GXC_three-stage_revolution
	}
	prerequisite = {
		focus = GXC_provinical_unrest
	}
	x = 1
	y = 1
	relative_position_id = GXC_provinical_unrest
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_kmt_land_reform"
		increase_RKMT_popular_support = yes
		add_stability = -0.1
		if = {
			limit = {
				has_completed_focus = GXC_local_democracy
			}
			swap_ideas = {
				remove_idea = GXC_ppp_local_democracy
				add_idea = GXC_ppp_plan_all
			}
		}
		else_if = {
			limit = {
				has_completed_focus = GXC_People_Production_Party_Plan
			}
			swap_ideas = {
				remove_idea = GXC_ppp_plan
				add_idea = GXC_ppp_land_reform
			}
		}
		swap_ideas = {
			remove_idea = GXC_RKMT_weary_gentry
			add_idea = GXC_RKMT_rent_caps
		}
		random_owned_controlled_state = {
			limit = { is_core_of = ROOT }
			increase_state_category_by_one_level = yes #land reform
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_POLITICAL }
}
shared_focus = {
	id = GXC_route_army
	icon = GFX_focus_HKG_Recompense_Soldiers
	cost = 5
	prerequisite = {
		focus = GXC_work_with_pac
	}
	x = 1
	y = 2
	relative_position_id = GXC_People_Production_Party_Plan
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_route_army"
		add_ideas = GXC_ppp_route_armies
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}
shared_focus = {
	id = GXC_minquan_focus
	icon = GFX_goal_FNG_Towards_Minsheng
	cost = 5
	prerequisite = {
		focus = GXC_tridemism
	}
	prerequisite = {
		focus = GXC_local_democracy
	}
	x = 4
	y = 1
	relative_position_id = GXC_tridemism
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_minquan_focus"
		swap_ideas = {
			remove_idea = GXC_sanmin
			add_idea = GXC_sanmin_minquan
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY FOCUS_FILTER_STABILITY }
}
###Shared KMT blokes
shared_focus = {
	id = GXC_renovate_whampoa
	icon = GFX_focus_HKG_Whampoa
	cost = 5
	prerequisite = {
		focus = GXC_tridemism
	}
	prerequisite = {
		focus = GXC_kmt_land_reform
	}
	prerequisite = {
		focus = GXC_dang_guo
		focus = GXC_local_democracy
	}
	x = 1
	y = 1
	relative_position_id = GXC_tridemism
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_renovate_whampoa"
		add_ideas = GXC_whampoa_idea
		SZC_add_research_slot = yes
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.10
		}
		hidden_effect = {
			set_party_name = {
				ideology = paternal_autocrat
				long_name = GXC_kmt_whampoa_clique_long
				name = GXC_kmt_whampoa_clique
			}
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = GXC_KMT_take_over_tt
		hidden_effect = {
			set_potential_national_government = yes
			add_to_array = { china_possible_allies_array = YUN }
			add_to_array = { china_possible_allies_array = SZC }
			add_to_array = { china_possible_allies_array = HNN }
			add_to_array = { china_possible_allies_array = SHX }
			add_to_array = { china_possible_allies_array_northwest = XSM }
		}
		army_experience = 50
		country_event = lngkmt.61
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS FOCUS_FILTER_POLITICAL FOCUS_FILTER_RESEARCH }
}
shared_focus = {
	id = GXC_join_KMT
	icon = GFX_goal_CHI_YUN_reconcile
	cost = 2
	prerequisite = {
		focus = GXC_minquan_focus
		focus = GXC_minzu_focus
	}
	prerequisite = {
		focus = GXC_kmt_militarism
		focus = GXC_route_army
	}
	prerequisite = { focus = GXC_renovate_whampoa }
	mutually_exclusive = {
		focus = GXC_claim_leadership
	}
	available = {
		is_in_faction = no
		is_subject = no
		if = {
			limit = { GXC_has_LKMT_government = yes }
			OR = {
				country_exists = CHI
				AND = {
					NOT = { country_exists = CHI }
					YUN = { has_government = social_liberal }
				}
			}
		}
		else = {
			YUN = { has_government = social_liberal }
		}
	}
	x = -1
	y = 1
	relative_position_id = GXC_renovate_whampoa
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_join_KMT"
		if = {
			limit = { GXC_has_LKMT_government = yes }
			if = {
				limit = { country_exists = CHI }
				CHI = { country_event = lng.23 }
			}
			else = {
				YUN = { country_event = lng.23 }
			}
		}
		else = {
			YUN = { country_event = lng.23 }
		}		
	}
}
shared_focus = {
	id = GXC_claim_leadership
	icon = GFX_YUN_Goal_Deal_with_the_Left_KMT
	cost = 2
	prerequisite = {
		focus = GXC_minzu_focus
		focus = GXC_minquan_focus
	}
	prerequisite = {
		focus = GXC_kmt_militarism
		focus = GXC_route_army
	}
	prerequisite = { focus = GXC_renovate_whampoa }
	mutually_exclusive = {
		focus = GXC_join_KMT
	}
	available = {
		is_in_faction = no
		is_subject = no
		if = {
			limit = { GXC_has_LKMT_government = yes }
			NOT = { country_exists = CHI }
			YUN = {
				NOT = { has_government = social_liberal }
			}
		}
		else = {
			NOT = {
				YUN = {
					AND = {
						is_faction_leader = yes
						has_government = social_liberal
					}
				}
			}
		}
	}
	select_effect = {
		hidden_effect = {
			event_target:current_china_leader = {
				if = {
					limit = { exists = yes }
					country_event = china_shared.1
				}
			}
		}
	}
	will_lead_to_war_with = CHI
	x = 1
	y = 1
	relative_position_id = GXC_renovate_whampoa
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_claim_leadership"
		hidden_effect = {
			event_target:current_china_leader = {
				clr_country_flag = is_chinese_national_leader
			}
			clear_global_event_target = current_china_leader
		}
		set_country_flag = is_chinese_national_leader
		save_global_event_target_as = current_china_leader
		set_potential_national_government = yes
		china_enable_all_demand_submission_decisions = yes
		if = {
			limit = {
				GXC_has_LKMT_government = no
			}			
			country_event = lngkmt.4
			save_global_event_target_as = yunnan_R_KMT_faction_leader
			create_faction = yunnan_R_KMT_faction
			hidden_effect = {
				load_focus_tree = { tree = KR_RKMT keep_completed = yes } #pls don't break
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = GXC_western_expedition
	icon = GFX_goal_CHI_plan_western
	cost = 5
	prerequisite = {
		focus = GXC_claim_leadership
	}
	x = -1
	y = 1
	relative_position_id = GXC_claim_leadership
	available = {
		is_subject = no
		OR = {
			can_declare_war_on = YUN
			can_declare_war_on = HNN
			can_declare_war_on = SZC
		}
	}
	bypass = {
		OR = {
			has_subject = YUN
			is_in_faction_with = YUN
			NOT = { country_exists = YUN }
		}
		OR = {
			has_subject = HNN
			is_in_faction_with = HNN
			NOT = { country_exists = HNN }
		}
		OR = {
			has_subject = SZC
			is_in_faction_with = SZC
			NOT = { country_exists = SZC }
		}
	}
	ai_will_do = { factor = 25 }

	will_lead_to_war_with = YUN
	will_lead_to_war_with = SZC
	will_lead_to_war_with = HNN
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_western_expedition"
		if = {
			limit = {
				can_declare_war_on = HNN
				can_declare_war_on = YUN
				can_declare_war_on = SZC
				HNN = {
					is_subject = no
					has_civil_war = no
					OR = {
						china_compatible_alignment_to_PREV = no
						china_is_potential_government = yes
					}
				}
				YUN = {
					is_subject = no
					has_civil_war = no
					OR = {
						china_compatible_alignment_to_PREV = no
						china_is_potential_government = yes
					}
				}
				SZC = {
					is_subject = no
					has_civil_war = no
					OR = {
						china_compatible_alignment_to_PREV = no
						china_is_potential_government = yes
					}
				}
			}
			HNN = { country_event = china_events.1 }
			YUN = { country_event = china_events.1 }
			SZC = { country_event = china_events.1 }
			custom_effect_tooltip = if_they_accept_tt
			effect_tooltip = { china_puppet_FROM_effect = yes }
		}
		else = {
			if = {
				limit = {
					can_declare_war_on = HNN
					YUN = {
						is_subject = no
						has_civil_war = no
						OR = {
							china_compatible_alignment_to_PREV = no
							china_is_potential_government = yes
						}
					}
				}
				HNN = { country_event = china_events.1 }
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = { china_puppet_FROM_effect = yes }
			}
			else_if = {
				limit = { can_declare_war_on = YUN }
				create_wargoal = {
					target = HNN
					type = annex_everything
				}
				if = {
					limit = { HNN = { has_civil_war = yes } }
					every_other_country = {
						limit = { civilwar_target = HNN }
						ROOT = {
							create_wargoal = {
								target = PREV
								type = annex_everything
							}
						}
					}
				}
			}
			if = {
				limit = {
					can_declare_war_on = YUN
					YUN = {
						is_subject = no
						has_civil_war = no
						OR = {
							china_compatible_alignment_to_PREV = no
							china_is_potential_government = yes
						}
					}
				}
				YUN = { country_event = china_events.1 }
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = { china_puppet_FROM_effect = yes }
			}
			else_if = {
				limit = { can_declare_war_on = YUN }
				create_wargoal = {
					target = YUN
					type = annex_everything
				}
				if = {
					limit = { YUN = { has_civil_war = yes } }
					every_other_country = {
						limit = { civilwar_target = YUN }
						ROOT = {
							create_wargoal = {
								target = PREV
								type = annex_everything
							}
						}
					}
				}
			}
			if = {
				limit = {
					can_declare_war_on = SZC
					SZC = {
						is_subject = no
						has_civil_war = no
						OR = {
							china_compatible_alignment_to_PREV = no
							china_is_potential_government = yes
						}
					}
				}
				SZC = { country_event = china_events.1 }
				custom_effect_tooltip = if_they_accept_tt
				effect_tooltip = { china_puppet_FROM_effect = yes }
			}
			else_if = {
				limit = { can_declare_war_on = SZC }
				create_wargoal = {
					target = SZC
					type = annex_everything
				}
				if = {
					limit = { SZC = { has_civil_war = yes } }
					every_other_country = {
						limit = { civilwar_target = SZC }
						ROOT = {
							create_wargoal = {
								target = PREV
								type = annex_everything
							}
						}
					}
				}
			}
		}
	}
}
shared_focus = {
	id = GXC_eastern_expedition
	icon = GFX_YUN_Goal_Secure_Coastal_China
	cost = 5
	prerequisite = {
		focus = GXC_claim_leadership
	}
	x = 1
	y = 1
	relative_position_id = GXC_claim_leadership
	available = {
		is_subject = no
		OR = {
			can_declare_war_on = LEP
			can_declare_war_on = CHI
			can_declare_war_on = ANQ
			can_declare_war_on = SQI
		}
	}
	bypass = {
		OR = {
			has_subject = LEP
			NOT = { country_exists = LEP }
		}
		OR = {
			has_subject = CHI
			NOT = { country_exists = CHI }
		}
		OR = {
			has_subject = ANQ
			NOT = { country_exists = ANQ }
		}
		OR = {
			has_subject = SQI
			NOT = { country_exists = SQI }
		}
	}
	ai_will_do = { factor = 25 }

	will_lead_to_war_with = SQI
	will_lead_to_war_with = CHI
	will_lead_to_war_with = ANQ
	will_lead_to_war_with = LEP

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_eastern_expedition"
		if = {
			limit = { can_declare_war_on = LEP }
			create_wargoal = {
				target = LEP
				type = annex_everything
			}
		}
		if = {
			limit = { can_declare_war_on = CHI }
			create_wargoal = {
				target = CHI
				type = annex_everything
			}
		}
		if = {
			limit = { can_declare_war_on = ANQ }
			create_wargoal = {
				target = ANQ
				type = annex_everything
			}
		}
		if = {
			limit = { can_declare_war_on = SQI }
			create_wargoal = {
				target = SQI
				type = annex_everything
			}
		}
	}
}
shared_focus = {
	id = GXC_northern_expedition
	icon = GFX_goal_CHI_northern_expedition
	cost = 5
	prerequisite = {
		focus = GXC_eastern_expedition
	}
	prerequisite = {
		focus = GXC_western_expedition
	}
	x = -1
	y = 1
	relative_position_id = GXC_eastern_expedition
	will_lead_to_war_with = QIE
	will_lead_to_war_with = FNG
	will_lead_to_war_with = SHX

	available = {
		is_subject = no
		OR = {
			can_declare_war_on = QIE
			can_declare_war_on = FNG
			can_declare_war_on = SHX
		}
	}
	bypass = {
		OR = {
			has_subject = QIE
			NOT = { country_exists = QIE }
		}
		OR = {
			has_subject = FNG
			NOT = { country_exists = FNG }
		}
		OR = {
			has_subject = SHX
			NOT = { country_exists = SHX }
		}
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_northern_expedition"
		if = {
			limit = { can_declare_war_on = QIE }
			create_wargoal = {
				type = annex_everything
				target = QIE
			}
		}
		if = {
			limit = { can_declare_war_on = FNG }
			activate_targeted_decision = { target = FNG decision = china_attack_decision }
		}
		if = {
			limit = {
				can_declare_war_on = SHX
				SHX = {
					has_country_leader = { name = "Feng Yuxiang" ruling_only = yes }
					is_subject = no
					has_civil_war = no
					OR = {
						china_compatible_alignment_to_PREV = no
						china_is_potential_government = yes
					}
				}
			}
			add_to_array = { ROOT.china_possible_targets_array = SHX }
			effect_tooltip = { activate_targeted_decision = { target = SHX decision = china_demand_submission } }
		}
		else_if = {
			limit = { can_declare_war_on = SHX }
			activate_targeted_decision = { target = SHX decision = china_attack_decision }
		}
	}
}
###RKMT
###Initial
shared_focus = {
	id = GXC_kmt_congress
	icon = GFX_focus_HKG_Rev_Com_KMT
	cost = 0
	available = {
		has_global_flag = china_united
		has_completed_focus = GXC_liangguang_NRA
		has_completed_focus = GXC_twin_model_provinces
		has_completed_focus = GXC_kmt_land_reform
		has_completed_focus = GXC_provisional_yuan
	}
	allow_branch = {
		GXC_has_RKMT_government = yes		
	}
	prerequisite = { focus = GXC_northern_expedition }
	relative_position_id = GXC_northern_expedition
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_kmt_congress"
		add_stability = 0.15
		add_political_power = 75
		custom_effect_tooltip = GXC_kmt_unify_tt
		increase_RKMT_popular_support = yes
		add_ideas = {
			GXC_kmt_demobilisation
			GXC_economic_instability
			GXC_low_literacy
		}
		hidden_effect = {
			RKMT_remove_political_ideas = yes
			RKMT_remove_military_ideas = yes
			RKMT_remove_econ_ideas = yes
			country_event = { id = lngkmt.50 days = 2 } #First Congress
		}
		custom_effect_tooltip = GXC_improved_integration_tt
		hidden_effect = {
			add_to_variable = { GXC.kr_china_provinceintegration_cost_small = -10 }
			add_to_variable = { GXC.kr_china_provinceintegration_cost_medium = -10 }
			add_to_variable = { GXC.kr_china_provinceintegration_cost_large = -10 }
			add_to_variable = { GXC.kr_china_provinceintegration_speed = -20 }
			add_to_variable = { GXC.kr_china_concessionintegration_speed = -15 }
		}
		hidden_effect = {
			set_party_name = {
				ideology = social_conservative
				name = GXC_kmt_western_hills
				long_name = GXC_kmt_western_hills_long
			}
			set_party_name = {
				ideology = social_democrat
				name = GXC_kmt_pac
				long_name = GXC_kmt_pac_long
			}
			set_party_name = {
				ideology = radical_socialist
				name = GXC_rca
				long_name = GXC_rca_long
			}
			set_party_name = {
				ideology = social_liberal
				name = GXC_reconstruction
				long_name = GXC_reconstruction_long
			}
			set_party_name = {
				ideology = national_populist
				name = GXC_whampoa_extreme
				long_name = GXC_whampoa_extreme_long
			}
			set_party_name = {
				ideology = market_liberal
				name = GXC_political_science
				long_name = GXC_political_science_long
			}
			set_party_name = {
				ideology = totalist
				name = GXC_rca_radicals
				long_name = GXC_rca_radicals_long
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}
###Political tutelage
shared_focus = {
	id = GXC_martial_law
	icon = GFX_goal_generic_martial_law
	cost = 5

	relative_position_id = GXC_kmt_congress
	x = 0
	y = 1

	prerequisite = { focus = GXC_kmt_congress }

	allow_branch = {
		GXC_has_RKMT_government = yes
		has_global_flag = china_united
	}

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_martial_law"
		decrease_RKMT_popular_support = yes
		RKMT_economic_recovery = yes
		add_war_support = -0.1
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.05
		}
		add_ideas = GXC_rkmt_revolution
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = GXC_economic_stabilisation
	icon = GFX_goal_CHI_revive_china
	cost = 7

	relative_position_id = GXC_martial_law
	x = -1
	y = 1

	prerequisite = { focus = GXC_martial_law }

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_economic_stabilisation"
		add_one_random_civilian_factory = yes
		add_one_random_civilian_factory = yes
		decrease_RKMT_popular_support = yes
		RKMT_economic_recovery = yes
		country_event = lngkmt.63
		custom_effect_tooltip = tooltip_white_line
		###Lookover this###
		###activate_targeted_decision = { target = 613 decision = CHI_dec_civ_industrialise }
		###activate_targeted_decision = { target = 606 decision = CHI_dec_civ_industrialise }
		###activate_targeted_decision = { target = 620 decision = CHI_dec_civ_industrialise }
		###activate_targeted_decision = { target = 650 decision = CHI_dec_civ_industrialise }
		###activate_targeted_decision = { target = 602 decision = CHI_dec_civ_industrialise }
		###activate_targeted_decision = { target = 593 decision = CHI_dec_civ_industrialise }
		###activate_targeted_decision = { target = 608 decision = CHI_dec_civ_industrialise }
		###activate_targeted_decision = { target = 743 decision = CHI_dec_civ_industrialise }
		###activate_targeted_decision = { target = 597 decision = CHI_dec_civ_industrialise }
		###activate_targeted_decision = { target = 1062 decision = CHI_dec_civ_industrialise }
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = GXC_national_monopoly
	icon = GFX_goal_generic_construct_public_housing
	cost = 7

	relative_position_id = GXC_economic_stabilisation
	x = 1
	y = 1

	prerequisite = { focus = GXC_economic_stabilisation }
	prerequisite = { focus = GXC_academia_sinica }

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_national_monopoly"
		custom_effect_tooltip = tooltip_white_line
		RKMT_economic_recovery = yes
		add_one_random_civilian_factory = yes
		add_political_power = -40
		add_one_random_infrastructure = yes
		add_one_random_infrastructure = yes
		add_one_random_infrastructure = yes
		add_one_random_infrastructure = yes
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = GXC_rebuild_national_arsenals
	icon = GFX_goal_CAN_New_Munitions_Plants
	cost = 7

	relative_position_id = GXC_economic_stabilisation
	x = -1
	y = 1

	prerequisite = { focus = GXC_economic_stabilisation }

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_rebuild_national_arsenals"
		RKMT_economic_recovery = yes
		custom_effect_tooltip = GXC_arsenals_tt
		if = {
			limit = { owns_state = 1048 } #Wuhan
			1048 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory #Hanyang Arsenal
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = { owns_state = 1059 } #Kaifeng
			1059 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory #Gongxian Arsenal
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = { owns_state = 613 } #Nanjing
			613 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory #Jinling Arsenal
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = { owns_state = 716 } #Shenyang
			716 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory #Jinling Arsenal
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = { owns_state = 592 } #Guangzhou
			592 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory #Jinling Arsenal
					level = 1
					instant_build = yes
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = GXC_state_capitalism
	icon = GFX_goal_CSA_strenght_through_industry
	cost = 6

	relative_position_id = GXC_national_monopoly
	x = -1
	y = 1

	prerequisite = { focus = GXC_national_monopoly }
	prerequisite = { focus = GXC_rebuild_national_arsenals }

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_state_capitalism"
		RKMT_economic_recovery = yes
		custom_effect_tooltip = GXC_state_capitalism_tt
		if = {
			limit = { controls_state = 613 } #Nanjing
			613 = {
				add_dynamic_modifier = {
					modifier = GXC_state_capitalism_plan
				}
			}
		}
		if = {
			limit = { controls_state = 608 } #Beijing
			608 = {
				add_dynamic_modifier = {
					modifier = GXC_state_capitalism_plan
				}
			}
		}
		if = {
			limit = { controls_state = 743 } #Shanghai
			743 = {
				add_dynamic_modifier = {
					modifier = GXC_state_capitalism_plan
				}
			}
		}
		if = {
			limit = { controls_state = 592 } #Guangzhou
			592 = {
				add_dynamic_modifier = {
					modifier = GXC_state_capitalism_plan
				}
			}
		}
		custom_effect_tooltip = tooltip_white_line
		add_ideas = GXC_golden_decade
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = GXC_kmt_faction
	icon = GFX_goal_RKMT_A_New_China
	cost = 6

	relative_position_id = GXC_state_capitalism
	x = 0
	y = 2

	prerequisite = { focus = GXC_state_capitalism }
	prerequisite = { focus = GXC_new_life_movement }

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_kmt_faction"
		country_event = lngkmt.64
		add_war_support = 0.1
		add_political_power = 50
		hidden_effect = {
			china_enable_concession_decisions = yes
			china_enable_outskirts_decisions = yes
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = GXC_academia_sinica
	icon = GFX_focus_research2
	cost = 6

	relative_position_id = GXC_martial_law
	x = 1
	y = 1

	prerequisite = { focus = GXC_martial_law }

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_academia_sinica"
		country_event = lngkmt.69
		RKMT_literacy_recovery = yes
		SZC_add_research_slot = yes
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = GXC_extend_education
	icon = GFX_Goal_Kuomintang_Government_Initiative
	cost = 6

	relative_position_id = GXC_academia_sinica
	x = 1
	y = 1

	prerequisite = { focus = GXC_academia_sinica }

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_extend_education"
		increase_RKMT_popular_support = yes
		RKMT_literacy_recovery = yes
		add_stability = 0.05
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = GXC_encourage_nationalist
	icon = GFX_goal_KMT_Deepen_the_Party_State
	cost = 6

	relative_position_id = GXC_academia_sinica
	x = 0
	y = 2

	prerequisite = { focus = GXC_academia_sinica }

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_encourage_nationalist"
		RKMT_literacy_recovery = yes
		add_war_support = 0.05
	}
	search_filters = { FOCUS_FILTER_RESEARCH FOCUS_FILTER_WAR_SUPPORT }
}

shared_focus = {
	id = GXC_new_life_movement
	icon = GFX_goal_KMT_New_Life_Movement
	cost = 6

	relative_position_id = GXC_encourage_nationalist
	x = -1
	y = 1

	prerequisite = { focus = GXC_encourage_nationalist }

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_new_life_movement"
		add_political_power = 50
		add_stability = 0.1
		add_war_support = -0.1
		RKMT_chinese_revolution = yes
		increase_RKMT_popular_support = yes
		hidden_effect = {
			country_event = { id = lngkmt.65 days = 3 }
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = GXC_cult_of_personality
	icon = GXC_Li_Zongren
	cost = 6

	relative_position_id = GXC_encourage_nationalist
	x = 1
	y = 1

	prerequisite = { focus = GXC_encourage_nationalist }

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_cult_of_personality"
		add_political_power = 50
		RKMT_chinese_revolution = yes
		remove_country_leader_trait = GXC_generalissimo
		add_country_leader_trait = GXC_lingxiu
		add_popularity = {
			ideology = national_populist
			popularity = 0.15
		}
		CHI = {
			custom_effect_tooltip = characters_will_be_recruited
			every_unit_leader = {
				limit = {
					OR = {
						has_id = 2299
						has_id = 2298
						has_id = 2287
					}
				}
				set_nationality = ROOT
			}
		}
		hidden_effect = {
			create_country_leader = {
				name = "Hu Zongnan"
				desc = "POLITICS_CHI_HU_ZONGNAN_DESC"
				picture = "gfx/leaders/CHI/Portrait_CHI_Hu_Zongnan_KR.png"
				expire = "1965.1.1"
				ideology = militarism_subtype
			}
			set_party_name = {
				ideology = national_populist
				long_name = GXC_nat_pop_kmt_long
				name = GXC_nat_pop_kmt
			}
		}
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

shared_focus = {
	id = GXC_constitution
	icon = GFX_focus_chi_legislative_yuan
	cost = 6

	relative_position_id = GXC_cult_of_personality
	x = 0
	y = 1

	prerequisite = { focus = GXC_cult_of_personality }

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_constitution"
		add_political_power = 50
		add_stability = -0.1
		country_event = lngkmt.40
	}
	search_filters = { FOCUS_FILTER_POLITICAL }
}

#### Military Tree

shared_focus = {
	id = GXC_legacy_of_war
	icon = GFX_goal_graveyard
	cost = 6

	relative_position_id = GXC_kmt_congress
	x = 6
	y = 0

	allow_branch = {
		has_global_flag = china_united
		GXC_has_RKMT_government = yes
	}

	available = {
		has_completed_focus = GXC_kmt_congress
	}

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_legacy_of_war"
		army_experience = 50
		RKMT_military_recovery = yes
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = GXC_firepower
	icon = GFX_goal_generic_army_superior_firepower
	cost = 6

	relative_position_id = GXC_legacy_of_war
	x = -2
	y = 1

	prerequisite = { focus = GXC_legacy_of_war }

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_firepower"
		RKMT_military_recovery = yes
		add_tech_bonus = {
			name = GXC_firepower
			bonus = 1.0
			ahead_reduction = 1
			uses = 2
			category = artillery
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = GXC_kmt_tanks
	icon = GFX_goal_light_tanks
	cost = 6

	relative_position_id = GXC_legacy_of_war
	x = 0
	y = 1

	prerequisite = { focus = GXC_legacy_of_war }

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_kmt_tanks"
		RKMT_military_recovery = yes
		add_tech_bonus = {
			name = GXC_kmt_tanks
			bonus = 1.0
			ahead_reduction = 1
			uses = 2
			category = armor
			category = cat_mechanized_equipment
		}
		if = {
			limit = { has_tech = mechanised_infantry }
			add_equipment_to_stockpile = {
				type = mechanized_equipment
				amount = 200
			}
		}
		else_if = {
			limit = { has_tech = motorised_infantry }
			add_equipment_to_stockpile = {
				type = motorized_equipment
				amount = 200
			}
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = GXC_kmt_central_military_academy
	icon = GFX_goal_generic_army_training
	cost = 6

	relative_position_id = GXC_legacy_of_war
	x = 2
	y = 1

	prerequisite = { focus = GXC_legacy_of_war }

	ai_will_do = { factor = 25 }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_kmt_central_military_academy"
		RKMT_military_recovery = yes
		every_unit_leader = {
			add_planning = 1
		}
		add_doctrine_cost_reduction = {
			cost_reduction = 0.5
			uses = 2
			category = land_doctrine
			name = GXC_kmt_central_military_academy
		}
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = GXC_integrate_the_warlords
	icon = GFX_goal_checkmate
	cost = 6

	relative_position_id = GXC_kmt_central_military_academy
	x = -1
	y = 1

	prerequisite = { focus = GXC_kmt_central_military_academy }
	prerequisite = { focus = GXC_kmt_tanks }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_integrate_the_warlords"
		custom_effect_tooltip = GXC_warlord_integration_tt
		if = {
			limit = { NOT = { country_exists = LEP } }
			LEP = {
				every_unit_leader = {
					limit = {
						OR = {
							has_id = 5056
							has_id = 1098
						}
					}
					if = {
						limit = { is_field_marshal = yes }
						demote_leader = yes
					}
					set_nationality = ROOT
				}
			}
		}
		if = {
			limit = { NOT = { country_exists = SHX } }
			SHX = {
				random_unit_leader = {
					limit = { has_id = 5052 }
					if = {
						limit = { is_field_marshal = yes }
						demote_leader = yes
					}
					set_nationality = ROOT
				}
			}
		}
		if = {
			limit = { NOT = { country_exists = SZC } }
			SZC = {
				random_unit_leader = {
					limit = { has_id = 1132 }
					if = {
						limit = { is_field_marshal = yes }
						demote_leader = yes
					}
					set_nationality = ROOT
				}
			}
		}
		if = {
			limit = { NOT = { country_exists = SQI } }
			SQI = {
				random_unit_leader = {
					limit = { has_id = 1194 }
					if = {
						limit = { is_field_marshal = yes }
						demote_leader = yes
					}
					set_nationality = ROOT
				}
			}
		}
		if = {
			limit = {
				NOT = { country_exists = CHI }
			}
			CHI = {
				random_unit_leader = {
					limit = { has_id = 2272 }
					set_leader_portrait = GFX_Portrait_ANQ_Sun_Liren
					if = {
						limit = { is_field_marshal = yes }
						demote_leader = yes
					}
					set_nationality = ROOT
				}
			}
		}
		add_stability = -0.1
		add_political_power = -50
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

shared_focus = {
	id = GXC_kmt_cic
	icon = GFX_goal_factory_complex
	cost = 6

	relative_position_id = GXC_firepower
	x = 1
	y = 1

	prerequisite = { focus = GXC_firepower }
	prerequisite = { focus = GXC_kmt_tanks }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_kmt_cic"
		add_ideas = GXC_kmt_cic_idea
	}
	search_filters = { FOCUS_FILTER_PRODUCTION }
}

shared_focus = {
	id = GXC_kmt_nra
	icon = GFX_goal_chinese_national_army
	cost = 6

	relative_position_id = GXC_kmt_cic
	x = 1
	y = 1

	prerequisite = { focus = GXC_kmt_cic }
	prerequisite = { focus = GXC_integrate_the_warlords }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_kmt_nra"
		add_war_support = 0.1
		add_ideas = GXC_nra_idea
	}
	search_filters = { FOCUS_FILTER_ARMY_BONUS }
}

### Air
shared_focus = {
	id = GXC_central_aviation_academy
	icon = GFX_goal_chinese_national_air_force
	cost = 6

	relative_position_id = GXC_legacy_of_war
	x = 4
	y = 1

	prerequisite = { focus = GXC_legacy_of_war }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_central_aviation_academy"
		air_experience = 50
		add_doctrine_cost_reduction = {
			name = GXC_central_aviation_academy
			cost_reduction = 0.5
			uses = 2
			category = air_doctrine
		}
	}
	search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_RESEARCH FOCUS_FILTER_AIRFORCE_BONUS }
}

shared_focus = {
	id = GXC_kmt_new_aircraft_factories
	icon = GFX_goal_industry_air
	cost = 7

	relative_position_id = GXC_legacy_of_war
	x = 6
	y = 1

	prerequisite = { focus = GXC_legacy_of_war }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_kmt_new_aircraft_factories"
		air_experience = 50
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				is_valid_state_for_development = yes
				free_building_slots = { building = arms_factory size > 1 include_locked = yes }
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_AIR_XP FOCUS_FILTER_INDUSTRY FOCUS_FILTER_AIRFORCE_BONUS }
}

shared_focus = {
	id = GXC_kmt_new_fighters
	icon = GFX_goal_generic_air_fighter_new
	cost = 7

	relative_position_id = GXC_central_aviation_academy
	x = 1
	y = 1

	prerequisite = { focus = GXC_central_aviation_academy }
	prerequisite = { focus = GXC_kmt_new_aircraft_factories }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_kmt_new_fighters"
		add_tech_bonus = {
			name = GXC_kmt_new_fighters
			bonus = 1
			uses = 1
			category = light_fighter
			category = cat_heavy_fighter
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = GXC_kmt_medium_bomber
	icon = GFX_goal_generic_air_tactical_bomber_new
	cost = 7

	relative_position_id = GXC_kmt_new_fighters
	x = -1
	y = 1

	prerequisite = { focus = GXC_kmt_new_fighters }

	mutually_exclusive = {
		focus = GXC_kmt_cas
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_kmt_medium_bomber"
		add_tech_bonus = {
			name = GXC_kmt_medium_bomber
			bonus = 1
			uses = 1
			category = tactical_bomber
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = GXC_kmt_cas
	icon = GFX_goal_generic_air_CAS_new
	cost = 7

	relative_position_id = GXC_kmt_new_fighters
	x = 1
	y = 1

	prerequisite = { focus = GXC_kmt_new_fighters }

	mutually_exclusive = {
		focus = GXC_kmt_medium_bomber
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_kmt_cas"
		add_tech_bonus = {
			name = GXC_kmt_cas
			bonus = 1
			uses = 1
			category = cas_bomber
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = GXC_naval_bombers
	icon = GFX_goal_generic_air_naval_bomber2_new
	cost = 7

	relative_position_id = GXC_kmt_medium_bomber
	x = 1
	y = 1

	prerequisite = {
		focus = GXC_kmt_medium_bomber
		focus = GXC_kmt_cas
	}
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_naval_bombers"
		add_tech_bonus = {
			name = GXC_naval_bombers
			bonus = 1
			uses = 1
			category = naval_bomber
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

#### RKMT Navy Tree
shared_focus = {
	id = GXC_roc_navy
	icon = GFX_goal_chinese_national_navy
	cost = 7

	relative_position_id = GXC_legacy_of_war
	x = 9
	y = 0

	available = {
		has_completed_focus = GXC_kmt_congress
	}

	allow_branch = {
		has_global_flag = china_united
		GXC_has_RKMT_government = yes
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_roc_navy"
		navy_experience = 75
		add_ideas = GXC_kmt_naval_reforms1
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = dockyard
					size > 2
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = dockyard
					size > 2
					include_locked = yes
				}
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = dockyard
				level = 2
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_NAVY_BONUS }
}

shared_focus = {
	id = GXC_legacy_of_beiyang_fleet
	icon = GFX_goal_FNG_beiyang_navy
	cost = 7

	relative_position_id = GXC_roc_navy
	x = 0
	y = 1

	prerequisite = { focus = GXC_roc_navy }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_legacy_of_beiyang_fleet"
		navy_experience = 25
		add_doctrine_cost_reduction = {
			name = GXC_legacy_of_beiyang_fleet
			cost_reduction = 0.5
			uses = 2
			category = naval_doctrine
		}
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			if = {
				limit = { NOT = { has_tech = early_ship_hull_light } }
				set_technology = { early_ship_hull_light = 1 }
			}
			if = {
				limit = { NOT = { has_tech = early_ship_hull_cruiser } }
				set_technology = { early_ship_hull_cruiser = 1 }
			}
			if = {
				limit = { NOT = { has_tech = coastal_defense_ships } }
				set_technology = { coastal_defense_ships = 1 }
			}
			if = {
				limit = { NOT = { has_tech = coastal_defense_ships } }
				set_technology = { coastal_defense_ships = 1 }
			}
			if = {
				limit = { NOT = { has_tech = basic_naval_mines } }
				set_technology = { basic_naval_mines = 1 }
			}
			if = {
				limit = { NOT = { has_tech = basic_battery } }
				set_technology = { basic_battery = 1 }
			}
			if = {
				limit = { NOT = { has_tech = basic_torpedo } }
				set_technology = { basic_torpedo = 1 }
			}
		}
		else = {
			if = {
				limit = { NOT = { has_tech = early_destroyer } }
				set_technology = { early_destroyer = 1 }
			}
			if = {
				limit = { NOT = { has_tech = early_submarine } }
				set_technology = { early_submarine = 1 }
			}
		}

		custom_effect_tooltip = tooltip_white_line
		QIE = {
			every_navy_leader = { set_nationality = ROOT }
		}
		if = {
			limit = { NOT = { country_exists = FNG } }
			FNG = {
				random_navy_leader = {
					limit = { has_trait = old_guard_navy }
					set_nationality = ROOT
				}
			}
		}
	}
	search_filters = { FOCUS_FILTER_NAVY_XP FOCUS_FILTER_NAVY_BONUS FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = GXC_kmt_destroyers
	icon = GFX_goal_generic_naval_destroyer2
	cost = 7

	relative_position_id = GXC_legacy_of_beiyang_fleet
	x = -1
	y = 1

	prerequisite = { focus = GXC_legacy_of_beiyang_fleet }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_kmt_destroyers"
		add_tech_bonus = {
			name = GXC_kmt_destroyers
			bonus = 1
			uses = 2
			category = dd_tech
		}
		if = {
			limit = {
				has_idea = GXC_kmt_naval_reforms1
			}
			swap_ideas = {
				remove_idea = GXC_kmt_naval_reforms1
				add_idea = GXC_kmt_naval_reforms2
			}
		}
		else_if = {
			limit = {
				has_idea = GXC_kmt_naval_reforms3
			}
			swap_ideas = {
				remove_idea = GXC_kmt_naval_reforms3
				add_idea = GXC_kmt_naval_reforms4
			}
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = GXC_kmt_submarines
	icon = GFX_goal_generic_submarine_base
	cost = 7

	relative_position_id = GXC_legacy_of_beiyang_fleet
	x = 1
	y = 1

	prerequisite = { focus = GXC_legacy_of_beiyang_fleet }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_kmt_submarines"
		add_tech_bonus = {
			name = GXC_kmt_submarines
			bonus = 1
			uses = 2
			category = ss_tech
		}
		if = {
			limit = {
				has_idea = GXC_kmt_naval_reforms1
			}
			swap_ideas = {
				remove_idea = GXC_kmt_naval_reforms1
				add_idea = GXC_kmt_naval_reforms3
			}
		}
		else_if = {
			limit = {
				has_idea = GXC_kmt_naval_reforms2
			}
			swap_ideas = {
				remove_idea = GXC_kmt_naval_reforms2
				add_idea = GXC_kmt_naval_reforms4
			}
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = GXC_cruisers
	icon = GFX_goal_generic_naval_cruiser2
	cost = 7

	relative_position_id = GXC_kmt_destroyers
	x = 1
	y = 1

	prerequisite = { focus = GXC_kmt_destroyers }
	prerequisite = { focus = GXC_kmt_submarines }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_cruisers"
		add_tech_bonus = {
			name = GXC_cruisers
			bonus = 1
			uses = 2
			category = cl_tech
		}
		swap_ideas = {
			remove_idea = GXC_kmt_naval_reforms4
			add_idea = GXC_kmt_naval_reforms5
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = GXC_prepare_for_storm
	icon = GFX_goal_nested_fortifications
	cost = 7

	relative_position_id = GXC_cruisers
	x = -1
	y = 1

	prerequisite = { focus = GXC_cruisers }

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_prepare_for_storm"
		custom_effect_tooltip = GXC_rkmt_navy_prep_tt
		if = {
			limit = {
				KOR = {
					is_puppet_of = CHI
				}
				has_tech = radio_detection
			}
			525 = { #South Korea
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = radar_station
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				has_tech = radio_detection
				owns_state = 745
			}
			745 = { #Port Arthur
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = radar_station
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				has_tech = radio_detection
				owns_state = 1065
			}
			1065 = { #Jiaodong
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = radar_station
					level = 2
					instant_build = yes
				}
			}
		}
		custom_effect_tooltip = tooltip_white_line
		every_owned_state = {
			limit = {
				is_controlled_by = ROOT
				is_in_home_area = yes
				is_coastal = yes
			}
			add_building_construction = {
				type = coastal_bunker
				province = {
					all_provinces = yes
					limit_to_coastal = yes
				}
				level = 2
				instant_build = yes
			}
		}
		swap_ideas = {
			remove_idea = GXC_kmt_naval_reforms5
			add_idea = GXC_kmt_naval_reforms6
		}
	}
	search_filters = { FOCUS_FILTER_RESEARCH }
}

shared_focus = {
	id = GXC_kmt_invade_taiwan
	icon = GFX_goal_kmt_contest_the_japanese_fleet
	cost = 7

	relative_position_id = GXC_cruisers
	x = 1
	y = 1

	prerequisite = { focus = GXC_cruisers }

	will_lead_to_war_with = JAP

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus GXC_kmt_invade_taiwan"
		add_tech_bonus = {
			name = GXC_kmt_invade_taiwan
			bonus = 1
			uses = 2
			category = bb_tech
		}
		custom_effect_tooltip = tooltip_white_line
		if = {
			limit = { JAP = { owns_state = 524 } }
			create_wargoal = {
				target = JAP
				type = take_state_focus
				generator = { 524 }
			}
		}
	}
	search_filters = { FOCUS_FILTER_ANNEXATION }
}