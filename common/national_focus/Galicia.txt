#######################
# Galician Focus Tree
#######################

focus_tree = {
	id = galicia_focus_tree
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = GAL
		}
	}
	default = no
	continuous_focus_position = { x = 50 y = 750 }

	##Black Monday##

	focus = {# Another Tough Year
		id = GAL_tough_year
		icon = GFX_goal_GAL_tough_year
		cost = 4
		x = 3
		y = 0
		ai_will_do = {
			factor = 1500
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: GAL_tough_year"
			add_political_power = 30
			country_event = {
				id = gal.10
				days = 3
			}
		}
	}

	focus = {# Downwards Spiral
		id = GAL_downwards_spiral
		icon = GFX_goal_GAL_downwards_spiral
		cost = 2
		prerequisite = {
			focus = GAL_tough_year
		}
		available = {
			has_idea = GAL_golicja_glodomeria_2
			has_idea = GAL_minority_unrest_2
		}
		relative_position_id = GAL_tough_year
		x = 0
		y = 1
		ai_will_do = {
			factor = 1500
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GAL_downwards_spiral"
			add_political_power = -80
			add_manpower = -4000
		}
	}

	focus = {# Calm Minorities
		id = GAL_calm_minorities
		icon = GFX_goal_GAL_calm_minorities
		cost = 8
		prerequisite = {
			focus = GAL_downwards_spiral
		}
		relative_position_id = GAL_downwards_spiral
		x = -3
		y = 1
		ai_will_do = {
			factor = 1500
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GAL_calm_minorities"
			every_possible_country = {
				limit = {
					AUS_is_danubian_tag = yes
					capital_scope = { is_owned_by = GAL }
				}
				set_temp_variable = { revolt_progress_change = -0.08 }
				custom_override_tooltip = {
					tooltip = BOTDE_collapse_no_country_name_with_flag_tt
					PREV = {
						BOTDE_add_collapse = yes
					}
				}
			}
			swap_ideas = {
				remove_idea = GAL_minority_unrest_2
				add_idea = GAL_minority_unrest_3
			}
			activate_targeted_decision = { target = 89 decision = GAL_Ukrainian_Schools_In_State }
			activate_targeted_decision = { target = 1127 decision = GAL_Ukrainian_Schools_In_State }
			activate_targeted_decision = { target = 1126 decision = GAL_Ukrainian_Schools_In_State }
			activate_targeted_decision = { target = 91 decision = GAL_Ban_Ukrainian_Schools_In_State }
			activate_targeted_decision = { target = 80 decision = GAL_Ban_Ukrainian_Schools_In_State }
			activate_targeted_decision = { target = 1140 decision = GAL_Ban_Ukrainian_Schools_In_State }
		}
	}

	focus = {# Another National Committee?
		id = GAL_another_committee
		icon = GFX_goal_GAL_another_committee
		cost = 4
		prerequisite = {
			focus = GAL_calm_minorities
		}
		relative_position_id = GAL_calm_minorities
		x = 0
		y = 1
		ai_will_do = {
			factor = 1500
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GAL_another_committee"
			add_political_power = 30
			country_event = {
				id = gal.13
				days = 4
			} 
		}
	}

	focus = {# Call on Ziemia≈Ñstwo
		id = GAL_call_gentry
		icon = GFX_goal_GAL_call_gentry
		cost = 5
		prerequisite = {
			focus = GAL_downwards_spiral
		}
		relative_position_id = GAL_downwards_spiral
		x = -1
		y = 1
		ai_will_do = {
			factor = 1500
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GAL_call_gentry"
			GAL = {
				set_temp_variable = { revolt_progress_change = -0.075 }
				BOTDE_add_collapse = yes
			}
			WSU = {
				set_temp_variable = { revolt_progress_change = 0.075 }
				BOTDE_add_collapse = yes
			}
			add_political_power = 200
			add_popularity = {
				ideology = social_liberal
				popularity = 0.05
			}
		}
	}

	focus = {# Emergency Peasant Relief
		id = GAL_emergency_peasant
		icon = GFX_goal_GAL_emergency_peasant
		cost = 9
		prerequisite = {
			focus = GAL_call_gentry
		}
		prerequisite = {
			focus = GAL_black_gold_and_golden_fields
		}
		relative_position_id = GAL_call_gentry
		x = 0
		y = 1
		ai_will_do = {
			factor = 1500
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GAL_emergency_peasant"
			swap_ideas = {
				remove_idea = GAL_golicja_glodomeria_2
				add_idea = GAL_golicja_glodomeria_3
			}
		}
	}
	
	focus = {#Black Gold and Golden Fields
		id = GAL_black_gold_and_golden_fields
		icon = GFX_goal_AUS_Shining_City_Hill
		cost = 5
		prerequisite = {
			focus = GAL_downwards_spiral
		}
		relative_position_id = GAL_downwards_spiral
		x = 1
		y = 1
		ai_will_do = {
			factor = 1500
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GAL_black_gold_and_golden_fields"
			custom_override_tooltip = {
				tooltip = GAL_build_2_infa_and_2_synth
				for_loop_effect = {
					end = 2
					random_owned_controlled_state = {
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
						add_building_construction = {
							type = synthetic_refinery
							level = 1
							instant_build = yes
						}
						add_extra_state_shared_building_slots = 1
					}
				}
			}
			add_tech_bonus = {
				category = synth_resources
				uses = 1
				bonus = 2
			}
		}
	}

	focus = {# Contact Vienna
		id = GAL_contact_vienna
		icon = GFX_goal_GAL_contact_vienna
		cost = 7
		prerequisite = {
			focus = GAL_downwards_spiral
		}
		relative_position_id = GAL_downwards_spiral
		x = 3
		y = 1
		ai_will_do = {
			factor = 1500
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GAL_contact_vienna"
			add_political_power = 30
			AUS = {
				country_event = {
					id = gal.140
					days = 4
					random_hours = 24
				}
			}
		}
	}

	focus = {# Trust the Market
		id = GAL_trust_market
		icon = {
			trigger = {
				has_country_flag = GAL_austria_gave_aid_without_demands
			}
			value = GFX_goal_AUS_To_Heal_Shaken_Empire
		}
		icon = {
			value = GFX_goal_GAL_trust_market
		}
		dynamic = yes
		cost = 3
		prerequisite = {
			focus = GAL_contact_vienna
		}
		available = {
			if = {
				limit = {
					has_country_flag = GAL_austria_gave_aid_without_demands
				}
				has_country_flag = GAL_austria_gave_aid_without_demands
			}
			else = {
				has_country_flag = GAL_market_help
			}
		}
		mutually_exclusive = {
			focus = GAL_sell_oil
		}
		relative_position_id = GAL_contact_vienna
		x = -2
		y = 1
		ai_will_do = {
			factor = 1500
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GAL_trust_market"
			if = {
				limit = {
					has_country_flag = GAL_austria_gave_aid_without_demands
				}
				add_political_power = 75
				GAL_subtract_five_collapse = yes
			}
			else = {
				add_ideas = GAL_market_help
			}
			swap_ideas = {
				remove_idea = GAL_rural_society
				add_idea = GAL_rural_society_2
			}
		}
	}

	focus = {# Sell Off Oil Supply
		id = GAL_sell_oil
		icon = GFX_goal_GAL_sell_oil
		cost = 6
		prerequisite = {
			focus = GAL_contact_vienna
		}
		available = {
			NOT = {
				has_country_flag = GAL_market_help
				has_country_flag = GAL_austria_gave_aid_without_demands
			}
		}
		mutually_exclusive = {
			focus = GAL_trust_market
		}
		relative_position_id = GAL_contact_vienna
		x = 0
		y = 1
		ai_will_do = {
			factor = 1500
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GAL_sell_oil"
			add_timed_idea = {
				idea = GAL_selling_oil
				days = 46
			}
			swap_ideas = {
				remove_idea = GAL_rural_society
				add_idea = GAL_rural_society_2
			}
		}
	}

	focus = {# Announce Special Elections
		id = GAL_special_elections
		icon = GFX_goal_GAL_special_elections
		cost = 6
		prerequisite = {
			focus = GAL_another_committee
		}
		prerequisite = {
			focus = GAL_emergency_peasant
		}
		prerequisite = {
			focus = GAL_trust_market
			focus = GAL_sell_oil
		}
		relative_position_id = GAL_emergency_peasant
		x = 1
		y = 1
		ai_will_do = {
			factor = 1500
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus GAL_special_elections"
			add_political_power = 30
			country_event = {
				id = gal.15
				days = 7
			}
		}
	}   
}