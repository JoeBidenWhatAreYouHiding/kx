###New paths by Soclib & Владислав ###

focus_tree = {
	id = karelia_focus
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = KAR
		}
	}
	default = no
	continuous_focus_position = { x = 2250 y = 3550 }

	focus = {
		id = KAR_Second_Karelian_Uprising
		icon = GFX_goal_KAR_Second_Karelian_Uprising
		cost = 1
		x = 4
		y = 0
		ai_will_do = { 
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Second_Karelian_Uprising"
			add_stability = 0.05
			country_event = {
				id = kar.5
				days = 3
			}
			hidden_effect = {
				country_event = {
					id = kar.6
					days = 7
				}
			}
		}
	}
	focus = {
		id = KAR_Capture_Petroskoi
		icon = GFX_goal_ARM_seize_stockpiles
		cost = 2
		relative_position_id = KAR_Second_Karelian_Uprising
		x = -2
		y = 1
		available = { NOT = { controls_state = 216 } }
		bypass = { owns_state = 216 }
		ai_will_do = { 
			factor = 90
		}
		prerequisite = { focus = KAR_Second_Karelian_Uprising }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Capture_Petroskoi"
			if = {
				limit = {
					NOT = { has_war_with = 216.owner }
				}
				216 = { transfer_state_to = ROOT }
				hidden_effect = { country_event = kar.14 }				
			}
			else = {
				add_timed_idea = {
					idea = KAR_petrozavodsk_offensive
					days = 45
				}
				activate_mission = KAR_seize_petrozavodsk
			}
		}
	}
	focus = {
		id = KAR_Organize_Insurgency_Movement
		icon = GFX_NEE_expand_organization
		cost = 2
		relative_position_id = KAR_Second_Karelian_Uprising
		x = 2
		y = 1
		ai_will_do = { 
			factor = 100
		}
		available = { has_socialist_government = no }
		bypass = { has_socialist_government = yes }
		prerequisite = { focus = KAR_Second_Karelian_Uprising }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Organize_Insurgency_Movement"
			add_ideas = KAR_first_karelian_regiment
			country_event = {
				id = kar.13
				days = 2
				random_days = 3
			}			
		}
	}
	focus = {
		id = KAR_jaeger_army
		icon = GFX_goal_finnish_spirit
		cost = 2
		relative_position_id = KAR_Second_Karelian_Uprising
		x = 0
		y = 1
		ai_will_do = { 
			factor = 100
		}
		available = { has_socialist_government = no }
		bypass = { has_socialist_government = yes }
		prerequisite = { focus = KAR_Second_Karelian_Uprising }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_jaeger_army"
			country_event = kar.10
			FIN = {
				random_unit_leader = {
					limit = { has_id = 747910 }
					unit_leader_event = kar.3
				}
			}
			custom_effect_tooltip = KAR_jager_div_unit_tooltip
			hidden_effect = {

				division_template = {
					name = "Jääkäriliike"
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }

						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
					}

					support = {
						engineer = { x = 0 y = 0 }
						artillery = { x = 0 y = 1 }						
					}
				}

				random_owned_controlled_state = {
					create_unit = {
						division = "name = \"Karjalan Jääkäriliike\" division_template = \"Jääkäriliike\" start_experience_factor = 0.6"
						owner = KAR
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "name = \"Karjalan Jääkäriliike\" division_template = \"Jääkäriliike\" start_experience_factor = 0.6"
						owner = KAR
					}
				}
			}
			add_doctrine_cost_reduction = {
				name = KAR_jaeger_army
				cost_reduction = 0.9
				uses = 1
				category = land_doctrine
			}
			
		}
	}
	focus = {
		id = KAR_Integrate_Forrest_Brothers
		icon = GFX_goal_KAR_Integrate_Forrest_Brothers
		cost = 2
		relative_position_id = KAR_Second_Karelian_Uprising
		x = 1
		y = 2
		ai_will_do = { 
			factor = 100
		}
		available = { 
			has_country_flag = KAR_integrated_metsasissit
			has_socialist_government = no
		}
		bypass = { has_socialist_government = yes }
		prerequisite = { focus = KAR_Organize_Insurgency_Movement }
		prerequisite = { focus = KAR_jaeger_army }
		mutually_exclusive = { focus = KAR_Disband_Forrest_Brothers }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Integrate_Forrest_Brothers"
			add_popularity = {
				ideology = national_populist
				popularity = -0.1
			}
			remove_ideas = KAR_forest_guerillas
			if = {
				limit = { has_idea = KAR_first_karelian_regiment_lessons }
				swap_ideas = {
					remove_idea = KAR_first_karelian_regiment_lessons
					add_idea = KAR_first_karelian_regiment_final
				}
			}
			else = {
				swap_ideas = {
					remove_idea = KAR_first_karelian_regiment
					add_idea = KAR_first_karelian_regiment_guerillas
				}
			}
		}
	}
	focus = {
		id = KAR_Disband_Forrest_Brothers
		icon = GFX_goal_break_rifle
		cost = 1.5
		relative_position_id = KAR_Second_Karelian_Uprising
		x = -1
		y = 2
		ai_will_do = { 
			factor = 100
		}
		available = { 
			has_country_flag = KAR_disbanded_metsasissit
			has_socialist_government = no
		}
		bypass = { has_socialist_government = yes }
		prerequisite = { focus = KAR_Organize_Insurgency_Movement }
		prerequisite = { focus = KAR_jaeger_army }
		mutually_exclusive = { focus = KAR_Integrate_Forrest_Brothers }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Disband_Forrest_Brothers"
			add_popularity = {
				ideology = national_populist
				popularity = 0.1
			}
			remove_ideas = KAR_forest_guerillas
			effect_tooltip = {
				random_unit_leader = {
					limit = { has_id = 747913 }
					retire = yes
				}
			}
			hidden_effect = {
				random_unit_leader = {
					limit = { has_id = 747913 }
					set_nationality = XXA
				}
			}
			custom_effect_tooltip = KAR_rykment_unit_tooltip
			delete_unit_template_and_units = {
				division_template = "Metsäsissit"
				disband = yes #will refund equipment and manpower
			}			
			hidden_effect = {
				random_owned_controlled_state = {
					create_unit = {
						division = "name = \"Karjalan 2. rykmentti\" division_template = \"Karjalan rykmentti\" start_experience_factor = 0.5"
						owner = KAR
					}
				}
			}			
		}
	}
	focus = {
		id = KAR_Lessons_Of_RCW
		icon = GFX_BRY_Lessons_Of_Siberian_Army
		cost = 2
		relative_position_id = KAR_Second_Karelian_Uprising
		x = 3
		y = 2
		ai_will_do = { 
			factor = 80
		}
		available = { has_socialist_government = no }
		bypass = { has_socialist_government = yes }
		prerequisite = { focus = KAR_Organize_Insurgency_Movement }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Lessons_Of_RCW"
			add_tech_bonus = {
				name = KAR_Lessons_Of_RCW
				bonus = 0.75
				uses = 2
				category = infantry_weapons
			}
			add_doctrine_cost_reduction = {
				name = KAR_Lessons_Of_RCW
				cost_reduction = 0.9
				uses = 1
				category = land_doctrine
			}
			if = {
				limit = { has_idea = KAR_first_karelian_regiment_guerillas }
				swap_ideas = {
					remove_idea = KAR_first_karelian_regiment_guerillas
					add_idea = KAR_first_karelian_regiment_final
				}
			}
			else = {
				swap_ideas = {
					remove_idea = KAR_first_karelian_regiment
					add_idea = KAR_first_karelian_regiment_lessons
				}
			}
		}
	}
	focus = {
		id = KAR_Request_Finnish_Arms
		icon = GFX_goal_Arms_Export
		cost = 2
		relative_position_id = KAR_Second_Karelian_Uprising
		x = 0
		y = 3
		available = { has_socialist_government = no }
		bypass = { 
			OR = {
				has_socialist_government = yes 
				FIN = { has_socialist_government = yes }
			}
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = {
			focus = KAR_Disband_Forrest_Brothers
			focus = KAR_Integrate_Forrest_Brothers
		}		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Request_Finnish_Arms"
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 1500
				producer = FIN
			}
		}
	}
	
	focus = {
		id = KAR_reorganise_the_mobilisation_structure
		icon = GFX_goal_mass_concentration_of_army
		prerequisite = { focus = KAR_Lessons_Of_RCW }
		x = 2
		y = 3
		relative_position_id = KAR_Second_Karelian_Uprising
		cost = 5
		ai_will_do = {
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FIN_reorganise_the_mobilisation_structure"
			add_ideas = FIN_reorganised_mobilisation_structure_idea
		}
		search_filters = { FOCUS_FILTER_MANPOWER }
	}

	focus = {
		id = KAR_cold_weather_training
		icon = GFX_goal_CAN_explore_north
		prerequisite = { focus = KAR_Lessons_Of_RCW }
		x = 4
		y = 3
		relative_position_id = KAR_Second_Karelian_Uprising
		cost = 5
		ai_will_do = {
			factor = 40
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus FIN_cold_weather_training"
			add_ideas = FIN_cold_weather_training_idea
			custom_effect_tooltip = tech_arctic_commando_effect
			hidden_effect = {
				set_technology = { tech_arctic_commando = 1 popup = no }
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}
	focus = {
		id = KAR_ski_infantry
		icon = GFX_YAK_Fighting_In_Permafrost
		prerequisite = { focus = KAR_cold_weather_training }
		x = 5
		y = 4
		relative_position_id = KAR_Second_Karelian_Uprising
		cost = 5
		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_ski_infantry"
			custom_effect_tooltip = tech_ski_infantry_effect
			hidden_effect = {
				set_technology = { tech_ski_infantry = 1 popup = no }
			}
		}
	}
	focus = {
		id = KAR_connect_karelian_villages
		icon = GFX_focus_SOV_the_road_of_life
		prerequisite = { 
			focus = KAR_cold_weather_training
			focus = KAR_reorganise_the_mobilisation_structure
		}
		available = {
			controls_state = 215
			controls_state = 216
		}
		x = 3
		y = 4
		relative_position_id = KAR_Second_Karelian_Uprising
		cost = 5
		ai_will_do = {
			factor = 100
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_connect_karelian_villages"
			build_railway = {
				level = 1
				build_only_on_allied = yes
  				fallback = yes
				path = { 11159 9118 6094 9231 157 11146 6096 11096 36 3067 }
				start_province = 11159
				target_province = 3067
			}
			215 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = supply_node
					province = 3067
					level = 1
					instant_build = yes
				}
			}						
		}
	}
	focus = {
		id = KAR_light_industry
		icon = GFX_goal_generic_forestry
		prerequisite = { 
			focus = KAR_Request_Finnish_Arms
		}
		available = {
			controls_state = 215
			controls_state = 216
		}
		x = 0
		y = 4
		relative_position_id = KAR_Second_Karelian_Uprising
		cost = 5
		ai_will_do = {
			factor = 85
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_light_industry"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				increase_state_category_by_one_level = yes
			}
		}
	}
	focus = {
		id = KAR_Itsenaisyys
		icon = GFX_goal_KAR_flag
		cost = 4
		relative_position_id = KAR_Second_Karelian_Uprising
		x = -2
		y = 4
		available = {
			has_war = no
			has_socialist_government = no
		}
		ai_will_do = { 
			factor = 100
		}
		select_effect = {
			country_event = {
				id = kar.20		
				days = 5
			}
		}
		prerequisite = { focus = KAR_Capture_Petroskoi }
		prerequisite = { focus = KAR_Request_Finnish_Arms }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Itsenaisyys"
			add_stability = 0.1
			hidden_effect = {
				country_event = {
					id = kar.83
					days = 180
					random_days = 100
				}
			}
		}
	}
	focus = {
		id = KAR_Secure_Elfengrens_Junta
		icon = GFX_goal_KAR_Secure_Elfengrens_Junta
		cost = 2
		relative_position_id = KAR_Itsenaisyys
		x = 2
		y = 1
		available = { 
			always = no
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Itsenaisyys }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Secure_Elfengrens_Junta"
			custom_effect_tooltip = unlock_focuses
		}
	}
	focus = {
		id = KAR_Work_With_Sivistysseura
		icon = GFX_goal_KAR_Sivistysseura
		cost = 5
		relative_position_id = KAR_Secure_Elfengrens_Junta
		x = -1
		y = 1
		available = { 
			has_country_leader = {
				name = "Yrjö Elfvengren"
				ruling_only = yes
			}
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Secure_Elfengrens_Junta }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Work_With_Sivistysseura"
			set_temp_variable = { coalition_partner_var = token:social_conservative }
			add_to_coalition = yes
			add_popularity = {
				ideology = social_conservative
				popularity = 0.07
			}
			country_event = kar.36
			hidden_effect = {
				country_event = {
					id = kar.74
					days = 15
					random_days = 5
				}
			}
		}
	}
	focus = {
		id = KAR_Karelian_Identity_Effort
		icon = GFX_RUS_Revive_National_Identity
		cost = 5
		relative_position_id = KAR_Secure_Elfengrens_Junta
		x = -2
		y = 2
		available = { 
			OR = {
				has_country_leader = {
					name = "Yrjö Elfvengren"
					ruling_only = yes
				}
				has_democratic_government = yes
			}
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { 
			focus = KAR_Work_With_Sivistysseura
			focus = KAR_Karelian_Nationalism
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Karelian_Identity_Effort"
			swap_ideas = {
				remove_idea = KAR_weak_national_identity
				add_idea = KAR_weak_national_identity_2
			}
			hidden_effect = {
				if = {
					limit = {
						has_country_leader = {
							name = "Yrjö Elfvengren"
							ruling_only = yes
						}
					}
					if = {
						limit = {
							has_country_flag = KAR_finland_can_coup
						}
						country_event = {
							id = kar.30
							days = 45
							random_days = 30
						}
					}
				}
			}
		}
	}
	focus = {
		id = KAR_Public_Education
		icon = GFX_BBR_rural_schools
		cost = 5
		relative_position_id = KAR_Secure_Elfengrens_Junta
		x = -1
		y = 3
		available = { 
			OR = {
				has_country_leader = {
					name = "Yrjö Elfvengren"
					ruling_only = yes
				}
				has_democratic_government = yes
			}
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Karelian_Identity_Effort }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Public_Education"
			if = {
				limit = { has_idea = KAR_weak_national_identity_3 }
				remove_ideas = KAR_weak_national_identity_3
			}
			else = {
				swap_ideas = {
					remove_idea = KAR_weak_national_identity_2
					add_idea = KAR_weak_national_identity_3
				}
			}
			add_research_slot = 1
		}
	}
	focus = {
		id = KAR_Opportunism
		icon = GFX_YAK_Border_Security
		cost = 5
		relative_position_id = KAR_Secure_Elfengrens_Junta
		x = 1
		y = 1
		available = { 
			has_country_leader = {
				name = "Yrjö Elfvengren"
				ruling_only = yes
			}
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Secure_Elfengrens_Junta }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Opportunism"
			if = {
				limit = {
					country_exists = CRM
					CRM = {
						NOT = {
							has_government = authoritarian_democrat
							has_government = paternal_autocrat
							has_socialist_government = yes
						}
					}
				}
				CRM = {
					country_event = kar.56
				}
			}
			if = {
				limit = {
					country_exists = LAT
					LAT = { has_government = national_populist }
				}
				LAT = {
					country_event = kar.59
				}
			}
			if = {
				limit = {
					country_exists = WHR
					WHR = { 
						is_subject = no 
						has_socialist_government = no
					}
				}
				WHR = {
					country_event = kar.62
				}
			}
			if = {
				limit = {
					country_exists = WRA
				}
				WRA = {
					country_event = kar.53
				}
			}
			if = {
				limit = {
					country_exists = RRF
					has_socialist_government = no
				}
				RRF = {
					country_event = kar.50
				}
			}
			else_if = {
				limit = {
					country_exists = RUS
					OR = {
						RUS_savinkov_in_power = yes
						has_idea = RUS_Boris_V_Savinkov_hog_npo
					}
				}
				RUS = {
					country_event = kar.50
				}
			}
			else = {
				country_event = kar.65
			}			
		}
	}
	focus = {
		id = KAR_Establish_NRPR_Department
		icon = GFX_focus_RUS_savinkov
		cost = 5
		relative_position_id = KAR_Secure_Elfengrens_Junta
		x = 2
		y = 2
		available = { 
			has_country_leader = {
				name = "Yrjö Elfvengren"
				ruling_only = yes
			}
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Opportunism }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Establish_NRPR_Department"
			country_event = kar.66
		}
	}
	focus = {
		id = KAR_Initiate_Savinkovist_Reforms
		icon = GFX_RUS_Cult_Of_Personality
		cost = 5
		relative_position_id = KAR_Secure_Elfengrens_Junta
		x = 1
		y = 3
		available = { 
			has_country_leader = {
				name = "Yrjö Elfvengren"
				ruling_only = yes
			}
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Establish_NRPR_Department }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Initiate_Savinkovist_Reforms"
			country_event = kar.67
		}
	}
	focus = {
		id = KAR_Militarize_The_Nation
		icon = GFX_goal_NFA_military_supremacy
		cost = 5
		relative_position_id = KAR_Secure_Elfengrens_Junta
		x = 0
		y = 2
		available = { 
			has_country_leader = {
				name = "Yrjö Elfvengren"
				ruling_only = yes
			}
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Secure_Elfengrens_Junta }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Militarize_The_Nation"
			add_ideas = KAR_militarized_nation
		}
	}
	focus = {
		id = KAR_Pragmatic_Policies
		icon = GFX_goal_generic_stable_government
		cost = 5
		relative_position_id = KAR_Secure_Elfengrens_Junta
		x = 0
		y = 4
		ai_will_do = { 
			factor = 70
		}
		available = { 
			has_country_leader = {
				name = "Yrjö Elfvengren"
				ruling_only = yes
			}
		}
		prerequisite = { focus = KAR_Public_Education }
		prerequisite = { focus = KAR_Militarize_The_Nation }
		prerequisite = { focus = KAR_Initiate_Savinkovist_Reforms }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Pragmatic_Policies"
			add_stability = 0.05
			add_war_support = 0.05
		}
	}
	focus = {
		id = KAR_Reject_Finnish_Irridentism
		icon = GFX_goal_COR_Reject_Foreign_Autocracy
		cost = 5
		relative_position_id = KAR_Secure_Elfengrens_Junta
		x = 0
		y = 5
		available = { 
			has_country_leader = {
				name = "Yrjö Elfvengren"
				ruling_only = yes
			}
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Pragmatic_Policies }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Reject_Finnish_Irridentism"
			add_war_support = 0.05
			if = {
				limit = {
					FIN = { has_socialist_government = no }
				}
				FIN = { country_event = kar.68 }
			}
		}
	}
	focus = {
		id = KAR_Unify_Karelia
		icon = GFX_goal_KAR_Sivistysseura
		cost = 5
		relative_position_id = KAR_Secure_Elfengrens_Junta
		x = 0
		y = 6
		available = { 
			has_country_leader = {
				name = "Yrjö Elfvengren"
				ruling_only = yes
			}
		}
		ai_will_do = { 
			factor = 100
		}
		will_lead_to_war_with = FIN
		prerequisite = { focus = KAR_Reject_Finnish_Irridentism }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Unify_Karelia"
			865 = { add_claim_by = ROOT }
			146 = { add_claim_by = ROOT }
			if = {
				limit = { gives_military_access_to = FIN }
				FIN = {
					diplomatic_relation = {
						country = KAR
						relation = military_access
						active = no
					}
				}
			}
			if = {
				limit = { has_military_access_to = FIN }
				diplomatic_relation = {
					country = FIN
					relation = military_access
					active = no
				}
			}
			if = {
				limit = { has_non_aggression_pact_with = FIN }
				diplomatic_relation = {
					country = FIN
					relation = non_aggression_pact
					active = no
				}
			}
			if = {
				limit = { is_subject_of = FIN }
				FIN = {
					set_autonomy = {
						target = KAR
						autonomy_state = autonomy_free
					}
				}
			}
			FIN = {
				diplomatic_relation = {
					country = KAR
					relation = guarantee
					active = no
				}
			}
			add_opinion_modifier = {
				target = FIN
				modifier = KR_disapproves_of_govt
			}
			if = {
				limit = {
					FIN = { has_socialist_government = no }
				}
				FIN = { country_event = kar.69 }
			}
			else = {
				activate_targeted_decision = { target = FIN decision = KAR_unify_karelia }
			}
		}
	}
	focus = {
		id = KAR_Vainamoinen_Takes_Power
		icon = GFX_goal_KAR_Vainamoinen_Takes_Power
		cost = 2
		relative_position_id = KAR_Itsenaisyys
		x = 9
		y = 1
		available = { 
			always = no
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Itsenaisyys }
		mutually_exclusive = { focus = KAR_Jagers_Hold_On }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Vainamoinen_Takes_Power"
			custom_effect_tooltip = unlock_focuses
		}
	}
	focus = {
		id = KAR_Rely_On_Finnish_Support
		icon = GFX_goal_SCA_economy_finland
		cost = 5
		relative_position_id = KAR_Vainamoinen_Takes_Power
		x = -1
		y = 1
		ai_will_do = { 
			factor = 100
		}
		available = { 
			OR = {
				custom_trigger_tooltip = {
					tooltip = KAR_Jagers_Hold_On
					OR = {
						has_country_leader = {
							name = "Paavo Talvela"
							ruling_only = yes
						}
						has_country_leader = {
							name = "Fredrik Kaarle I"
							ruling_only = yes
						}
						has_country_leader = {
							name = "Väinö I"
							ruling_only = yes
						}
					}
				}
			
				has_government = national_populist
			}
			FIN = { has_socialist_government = no }
		}
		bypass = {
			FIN = { has_socialist_government = yes }
		}
		prerequisite = { 
			focus = KAR_Vainamoinen_Takes_Power
			focus = KAR_Jagers_Hold_On
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Rely_On_Finnish_Support"
			add_ideas = KAR_ties_with_finland
		}
	}
	focus = {
		id = KAR_All_Karelian_Sobor
		icon = GFX_goal_CZE_provincial_assembly
		cost = 5
		relative_position_id = KAR_Vainamoinen_Takes_Power
		x = 1
		y = 1
		available = { has_government = national_populist }
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Vainamoinen_Takes_Power }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_All_Karelian_Sobor"
			country_event = kar.76
			hidden_effect = {
				country_event = {
					id = kar.82
					days = 80
					random_days = 30
				}
			}
		}
	}
	focus = {
		id = KAR_Peasant_Power
		icon = GFX_goal_TEX_Power_to_Farmers
		cost = 5
		relative_position_id = KAR_Vainamoinen_Takes_Power
		x = 0
		y = 3
		ai_will_do = { 
			factor = 100
		}
		available = { has_government = national_populist }
		prerequisite = { focus = KAR_Karjalan_Johtaja }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Peasant_Power"
			add_ideas = KAR_peasant_karelia
		}
	}
	focus = {
		id = KAR_Karjalan_Johtaja
		icon = GFX_goal_KAR_Karjalan_Johtaja
		cost = 5
		relative_position_id = KAR_Vainamoinen_Takes_Power
		x = 1
		y = 2
		available = { has_government = national_populist }
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_All_Karelian_Sobor }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Karjalan_Johtaja"
			add_country_leader_trait = KAR_Johtaja
			country_event = kar.79
		}
	}
	focus = {
		id = KAR_Strengthen_Church
		icon = GFX_goal_generic_orthodoxy
		cost = 5
		relative_position_id = KAR_Vainamoinen_Takes_Power
		x = 2
		y = 3
		ai_will_do = { 
			factor = 100
		}
		available = { has_government = national_populist }
		prerequisite = { focus = KAR_Karjalan_Johtaja }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Strengthen_Church"
			country_event = kar.49
		}
	}
	focus = {
		id = KAR_Promote_Finnish_Mythology
		icon = GFX_goal_KAR_Promote_Finnish_Mythology
		cost = 5
		relative_position_id = KAR_Vainamoinen_Takes_Power
		x = 1
		y = 4
		ai_will_do = { 
			factor = 70
		}
		available = { has_government = national_populist }
		prerequisite = { focus = KAR_Peasant_Power }
		prerequisite = { focus = KAR_Strengthen_Church }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Promote_Finnish_Mythology"
			if = {
				limit = { has_idea = KAR_weak_national_identity_3 }
				remove_ideas = KAR_weak_national_identity_3
			}
			else_if = {
				limit = { has_idea = KAR_weak_national_identity_2 }
				swap_ideas = {
					remove_idea = KAR_weak_national_identity_2
					add_idea = KAR_weak_national_identity_3
				}
			}
			else = {
				swap_ideas = {
					remove_idea = KAR_weak_national_identity
					add_idea = KAR_weak_national_identity_2
				}
			}
		}
	}
	focus = {
		id = KAR_Anticommunist_Stance
		icon = GFX_goal_CAN_anti_syndicalism_decree
		cost = 5
		relative_position_id = KAR_Vainamoinen_Takes_Power
		x = -1
		y = 4
		ai_will_do = { 
			factor = 70
		}
		available = { 
			OR = {
				custom_trigger_tooltip = {
					tooltip = KAR_Jagers_Hold_On
					OR = {
						has_country_leader = {
							name = "Paavo Talvela"
							ruling_only = yes
						}
						has_country_leader = {
							name = "Fredrik Kaarle I"
							ruling_only = yes
						}
						has_country_leader = {
							name = "Väinö I"
							ruling_only = yes
						}
					}
				}
				has_government = national_populist
			}
		}
		prerequisite = { focus = KAR_Invite_Finnish_Workers }
		prerequisite = { 
			focus = KAR_Peasant_Power
			focus = KAR_Reward_Farmers
		}
		prerequisite = { 
			focus = KAR_Strengthen_Church
			focus = KAR_Loyalty_To_Finland
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Anticommunist_Stance"
			every_other_country = {
				limit = { has_socialist_government = yes }
				ROOT = { 
					embargo_PREV = yes
					add_opinion_modifier = {
						target = PREV
						modifier = KR_hostile
					}
				}
			}
			add_popularity = {
				ideology = totalist
				popularity = -0.1
			}
			add_popularity = {
				ideology = syndicalist
				popularity = -0.1
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = -0.1
			}
		}
	}
	focus = {
		id = KAR_Attract_AKS_Activists
		icon = GFX_goal_KAR_Attract_AKS_Activists
		cost = 3
		relative_position_id = KAR_Vainamoinen_Takes_Power
		x = -2
		y = 5
		available = { 
			custom_trigger_tooltip = {
				tooltip = KAR_Jagers_Hold_On
				OR = {
					has_country_leader = {
						name = "Paavo Talvela"
						ruling_only = yes
					}
					has_country_leader = {
						name = "Fredrik Kaarle I"
						ruling_only = yes
					}
					has_country_leader = {
						name = "Väinö I"
						ruling_only = yes
					}
				}
			}
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Anticommunist_Stance }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Attract_AKS_Activists"
			add_popularity = {
				ideology = national_populist
				popularity = 0.05
			}
		}
	}
	focus = {
		id = KAR_Ties_To_Lapua
		icon = GFX_goal_FIN_Lapua_Movement
		cost = 3
		relative_position_id = KAR_Vainamoinen_Takes_Power
		x = 0
		y = 5
		available = { 
			has_government = national_populist
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Anticommunist_Stance }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Ties_To_Lapua"
			add_ideas = FIN_corporatist_economics_idea
		}
	}
	focus = {
		id = KAR_Dreams_Of_Finno_Ugric_State
		icon = GFX_goal_KAR_Dreams_Of_Finno_Ugric_State
		cost = 5
		relative_position_id = KAR_Vainamoinen_Takes_Power
		x = 1
		y = 6
		ai_will_do = { 
			factor = 100
		}
		available = { has_government = national_populist }
		prerequisite = { focus = KAR_Ties_To_Lapua }
		prerequisite = { focus = KAR_Promote_Finnish_Mythology }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Dreams_Of_Finno_Ugric_State"
			custom_effect_tooltip = KAR_Dreams_Of_Finno_Ugric_State_tt
			every_state = {
				limit = {
					OR = {
						is_core_of = FIN
						state = 213
						state = 214
						state = 262
						state = 397
						state = 149
						state = 208
						state = 244
						state = 264
						state = 400
						state = 351
						state = 399
						state = 1193
						state = 247
					}
				}
				add_claim_by = ROOT
			}
			activate_targeted_decision = { target = RUS decision = KAR_finnougric_claims }
			activate_targeted_decision = { target = FIN decision = KAR_finnougric_claims }
			hidden_effect = {
				activate_targeted_decision = { target = RRF decision = KAR_finnougric_claims }
				activate_targeted_decision = { target = RVA decision = KAR_finnougric_claims }
				activate_targeted_decision = { target = WRA decision = KAR_finnougric_claims }
			}			
		}
	}
	focus = {
		id = KAR_Jagers_Hold_On
		icon = GFX_goal_KAR_Jagers_Hold_On
		cost = 2
		relative_position_id = KAR_Itsenaisyys
		x = 7
		y = 1
		available = { 
			always = no
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Itsenaisyys }
		mutually_exclusive = { focus = KAR_Vainamoinen_Takes_Power }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Jagers_Hold_On"
			custom_effect_tooltip = unlock_focuses
		}
	}
	focus = {
		id = KAR_Form_Karelian_Army
		icon = GFX_goal_KAR_army
		cost = 5
		relative_position_id = KAR_Jagers_Hold_On
		x = -1
		y = 1
		available = { 
			custom_trigger_tooltip = {
				tooltip = KAR_Jagers_Hold_On
				OR = {
					has_country_leader = {
						name = "Paavo Talvela"
						ruling_only = yes
					}
					has_country_leader = {
						name = "Fredrik Kaarle I"
						ruling_only = yes
					}
					has_country_leader = {
						name = "Väinö I"
						ruling_only = yes
					}
				}
			}
			has_completed_focus = KAR_Lessons_Of_RCW
			OR = {
				has_completed_focus = KAR_Disband_Forrest_Brothers
				has_completed_focus = KAR_Integrate_Forrest_Brothers
			}
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Jagers_Hold_On }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Form_Karelian_Army"
			if = {
				limit = { has_idea = KAR_first_karelian_regiment_lessons }
				swap_ideas = {
					remove_idea = KAR_first_karelian_regiment_lessons
					add_idea = KAR_karelian_army_lessons
				}
			}
			else = {
				swap_ideas = {
					remove_idea = KAR_first_karelian_regiment_final
					add_idea = KAR_karelian_army_final
				}
			}
			add_doctrine_cost_reduction = {
				name = KAR_Form_Karelian_Army
				cost_reduction = 0.5
				uses = 1
				category = land_doctrine
			}
		}
	}
	focus = {
		id = KAR_German_Discipline
		icon = GFX_german_army_advisors
		cost = 5
		relative_position_id = KAR_Jagers_Hold_On
		x = -1
		y = 2
		available = { 
			custom_trigger_tooltip = {
				tooltip = KAR_Jagers_Hold_On
				OR = {
					has_country_leader = {
						name = "Paavo Talvela"
						ruling_only = yes
					}
					has_country_leader = {
						name = "Fredrik Kaarle I"
						ruling_only = yes
					}
					has_country_leader = {
						name = "Väinö I"
						ruling_only = yes
					}
				}
			}
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Form_Karelian_Army }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_German_Discipline"
			add_war_support = 0.05
			if = {
				limit = { has_idea = KAR_karelian_army_lessons }
				swap_ideas = {
					remove_idea = KAR_karelian_army_lessons
					add_idea = KAR_karelian_army_lessons_discipline
				}
			}
			else = {
				swap_ideas = {
					remove_idea = KAR_karelian_army_final
					add_idea = KAR_karelian_army_final_discipline
				}
			}
		}
	}
	focus = {
		id = KAR_Loyalty_To_Finland
		icon = GFX_goal_finnish_spirit
		cost = 5
		relative_position_id = KAR_Jagers_Hold_On
		x = -2
		y = 3
		available = { 
			custom_trigger_tooltip = {
				tooltip = KAR_Jagers_Hold_On
				OR = {
					has_country_leader = {
						name = "Paavo Talvela"
						ruling_only = yes
					}
					has_country_leader = {
						name = "Fredrik Kaarle I"
						ruling_only = yes
					}
					has_country_leader = {
						name = "Väinö I"
						ruling_only = yes
					}
				}
			}
			FIN = { has_socialist_government = no }
		}
		bypass = {
			OR = {
				FIN = { has_socialist_government = yes }
				is_subject_of = FIN	
			}
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_German_Discipline }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Loyalty_To_Finland"
			get_current_government_type = yes
			FIN = {
				set_autonomy = {
					target = ROOT
					autonomous_state = kr_occupied_puppet
					freedom_level = 0.75
				}
			}
			restore_previous_government_type = yes
		}
	}
	focus = {
		id = KAR_Reward_Farmers
		icon = GFX_goal_COR_Cooperate_Organized_Workers_Farmers
		cost = 5
		relative_position_id = KAR_Jagers_Hold_On
		x = 0
		y = 3
		available = { 
			custom_trigger_tooltip = {
				tooltip = KAR_Jagers_Hold_On
				OR = {
					has_country_leader = {
						name = "Paavo Talvela"
						ruling_only = yes
					}
					has_country_leader = {
						name = "Fredrik Kaarle I"
						ruling_only = yes
					}
					has_country_leader = {
						name = "Väinö I"
						ruling_only = yes
					}
				}
			}
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_German_Discipline }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Reward_Farmers"
			add_ideas = KAR_subsidize_agriculture
		}
	}
	focus = {
		id = KAR_Invite_Finnish_Workers
		icon = GFX_goal_GER_Eastern_Workers
		cost = 5
		relative_position_id = KAR_Vainamoinen_Takes_Power
		x = -1
		y = 2
		available = { 
			OR = {
				custom_trigger_tooltip = {
					tooltip = KAR_Jagers_Hold_On
					OR = {
						has_country_leader = {
							name = "Paavo Talvela"
							ruling_only = yes
						}
						has_country_leader = {
							name = "Fredrik Kaarle I"
							ruling_only = yes
						}
						has_country_leader = {
							name = "Väinö I"
							ruling_only = yes
						}
					}
				}
				has_government = national_populist
			}
			FIN = { has_socialist_government = no }
		}
		bypass = {
			FIN = { has_socialist_government = yes }
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Rely_On_Finnish_Support }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Invite_Finnish_Workers"
			add_manpower = 3000
			add_research_slot = 1
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	focus = {
		id = KAR_Erase_Differences
		icon = GFX_goal_KAR_Together_With_Finland
		cost = 5
		relative_position_id = KAR_Jagers_Hold_On
		x = -1
		y = 4
		available = { 
			custom_trigger_tooltip = {
				tooltip = KAR_Jagers_Hold_On
				OR = {
					has_country_leader = {
						name = "Paavo Talvela"
						ruling_only = yes
					}
					has_country_leader = {
						name = "Fredrik Kaarle I"
						ruling_only = yes
					}
					has_country_leader = {
						name = "Väinö I"
						ruling_only = yes
					}
				}
			}
		}
		ai_will_do = { 
			factor = 70
		}
		prerequisite = { focus = KAR_Reward_Farmers }
		prerequisite = { focus = KAR_Loyalty_To_Finland	}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Erase_Differences"
			if = {
				limit = { has_idea = KAR_weak_national_identity_3 }
				swap_ideas = {
					remove_idea = KAR_weak_national_identity_3
					add_idea = KAR_weak_national_identity_2
				}
			}
			else_if = {
				limit = { has_idea = KAR_weak_national_identity_2 }
				swap_ideas = {
					remove_idea = KAR_weak_national_identity_2
					add_idea = KAR_weak_national_identity
				}
			}
			else_if = {
				limit = { NOT = { has_idea = KAR_weak_national_identity } }
				add_ideas = KAR_weak_national_identity
			}
		}
	}
	focus = {
		id = KAR_Integrate_Karelia
		icon = GFX_goal_flag_finland
		cost = 5
		relative_position_id = KAR_Jagers_Hold_On
		x = -1
		y = 6
		available = { 
			custom_trigger_tooltip = {
				tooltip = KAR_Jagers_Hold_On
				OR = {
					has_country_leader = {
						name = "Paavo Talvela"
						ruling_only = yes
					}
					has_country_leader = {
						name = "Fredrik Kaarle I"
						ruling_only = yes
					}
					has_country_leader = {
						name = "Väinö I"
						ruling_only = yes
					}
				}
			}
			FIN = {
				has_socialist_government = no
			}
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Attract_AKS_Activists }
		prerequisite = { focus = KAR_Erase_Differences }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Integrate_Karelia"
			every_owned_state = {
				limit = {
					is_claimed_by = FIN
					NOT = { is_core_of = FIN }
				}
				remove_claim_by = FIN
				add_core_of = FIN
			}
			every_unit_leader = {
				limit = {
					OR = {
						has_id = 747911
						has_id = 747910
					}
				}
				set_nationality = FIN
			}
			FIN = {
				annex_country = {
					target = ROOT
					transfer_troops = yes
				}
				change_tag_from = ROOT
			}
		}
	}
	focus = {
		id = KAR_Sivistysseura
		icon = GFX_goal_KAR_Sivistysseura
		cost = 2
		relative_position_id = KAR_Itsenaisyys
		x = -2
		y = 1
		available = { 
			always = no
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Itsenaisyys }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Sivistysseura"
			custom_effect_tooltip = unlock_focuses
		}
	}
	focus = {
		id = KAR_Revive_1917_Constitution
		icon = GFX_goal_NFA_improve_constitution
		cost = 5
		relative_position_id = KAR_Sivistysseura
		x = 0
		y = 2
		available = { 
			has_democratic_government = yes
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Sivistysseura }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Work_With_Sivistysseura"
			country_event = kar.37
		}
	}
	focus = {
		id = KAR_Karelian_Nationalism
		icon = GFX_goal_national_populism
		cost = 5
		relative_position_id = KAR_Sivistysseura
		x = 1
		y = 1
		available = { 
			has_democratic_government = yes
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Sivistysseura }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Karelian_Nationalism"
			add_popularity = {
				ideology = social_conservative
				popularity = 0.05
			}
			add_popularity = {
				ideology = national_populist
				popularity = 0.02
			}
			add_ideas = KAR_nationalism
		}
	}
	focus = {
		id = KAR_Support_Private_Initiative
		icon = GFX_RUS_Encourage_Private_Property
		cost = 5
		relative_position_id = KAR_Sivistysseura
		x = -1
		y = 1
		available = { 
			has_democratic_government = yes
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Sivistysseura }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Support_Private_Initiative"
			add_ideas = KAR_private_initiative
			add_popularity = {
				ideology = market_liberal
				popularity = 0.05
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			hidden_effect = {
				country_event = {
					id = kar.74
					days = 15
					random_days = 5
				}
			}
		}
	}
	focus = {
		id = KAR_Christian_Nation
		icon = GFX_DKB_Christian_Social_Justice
		cost = 5
		relative_position_id = KAR_Sivistysseura
		x = -2
		y = 2
		available = { 
			has_democratic_government = yes
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Support_Private_Initiative }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Christian_Nation"
			add_stability = 0.05
			add_popularity = {
				ideology = social_conservative
				popularity = 0.02
			}
			country_event = kar.38
		}
	}
	focus = {
		id = KAR_Modernization
		icon = GFX_VNC_model_of_modern_republicanism
		cost = 5
		relative_position_id = KAR_Sivistysseura
		x = -1
		y = 3
		available = { 
			has_democratic_government = yes
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Christian_Nation }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Modernization"
			215 = {
				increase_state_category_by_one_level = yes
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = {
					owns_state = 216
				}
				216 = {
					increase_state_category_by_one_level = yes
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	focus = {
		id = KAR_Ties_With_Finland
		icon = GFX_goal_flag_finland
		cost = 5
		relative_position_id = KAR_Sivistysseura
		x = 0
		y = 4
		ai_will_do = { 
			factor = 70
		}
		available = { 
			has_democratic_government = yes
			FIN = { has_socialist_government = no }
		}
		bypass = {
			FIN = { has_socialist_government = yes }
		}
		prerequisite = { focus = KAR_Modernization }
		prerequisite = { focus = KAR_Revive_1917_Constitution }
		prerequisite = { focus = KAR_Grants_To_AKS }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Ties_With_Finland"
			add_ideas = KAR_ties_with_finland
		}
	}
	focus = {
		id = KAR_Negotiate_Karelian_Autonomy
		icon = GFX_goal_new_treaty
		cost = 4
		relative_position_id = KAR_Sivistysseura
		x = 0
		y = 5
		available = { 
			has_democratic_government = yes
			FIN = { has_socialist_government = no }
		}
		bypass = {
			FIN = { has_socialist_government = yes }
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Ties_With_Finland }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Negotiate_Karelian_Autonomy"
			custom_effect_tooltip = KAR_Negotiate_Karelian_Autonomy_tt
			FIN = { country_event = kar.39 }
		}
	}
	focus = {
		id = KAR_Together_With_Finland
		icon = GFX_goal_KAR_Together_With_Finland
		cost = 5
		relative_position_id = KAR_Sivistysseura
		x = 0
		y = 6
		available = { 
			has_democratic_government = yes
			FIN = { has_socialist_government = no }
		}
		bypass = {
			FIN = { has_socialist_government = yes }
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Negotiate_Karelian_Autonomy }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Together_With_Finland"
			country_event = kar.44
		}
	}
	focus = {
		id = KAR_Grants_To_AKS
		icon = GFX_goal_KAR_Attract_AKS_Activists
		cost = 5
		relative_position_id = KAR_Sivistysseura
		x = 1
		y = 3
		available = { 
			OR = {
				has_country_leader = {
					name = "Yrjö Elfvengren"
					ruling_only = yes
				}
				has_democratic_government = yes
			}
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Karelian_Identity_Effort }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Grants_To_AKS"
			if = {
				limit = { has_idea = KAR_weak_national_identity_3 }
				remove_ideas = KAR_weak_national_identity_3
			}
			else = {
				swap_ideas = {
					remove_idea = KAR_weak_national_identity_2
					add_idea = KAR_weak_national_identity_3
				}
			}
			if = {
				limit = {
					OR = {
						has_country_flag = KAR_finland_can_coup
						FIN = { has_government = national_populist }
					}
					has_democratic_government = yes
				}
				country_event = {
					id = kar.33
					days = 45
					random_days = 30
				}
			}
		}
	}
	focus = {
		id = KAR_Karelian_Labour_Commune
		icon = GFX_goal_FRA_future_of_commune
		cost = 2
		relative_position_id = KAR_Itsenaisyys
		x = 15
		y = 1
		available = { always = no }
		ai_will_do = { 
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Karelian_Labour_Commune"
			custom_effect_tooltip = unlock_focuses
		}
	}
	focus = {
		id = KAR_Sovietization_Of_Karelia
		icon = GFX_goal_KAR_Sovietization_Of_Karelia
		cost = 5
		relative_position_id = KAR_Karelian_Labour_Commune
		x = 0
		y = 1
		available = { has_socialist_government = yes }
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Karelian_Labour_Commune }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Sovietization_Of_Karelia"
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.1
			}
			add_popularity = {
				ideology = syndicalist
				popularity = 0.05
			}
			hidden_effect = {
				country_event = {
					id = kar.78
					days = 15
					random_days = 30
				}
			}
			set_party_name = {
				ideology = radical_socialist
				name = "SKP"
				long_name = "Sosialistivallankumouksellisten Karjalan puolue (Karelian Party of Socialist Revolutionaries)"
			}
			set_party_name = {
				ideology = syndicalist
				name = "SKP"
				long_name = "Sosialistivallankumouksellisten Karjalan puolue (Karelian Party of Socialist Revolutionaries)"
			}			
		}
	}
	focus = {
		id = KAR_Inflitrate_Metsassisit
		icon = GFX_RUS_Revolutionary_Terror
		cost = 5
		relative_position_id = KAR_Karelian_Labour_Commune
		x = 0
		y = 3
		available = { has_socialist_government = yes }
		bypass = { has_country_flag = KAR_disbanded_metsasissit }
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Sovietization_Of_Karelia }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Inflitrate_Metsassisit"
			add_popularity = {
				ideology = national_populist
				popularity = -0.15
			}
			if = {
				limit = { 
					has_template = "Metsäsissit"
				}
				delete_unit_template_and_units = {
					division_template = "Metsäsissit"
					disband = no #will refund equipment and manpower
				}		
			}
		}
	}
	focus = {
		id = KAR_Fight_Back_Belofinns
		icon = GFX_RUS_Fighting_Reactionaries
		cost = 2
		relative_position_id = KAR_Karelian_Labour_Commune
		x = -1
		y = 2
		available = { has_socialist_government = yes }
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Sovietization_Of_Karelia }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Fight_Back_Belofinns"
			add_ideas = KAR_against_belofinns
		}
	}
	focus = {
		id = KAR_Karelian_Cooperation_Movement
		icon = GFX_goal_FRA_farm_outreach
		cost = 5
		relative_position_id = KAR_Karelian_Labour_Commune
		x = 1
		y = 2
		available = { has_socialist_government = yes }
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Sovietization_Of_Karelia }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Karelian_Cooperation_Movement"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_ideas = KAR_cooperation_movement
		}
	}
	focus = {
		id = KAR_End_Tribal_Wars
		icon = GFX_goal_WCC_guerilla_tactic
		cost = 5
		relative_position_id = KAR_Karelian_Labour_Commune
		x = -1
		y = 4
		available = { 
			has_socialist_government = yes
			NOT = { has_war_with = FIN }
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Fight_Back_Belofinns }
		prerequisite = { focus = KAR_Inflitrate_Metsassisit }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_End_Tribal_Wars"
			country_event = kar.77
		}
	}
	focus = {
		id = KAR_Karelian_Red_Guard
		icon = GFX_goal_generic_red_guard
		cost = 2
		relative_position_id = KAR_Karelian_Labour_Commune
		x = 1
		y = 4
		available = { has_socialist_government = yes }
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Karelian_Cooperation_Movement }
		prerequisite = { focus = KAR_Inflitrate_Metsassisit }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Karelian_Red_Guard"
			add_ideas = KAR_red_guard
			random_owned_controlled_state = {
				create_unit = {
					division = "name = \"Punakaartilaiset\" division_template = \"Punakaartilaiset\" start_experience_factor = 0.1"
					owner = KAR
				}
				create_unit = {
					division = "name = \"Punakaartilaiset\" division_template = \"Punakaartilaiset\" start_experience_factor = 0.1"
					owner = KAR
				}
				create_unit = {
					division = "name = \"Punakaartilaiset\" division_template = \"Punakaartilaiset\" start_experience_factor = 0.1"
					owner = KAR
				}
				create_unit = {
					division = "name = \"Punakaartilaiset\" division_template = \"Punakaartilaiset\" start_experience_factor = 0.1"
					owner = KAR
				}
			}
		}
	}
	focus = {
		id = KAR_Destroy_The_Last_Stronghold
		icon = GFX_HOL_crackdown_natpop
		cost = 5
		relative_position_id = KAR_Karelian_Labour_Commune
		x = 0
		y = 5
		available = { 
			has_socialist_government = yes
			NOT = { has_war_with = FIN }
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_End_Tribal_Wars }
		prerequisite = { focus = KAR_Karelian_Red_Guard }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Destroy_The_Last_Stronghold"
			865 = { add_claim_by = ROOT }
			146 = { add_claim_by = ROOT }
			if = {
				limit = {
					FIN = { has_socialist_government = yes }
				}
				FIN = { country_event = kar.69 }
			}
			else = {
				activate_targeted_decision = { target = FIN decision = KAR_unify_karelia }
			}			
		}
	}
	focus = {
		id = KAR_Narodnik_Karelia
		icon = GFX_goal_KAR_Narodnik_Karelia
		cost = 5
		relative_position_id = KAR_Karelian_Labour_Commune
		x = 0
		y = 6
		available = { 
			has_socialist_government = yes
		}
		ai_will_do = { 
			factor = 100
		}
		prerequisite = { focus = KAR_Destroy_The_Last_Stronghold }
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Narodnik_Karelia"
			add_research_slot = 1
			if = {
				limit = { has_idea = KAR_weak_national_identity_3 }
				remove_ideas = KAR_weak_national_identity_3
			}
			else_if = {
				limit = { has_idea = KAR_weak_national_identity_2 }
				remove_ideas = KAR_weak_national_identity_2
			}
			else = {
				remove_ideas = KAR_weak_national_identity
			}
		}
	}
	focus = {
		id = KAR_Exiled_King
		icon = GFX_goal_FIN_Kingdom
		cost = 2
		relative_position_id = KAR_Jagers_Hold_On
		x = -3
		y = 4
		allow_branch = {
			OR = {
				has_country_leader = {
					name = "Fredrik Kaarle I"
					ruling_only = yes
				}
				has_country_leader = {
					name = "Väinö I"
					ruling_only = yes
				}
			}
		}
		available = { 
			OR = {
				has_country_leader = {
					name = "Fredrik Kaarle I"
					ruling_only = yes
				}
				has_country_leader = {
					name = "Väinö I"
					ruling_only = yes
				}
			}	
		}
		prerequisite = { focus = KAR_Loyalty_To_Finland }
		ai_will_do = { 
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Exiled_King"
			custom_effect_tooltip = unlock_focuses
		}
	}
	focus = {
		id = KAR_Karelian_Anticommunist_Front
		icon = GFX_goal_RUS_crush_bolsheviks
		cost = 2
		relative_position_id = KAR_Exiled_King
		x = 0
		y = 2
		available = { 
			OR = {
				has_country_leader = {
					name = "Fredrik Kaarle I"
					ruling_only = yes
				}
				has_country_leader = {
					name = "Väinö I"
					ruling_only = yes
				}
			}	
		}
		prerequisite = { focus = KAR_Exiled_King }
		ai_will_do = { 
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Karelian_Anticommunist_Front"
			add_stability = 0.1
			add_war_support = 0.1
			add_ideas = KAR_anticommunist_front
		}
	}
	focus = {
		id = KAR_General_Mobilization
		icon = GFX_TRM_Obligatory_Conscription
		cost = 4
		relative_position_id = KAR_Exiled_King
		x = 1
		y = 1
		available = { 
			OR = {
				has_country_leader = {
					name = "Fredrik Kaarle I"
					ruling_only = yes
				}
				has_country_leader = {
					name = "Väinö I"
					ruling_only = yes
				}
			}	
		}
		prerequisite = { focus = KAR_Exiled_King }
		ai_will_do = { 
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_General_Mobilization"
			add_manpower = 20000
		}
	}
	focus = {
		id = KAR_Second_Finnish_Civil_War
		icon = GFX_DKB_Start_War
		cost = 5
		relative_position_id = KAR_Exiled_King
		x = 1
		y = 3
		available = { 
			OR = {
				has_country_leader = {
					name = "Fredrik Kaarle I"
					ruling_only = yes
				}
				has_country_leader = {
					name = "Väinö I"
					ruling_only = yes
				}
			}	
		}
		will_lead_to_war_with = FIN
		prerequisite = { focus = KAR_Karelian_Anticommunist_Front }
		prerequisite = { focus = KAR_General_Mobilization }
		ai_will_do = { 
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Karelian_Anticommunist_Front"
			add_war_support = 0.1
			every_state = {
				limit = { is_core_of = FIN }
				add_claim_by = KAR
			}
			declare_war_on = {
				target = FIN
				type = civil_war
			}
		}
	}
	focus = {
		id = KAR_AKS_Seizes_Power
		icon = GFX_goal_KAR_AKS_Seizes_Power
		cost = 2
		relative_position_id = KAR_Vainamoinen_Takes_Power
		x = 3
		y = 4
		allow_branch = {
			has_country_leader = {
				name = "Elias Simojoki"
				ruling_only = yes
			}
		}
		available = { 
			has_country_leader = {
				name = "Elias Simojoki"
				ruling_only = yes
			}	
		}
		prerequisite = { focus = KAR_Strengthen_Church }
		ai_will_do = { 
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_AKS_Seizes_Power"
			custom_effect_tooltip = unlock_focuses
		}
	}
	focus = {
		id = KAR_Arrest_Loony_Grandpa
		icon = GFX_goal_KAR_Arrest_Grandpa
		cost = 5
		relative_position_id = KAR_AKS_Seizes_Power
		x = -1
		y = 1
		available = { 
			has_country_leader = {
				name = "Elias Simojoki"
				ruling_only = yes
			}	
		}
		prerequisite = { focus = KAR_AKS_Seizes_Power }
		ai_will_do = { 
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Arrest_Loony_Grandpa"
			country_event = kar.73
		}
	}
	focus = {
		id = KAR_Vihan_Veljet
		icon = GFX_goal_COR_Terror_in_the_night
		cost = 5
		relative_position_id = KAR_AKS_Seizes_Power
		x = 0
		y = 2
		available = { 
			has_country_leader = {
				name = "Elias Simojoki"
				ruling_only = yes
			}	
		}
		prerequisite = { focus = KAR_AKS_Seizes_Power }
		ai_will_do = { 
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Vihan_Veljet"
			add_ideas = KAR_vihan_veljet
		}
	}
	focus = {
		id = KAR_Integral_Part_Of_Heimo
		icon = GFX_goal_finnish_spirit
		cost = 5
		relative_position_id = KAR_AKS_Seizes_Power
		x = -1
		y = 3
		available = { 
			has_country_leader = {
				name = "Elias Simojoki"
				ruling_only = yes
			}	
		}
		prerequisite = { focus = KAR_Arrest_Loony_Grandpa }
		prerequisite = { focus = KAR_Vihan_Veljet }
		ai_will_do = { 
			factor = 100
		}
		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus KAR_Integral_Part_Of_Heimo"
			if = {
				limit = {
					FIN = { has_government = national_populist }
				}
				every_owned_state = {
					limit = {
						is_claimed_by = FIN
						NOT = { is_core_of = FIN }
					}
					remove_claim_by = FIN
					add_core_of = FIN
				}
				every_unit_leader = {
					limit = {
						OR = {
							has_id = 747911
							has_id = 747910
						}
					}
					set_nationality = FIN
				}
				FIN = {
					annex_country = {
						target = ROOT
						transfer_troops = yes
					}
					change_tag_from = ROOT
				}
			}
			else = {
				add_ideas = KAR_part_of_heimo
				add_war_support = 0.1
				every_state = {
					limit = { is_core_of = FIN }
					add_claim_by = KAR
				}
				declare_war_on = {
					target = FIN
					type = civil_war
				}
			}
		}
	}
	
}
