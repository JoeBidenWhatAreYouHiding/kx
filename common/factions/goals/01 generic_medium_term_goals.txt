### Vanilla Medium Term Goals ###

### Faction Growth

faction_goal_a_large_faction = {
	name = a_large_faction_goal_name
	description = a_large_faction_goal_desc
	category = medium_term
	group = FOCUS_FILTER_POLITICAL_CHARACTER
	visible = {
		num_faction_members > 4
	}
	completed = {
		num_faction_members > 9
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = THE_FACTION_LEADER
		add_faction_initiative = 1
	}
	ai_will_do = { base = 1 }
}

### Units/Deployment

faction_goal_marine_corps = {
	name = marine_corps_goal_name
	description = marine_corps_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	available = {
	}
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION
			}
			unit_category = category_amphibious_tanks
			size > 9
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = tooltip_white_line
		every_collection_element = {
			input = {
				input = game:scope
				operators = {
					faction_members
					limit = {
						has_army_size = {
							size > 0
							unit_category = category_amphibious_tanks
						}
					}
				}
				name = ALL_FACTION_MEMBERS_WITH_1_AMPHIBIOUS
			}
			random_character = {
				tooltip = ONE_GENERAL
				visible_when_empty = yes
				limit = {
					is_army_leader = yes
					is_field_marshal = no
					NOT = { has_trait = cavalry_officer }
					NOT = { has_trait = panzer_leader }
					NOT = { has_trait = naval_invader }
				}
				gain_xp = 400
				add_attack = 1
				add_trait = { trait = naval_invader }
			}
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			add_tech_bonus = {
				name = marine_corps_tech_bonus
				bonus = 0.5
				uses = 1
				category = marine_tech
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 1
			any_state = {
				is_controlled_by_ROOT_or_ally = yes
				is_coastal = yes
			}
		}
		modifier = {
			add = 2
			any_state = {
				is_controlled_by = ROOT
				is_coastal = yes
			}
		}
	}
}

faction_goal_submarine_force = {
	name = submarine_force_goal_name
	description = submarine_force_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	available = {

	}
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION
			}
			unit = submarine
			size > 99
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = tooltip_white_line
		every_collection_element = {
			input = {
				input = game:scope
				operators = {
					faction_members
					limit = {
						has_army_size = {
							size > 24
							type = submarine
						}
					}
				}
				name = ALL_FACTION_MEMBERS_WITH_25_SUBMARINES
			}
			random_character = {
				tooltip = ONE_ADMIRAL
				visible_when_empty = yes
				limit = {
					is_navy_leader = yes
					NOT = { has_trait = seawolf }
					NOT = { has_trait = ironside }
					NOT = { has_trait = battleship_adherent }
					NOT = { has_trait = gunnery_expert }
					NOT = { has_trait = aviation_enthusiast }
				}
				gain_xp = 400
				add_attack = 1
				add_trait = { trait = seawolf }
			}
			add_mastery = {
				amount = 100
				track = submarines
			}
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			add_tech_bonus = {
				name = submarine_force_tech_bonus
				bonus = 0.5
				uses = 1
				category = naval_equipment
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 1 # Powers with no dockyards should probably not care about navy
			num_of_naval_factories > 0
		}
		modifier = {
			add = 1 # Powers with a less dockyard capacity should probably try to build subs rather than contest the high seas
			num_of_naval_factories > 10
		}
		modifier = {
			add = -1 # Powers with more dockyard capacity should probably try to contest the high seas instead of building subs
			num_of_naval_factories > 25
		}
		modifier = {
			add = -1 # Powers with more dockyard capacity should probably try to contest the high seas instead of building subs
			num_of_naval_factories > 50
		}
	}
}

faction_goal_convoy_escort_force = {
	name = convoy_escort_force_goal_name
	description = convoy_escort_force_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION
			}
			unit = screen_ship
			size > 99
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = tooltip_white_line
		every_collection_element = {
			input = {
				input = game:scope
				operators = {
					faction_members
					limit = {
						has_army_size = {
							size > 24
							type = screen_ship
						}
					}
				}
				name = ALL_FACTION_MEMBERS_WITH_25_SCREENING_SHIPS
			}
			random_character = {
				tooltip = ONE_ADMIRAL
				visible_when_empty = yes
				limit = {
					is_navy_leader = yes
					NOT = { has_trait = fleet_protector }
					NOT = { has_trait = seawolf }
					NOT = { has_trait = ironside }
					NOT = { has_trait = battleship_adherent }
					NOT = { has_trait = gunnery_expert }
					NOT = { has_trait = aviation_enthusiast }
				}
				gain_xp = 400
				add_attack = 1
				add_trait = { trait = fleet_protector }
			}
			add_mastery = {
				amount = 100
				track = screens
			}
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			add_tech_bonus = {
				name = convoy_escort_force_tech_bonus
				bonus = 0.5
				uses = 1
				category = naval_equipment
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 1 # Powers with no dockyards should probably not care about navy
			num_of_naval_factories > 0
		}
		modifier = {
			add = 1 # Powers with threatened convoys should care more
			convoy_threat > 0.2
		}
		modifier = {
			add = 8 # Powers with very threatened convoys should care -a lot-
			convoy_threat > 0.5
		}
	}
}

faction_goal_air_superiority = {
	name = air_superiority_goal_name
	description = air_superiority_goal_desc
	category = medium_term
	group = FOCUS_FILTER_AIR_XP
	available = {

	}
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION
			}
			unit = fighter
			size > 999
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = tooltip_white_line
		every_collection_element = {
			input = {
				input = game:scope
				operators = {
					faction_members
					limit = {
						has_army_size = {
							size > 249
							type = fighter
						}
					}
				}
				name = ALL_FACTION_MEMBERS_WITH_250_FIGHTERS
			}
			air_experience = 50
			add_mastery = {
				amount = 100
				track = fighter_aircraft
			}
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			add_tech_bonus = {
				name = air_superiority_tech_bonus
				bonus = 0.5
				uses = 1
				category = air_equipment
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 1 # Powers with few military factories should probably not care about expensive planes
			num_of_military_factories > 39
		}
		modifier = {
			add = 1 # Factions with decent number of military factories should probably start caring a lot about contesting air superiority - because they can
			count_in_collection = {
				collection = {
					input = game:scope
					operators = { faction_members }
					name = FACTION_NAME
				}
				buildings = { arms_factory }
				size > 149
			}
		}
	}
}

### Industry

faction_goal_industrial_expansion = {
	name = industrial_expansion_goal_name
	description = industrial_expansion_goal_desc
	category = medium_term
	group = FOCUS_FILTER_INDUSTRY
	visible = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION_NAME
			}
			buildings = { industrial_complex }
			size > 49
		}
	}
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION_NAME
			}
			buildings = { industrial_complex }
			size > 149
		}
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = tooltip_white_line
		every_faction_member = {
			tooltip = AT_LEAST_50_CIVS
			visible_when_empty = yes
			limit = {
				num_of_civilian_factories > 49
			}
			add_tech_bonus = {
				name = industrial_expansion_tech_bonus
				bonus = 0.5
				uses = 2
				category = industry
			}
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			add = 1 # If already big it's easy to grow
			is_major = yes
		}
		modifier = {
			add = 1 # If already big it's easy to grow
			is_major = yes
		}
		modifier = {
			add = 1 # Prioritize more earlier on - more pay-off
			date < 1938.1.1
		}
	}
}

faction_goal_industrial_research = {
	name = industrial_research_goal_name
	description = industrial_research_goal_desc
	category = medium_term
	group = FOCUS_FILTER_RESEARCH
	visible = {
		any_allied_country = {
			NOT = { has_tech = construction4 }
		}
	}
	completed = {
		ROOT = {
			has_tech = construction4
		}
		all_allied_country = {
			has_tech = construction4
		}

		collection_size = {
			input = {
				input = game:scope
				operators = {
					faction_members
				}
			}
			value > 4
		}
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = tooltip_white_line
		every_faction_member = {
			tooltip = INFLUENCE_ABOVE_30_PERCENT
			visible_when_empty = yes
			limit = {
				faction_influence_ratio > 0.3
			}
			add_faction_initiative = 1
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			add = 1 # Prio for smaller factions (Easier to get everyone up then )
			collection_size = {
				input = {
					input = game:scope
					operators = {
						faction_members
					}
				}
				value < 5
			}
		}
		modifier = {
			add = 1 # Prioritize during build up, but not too early
			date > 1938.1.1
			date < 1941.1.1
		}
	}
}

faction_goal_a_military_base = {
	name = a_military_base_goal_name
	description = a_military_base_goal_desc
	category = medium_term
	group = FOCUS_FILTER_INDUSTRY
	visible = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION_NAME
			}
			buildings = { arms_factory }
			size > 49
		}
	}
	completed = {
		count_in_collection = {
			collection = {
				input = game:scope
				operators = { faction_members }
				name = FACTION_NAME
			}
			buildings = { arms_factory }
			size > 149
		}
	}
	complete_effect = {
		add_faction_power_projection = 200
		custom_effect_tooltip = tooltip_white_line
		every_faction_member = {
			tooltip = AT_LEAST_50_MILS
			visible_when_empty = yes
			limit = {
				num_of_military_factories > 49
			}
			add_tech_bonus = {
				name = a_military_base_tech_bonus
				bonus = 0.5
				uses = 2
				category = excavation_tech
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 1
			date > 1938.1.1
		}
		modifier = {
			add = 1
			is_major = yes
		}
	}
}

### War Waging

faction_goal_aggressive_defense = {
	name = aggressive_defense_goal_name
	description = aggressive_defense_goal_desc
	group = FOCUS_FILTER_WAR_SUPPORT
	category = medium_term
	visible = {
		FROM = { has_defensive_war = yes }
	}
	completed = {
		any_allied_country = {
			has_defensive_war = yes
		}
		collection_size = {
			input = {
				input = game:scope
				operators = {
					faction_members
					limit = {
						any_enemy_country = {
							has_offensive_war_with = ROOT
							casualties_inflicted_by = {
								opponent = PREV
								thousands > 250
							}
						}
					}
				}
				name = COLLECTION_CASUALTIES_INFLICTED_BY_FACTION_MEMBERS
			}
			value > 0
		}
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = ALL_FACTION_MEMBERS_INFLICTED_250K_CASUALTIES
		every_faction_member = {
			limit = {
				any_enemy_country = {
					has_offensive_war_with = ROOT
					casualties_inflicted_by = {
						opponent = PREV
						thousands > 250
					}
				}
			}
			add_faction_initiative = 1
		}
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = ALL_FACTION_MEMBERS
		every_faction_member = {
			army_experience = 50
		}
	}
	ai_will_do = { base = 1 }
}

### Strategic Resources

# Ploiesti Oil Fields
faction_goal_control_ploiesti_oil_fields = {
	name = control_ploiesti_oil_fields_goal_name
	description = control_ploiesti_oil_fields_goal_desc
	category = medium_term
	group = resources_to_market_icon
	visible = {
		FROM = { NOT = { is_ally_with = 46.controller } }
		any_collection_element = {
			collection = {
				input = game:scope
				operators = { faction_members controlled_states }
				name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 46
				value < 2000
			}
		}
	}
	completed = {
		46 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = {
			visible_when_empty = yes
			limit = { controls_state = 46 }
			add_faction_initiative = 1
		}
		46 = {
			if = {
				limit = { infrastructure < 5 }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 1 # Everyone should always kiiiinda care about oil
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			var:46.owner = { has_war_with = ROOT }
		}
		modifier = {
			add = -1 # If the alliance is doing well with fuel avoid taking this...
			fuel_ratio > 0.9
			all_allied_country = {
				fuel_ratio > 0.9
			}
		}
		modifier = {
			add = 1 # ...except if the faction has very few sources of oil to start with (might be full storages cuz not using their vehicles)
			has_resources_in_collection = {
				collection = {
					input = game:scope
					operators = { faction_members }
					name = FACTION
				}
				resource = oil
				amount < 10
				extracted = yes
			}
		}
		modifier = {
			add = 5 # Massive boost in case low fuel and already at war anyway
			fuel_ratio < 0.1
			var:46.owner = { has_war_with = ROOT }
		}
		modifier = {
			factor = 0
			NOT = { var:46.owner = { has_war_with = ROOT } }
		}
	}
}

# Baku Oil Fields
faction_goal_control_baku_oil_fields = {
	name = control_baku_oil_fields_goal_name
	description = control_baku_oil_fields_goal_desc
	category = medium_term
	group = resources_to_market_icon
	visible = {
		FROM = { NOT = { is_ally_with = 229.controller } }
		any_collection_element = {
			collection = {
				input = game:scope
				operators = { faction_members controlled_states }
				name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 229
				value < 2000
			}
		}
	}
	completed = {
		229 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = {
			visible_when_empty = yes
			limit = { controls_state = 229 }
			add_faction_initiative = 1
		}
		229 = {
			if = {
				limit = { infrastructure < 5 }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	ai_will_do = {
		base = 1 # Everyone should always kiiiinda care about oil
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			var:229.owner = { has_war_with = ROOT }
		}
		modifier = {
			add = -1 # If the alliance is doing well with fuel avoid taking this...
			fuel_ratio > 0.9
			all_allied_country = {
				fuel_ratio > 0.9
			}
		}
		modifier = {
			add = 1 # ...except if the faction has very few sources of oil to start with (might be full storages cuz not using their vehicles)
			has_resources_in_collection = {
				collection = {
					input = game:scope
					operators = { faction_members }
					name = FACTION
				}
				resource = oil
				amount < 10
				extracted = yes
			}
		}
		modifier = {
			add = 3 # Powers with very low fuel should care about oil A LOT
			fuel_ratio < 0.1
		}
		modifier = {
			add = 5 # Massive boost in case low fuel and already at war anyway
			fuel_ratio < 0.1
			var:229.owner = { has_war_with = ROOT }
		}
		modifier = {
			factor = 0
			NOT = { var:229.owner = { has_war_with = ROOT } }
		}
	}
}

### Strategic Bases

# Panama
faction_goal_control_panama_canal = {
	name = control_panama_canal_goal_name
	description = control_panama_canal_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	allowed = {

	}
	visible = {
		FROM = { NOT = { is_ally_with = 685.controller } } #Panama
		any_collection_element = {
			collection = {
				input = game:scope
				operators = { faction_members controlled_states }
				name = FACTION_CONTROLLED_STATES # a custom loc string that will be displayed
			}
			distance_to = {
				target = 685
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		685 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = {
			visible_when_empty = yes
			limit = {
				controls_state = 685
			}
			add_faction_initiative = 1
		}
		685 = { #Panama Canal
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = naval_base
					level = 1
					province = 7617
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = naval_base
					NUMBER = 1
					VP = 7617
				}
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 7617
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = coastal_bunker
					NUMBER = 1
					VP = 7617
				}
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = bunker
					level = 1
					province = 7617
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = bunker
					NUMBER = 1
					VP = 7617
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 20 # Target of opportunity - already at war anyway
			var:685.owner = { has_war_with = ROOT }
		}
	}
}

# Gibraltar
faction_goal_control_gibraltar = {
	name = control_gibraltar_goal_name
	description = control_gibraltar_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	allowed = {

	}
	visible = {
		FROM = { NOT = { is_ally_with = 118.controller } } #Gibraltar
		any_collection_element = {
			collection = {
				input = game:scope
				operators = { faction_members controlled_states }
				name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 118
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		118 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = {
			visible_when_empty = yes
			limit = {
				controls_state = 118
			}
			add_faction_initiative = 1
		}
		118 = { #Naval Base
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = naval_base
					level = 1
					province = 4135
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = naval_base
					NUMBER = 1
					VP = 4135
				}
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 4135
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = coastal_bunker
					NUMBER = 1
					VP = 4135
				}
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = bunker
					level = 1
					province = 4135
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = bunker
					NUMBER = 1
					VP = 4135
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 20 # Target of opportunity - already at war anyway
			var:118.owner = { has_war_with = ROOT }
		}
	}
}

# Malta
faction_goal_control_malta = {
	name = control_malta_goal_name
	description = control_malta_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	visible = {
		FROM = { NOT = { is_ally_with = 116.controller } }
		any_collection_element = {
			collection = {
				input = game:scope
				operators = { faction_members controlled_states }
				name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 116
				value < 2000
			}
		}
	}
	completed = {
		116 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = {
			visible_when_empty = yes
			limit = { controls_state = 116 }
			add_faction_initiative = 1
		}
		116 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = naval_base
					level = 1
					province = 12003
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = naval_base
					NUMBER = 1
					VP = 12003
				}
			}
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			factor = 2 # Target of opportunity - already at war anyway
			var:116.owner = { has_war_with = ROOT }
		}
		modifier = {
			add = 2 # If convoys being threatened try to secure the mediterranean supply lines better
			convoy_threat > 0.5
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							is_on_continent = europe
						}
					}
				}
				value > 0
			}
			collection_size = {
				input = {
					input = game:all_states
					operators = {
						limit = {
							is_controlled_by_ROOT_or_ally = yes
							OR = {
								is_on_continent = middle_east
								is_on_continent = africa
							}
						}
					}
				}
				value > 0
			}
		}
		modifier = {
			add = 1 # If naval power seek to project it by expanding bases
			has_navy_size = {
				size > 5
				type = capital_ship
			}
		}
	}
}

# Bosporus
faction_goal_control_bosporus = {
	name = control_bosporus_goal_name
	description = control_bosporus_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {

	}
	visible = {
		FROM = {
			NOT = {
				AND = {
					is_ally_with = var:global.province_controllers^9833  #Constantinople
					is_ally_with = var:global.province_controllers^11829 #Scutari
				}
			}
		}
		any_collection_element = {
			collection = {
				input = game:scope
				operators = { faction_members controlled_states }
				name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 773
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		773 = { is_controlled_by_ROOT_or_ally = yes }
		340 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = {
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 773 #Constantinople
					controls_state = 340 #Bursa
				}
			}
			add_faction_initiative = 1
		}
		773 = { #Constantinople
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 9833
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = coastal_bunker
					NUMBER = 1
					VP = 9833
				}
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = bunker
					level = 1
					province = 9833
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = bunker
					NUMBER = 1
					VP = 9833
				}
			}
		}
		340 = { #Bursa
			custom_override_tooltip = {
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 11829
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = coastal_bunker
					NUMBER = 1
					VP = 11829
				}
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = bunker
					level = 1
					province = 11829
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = bunker
					NUMBER = 1
					VP = 11829
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 20 # Target of opportunity - already at war anyway
			OR = {
				var:773.owner = { has_war_with = ROOT }
				var:340.owner = { has_war_with = ROOT }
			}
		}
	}
}

# Dardanelles
faction_goal_control_dardanelles = {
	name = control_dardanelles_goal_name
	description = control_dardanelles_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {

	}
	visible = {
		FROM = {
			NOT = {
				AND = {
					is_ally_with = 341.controller #Adrianople
					is_ally_with = 340.controller #Bursa
				}
			}
		}
		any_collection_element = {
			collection = {
				input = game:scope
				operators = { faction_members controlled_states }
				name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 341
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		340 = { is_controlled_by_ROOT_or_ally = yes }
		341 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = {
			visible_when_empty = yes
			limit = {
				OR = {
					controls_state = 340
					controls_state = 341
				}
			}
			add_faction_initiative = 1
		}
		340 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = coastal_bunker
				level = 1
				province = 9987
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				level = 1
				province = 9987
				instant_build = yes
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 6864
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = coastal_bunker
					NUMBER = 1
					VP = 6864
				}
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = bunker
					level = 1
					province = 6864
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = bunker
					NUMBER = 1
					VP = 6864
				}
			}
		}
		341 = { #Adrianople
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = naval_base
					level = 1
					province = 849
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = naval_base
					NUMBER = 1
					VP = 849
				}
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 849
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = coastal_bunker
					NUMBER = 1
					VP = 849
				}
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = bunker
					level = 1
					province = 849
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = bunker
					NUMBER = 1
					VP = 849
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 20 # Target of opportunity - already at war anyway
			OR = {
				var:341.owner = { has_war_with = ROOT }
				var:340.owner = { has_war_with = ROOT }
			}
		}
	}
}

# Suez Canal
faction_goal_control_suez_canal = {
	name = control_suez_canal_goal_name
	description = control_suez_canal_goal_desc
	category = medium_term
	group = FOCUS_FILTER_NAVY_XP
	allowed = {

	}
	visible = {
		FROM = { NOT = { is_ally_with = 753.controller } } #Suez Canal
		any_collection_element = {
			collection = {
				input = game:scope
				operators = { faction_members controlled_states }
				name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 753
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		753 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = {
			visible_when_empty = yes
			limit = {
				controls_state = 753
			}
			add_faction_initiative = 1
		}
		753 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = naval_base
					level = 1
					province = 12049
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = naval_base
					NUMBER = 1
					VP = 12049
				}
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 12049
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = coastal_bunker
					NUMBER = 1
					VP = 12049
				}
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = bunker
					level = 1
					province = 12049
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = bunker
					NUMBER = 1
					VP = 12049
				}
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = naval_base
					level = 1
					province = 4073
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = naval_base
					NUMBER = 1
					VP = 4073
				}
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = coastal_bunker
					level = 1
					province = 4073
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = coastal_bunker
					NUMBER = 1
					VP = 4073
				}
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = bunker
					level = 1
					province = 4073
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = bunker
					NUMBER = 1
					VP = 4073
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 20 # Target of opportunity - already at war anyway
			var:753.owner = { has_war_with = ROOT }
		}
	}
}

# Singapore
faction_goal_control_singapore = {
	name = control_singapore_goal_name
	description = control_singapore_goal_desc
	category = medium_term
	group = FOCUS_FILTER_ANNEXATION
	allowed = {

	}
	visible = {
		FROM = { NOT = { is_ally_with = 336.controller } } #Singapore
		any_collection_element = {
			collection = {
				input = game:scope
				operators = { faction_members controlled_states }
				name = FACTION_CONTROLLED_STATES
			}
			distance_to = {
				target = 336
				value < 2000
			}
		}
	}
	available = {

	}
	completed = {
		336 = { is_controlled_by_ROOT_or_ally = yes }
	}
	complete_effect = {
		add_faction_power_projection = 100
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = TARGET_STATE_CONTROLLERS
		every_faction_member = {
			visible_when_empty = yes
			limit = {
				controls_state = 336
			}
			add_faction_initiative = 1
		}
		336 = {
			add_building_construction = {
				type = anti_air_building
				level = 1
				instant_build = yes
			}
			add_building_construction = {
				type = air_base
				level = 1
				instant_build = yes
			}
			custom_override_tooltip = {
				add_building_construction = {
					type = naval_base
					level = 1
					province = 12299
					instant_build = yes
				}
				tooltip = {
					localization_key = tooltip_add_building_on_victory_point
					BUILDING = naval_base
					NUMBER = 1
					VP = 12299
				}
			}
		}
	}
	ai_will_do = {
		base = 0
		modifier = {
			add = 20 # Target of opportunity - already at war anyway
			var:336.owner = { has_war_with = ROOT }
		}
	}
}

### KR Medium Term Goals ###
