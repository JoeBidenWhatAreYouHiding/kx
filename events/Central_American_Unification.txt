###########################
# Central American Unification Events
# By Pogge
###########################

add_namespace = CEN_unification

#add_to_variable = {
#            var = CEN.unificationprogress
#            value = 0.02
#       }

country_event = { #Formation of the Congress
	id = CEN_unification.0
	immediate = { log = "[GetDateText]: [Root.GetName]: event CEN_unification.1" }
	title = CEN_unification.0.t
	desc = CEN_unification.0.d
	#picture = 

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = CEN_unification.0.a
		activate_mission = CEN_stop_collapsing
                set_country_flag = CEN_available
	}
}

country_event = {
	id = CEN_unification.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event CEN_unification.1" }
	title = CEN_unification.1.t
	desc = CEN_unification.1.d
	#picture = 

	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = CEN_unification.1.a
                trigger = {
                   NOT = {
                      has_socialist_government = yes
                   }
                }
                hidden_effect = {
                      set_country_flag = CEN_uni_prov
                      add_to_variable = {
                         var = CEN.unificationprogress
                         value = 0.10
                      }
                }
                custom_effect_tooltip = CEN_united_provinces
	}
	option = {
		name = CEN_unification.1.b
                trigger = {
                   NOT = {
                      has_socialist_government = yes
                   }
                }
                hidden_effect = {
                      set_country_flag = CEN_fed_rep
                      add_to_variable = {
                         var = CEN.unificationprogress
                         value = 0.10
                      }
                }
                custom_effect_tooltip = CEN_federal_republic
	}
	option = {
		name = CEN_unification.1.c 
                trigger = {
                   NOT = {
                      has_socialist_government = yes
                   }
                }
                hidden_effect = {
                      set_country_flag = CEN_great_rep
                      add_to_variable = {
                         var = CEN.unificationprogress
                         value = 0.10
                      }
                }
                custom_effect_tooltip = CEN_greater_rep
	}
	option = {
		name = CEN_unification.1.e
                trigger = {
                   NOT = {
                      has_socialist_government = yes
                   }
                }
                hidden_effect = {
                      set_country_flag = CEN_fed
                      add_to_variable = {
                         var = CEN.unificationprogress
                         value = 0.10
                      }
                }
                custom_effect_tooltip = CEN_federation
	}
	option = {
		name = CEN_unification.1.f
                trigger = {
                   NOT = {
                      has_socialist_government = yes
                   }
                }
                hidden_effect = {
                      set_country_flag = CEN_confed
                      add_to_variable = {
                         var = CEN.unificationprogress
                         value = 0.10
                      }
                }
                custom_effect_tooltip = CEN_confederation
	}
	option = {
		name = CEN_unification.1.g
                trigger = {
                      has_socialist_government = yes
                }
                hidden_effect = {
                      set_country_flag = CEN_centro
                      add_to_variable = {
                         var = CEN.unificationprogress
                         value = 0.10
                      }
                }
                custom_effect_tooltip = CEN_centro
	}
}
country_event = { #Question of Panama
	id = CEN_unification.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event CEN_unification.1" }
	title = CEN_unification.2.t
	desc = CEN_unification.2.d
	#picture = 

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Go After Panama after Unification
		name = CEN_unification.2.a
                hidden_effect = {
                      set_country_flag = CEN_aggressive_panama
                      add_to_variable = {
                         var = CEN.unificationprogress
                         value = -0.05
                      }
                }
                custom_effect_tooltip = CEN_agro_pan
	}
	option = { #Leave em alone
		name = CEN_unification.2.b
                hidden_effect = {
                      set_country_flag = CEN_diplomat_panama
                      add_to_variable = {
                         var = CEN.unificationprogress
                         value = 0.05
                      }
                }
                custom_effect_tooltip = CEN_diplo_panama
	}
}
country_event = { #International Stage
	id = CEN_unification.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event CEN_unification.1" }
	title = CEN_unification.3.t
	desc = CEN_unification.3.d
	#picture = 

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Align towards Entente
		name = CEN_unification.3.a
                hidden_effect = {
                      set_country_flag = CEN_entente
                      add_to_variable = {
                         var = CEN.unificationprogress
                         value = 0.10
                      }
                }
                custom_effect_tooltip = CEN_entente_bros
	}
	option = { #Align towards Internationale
		name = CEN_unification.3.b
                trigger = {
                      has_socialist_government = yes
                }
                hidden_effect = {
                      set_country_flag = CEN_internationale
                      add_to_variable = {
                         var = CEN.unificationprogress
                         value = 0.10
                      }
                }
                custom_effect_tooltip = CEN_socialist_internationale
	}
	option = { #Cuck to No Man
		name = CEN_unification.3.c
                hidden_effect = {
                      set_country_flag = CEN_isolate
                      add_to_variable = {
                         var = CEN.unificationprogress
                         value = 0.15
                      }
                }
                custom_effect_tooltip = CEN_no_foreign
	}
}
country_event = { #New Currency
	id = CEN_unification.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event CEN_unification.1" }
	title = CEN_unification.4.t
	desc = CEN_unification.4.d
	#picture = 

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Sure bro
		name = CEN_unification.4.a
                hidden_effect = {
                      add_to_variable = {
                         var = CEN.unificationprogress
                         value = 0.10
                      }
                }
	}
	option = { #No New Currency
		name = CEN_unification.4.b
                hidden_effect = {
                      add_to_variable = {
                         var = CEN.unificationprogress
                         value = -0.10
                      }
                }
	}
}
country_event = { #Native Pop Question
	id = CEN_unification.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event CEN_unification.1" }
	title = CEN_unification.5.t
	desc = CEN_unification.5.d
	#picture = 

	fire_only_once = yes

	is_triggered_only = yes

	option = { #increase rights
		name = CEN_unification.5.a
                hidden_effect = {
                      add_to_variable = {
                         var = CEN.unificationprogress
                         value = 0.20
                      }
                }
	}
	option = { #sideline them
		name = CEN_unification.5.b
                hidden_effect = {
                      add_to_variable = {
                         var = CEN.unificationprogress
                         value = -0.15
                      }
                }
	}
}
country_event = { #Territory Disputes
	id = CEN_unification.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event CEN_unification.1" }
	title = CEN_unification.6.t
	desc = CEN_unification.6.d
	#picture = 

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Sure 
		name = CEN_unification.6.a
                hidden_effect = {
                      set_country_flag = CEN_solved_territory
                      add_to_variable = {
                         var = CEN.unificationprogress
                         value = -0.20
                      }
                }
	}
	option = { #Leave Everything Alone
		name = CEN_unification.6.b
                hidden_effect = {
                      add_to_variable = {
                         var = CEN.unificationprogress
                         value = 0.20
                      }
                }
	   }
}
country_event = { #Future of Central America
	id = CEN_unification.7
	immediate = { 
                log = "[GetDateText]: [Root.GetName]: event CEN_unification.1" 
                CEN_setleaders = yes
        }
	title = CEN_unification.7.t
	desc = CEN_unification.7.d
	#picture = 

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Sure 
		name = CEN_unification.7.a
                hidden_effect = {
                      set_country_flag = CEN_formed
                      if = {
                        limit = {
                            has_elected_government = yes
                            }
                            load_focus_tree = CA_DEM_focus
                            set_global_flag = demcen_formed
                      }
                      if = {
                        limit = {
                            has_socialist_government = yes
                        }
                            load_focus_tree = Centroamerica_focus
			    set_global_flag = centroamerica_formed
                      }
                      if = {
                        limit = {
                            has_authoritarian_government = yes
                        }
                            load_focus_tree = CA_military_focus
			    set_global_flag = milcen_formed
                      }
             }
       }
}
country_event = { #End of the Central American Dream
	id = CEN_unification.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event CEN_unification.1" }
	title = CEN_unification.8.t
	desc = CEN_unification.8.d
	#picture = 

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Sure
		name = CEN_unification.8.a		
                hidden_effect = {
                ROOT = {
                   dismantle_faction = yes
                   }
             }
	}
}