####Fulton test events###

add_namespace = outerheaven
add_namespace = outerheavenunit

country_event = { #we won bois
	id = outerheaven.0
	title = outerheaven.0.t
	desc = outerheaven.0.d
	
	picture = GFX_report_event_military_planning

	fire_only_once = yes
	
	trigger = {
		tag = KSV
		has_war = no
		NOT = {
			country_exists = UMN
			country_exists = LPD
			country_exists = KTG
			country_exists = KIV
		}
	}

	option = { #yay
		name = outerheaven.0.a
		ai_chance = {
			factor = 80
		}
		set_global_flag = CONGO_SHITSHOW_OVER
		clr_global_flag = CONGO_SHITSHOW
		add_ideas = COG_post_war_devestation
		news_event = {
			id = congo_news.7
			days = 1
		}
	}
}

country_event = { #Forming the Merc Committee?
	id = outerheaven.1
	title = outerheaven.1.t
	desc = outerheaven.1.d
	
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = { #No
		name = outerheaven.1.a
		ai_chance = {
			factor = 80
		}
		add_stability = -0.05
		add_political_power = -100
		hidden_effect = {
			country_event = {
				id = outerheaven.6
				days = 5
			}
		}
	}	
	option = { #allow it
		name = outerheaven.1.b
		ai_chance = {
			factor = 20
		}
		hidden_effect = {
			country_event = {
				id = outerheaven.2
				days = 5
			}
		}
	}	
	option = { #find a middle ground
		name = outerheaven.1.c
		ai_chance = {
			factor = 20
		}
		hidden_effect = {
			country_event = {
				id = outerheaven.5
				days = 5
			}
		}
	}	
}

country_event = { #Hallstrom Coups
	id = outerheaven.2
	title = outerheaven.2.t
	desc = outerheaven.2.d
	
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = { #
		name = outerheaven.2.a
		set_politics = {
			ruling_party = national_populist
			elections_allowed = no
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
		remove_all_ministers = yes
		add_ideas = {
			KSV_Ivor_Thord_Gray_hog_npo
			KSV_Thorleiv_Bugge_Rohn_for_npo
			KSV_Gunnar_Hallstrom_eco_npo
			KSV_Verna_Erikson_sec_npo
		}
		set_country_flag = KSV_hallstrom_flag
		set_country_flag = KSV_things_happened
	}	
}

country_event = { #intro
	id = outerheaven.3
	title = outerheaven.3.t
	desc = outerheaven.3.d
	
	picture = GFX_report_event_military_planning

	fire_only_once = yes
	trigger = {
		tag = KSV
	}

	option = { #
		name = outerheaven.3.a
		set_variable = { KSV_money = 0 }
	}	
}

country_event = { #epic battle event
	id = outerheaven.4
	title = outerheaven.4.t
	desc = outerheaven.4.d
	
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = { #massu is killed, hallstrom takes charge
		name = outerheaven.4.a
		hidden_effect = {
			country_event = {
				id = outerheaven.2
				days = 5
			}
		}
	}	
	
	option = { #massu secures power
		name = outerheaven.4.b
		hidden_effect = {
			country_event = {
				id = outerheaven.6
				days = 5
			}
		}
	}
	
	option = { #massu is killed, rosen takes charge
		name = outerheaven.4.c
		hidden_effect = {
			country_event = {
				id = outerheaven.2
				days = 5
			}
		}
	}	
}

country_event = { #Rosen Coups
	id = outerheaven.5
	title = outerheaven.5.t
	desc = outerheaven.5.d
	
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = { #
		name = outerheaven.5.a
		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = no
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
		remove_all_ministers = yes
		add_ideas = {
			KSV_Carl_Gustaf_von_Rosen_hog_ade
			KSV_Jan_Zumbach_for_ade
			KSV_Frederic_Ives_Lord_eco_ade
			KSV_Nils_von_Kantzow_sec_ade
		}
		set_country_flag = KSV_rosen_flag
		set_country_flag = KSV_things_happened
	}	
}

country_event = { #Massu Secures Power
	id = outerheaven.6
	title = outerheaven.6.t
	desc = outerheaven.6.d
	
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = { #
		name = outerheaven.6.a
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.05
		}
		remove_all_ministers = yes
		add_ideas = {
			KSV_Jacques_Massu_hog_pau
			KSV_Maurice_Challe_for_pau
			KSV_Raoul_Salan_eco_pau
			KSV_Andre_Zeller_sec_pau
		}
		set_country_flag = KSV_massu_flag
		set_country_flag = KSV_things_happened
	}	
}

country_event = { #how wholesome do we want to be
	id = outerheaven.7
	title = outerheaven.7.t
	desc = outerheaven.7.d
	
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = { #100
		name = outerheaven.7.a
		hidden_effect = {
			country_event = {
				id = outerheaven.8
				days = 2
			}
		}
	}	
	
	option = { #0
		name = outerheaven.7.b
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
	}	
}

country_event = { #how wholesome do we want to be
	id = outerheaven.8
	title = outerheaven.8.t
	desc = outerheaven.8.d
	
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = { #socdem
		name = outerheaven.8.a
		set_variable = {
			current_rosen_pop = party_popularity@authoritarian_democrat
		}
		set_variable = {
			current_socdem_pop = party_popularity@social_democrat
		}
		subtract_from_variable = {
			var = current_rosen_pop
			value = current_socdem_pop
		}
		add_popularity = {
			ideology = social_democrat
			popularity = current_rosen_pop
		}
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = no
		}
	}	
	
	option = { #marlib
		name = outerheaven.8.b
		set_variable = {
			current_rosen_pop = party_popularity@authoritarian_democrat
		}
		set_variable = {
			current_marlib_pop = party_popularity@market_liberal
		}
		subtract_from_variable = {
			var = current_rosen_pop
			value = current_marlib_pop
		}
		add_popularity = {
			ideology = market_liberal
			popularity = current_rosen_pop
		}
		set_politics = {
			ruling_party = market_liberal
			elections_allowed = no
		}
	}	
	
	option = { #soccon
		name = outerheaven.8.c
		set_variable = {
			current_rosen_pop = party_popularity@authoritarian_democrat
		}
		set_variable = {
			current_soccon_pop = party_popularity@social_conservative
		}
		subtract_from_variable = {
			var = current_rosen_pop
			value = current_soccon_pop
		}
		add_popularity = {
			ideology = social_conservative
			popularity = current_rosen_pop
		}
		set_politics = {
			ruling_party = social_conservative
			elections_allowed = no
		}
	}	
}

country_event = { #fun with portraits
	id = outerheaven.9
	title = outerheaven.9.t
	desc = outerheaven.9.d
	
	picture = GFX_report_event_military_planning

	fire_only_once = yes
	
	trigger = {
		has_completed_focus = KSV_our_place_in_the_liberation
		has_war_with = FRA
	}

	option = { #nothing
		name = outerheaven.9.a
		
	}
	option = { #epic armor
		name = outerheaven.9.b
		if = {	
			limit = { has_country_leader = { name = "Jacques Massu" ruling_only = yes } }
			set_country_leader_portrait = {
				portrait = "gfx/leaders/KSV/KSV_Jacques_Massu_Knight.tga"
			}
		}
	}	
}

unit_leader_event = {
	id = outerheavenunit.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheavenunit.1" }
	title = outerheavenunit.1.t
	desc = outerheavenunit.1.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = outerheavenunit.1.a
		
	}
	option = {
		name = outerheavenunit.1.b
		THIS = {
			set_nationality = event_target:Thorleiv_Bugge_Rhn
		}
		hidden_effect = {
			event_target:Thorleiv_Bugge_Rhn = {
				country_event = {
					id = outerheavenunit.800
					days = 365
				}
			}
		}
		custom_effect_tooltip = KSV_increase_cash_1
		custom_effect_tooltip = KSV_leave_for_a_year
		add_to_variable = { KSV_money = 2 }
	}
}

unit_leader_event = {
	id = outerheavenunit.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheaven.2" }
	title = outerheavenunit.2.t
	desc = outerheavenunit.2.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = outerheavenunit.2.a
		
	}
	option = {
		name = outerheavenunit.2.b
		THIS = {
			set_nationality = event_target:Nils_von_Kantzow
		}
		hidden_effect = {
			event_target:Nils_von_Kantzow = {
				country_event = {
					id = outerheavenunit.801
					days = 365
				}
			}
		}
		custom_effect_tooltip = KSV_increase_cash_1
		add_to_variable = { KSV_money = 2 }
	}
}

unit_leader_event = {
	id = outerheavenunit.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheavenunit.3" }
	title = outerheavenunit.3.t
	desc = outerheavenunit.3.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = outerheavenunit.3.a
		
	}
	option = {
		name = outerheavenunit.3.b
		THIS = {
			set_nationality = event_target:Ivor_Thord_Gray
		}
		hidden_effect = {
			event_target:Ivor_Thord_Gray = {
				country_event = {
					id = outerheavenunit.802
					days = 365
				}
			}
		}
		custom_effect_tooltip = KSV_increase_cash_1
		custom_effect_tooltip = KSV_leave_for_a_year
		add_to_variable = { KSV_money = 2 }
	}
}

unit_leader_event = {
	id = outerheavenunit.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheavenunit.4" }
	title = outerheavenunit.4.t
	desc = outerheavenunit.4.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = outerheavenunit.4.a
		
	}
	option = {
		name = outerheavenunit.4.b
		THIS = {
			set_nationality = event_target:Arthur_Quist
		}
		hidden_effect = {
			event_target:Arthur_Quist = {
				country_event = {
					id = outerheavenunit.803
					days = 365
				}
			}
		}
		custom_effect_tooltip = KSV_increase_cash_1
		custom_effect_tooltip = KSV_leave_for_a_year
		add_to_variable = { KSV_money = 2 }
	}
}

unit_leader_event = {
	id = outerheavenunit.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheavenunit.5" }
	title = outerheavenunit.5.t
	desc = outerheavenunit.5.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = outerheavenunit.5.a
		
	}
	option = {
		name = outerheavenunit.5.b
		THIS = {
			set_nationality = event_target:Gunnar_Hallstrom
		}
		hidden_effect = {
			event_target:Gunnar_Hallstrom = {
				country_event = {
					id = outerheavenunit.804
					days = 365
				}
			}
		}
		custom_effect_tooltip = KSV_increase_cash_1
		custom_effect_tooltip = KSV_leave_for_a_year
		add_to_variable = { KSV_money = 2 }
	}
}

unit_leader_event = {
	id = outerheavenunit.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheavenunit.6" }
	title = outerheavenunit.6.t
	desc = outerheavenunit.6.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = outerheavenunit.6.a
		
	}
	option = {
		name = outerheavenunit.6.b
		THIS = {
			set_nationality = event_target:Camillo_Ricchiardi
		}
		hidden_effect = {
			event_target:Camillo_Ricchiardi = {
				country_event = {
					id = outerheavenunit.805
					days = 365
				}
			}
		}
		custom_effect_tooltip = KSV_increase_cash_1
		custom_effect_tooltip = KSV_leave_for_a_year
		add_to_variable = { KSV_money = 2 }
	}
}

unit_leader_event = {
	id = outerheavenunit.61
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheavenunit.6" }
	title = outerheavenunit.6.t
	desc = outerheavenunit.6.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = outerheavenunit.6.a
		
	}
	option = {
		name = outerheavenunit.6.b
		THIS = {
			set_nationality = event_target:Mad_Mike_Hoare
		}
		hidden_effect = {
			event_target:Mad_Mike_Hoare = {
				country_event = {
					id = outerheavenunit.806
					days = 365
				}
			}
		}
		custom_effect_tooltip = KSV_increase_cash_1
		custom_effect_tooltip = KSV_leave_for_a_year
		add_to_variable = { KSV_money = 2 }
	}
}

unit_leader_event = {
	id = outerheavenunit.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheavenunit.7" }
	immediate = {
		hidden_effect = {
			THIS = {
				set_nationality = KSV
			}
		}
	}
	title = outerheavenunit.7.t
	desc = outerheavenunit.7.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = outerheavenunit.7.a
		effect_tooltip = {
			THIS = {
				set_nationality = KSV
			}
		}
		hidden_effect = {
			KSV = {	
				if = {
					limit = {
						has_unit_leader = 6756
					}
				}
				every_unit_leader = {
					limit = { has_id = 6756 }
					unit_leader_event = outerheavenunit.9
				}
			}
			KSV = {	
				if = {
					limit = {
						has_unit_leader = 6757
					}
				}
				every_unit_leader = {
					limit = { has_id = 6757 }
					unit_leader_event = outerheavenunit.9
				}
			}
			KSV = {	
				if = {
					limit = {
						has_unit_leader = 6758
					}
				}
				every_unit_leader = {
					limit = { has_id = 6758 }
					unit_leader_event = outerheavenunit.9
				}
			}
			KSV = {	
				if = {
					limit = {
						has_unit_leader = 6759
					}
				}
				every_unit_leader = {
					limit = { has_id = 6759 }
					unit_leader_event = outerheavenunit.9
				}
			}
			KSV = {	
				if = {
					limit = {
						has_unit_leader = 6760
					}
				}
				every_unit_leader = {
					limit = { has_id = 6760 }
					unit_leader_event = outerheavenunit.9
				}
			}
			KSV = {	
				if = {
					limit = {
						has_unit_leader = 6761
					}
				}
				every_unit_leader = {
					limit = { has_id = 6761 }
					unit_leader_event = outerheavenunit.9
				}
			}
		}
	}
}

unit_leader_event = {
	id = outerheavenunit.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheavenunit.8" }
	immediate = {
		hidden_effect = {
			THIS = {
				set_nationality = KSV
			}
		}
	}	
	title = outerheavenunit.8.t
	desc = outerheavenunit.8.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = outerheavenunit.8.a
		effect_tooltip = {
			THIS = {
				set_nationality = KSV
			}
		}
		hidden_effect = {
			KSV = {	
				if = {
					limit = {
						has_unit_leader = 6756
					}
				}
				every_unit_leader = {
					limit = { has_id = 6756 }
					unit_leader_event = outerheavenunit.9
				}
			}
			KSV = {	
				if = {
					limit = {
						has_unit_leader = 6757
					}
				}
				every_unit_leader = {
					limit = { has_id = 6757 }
					unit_leader_event = outerheavenunit.9
				}
			}
			KSV = {	
				if = {
					limit = {
						has_unit_leader = 6758
					}
				}
				every_unit_leader = {
					limit = { has_id = 6758 }
					unit_leader_event = outerheavenunit.9
				}
			}
			KSV = {	
				if = {
					limit = {
						has_unit_leader = 6759
					}
				}
				every_unit_leader = {
					limit = { has_id = 6759 }
					unit_leader_event = outerheavenunit.9
				}
			}
			KSV = {	
				if = {
					limit = {
						has_unit_leader = 6760
					}
				}
				every_unit_leader = {
					limit = { has_id = 6760 }
					unit_leader_event = outerheavenunit.9
				}
			}
			KSV = {	
				if = {
					limit = {
						has_unit_leader = 6761
					}
				}
				every_unit_leader = {
					limit = { has_id = 6761 }
					unit_leader_event = outerheavenunit.9
				}
			}
		}
	}
}

unit_leader_event = {
	id = outerheavenunit.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheavenunit.9" }
	title = outerheavenunit.9.t
	desc = outerheavenunit.9.d
	picture = GFX_report_event_military_planning

	is_triggered_only = yes

	option = {
		name = outerheavenunit.9.a
	}
}

country_event = {
	id = outerheavenunit.800
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheavenunit.8" }
	hidden = yes
	is_triggered_only = yes
	immediate = {
		every_unit_leader = {
			limit = { has_id = 6756 }
			unit_leader_event = outerheavenunit.8
		}
		ROOT = {
			clear_global_event_target = Thorleiv_Bugge_Rhn
		}
		KSV = {
			save_global_event_target_as = Thorleiv_Bugge_Rhn
		}
	}
}

country_event = {
	id = outerheavenunit.801
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheavenunit.8" }
	hidden = yes
	is_triggered_only = yes
	immediate = {
		every_unit_leader = {
			limit = { has_id = 6757 }
			unit_leader_event = outerheavenunit.8
		}
		ROOT = {
			clear_global_event_target = Nils_von_Kantzow
		}
		KSV = {
			save_global_event_target_as = Nils_von_Kantzow
		}
	}
}
country_event = {
	id = outerheavenunit.802
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheavenunit.8" }
	hidden = yes
	is_triggered_only = yes
	immediate = {
		every_unit_leader = {
			limit = { has_id = 6758 }
			unit_leader_event = outerheavenunit.8
		}
		ROOT = {
			clear_global_event_target = Ivor_Thord_Gray
		}
		KSV = {
			save_global_event_target_as = Ivor_Thord_Gray
		}
	}
}
country_event = {
	id = outerheavenunit.803
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheavenunit.8" }
	hidden = yes
	is_triggered_only = yes
	immediate = {
		every_unit_leader = {
			limit = { has_id = 6759 }
			unit_leader_event = outerheavenunit.8
		}
		ROOT = {
			clear_global_event_target = Arthur_Quist
		}
		KSV = {
			save_global_event_target_as = Arthur_Quist
		}
	}
}
country_event = {
	id = outerheavenunit.804
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheavenunit.8" }
	hidden = yes
	is_triggered_only = yes
	immediate = {
		every_unit_leader = {
			limit = { has_id = 6760 }
			unit_leader_event = outerheavenunit.8
		}
		ROOT = {
			clear_global_event_target = Gunnar_Hallstrom
		}
		KSV = {
			save_global_event_target_as = Gunnar_Hallstrom
		}
	}
}
country_event = {
	id = outerheavenunit.805
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheavenunit.8" }
	hidden = yes
	is_triggered_only = yes
	immediate = {
		every_unit_leader = {
			limit = { has_id = 6761 }
			unit_leader_event = outerheavenunit.8
		}
		clr_global_flag = Mad_Mike_Hoare_Unavailable
		ROOT = {
			clear_global_event_target = Camillo_Ricchiardi
		}
		KSV = {
			save_global_event_target_as = Camillo_Ricchiardi
		}
	}
}
country_event = {
	id = outerheavenunit.806
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheavenunit.8" }
	hidden = yes
	is_triggered_only = yes
	immediate = {
		every_unit_leader = {
			limit = { has_id = 6762 }
			unit_leader_event = outerheavenunit.8
		}
		clr_global_flag = Mad_Mike_Hoare_Unavailable
		ROOT = {
			clear_global_event_target = Mad_Mike_Hoare
		}
		KSV = {
			save_global_event_target_as = Mad_Mike_Hoare
		}
	}
}
country_event = {
	id = outerheavenunit.900
	immediate = { log = "[GetDateText]: [Root.GetName]: event outerheavenunit.8" }
	hidden = yes
	trigger = {
		tag = KSV
	}
	immediate = {
		every_country = {
			limit = {
				is_in_africa = yes
				NOT = {
					tag = LIB
					tag = KIK
				}
			}
			set_country_flag = USES_MERCS
		}
		every_country = {
			limit = {
				OR = {
					tag = IRE
					tag = AOG
					is_in_africa = yes
					is_in_central_america = yes
					is_in_china = yes
				}
			}
			set_country_flag = USES_MERCS
		}
		LIB = {
			if = {
				limit = {
					NOT = {
						OR = {
							has_socialist_government = yes
							has_government = national_populist
						}
					}
				}
				set_country_flag = USES_MERCS
			}
		}
		HAI = {
			if = {
				limit = {
					OR = {
						has_government = paternal_autocrat
						has_government = national_populist
					}
				}
				set_country_flag = USES_MERCS
			}
		}
		SRI = {
			if = {
				limit = {
					has_government = paternal_autocrat
				}
				set_country_flag = USES_MERCS
			}
		}	
		TXS = {
			if = {
				limit = {
					OR = {
						has_country_leader = {
							name = "Torkild Rieber"
							ruling_only = yes
						}
						has_country_leader = {
							name = "National Commitee of State"
							ruling_only = yes
						}
						has_country_leader = {
							name = "Chamber of Executives"
							ruling_only = yes
						}
						has_country_flag = TXS_facade
						has_country_flag = TXS_pappy_puppet
					}
				}
				set_country_flag = USES_MERCS
			}
		}		
		NEE = {
			if = {
				limit = {
					has_completed_focus = NEE_the_sentinels_of_the_republic
				}
				set_country_flag = USES_MERCS
			}
		}	
		LEC = {
			if = {
				limit = {
					tag = LEC
					OR = {
						has_cosmetic_tag = LEC_triad
						has_cosmetic_tag = LEC_MING
						has_cosmetic_tag = LEC_china_triad
					}
				}
				set_country_flag = USES_MERCS
			}
		}		
	}
}
