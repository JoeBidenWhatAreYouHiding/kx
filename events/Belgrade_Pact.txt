###########################
# Belgrade Pact Events
###########################

add_namespace = pact

###########################
# Formation of the Pact
###########################

# Belgrade pact formed
country_event = {
	id = pact.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.1" }
	title = pact.1.t
	desc = pact.1.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	option = {
		name = pact.1.a # Open the Congress
		add_political_power = 50
		set_country_flag = SER_founded_belgradepact
		create_faction = Belgrade_Pact
		add_named_threat = {
			threat = 4
			name = "Formation of the Belgrade Pact"
		}
		hidden_effect = {
			country_event = { id = worldtension.18 days = 1 }
			add_opinion_modifier = { target = BUL modifier = Belgrade_Pact_anti_bulgaria }
			reverse_add_opinion_modifier = { target = BUL modifier = Belgrade_Pact_joined_against_us }
			every_country = {
				limit = {
					OR = {
						tag = GER
						tag = AUS
						is_subject_of = AUS
						is_subject_of = GER
						tag = TUR
						tag = ALB
					}
				}
				add_opinion_modifier = { target = ROOT modifier = Belgrade_Pact_joined_boo }
			}
		}
	}
}

# Invitation to the Belgrade Pact
country_event = {
	id = pact.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.2" }
	title = pact.2.t
	desc = pact.2.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	option = {
		name = pact.2.a # Join the Belgrade Pact

		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				OR = {
					tag = ROM
					tag = RRM
				}
				OR = {
					has_game_rule = {
						rule = SER_belgrade_pact_member
						option = SER_BELGRADE_PACT_MEMBER_SER_GRE
					}
					has_game_rule = {
						rule = SER_belgrade_pact_member
						option = SER_BELGRADE_PACT_MEMBER_SER_ALONE
					}
				}
			}
			modifier = {
				factor = 0
				tag = GRE
				OR = {
					has_game_rule = {
						rule = SER_belgrade_pact_member
						option = SER_BELGRADE_PACT_MEMBER_SER_ROM
					}
					has_game_rule = {
						rule = SER_belgrade_pact_member
						option = SER_BELGRADE_PACT_MEMBER_SER_ALONE
					}
				}
			}
			modifier = {
				factor = 0
				tag = MNT
				OR = {
					has_game_rule = {
						rule = SER_belgrade_pact_member
						option = SER_BELGRADE_PACT_MEMBER_SER_ROM
					}
					has_game_rule = {
						rule = SER_belgrade_pact_member
						option = SER_BELGRADE_PACT_MEMBER_SER_ALONE
					}
					has_country_flag = MNT_pravasi
					has_country_flag = MNT_nationalist_flag
					has_country_flag = MNT_statusquo
				}
			}
		}

		SER = {
			add_to_faction = ROOT
			add_opinion_modifier = { target = ROOT modifier = Belgrade_Pact_joined_yay }
			hidden_effect = { country_event = pact.3 } # Notify Serbia of joining
		}
		reverse_add_opinion_modifier = { target = BUL modifier = Belgrade_Pact_joined_against_us }

		hidden_effect = {
			add_opinion_modifier = { target = BUL modifier = Belgrade_Pact_anti_bulgaria }

			every_country = {
				limit = {
					OR = {
						tag = GER
						tag = AUS
						is_subject_of = AUS
						is_subject_of = GER
						tag = TUR
						tag = ALB
					}
				}
				add_opinion_modifier = { target = ROOT modifier = Belgrade_Pact_joined_boo }
			}
		}
	}

	option = {
		name = pact.2.b # We have no interest

		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					tag = ROM
					tag = RRM
				}
				OR = {
					has_game_rule = {
						rule = SER_belgrade_pact_member
						option = SER_BELGRADE_PACT_MEMBER_SER_ROM_GRE
					}
					has_game_rule = {
						rule = SER_belgrade_pact_member
						option = SER_BELGRADE_PACT_MEMBER_SER_ROM
					}
				}
			}
			modifier = {
				factor = 0
				tag = GRE
				OR = {
					has_game_rule = {
						rule = SER_belgrade_pact_member
						option = SER_BELGRADE_PACT_MEMBER_SER_ROM_GRE
					}
					has_game_rule = {
						rule = SER_belgrade_pact_member
						option = SER_BELGRADE_PACT_MEMBER_SER_GRE
					}
				}
			}
		}

		add_political_power = -100
		set_country_flag = IGNORED_BELGRADE_PACT_INVITATION

		SER = {
			country_event = { id = pact.4 } # Notify Serbia of the refusal
			add_opinion_modifier = { target = ROOT modifier = Belgrade_Pact_refused }
		}

		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						tag = BUL
						tag = GER
						tag = AUS
						is_subject_of = GER
						is_subject_of = AUS
						tag = TUR
						tag = ALB
					}
				}
				add_opinion_modifier = { target = ROOT modifier = Belgrade_Pact_did_not_join_yay }
			}
		}
	}
}

# A country joins the pact
country_event = {
	id = pact.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.3" }
	title = pact.3.t
	desc = pact.3.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	option = {
		name = pact.3.a # Welcome
		effect_tooltip = {
			add_to_faction = FROM
		}
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_country_flag = SER_pactnews }
					GRE = {
						OR = {
							exists = no
							has_war = yes
							is_in_faction_with = ROOT
						}
					}
					ROM = {
						OR = {
							exists = no
							has_war = yes
							is_in_faction_with = ROOT
						}
					}
					RRM = {
						OR = {
							exists = no
							has_war = yes
							is_in_faction_with = ROOT
						}
					}
					MNT = {
						OR = {
							exists = no
							has_war = yes
							is_in_faction_with = ROOT
						}
					}
				}
				set_country_flag = SER_pactnews
				news_event = { id = worldnews.18 days = 1 }
				BUL = { country_event = pact.8 }

				every_country = {
					limit = {
						exists = yes
						OR = {
							tag = GER
							tag = AUS
							tag = HUN
							tag = ALB
						}
					}
					country_event = { id = pact.9 days = 2 }
				}
			}
		}
	}
}

# A country refuses to join the pact
country_event = {
	id = pact.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.4" }
	title = pact.4.t
	desc = pact.4.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	option = {
		name = pact.4.a # We don't need them
	}
}

# Dissolution of the pact if nobody joins
country_event = {
	id = pact.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.5" }
	title = pact.5.t
	desc = pact.5.d
	picture = GFX_report_event_generic_conference

	fire_only_once = yes

	trigger = {
		tag = SER
		has_country_flag = { flag = SER_founded_belgradepact days > 30 }
		is_faction_leader = yes
		has_war = no
		NOT = {
			any_allied_country = {
				is_in_faction_with = SER
				NOT = {
					is_subject_of = SER
					tag = SER
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = pact.5.a
		dismantle_faction = yes
		if = {
			limit = { NOT = { has_global_flag = balkan_war_ended } }
			clr_country_flag = SER_founded_belgradepact
		}
	}
}

# Bulgaria: The Belgrade Pact
country_event = {
	id = pact.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.8" }
	title = pact.8.t
	desc = pact.8.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	trigger = {
		SER = {
			is_faction_leader = yes
			exists = yes
		}
	}

	option = {
		name = pact.8.a # Not good
	}
}


###########################
# Support for Bulgaria
###########################

# Germany/Austria/Hungary/Albania: The Belgrade Pact
country_event = {
	id = pact.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.9" }
	title = pact.9.t
	desc = pact.9.d
	picture = GFX_report_event_soviet_finnish_pact

	is_triggered_only = yes

	trigger = {
		OR = {
			tag = GER
			tag = AUS
			tag = HUN
			tag = ALB
		}
		SER = {
			is_faction_leader = yes
			exists = yes
		}
		BUL = {
			exists = yes
			is_subject = no
		}
	}

	option = {
		name = pact.9.a # Support Bulgaria
		ai_chance = {
			factor = 60
			modifier = {
				factor = 0
				OR = {
					tag = AUS
					tag = HUN
				}
			}
			modifier = {
				factor = 0
				has_opinion_modifier = BUL_bulgarian_embargo
			}
		}

		set_country_flag = SER_supported_bulgaria

		every_country = {
			limit = {
				is_subject_of = ROOT
				NOT = { tag = HUN }
			}
			set_country_flag = SER_supported_bulgaria
		}

		SER = {
			add_opinion_modifier = { target = ROOT modifier = Belgrade_Pact_supported_enemy }
			country_event = { id = pact.10 days = 1 }
		}
		BUL = {
			add_opinion_modifier = { target = ROOT modifier = Belgrade_Pact_supported_us }
			country_event = { id = pact.11 days = 1 }
		}
	}
	option = {
		name = pact.9.b # Avoid the Balkans
		ai_chance = {
			factor = 40
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT_OTT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT_SUBMIT_TO_OTT
					}
				}
			}
		}
		add_political_power = -50
	}
}

# Serbia: <country> supports Bulgaria!
country_event = {
	id = pact.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.10" }
	title = pact.10.t
	desc = pact.10.d
	picture = GFX_report_event_soviet_finnish_pact

	is_triggered_only = yes

	option = {
		name = pact.10.a # This is not good
	}
}

# Bulgaria: <country> supports us
country_event = {
	id = pact.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.11" }
	title = pact.11.t
	desc = pact.11.d
	picture = GFX_report_event_soviet_finnish_pact

	is_triggered_only = yes

	option = {
		name = pact.11.a # Good
	}
}


###########################
# War starts
###########################

# Bulgaria: Ultimatum from Serbia
country_event = {
	id = pact.17
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.17" }
	title = pact.17.t
	desc = pact.17.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = {
		name = pact.17.a # Then it is war
		ai_chance = {
			factor = 99
			modifier = {
				factor = 0
				has_game_rule = {
					rule = BUL_fourth_balkan_war
					option = BUL_FOURTH_BALKAN_WAR_SUBMIT
				}
			}
		}
		add_political_power = 100
		SER = {
			country_event = pact.18
		}
	}
	option = {
		name = pact.17.b # Give in to their demands
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_VS_PACT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_VS_PACT_OTT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_VS_PACT_SUBMIT_TO_OTT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT_OTT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT_SUBMIT_TO_OTT
					}
				}
			}
			modifier = {
				factor = 5
				NOT = {
					GER = {
						has_country_flag = SER_supported_bulgaria
					}
				}
			}
			modifier = {
				factor = 0
				NOT = {
					count_triggers = {
						amount = 2
						GRE = { is_in_faction_with = SER }
						ROM = { is_in_faction_with = SER }
						RRM = { is_in_faction_with = SER }
					}
				}
				NOT = {
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_SUBMIT
					}
				}
			}
		}
		set_country_flag = BUL_surrender_no_war
		add_political_power = -200

		belgrade_pact_gain_land_from_bulgaria = yes

		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						tag = SER
						tag = TUR
						is_in_faction_with = SER
						has_country_flag = SER_supported_bulgaria
					}
				}
				country_event = pact.19
			}
		}
	}
}

# Serbia: Ultimatum refused, war starts
country_event = {
	id = pact.18
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.18" }
	title = pact.18.t
	desc = pact.18.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = {
		name = pact.18.a # They had their chance!
		set_global_flag = balkan_war_started
		add_political_power = 100
		add_manpower = 5000
		declare_war_on = {
			target = BUL
			type = annex_everything
		}

		# Notify all Pact members
		every_country = {
			limit = {
				NOT = { tag = SER }
				is_in_faction_with = SER
			}
			country_event = pact.20 # Pact members: the war has started
		}

		#giving serbia a claim so that way they take this province in the peace deal if Greece isn’t around to take it
		if = {
			limit = {
				NOT = { is_in_faction_with = GRE }
			}
			hidden_effect = {
				add_state_claim = 731
			}
		}

		hidden_effect = {
			add_ideas = has_scripted_peace
			BUL = { add_ideas = has_scripted_peace }
			news_event = { id = worldnews.37 days = 1 }
			country_event = worldtension.6
		}
	}
}

# The Bulgarians fold
country_event = {
	id = pact.19
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.19" }
	title = pact.19.t
	desc = pact.19.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {
		name = pact.19.a # They had no choice.
		trigger = {
			NOT = { has_country_flag = SER_supported_bulgaria }
		}

		add_political_power = 200
		if = {
			limit = { tag = GRE }
			set_country_flag = balkan_war_victory
		}
	}
	option = {
		name = pact.19.b # Peace in our time.
		trigger = { has_country_flag = SER_supported_bulgaria }
	}
	option = {
		name = pact.19.c # Damn, we could have used that
		trigger = { tag = TUR }
	}
}

# Pact members: the war has started
country_event = {
	id = pact.20
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.20" }
	title = pact.20.t
	desc = pact.20.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = {
		name = pact.20.a # Onwards to victory
		add_political_power = 100
		add_manpower = 5000
	}
}

# Ottomans: do we demand Western Thrace?
country_event = {
	id = pact.21
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.21" }
	title = pact.21.t
	desc = pact.21.d
	picture = GFX_report_event_GRE_army

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = pact.21.a #Make the demand
		ai_chance = {
			factor = 75
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_VS_PACT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT
					}
				}
			}
			modifier = {
				factor = 0.5
				has_war = yes
			}
		}
		BUL = {
			add_opinion_modifier = { target = TUR modifier = KR_outraged }
			country_event = { id = pact.22 hours = 8 }
		}
	}
	option = {
		name = pact.21.b #We'd rather not
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_VS_PACT_OTT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT_OTT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_VS_PACT_SUBMIT_TO_OTT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT_SUBMIT_TO_OTT
					}
				}
			}
			modifier = {
				factor = 0.5
				SER = {
					is_in_faction_with = GRE
					OR = {
						is_in_faction_with = RRM
						is_in_faction_with = ROM
					}
				}
			}
		}
		add_political_power = -50
	}
}

# Bulgaria: receives the Ottoman demands
country_event = {
	id = pact.22
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.22" }
	title = pact.22.t
	desc = pact.22.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	trigger = {
		has_war_with = SER
		OR = {
			owns_state = 184 #Western Thrace
			owns_state = 1089 #Momchilgrad
		}
	}

	option = {
		name = pact.22.a #Give them what they want
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_VS_PACT_OTT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT_OTT
					}
				}
			}
			modifier = {
				factor = 1.5
				SER = {
					is_in_faction_with = GRE
					OR = {
						is_in_faction_with = RRM
						is_in_faction_with = ROM
					}
				}
			}
		}
		add_political_power = -100
		add_stability = -0.05
		every_owned_state = {
			limit = {
				OR = {
					state = 184 #Western Thrace
					state = 1089 #Momchilgrad
				}
			}
			TUR = { transfer_state = PREV }
		}
		TUR = {
			country_event = pact.23
		}
	}
	option = {
		name = pact.22.b #Never! We'll defeat them as well!
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_VS_PACT_SUBMIT_TO_OTT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT_SUBMIT_TO_OTT
					}
				}
			}
			modifier = {
				factor = 0.5
				surrender_progress > 0.20
			}
		}
		add_war_support = 0.10
		add_political_power = 50
		TUR = {
			country_event = pact.24
		}
	}
}

# Ottomans: Bulgaria agrees
country_event = {
	id = pact.23
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.23" }
	title = pact.23.t
	desc = pact.23.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {
		name = pact.23.a
		set_country_flag = SER_supported_bulgaria
		add_political_power = 100
	}
}

# Ottomans: Bulgaria refuses
country_event = {
	id = pact.24
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.24" }
	title = pact.24.t
	desc = pact.24.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = {
		name = pact.24.a
		set_country_flag = OTT_war_for_thrace
		declare_war_on = {
			target = BUL
			type = annex_everything
		}
	}
}

# Bulgaria: warned that Ottomans are on the move
country_event = {
	id = pact.25
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.25" }
	title = pact.25.t
	desc = pact.25.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = {
		name = pact.25.a
		add_opinion_modifier = { target = TUR modifier = KR_disapproves_of_govt }
	}
}

# Bulgaria: aid from Germany arrives
country_event = {
	id = pact.26
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.26" }
	title = pact.26.t
	desc = pact.26.d

	is_triggered_only = yes

	option = {
		name = pact.26.a # Great
		custom_effect_tooltip = pact.26.tt
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_template = "Ekspeditsionno Otdelenie" }
				}
				division_template = {
					name = "Ekspeditsionno Otdelenie"
					is_locked = yes
					division_names_group = BUL_INF_01
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
						infantry = { x = 1 y = 0 }
						infantry = { x = 1 y = 1 }
						infantry = { x = 1 y = 2 }
						infantry = { x = 2 y = 0 }
						infantry = { x = 2 y = 1 }
						infantry = { x = 2 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
			}
			random_owned_controlled_state = {
				prioritize = {
					48
				}
				create_unit = {
					division = "name = \"1-va Vŭnshni Ekspeditsionni Sili\" division_template = \"Ekspeditsionno Otdelenie\"  start_experience_factor = 0.1"
					owner = BUL
				}
				create_unit = {
					division = "name = \"2-ra Vŭnshni Ekspeditsionni Sili\" division_template = \"Ekspeditsionno Otdelenie\"  start_experience_factor = 0.1"
					owner = BUL
				}
			}
		}

		set_country_flag = BUL_received_aid

		hidden_effect = {
			add_opinion_modifier = {
				target = FROM
				modifier = Belgrade_Pact_sent_promised_aid
			}
		}
	}
}


###########################
# End of the war, lessons learned
###########################

# End of the war: lessons learned for Germany, if it sent aid
country_event = {
	id = pact.34
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.34" }
	title = pact.34.t
	desc = pact.34.d

	fire_only_once = yes

	trigger = {
		tag = GER
		has_country_flag = SER_supported_bulgaria
		BUL = { has_country_flag = BUL_received_aid }
		has_global_flag = balkan_war_ended
	}

	mean_time_to_happen = {
		days = 7
	}

	option = {
		name = pact.34.a # Great!

		army_experience = 10
		navy_experience = 10
		air_experience = 10

		add_manpower = 2500

		add_political_power = 25

		clr_country_flag = SER_supported_bulgaria

		hidden_effect = {
			BUL = {
				if = {
					limit = { has_template = "Ekspeditsionno Otdelenie" }
					delete_unit_template_and_units = { division_template = "Ekspeditsionno Otdelenie" }
				}
			}
		}
	}
}


###########################
# Peace events
###########################

### Bulgaria: we're losing, sue for peace?
country_event = {
	id = pact.35
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.35" }
	title = pact.35.t
	desc = pact.35.d
	picture = GFX_report_event_czech_soldiers_02

	fire_only_once = yes

	trigger = {
		tag = BUL
		has_war_with = SER
		surrender_progress > 0.7
		SER = {
			is_faction_leader = yes
			has_country_flag = SER_founded_belgradepact
		}
		has_global_flag = balkan_war_started
		NOT = { has_global_flag = balkan_war_ended }
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = pact.35.a # Sue for peace.
		add_political_power = -50
		SER = { country_event = pact.36 } # Send the peace offer to Serbia
	}
	option = {
		name = pact.35.b # We can still win this!
		trigger = { is_ai = no }
		add_political_power = -100
		add_war_support = -0.10
	}
}

# Serbia: Bulgaria asks for peace
country_event = {
	id = pact.36
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.36" }
	title = pact.36.t
	desc = pact.36.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = pact.36.a # We are triumphant!
		add_political_power = 200
		set_global_flag = balkan_war_ended
		set_global_flag = balkan_war_ended_SER_victory

		BUL = { white_peace_with_ROOT = yes }

		# separate peace for Ottomans if they joined the war
		hidden_effect = {
			every_state = {
				limit = {
					is_owned_by = BUL
					is_controlled_by = TUR
					is_core_of = TUR
				}
				set_state_flag = SER_transfer_to_OTT
			}
			if = {
				limit = {
					TUR = { has_country_flag = OTT_war_for_thrace }
				}
				TUR = {
					country_event = { id = pact.39 hours = 8 }
				}
			}
		}

		# separate peace for non-Pact Greece
		if = {
			limit = {
				GRE = {
					NOT = { is_in_faction_with = SER }
					has_war_with = BUL
				}
			}
			hidden_effect = {
				GRE = {
					country_event = { id = pact.54 hours = 9 }
				}
			}
		}

		# separate peace for Romania if they are at war but didn't join the Pact
		if = {
			limit = {
				BUL = { has_war_with = ROM }
				ROM = {
					NOT = { is_in_faction_with = SER }
				}
			}
			hidden_effect = {
				ROM = { set_country_flag = ROM_independent_war_with_bulgaria }
				BUL = { white_peace = ROM }
			}
		}
		if = {
			limit = {
				BUL = { has_war_with = RRM }
				RRM = {
					NOT = { is_in_faction_with = SER }
				}
			}
			hidden_effect = {
				RRM = { set_country_flag = RRM_independent_war_with_bulgaria }
				BUL = { white_peace = RRM }
			}
		}

		# separate peace for Albania if it joined the war
		if = {
			limit = {
				ALB = {
					has_country_flag = ALB_joined_BUL_war
					has_war_with = SER
				}
			}
			ALB = {
				white_peace_with_ROOT = yes
			}
		}
		if = {
			limit = {
				ALB = { has_war_with = ROM }
				ROM = {
					NOT = { is_in_faction_with = SER }
					has_country_flag = ROM_left_faction_for_civil_war
				}
			}
			hidden_effect = {
				ALB = { white_peace = ROM }
			}
		}
		if = {
			limit = {
				ALB = {
					is_subject = no
					is_in_faction = no
					has_war_with = BUL
				}
			}
			hidden_effect = {
				ALB = { white_peace = BUL }
			}
		}

		# cede disputed land with custom effect
		belgrade_pact_gain_land_from_bulgaria = yes
		
		if = {
			limit = {
				NOT = {
					country_exists = ROM
					country_exists = RRM
				}
				BAN = {
					has_country_flag = BAN_king_crowned
					is_in_faction_with = SER
				}
			}
			BAN = {
				transfer_state = 772
				transfer_state = 77
			}
		}

		hidden_effect = {
			# Let Bulgaria know that Serbia accepted the peace offer
			BUL = { country_event = pact.37 }

			# Let all other Pact members know that peace is signed
			every_country = {
				limit = {
					NOT = { tag = SER }
					is_in_faction_with = SER
				}
				country_event = pact.38
			}
		}
	}

	option = {
		name = pact.36.b # They will be crushed
		trigger = { is_ai = no }
		add_political_power = -50
		BUL = {
			country_event = pact.46 # Notify Bulgaria of refusal
		}
	}
}

# Bulgaria: Serbia accepted our peace offer
country_event = {
	id = pact.37
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.37" }
	title = pact.37.t
	desc = pact.37.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {
		name = pact.37.a # At least we exist!
		set_country_flag = BUL_balkan_peace_loss
		effect_tooltip = {
			SER = {
				white_peace = BUL
			}
		}
	}
}

# Pact members: peace signed
country_event = {
	id = pact.38
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.38" }
	title = pact.38.t
	desc = pact.38.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {
		name = pact.38.a # The Belgrade Pact stands triumphant!
		add_political_power = 200

		if = {
			limit = { tag = GRE }
			set_country_flag = balkan_war_victory
		}

		effect_tooltip = {
			SER = {
				white_peace = BUL
			}
		}
	}
}

# Ottomans: Serbia made peace
country_event = {
	id = pact.39
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.39" }
	title = pact.39.t
	picture = GFX_report_event_generic_sign_treaty2

	desc = {
		text = pact.39.d.gained
		trigger = {
			OR = {
				184 = { has_state_flag = SER_transfer_to_OTT }
				1089 = { has_state_flag = SER_transfer_to_OTT }
			}
		}
	}
	desc = {
		text = pact.39.d.nogain
		trigger = {
			NOT = {
				184 = { has_state_flag = SER_transfer_to_OTT }
				1089 = { has_state_flag = SER_transfer_to_OTT }
			}
		}
	}

	is_triggered_only = yes

	trigger = {
		has_war_with = BUL
		has_country_flag = OTT_war_for_thrace
	}

	option = {
		name = pact.39.a #End the war
		clr_country_flag = OTT_war_for_thrace
		BUL = { white_peace_with_ROOT = yes }
		if = {
			limit = {
				ALB = {
					has_country_flag = ALB_joined_BUL_war
					has_war_with = TUR
				}
			}
			ALB = { white_peace_with_ROOT = yes }
		}
		every_state = {
			limit = { has_state_flag = SER_transfer_to_OTT }
			clr_state_flag = SER_transfer_to_OTT
		}
	}
	option = {
		name = pact.39.b #Continue the war
		trigger = {
			NOT = {
				184 = { has_state_flag = SER_transfer_to_OTT }
				1089 = { has_state_flag = SER_transfer_to_OTT }
			}
			OR = {
				184 = { is_owned_by = BUL }
				1089 = { is_owned_by = BUL }
			}
		}
		add_political_power = -50
		every_state = {
			limit = { has_state_flag = SER_transfer_to_OTT }
			clr_state_flag = SER_transfer_to_OTT
		}
	}
}

### Ottomans: We have what we came for - make peace?
country_event = {
	id = pact.40
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.40" }
	title = pact.40.t
	desc = pact.40.d
	picture = GFX_report_event_czech_soldiers_02

	fire_only_once = yes

	trigger = {
		tag = TUR
		has_war_with = BUL
		has_country_flag = OTT_war_for_thrace
		OR = {
			184 = { is_owned_by = BUL }
			1089 = { is_owned_by = BUL }
		}
		184 = {
			OR = {
				is_controlled_by = TUR
				NOT = { is_owned_by = BUL }
			}
		}
		1089 = {
			OR = {
				is_controlled_by = TUR
				NOT = { is_owned_by = BUL }
			}
		}
		controls_state = 341 #Adrianople
		controls_state = 773 #Constantinople
		controls_state = 347 #Gallipoli
		BUL = {
			OR = {
				has_war_with = SER
				surrender_progress > 0.4
			}
		}
	}

	mean_time_to_happen = {
		days = 15
	}

	option = {
		name = pact.40.a #Make peace
		BUL = { country_event = pact.41 }
	}
	option = {
		name = pact.40.b #Continue the war!
		trigger = { is_ai = no }
		clr_country_flag = OTT_war_for_thrace
		add_political_power = -100
		add_war_support = -0.10
	}
}

# Bulgaria: Make peace with Ottomans?
country_event = {
	id = pact.41
	title = pact.41.t
	desc = pact.41.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event pact.41"
		TUR = {
			save_event_target_as = white_peace_receiver
		}
	}
	option = {
		name = pact.41.a #Agree
		add_political_power = -50
		every_owned_state = {
			limit = {
				is_core_of = TUR
				OR = {
					is_controlled_by = TUR
					is_controlled_by = BUL
				}
			}
			TUR = { transfer_state = PREV }
		}
		TUR = {
			clr_country_flag = OTT_war_for_thrace
			white_peace_with_ROOT = yes
		}

		# separate peace for Albania if it joined the war
		if = {
			limit = {
				ALB = {
					has_country_flag = ALB_joined_BUL_war
					has_war_with = TUR
				}
			}
			ALB = {
				white_peace_with_TARGET = yes
			}
		}
	}
	option = {
		name = pact.41.b #No peace
		trigger = { is_ai = no }
		add_war_support = -0.10
		TUR = {
			clr_country_flag = OTT_war_for_thrace
			country_event = pact.46
		}
	}
}

### Ottomans: we are losing the war
country_event = {
	id = pact.42
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.42" }
	title = pact.42.t
	desc = pact.42.d
	picture = GFX_report_event_czech_soldiers_02

	fire_only_once = yes

	trigger = {
		tag = TUR
		has_war_with = BUL
		has_country_flag = OTT_war_for_thrace
		OR = {
			184 = { is_owned_by = BUL }
			1089 = { is_owned_by = BUL }
		}
		NOT = {
			controls_state = 184 #Western Thrace
			controls_state = 1089 #Momchilgrad
			controls_state = 341 #Adrianople
			controls_state = 773 #Constantinople
			controls_state = 347 #Gallipoli
		}
	}

	mean_time_to_happen = {
		days = 15
	}

	option = {
		name = pact.42.a #Make peace
		BUL = { country_event = pact.43 }
	}
	option = {
		name = pact.42.b #Refuse
		trigger = { is_ai = no }
		add_political_power = -100
		add_war_support = -0.10
	}
}

# Bulgaria: end the war?
country_event = {
	id = pact.43
	title = pact.43.t
	desc = pact.43.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event pact.43"
		TUR = {
			save_event_target_as = white_peace_receiver
		}
	}
	option = {
		name = pact.43.a #Make peace
		add_political_power = 200
		184 = { remove_core_of = TUR }
		1089 = { remove_core_of = TUR }
		TUR = {
			every_owned_state = {
				limit = { is_claim_or_core_of_ROOT = yes }
				BUL = { transfer_state = PREV }
			}
			clr_country_flag = OTT_war_for_thrace
			white_peace_with_ROOT = yes
		}

		# separate peace for Albania if it joined the war
		if = {
			limit = {
				ALB = {
					has_country_flag = ALB_joined_BUL_war
					has_war_with = TUR
				}
			}
			ALB = {
				white_peace_with_TARGET = yes
			}
		}
	}
	option = {
		name = pact.43.b #Refuse
		trigger = { is_ai = no }
		add_war_support = -0.10
		TUR = {
			country_event = pact.46
		}
	}
}

# <country> refuses our peace offer
country_event = {
	id = pact.46
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.46" }
	title = pact.46.t
	desc = pact.46.d

	is_triggered_only = yes

	option = {
		name = pact.46.a # We need to turn the tide
		add_war_support = 0.10
	}
}

### Serbia: we're losing, sue for peace?
country_event = {
	id = pact.47
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.47" }
	title = pact.47.t
	desc = pact.47.d
	picture = GFX_report_event_czech_soldiers_02

	fire_only_once = yes

	trigger = {
		tag = SER
		has_war_with = BUL
		is_faction_leader = yes
		has_country_flag = SER_founded_belgradepact

		has_global_flag = balkan_war_started
		NOT = { has_global_flag = balkan_war_ended }
		surrender_progress > 0.7

		# Morava or Nis is occupied by the enemy
		OR = {
			767 = {
				NOT = { is_controlled_by = SER }
			}
			108 = {
				NOT = { is_controlled_by = SER }
			}
		}

		# Greece or Romania has also to be in a bad shape
		GRE = {
			OR = {
				NOT = { is_in_faction_with = SER }
				has_capitulated = yes
				surrender_progress > 0.7
			}
		}
		ROM = {
			OR = {
				NOT = { is_in_faction_with = SER }
				has_capitulated = yes
				surrender_progress > 0.7
			}
		}
		RRM = {
			OR = {
				NOT = { is_in_faction_with = SER }
				has_capitulated = yes
				surrender_progress > 0.7
			}
		}
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = pact.47.a # Sue for peace.
		BUL = { country_event = pact.48 }
	}
	option = {
		name = pact.47.b # We can still win this
		trigger = { is_ai = no }
		add_political_power = -100
	}
}

# Bulgaria: Serbia offers peace
country_event = {
	id = pact.48
	title = pact.48.t
	desc = pact.48.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event pact.48"
		hidden_effect = {
			every_country = {
				limit = {
					has_war_with = BUL
					OR = {
						tag = SER
						is_in_faction_with = SER
						has_country_flag = ROM_left_faction_for_civil_war
					}
				}
				set_country_flag = SER_joined_balkan_war
			}
			SER = {
				save_event_target_as = white_peace_receiver
			}
		}
	}

	option = {
		name = pact.48.a # We are triumphant
		set_global_flag = balkan_war_ended
		set_global_flag = balkan_war_ended_BUL_victory
		add_political_power = 200

		SER = { white_peace_with_ROOT = yes }

		if = {
			limit = {
				BUL = { has_war_with = ROM }
				ROM = {
					NOT = { is_in_faction_with = SER }
					has_country_flag = ROM_left_faction_for_civil_war
				}
			}
			hidden_effect = {
				BUL = { white_peace = ROM }
			}
		}

		# separate peace for Albania if it joined the war
		if = {
			limit = {
				ALB = {
					has_country_flag = ALB_joined_BUL_war
					has_war_with = SER
				}
			}
			ALB = { white_peace_with_TARGET = yes }
		}
		if = {
			limit = {
				ALB = { has_war_with = ROM }
				ROM = {
					NOT = { is_in_faction_with = SER }
					has_country_flag = ROM_left_faction_for_civil_war
				}
			}
			hidden_effect = {
				ALB = { white_peace = ROM }
			}
		}

		effect_tooltip = {
			SER = { dismantle_faction = yes }
		}

		every_state = {
			limit = {
				owner = {
					has_country_flag = SER_joined_balkan_war
				}
				OR = {
					state = 767 #Nis
					state = 841 #Pirot
					state = 106 #Macedonia
					state = 772 #Dobrogea
					state = 77 #Silistria
					state = 1076 #Southern Macedonia
					state = 989 #Salonika
					state = 731 #Central Macedonia
					state = 769 #Western Thrace
					state = 184 #Eastern Thrace
					is_claim_or_core_of_ROOT = yes
				}
			}
			if = {
				limit = {
					NOT = {
						state = 731
						is_claim_or_core_of_ROOT = yes
					}
				}
				add_claim_by = BUL
			}
			if = {
				limit = {
					state = 731
					NOT = { is_core_of = BUL }
				}
				add_core_of = BUL
			}
			BUL = { transfer_state = PREV }
		}

		if = {
			limit = {
				81 = {
					OR = {
						is_owned_by = ROM
						is_owned_by = RRM
					}
					owner = {
						has_country_flag = SER_joined_balkan_war
					}
				}
			}
			81 = { set_demilitarized_zone = yes } # Oltenia
		}
		if = {
			limit = {
				GRE = {
					has_country_flag = SER_joined_balkan_war
					owns_state = 768
				}
			}
			768 = { set_demilitarized_zone = yes } # Thessalia
		}
		if = {
			limit = {
				ALB = {
					overlord = { has_country_flag = SER_joined_balkan_war }
				}
			}
			ALB = {
				overlord = {
					set_autonomy = {
						target = ALB
						autonomy_state = autonomy_free
					}
				}
			}
		}

		if = {
			limit = {
				ALB = { has_country_flag = ALB_joined_BUL_war }
			}
			every_state = {
				limit = {
					owner = { has_country_flag = SER_joined_balkan_war }
					OR = {
						is_core_of = ALB
						is_claimed_by = ALB
					}
				}
				ALB = { transfer_state = PREV }
			}
		}

		add_timed_idea = {
			idea = BUL_reparation_payments_from_serbia
			days = 1460
		}

		hidden_effect = {
			# Notify all Pact members of peace
			SER = {
				country_event = { id = pact.49 hours = 4 }
			}
			if = {
				limit = {
					ROM = { has_country_flag = SER_joined_balkan_war }
				}
				ROM = {
					country_event = { id = pact.50 hours = 4 }
				}
			}
			if = {
				limit = {
					RRM = { has_country_flag = SER_joined_balkan_war }
				}
				RRM = {
					country_event = { id = pact.50 hours = 4 }
				}
			}
			if = {
				limit = {
					GRE = { has_country_flag = SER_joined_balkan_war }
				}
				GRE = {
					country_event = { id = pact.51 hours = 4 }
				}
			}
		}
	}
	option = {
		name = pact.48.b # No, they shall be crushed.
		trigger = { is_ai = no }
		add_political_power = -100
		SER = { country_event = pact.46 } # Notify Serbia of refusal
	}
}

# Serbia: peace was signed, we lost the war
country_event = {
	id = pact.49
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.49" }
	title = pact.49.t
	desc = pact.49.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {
		name = pact.49.a # At least we exist
		clr_country_flag = SER_joined_balkan_war
		dismantle_faction = yes
		add_timed_idea = {
			idea = SER_reparation_payments
			days = 1460
		}
	}
}

# Romania: peace was signed, we lost the war
country_event = {
	id = pact.50
	title = pact.50.t
	desc = pact.50.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event pact.50"
		hidden_effect = {
			if = {
				limit = {
					tag = ROM
					NOT = { country_exists = RRM }
					is_ai = yes
				}
				set_politics = {
					ruling_party = authoritarian_democrat
					elections_allowed = no
				}
				hidden_effect = {
					add_popularity = {
						ideology = authoritarian_democrat
						popularity = 0.2
					}
				}
			}
		}
	}

	option = {
		name = pact.50.a # At least we exist
		clr_country_flag = SER_joined_balkan_war
		effect_tooltip = {
			SER = { dismantle_faction = yes }
		}
	}
}

# Greece: peace was signed, we lost the war
country_event = {
	id = pact.51
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.51" }
	title = pact.51.t
	desc = pact.51.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {
		name = pact.51.a # At least we exist
		clr_country_flag = SER_joined_balkan_war
		effect_tooltip = {
			SER = { dismantle_faction = yes }
		}

		hidden_effect = {
			country_event = { id = gre.17 days = 5 } # Massive demonstrations after Balkan War loss
		}
	}
}

# Double-check balkan war ending global
country_event = {
	id = pact.52
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.52" }
	title = pact.52.t
	desc = pact.52.d
	picture = GFX_report_event_czech_soldiers_02

	fire_only_once = yes

	trigger = {
		OR = {
			tag = SER
			tag = BUL
		}
		has_global_flag = balkan_war_started
		if = {
			limit = { tag = SER }
			NOT = { has_war_with = BUL }
		}
		if = {
			limit = { tag = BUL }
			NOT = { has_war_with = SER }
		}
		NOT = { has_global_flag = balkan_war_ended }
	}

	mean_time_to_happen = {
		months = 1
	}

	option = {
		name = pact.52.a
		set_global_flag = balkan_war_ended
	}
}

# Double-check removal of Ottoman war flag
country_event = {
	id = pact.53
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.53" }
	title = pact.53.t
	desc = pact.53.d
	picture = GFX_report_event_czech_soldiers_02

	fire_only_once = yes

	trigger = {
		tag = TUR
		has_country_flag = OTT_war_for_thrace
		NOT = { has_war_with = BUL }
	}

	mean_time_to_happen = {
		months = 1
	}

	option = {
		name = pact.53.a
		clr_country_flag = OTT_war_for_thrace
	}
}

# Non-Pact Greece: Serbia made peace
country_event = {
	id = pact.54
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.54" }
	title = pact.54.t
	desc = pact.54.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	trigger = {
		has_war_with = BUL
		BUL = {
			OR = {
				any_owned_state = { is_core_of = GRE }
				owns_state = 731
				owns_state = 769
				owns_state = 184
			}
		}
	}

	option = {
		name = pact.54.a #End the war
		BUL = { white_peace_with_ROOT = yes }

		every_state = {
			limit = {
				is_owned_by = BUL
				OR = {
					is_core_of = GRE
					state = 731 #Western Salonica
					state = 769 #Eastern Salonica
					state = 184 #Western Thrace
				}
			}
			if = {
				limit = {
					NOT = { is_claimed_by = GRE }
					NOT = { is_core_of = GRE }
				}
				add_core_of = GRE
			}
			if = {
				limit = { is_claimed_by = GRE }
				hidden_effect = { remove_claim_by = GRE }
				add_core_of = GRE
			}
			GRE = { transfer_state = PREV }
		}
	}
	option = {
		name = pact.54.b #Continue the war
		add_political_power = -50
		add_war_support = -0.10
	}
}


###########################
# Post-war Belgrade Pact occupation of Bulgaria
###########################

# Set up occupation zones
country_event = {
	id = pact.64
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.64" }
	title = pact.64.t
	desc = pact.64.d
	picture = GFX_report_event_generic_diplomacy2

	fire_only_once = yes

	trigger = {
		tag = SER
		is_faction_leader = yes
		has_country_flag = SER_founded_belgradepact
		has_war = no

		# When the war has started and Bulgaria doesn't exist, it probably is annexed by Serbia
		has_global_flag = balkan_war_started
		NOT = {
			country_exists = BUL
			has_global_flag = balkan_war_ended
		}

		# Serbia or another Pact ally controls a Bulgarian core state that is not their core
		owns_state = 48 #Sofia
		212 = { is_owned_by_ROOT_or_ally = yes } #Plovdiv
		771 = { is_owned_by_ROOT_or_ally = yes } #Varna
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = pact.64.a # Occupy Bulgaria
		set_country_flag = SER_occupation_of_bulgaria
		add_ideas = SER_occupation_of_bulgaria_idea

		belgrade_pact_occupies_bulgaria = yes

		every_country = {
			limit = {
				NOT = { tag = SER }
				is_in_faction_with = SER
				any_owned_state = {
					is_claim_or_core_of_PREV = no
					is_core_of = BUL
				}
			}
			country_event = { id = pact.65 hours = 6 }
		}
	}
	option = {
		name = pact.64.b # Let them have their independence
		trigger = { is_ai = no }

		add_political_power = -100

		# Transfer all Bulgarian states to Bulgaria
		every_owned_state = {
			limit = {
				OR = {
					state = 48 #Sofia
					state = 1090 #Vidin
					state = 770 #Pleven
					state = 212 #Plovdiv
					state = 1089 #Momchilgrad
					state = 771 #Varna
					state = 211 #Burgas
				}
				is_core_of = BUL
			}
			BUL = {
				transfer_state = PREV
			}
		}

		# Pact members asked to give up land
		every_country = {
			limit = {
				NOT = { tag = SER }
				is_in_faction_with = SER
			}
			country_event = pact.68
			hidden_effect = {
				country_event = { id = pact.110 days = 1 }
				country_event = { id = pact.111 days = 1 }
				country_event = { id = pact.112 days = 1 }
			}
		}

		hidden_effect = {
			country_event = { id = pact.110 days = 1 }
			country_event = { id = pact.111 days = 1 }
			country_event = { id = pact.112 days = 1 }
		}
	}
}

# Pact members: Serbia asks to set up occupation zones
country_event = {
	id = pact.65
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.65" }
	title = pact.65.t
	desc = pact.65.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = pact.65.a # Very well
		set_country_flag = SER_occupation_of_bulgaria

		belgrade_pact_occupies_bulgaria = yes
	}

	option = {
		name = pact.65.b # No
		trigger = { is_ai = no }
		add_political_power = -200

		effect_tooltip = {
			SER = { remove_from_faction = ROOT }
		}

		SER = {
			country_event = { id = pact.66 hours = 6 }
		}
	}
}

# Serbia: [Country] refuses to set up occupation zone
country_event = {
	id = pact.66
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.66" }
	title = pact.66.t
	desc = pact.66.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = pact.66.a # This is outrageous!
		remove_from_faction = FROM

		reverse_add_opinion_modifier = {
			target = SER
			modifier = Belgrade_Pact_refused_occupation_zone
		}
	}
}

# End of the occupation of Bulgaria (Triggered by Serbian focus)
country_event = {
	id = pact.67
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.67" }
	title = pact.67.t
	desc = pact.67.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = pact.67.a # End the occupation
		clr_country_flag = SER_occupation_of_bulgaria

		# Transfer all Bulgarian states to Bulgaria
		every_owned_state = {
			limit = {
				is_claim_or_core_of_ROOT = no
				OR = {
					state = 48 #Sofia
					state = 1090 #Vidin
					state = 770 #Pleven
					state = 212 #Plovdiv
					state = 1089 #Momchilgrad
					state = 771 #Varna
					state = 211 #Burgas
				}
			}
			BUL = { transfer_state = PREV }
		}

		SER = { puppet = BUL }

		# Bulgaria transfer some factories
		belgrade_pact_loot_factory_from_bulgaria = yes

		# Ask Pact members to cede their occupied lands to Bulgaria
		every_country = {
			limit = {
				NOT = { tag = SER }
				is_in_faction_with = SER
			}
			country_event = pact.68
			hidden_effect = {
				country_event = { id = pact.110 days = 1 }
				country_event = { id = pact.111 days = 1 }
				country_event = { id = pact.112 days = 1 }
			}
		}

		BUL = {
			country_event = { id = pact.69 days = 3 }
		}

		hidden_effect = {
			country_event = { id = pact.110 days = 1 }
			country_event = { id = pact.111 days = 1 }
			country_event = { id = pact.112 days = 1 }
		}
	}
}

# Pact members: end of the occupation, cede land to Bulgaria?
country_event = {
	id = pact.68
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.68" }
	title = pact.68.t
	desc = pact.68.d

	is_triggered_only = yes

	trigger = {
		OR = {
			owns_state = 48 #Sofia
			owns_state = 1090 #Vidin
			owns_state = 770 #Pleven
			owns_state = 212 #Plovdiv
			owns_state = 1089 #Momchilgrad
			owns_state = 771 #Varna
			owns_state = 211 #Burgas
		}
	}

	option = {
		name = pact.68.a # Agree
		clr_country_flag = SER_occupation_of_bulgaria

		# Transfer all Bulgarian states to Bulgaria
		every_owned_state = {
			limit = {
				is_not_claim_or_core_of_ROOT = yes
				OR = {
					state = 48 #Sofia
					state = 1090 #Vidin
					state = 770 #Pleven
					state = 212 #Plovdiv
					state = 1089 #Momchilgrad
					state = 771 #Varna
					state = 211 #Burgas
				}
			}
			BUL = {
				transfer_state = PREV
			}
		}

		# Bulgaria transfers some factories to this country
		belgrade_pact_loot_factory_from_bulgaria = yes
	}

	option = {
		name = pact.68.b # No, we keep what we have
		trigger = { is_ai = no }
		clr_country_flag = SER_occupation_of_bulgaria

		add_political_power = -50
		SER = { remove_from_faction = ROOT }

		reverse_add_opinion_modifier = {
			target = SER
			modifier = Belgrade_Pact_refused_to_end_occupation
		}
	}
}

# Bulgaria renounces its claims
country_event = {
	id = pact.69
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.69" }
	title = pact.69.t
	desc = pact.69.d

	is_triggered_only = yes

	option = {
		name = pact.69.a # We have no choice
		add_political_power = -100
		every_state = {
			limit = {
				OR = {
					is_core_of = BUL
					is_claimed_by = BUL
				}
				NOT = {
					is_owned_by = BUL
					state = 48 #Sofia
					state = 1090 #Vidin
					state = 770 #Pleven
					state = 212 #Plovdiv
					state = 1089 #Momchilgrad
					state = 771 #Varna
					state = 211 #Burgas
				}
			}
			if = {
				limit = { is_claimed_by = BUL }
				remove_claim_by = BUL
			}
			if = {
				limit = { is_core_of = BUL }
				remove_core_of = BUL
				add_claim_by = BUL
			}
		}

		hidden_effect = {
			# Remove all negative opinion modifiers
			every_country = {
				limit = {
					OR = {
						tag = SER
						tag = GRE
						tag = ROM
						tag = RRM
						tag = MNT
					}
				}
				remove_opinion_modifier = { target = BUL modifier = embargo }
				remove_opinion_modifier = { target = BUL modifier = Balkans_hates_bulgaria }
			}

			remove_opinion_modifier = { target = SER modifier = Balkans_hates_neighbours }
			remove_opinion_modifier = { target = GRE modifier = Balkans_hates_neighbours }
			remove_opinion_modifier = { target = ROM modifier = Balkans_hates_neighbours }
			remove_opinion_modifier = { target = RRM modifier = Balkans_hates_neighbours }
		}
	}
}


###########################
# Albania vs. the Belgrade Pact
# (and other bad choices)
###########################

### Albania: start of the war, support Bulgaria?
country_event = {
	id = pact.70
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.70" }
	title = pact.70.t
	desc = pact.70.d
	picture = GFX_report_event_czech_soldiers_02

	trigger = {
		tag = ALB
		has_country_flag = SER_supported_bulgaria
		is_subject = no
		can_declare_war_on = SER
		SER = {
			has_country_flag = SER_founded_belgradepact
			is_faction_leader = yes
			has_war_with = BUL
		}
	}

	fire_only_once = yes

	mean_time_to_happen = {
		days = 14
	}

	option = {
		name = pact.70.a # Send aid
		trigger = {
			OR = {
				has_manpower > 1000
				has_equipment = { infantry_equipment > 1000 }
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT_OTT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT_SUBMIT_TO_OTT
					}
				}
			}
		}

		add_manpower = -1000
		hidden_effect = {
			BUL = { add_manpower = 1000 }
		}
		send_equipment = {
			target = BUL
			type = infantry_equipment
			amount = 1000
		}
	}

	option = {
		name = pact.70.b # Offer an alliance
		ai_chance = {
			factor = 40
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_VS_PACT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_VS_PACT_OTT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_VS_PACT_SUBMIT_TO_OTT
					}
				}
			}
		}
		BUL = {
			country_event = { id = pact.71 days = 1 }
		}
	}

	option = {
		name = pact.70.c # We can't do anything
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT_OTT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT_SUBMIT_TO_OTT
					}
				}
			}
		}
		clr_country_flag = SER_supported_bulgaria
	}
}

# Bulgaria: The Albanians offer an alliance
country_event = {
	id = pact.71
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.71" }
	title = pact.71.t
	desc = pact.71.d
	picture = GFX_report_event_czech_soldiers_02

	is_triggered_only = yes

	trigger = {
		has_war_with = SER
	}

	option = {
		name = pact.71.a # Of course
		ai_chance = {
			factor = 80
			modifier = {
				factor = 0.5
				NOT = {
					GRE = { is_in_faction_with = SER }
				}
			}
		}
		ALB = {
			country_event = { id = pact.72 hours = 4 }
			add_to_war = {
				targeted_alliance = BUL
				enemy = SER
			}
		}
		hidden_effect = {
			BUL = { give_military_access = ALB }
			ALB = { give_military_access = BUL }
		}
		ALB = {
			country_event = { id = pact.73 hours = 4 }
		}
	}

	option = {
		name = pact.71.b # We don't need them.
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT_OTT
					}
					has_game_rule = {
						rule = BUL_fourth_balkan_war
						option = BUL_FOURTH_BALKAN_WAR_BUL_ALB_VS_PACT_SUBMIT_TO_OTT
					}
				}
			}
		}
		ALB = {
			country_event = { id = pact.73 hours = 4 }
		}
	}
}

# Albania: Bulgaria accepts our alliance
country_event = {
	id = pact.72
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.72" }
	title = pact.72.t
	desc = pact.72.d
	picture = GFX_report_event_czech_soldiers_02

	is_triggered_only = yes

	option = {
		name = pact.72.a # Together, we will defeat the Belgrade Pact.
		set_country_flag = ALB_joined_BUL_war
		effect_tooltip = {
			add_to_war = {
				targeted_alliance = BUL
				enemy = SER
			}
		}
	}
}

# Albania: Bulgaria refuses our alliance
country_event = {
	id = pact.73
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.73" }
	title = pact.73.t
	desc = pact.73.d
	picture = GFX_report_event_czech_soldiers_02

	is_triggered_only = yes

	option = {
		name = pact.73.a # Good luck on your own then.
		clr_country_flag = SER_supported_bulgaria
	}
}

### Albania: we're losing, sue for peace?
country_event = {
	id = pact.74
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.74" }
	title = pact.74.t
	desc = pact.74.d

	trigger = {
		tag = ALB
		has_country_flag = ALB_joined_BUL_war

		BUL = {
			OR = {
				exists = no
				is_subject = yes
				NOT = { has_war_with = SER }
				surrender_progress > 0.50
			}
		}

		has_war_with = SER
		SER = { is_faction_leader = yes }

		surrender_progress > 0.25
	}

	mean_time_to_happen = {
		days = 3
	}

	fire_only_once = yes

	option = {
		name = pact.74.a # Sue for peace.
		add_political_power = -50
		SER = { country_event = pact.75 } # Send the peace offer to Serbia
	}
	option = {
		name = pact.74.b # We can still win this!
		trigger = { is_ai = no }
		clr_country_flag = ALB_joined_BUL_war
		add_political_power = -100
	}
}

# Serbia: The Albanians offer peace
country_event = {
	id = pact.75
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.75" }
	title = pact.75.t
	desc = pact.75.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {
		name = pact.75.a # The Belgrade Pact stands triumphant
		ALB = { white_peace_with_ROOT = yes }

		if = {
			limit = {
				ALB = { has_war_with = ROM }
				ROM = {
					NOT = { is_in_faction_with = SER }
					has_country_flag = ROM_left_faction_for_civil_war
				}
			}
			hidden_effect = {
				ALB = { white_peace = ROM }
			}
		}

		belgrade_pact_gain_land_from_albania = yes

		hidden_effect = {
			# Notify all Pact members
			every_country = {
				limit = {
					NOT = { tag = SER }
					is_in_faction_with = SER
				}
				country_event = pact.77
			}
		}
	}
	option = {
		name = pact.75.b # No, they shall be crushed
		trigger = { is_ai = no }
		add_political_power = -100
		ALB = { country_event = pact.46 } # Notify Albanians of refusal
	}
}

# Pact members: Peace with the Albania
country_event = {
	id = pact.77
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.77" }
	title = pact.77.t
	desc = pact.77.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {
		name = pact.77.a # Belgrade Pact stands triumphant
		effect_tooltip = {
			SER = { white_peace = ALB }
		}
	}
}

### Serbia: Defeated Bulgaria but Albanians are pushing us back
country_event = {
	id = pact.78
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.78" }
	title = pact.78.t
	desc = pact.78.d
	picture = GFX_report_event_czech_soldiers_02

	trigger = {
		tag = SER
		is_faction_leader = yes
		has_country_flag = SER_founded_belgradepact
		surrender_progress > 0.50

		BUL = {
			OR = {
				exists = no
				is_subject_of = SER
				has_capitulated = yes
			}
		}

		has_war_with = ALB

		ALB = {
			controls_state = 765 #Kossovo
			controls_all_owned_states = yes
			has_country_flag = ALB_joined_BUL_war
		}
	}

	mean_time_to_happen = {
		days = 30
	}

	fire_only_once = yes

	option = {
		name = pact.78.a # Sue for peace.
		add_political_power = -50
		ALB = { country_event = pact.79 } # Send the peace offer to the Albanians
	}

	option = {
		name = pact.78.b # We can still win this!
		trigger = { is_ai = no }
		add_political_power = -100
	}
}

# Albanians: Serbia offers peace
country_event = {
	id = pact.79
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.79" }
	title = pact.79.t
	desc = pact.79.d
	picture = GFX_report_event_czech_soldiers_02

	is_triggered_only = yes

	option = {
		name = pact.79.a # Enough bloodshed. End this war.
		clr_country_flag = ALB_joined_BUL_war

		every_state = {
			limit = {
				owner = { is_in_faction_with = SER }
				OR = {
					is_core_of = ALB
					is_claimed_by = ALB
					state = 106 #Macedonia
					state = 185 #Epirus
				}
			}
			if = {
				limit = {
					NOT = {
						is_claimed_by = ALB
						is_core_of = ALB
					}
				}
				add_claim_by = ALB
			}
			ALB = { transfer_state = PREV }
		}

		SER = { white_peace_with_ROOT = yes }

		if = {
			limit = {
				ALB = { has_war_with = ROM }
				ROM = {
					NOT = { is_in_faction_with = SER }
					has_country_flag = ROM_left_faction_for_civil_war
				}
			}
			hidden_effect = {
				ALB = { white_peace = ROM }
			}
		}

		hidden_effect = {
			# Notify all Pact members of peace
			every_country = {
				limit = {
					OR = {
						tag = SER
						is_in_faction_with = SER
					}
				}
				country_event = pact.80
			}
		}
	}

	option = {
		name = pact.79.b # No, they shall be crushed
		trigger = { is_ai = no }
		clr_country_flag = ALB_joined_BUL_war
		add_political_power = -100
		SER = { country_event = pact.46 } # Notify Serbia of refusal
	}
}

# Pact members: peace was signed
country_event = {
	id = pact.80
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.80" }
	title = pact.80.t
	desc = pact.80.d

	is_triggered_only = yes

	option = {
		name = pact.80.a # Unfortunate
		add_political_power = -100
		effect_tooltip = {
			ALB = { white_peace = SER }
		}
	}
}

# Double-check removal of Albanian war flag
country_event = {
	id = pact.81
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.81" }
	title = pact.81.t
	desc = pact.81.d
	picture = GFX_report_event_czech_soldiers_02

	fire_only_once = yes

	trigger = {
		tag = ALB
		has_country_flag = ALB_joined_BUL_war
		NOT = { has_war_with = SER }
	}

	mean_time_to_happen = {
		months = 1
	}

	option = {
		name = pact.81.a
		clr_country_flag = ALB_joined_BUL_war
	}
}


###########################
# Belgrade Pact vs. Austria
###########################

# Preventing Pact members from collapsing just because Serbia has
country_event = {
	id = pact.100
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.100" }
	title = pact.100.t
	desc = pact.100.d
	picture = GFX_report_event_czech_soldiers_02

	trigger = {
		OR = {
			tag = ROM
			tag = RRM
			tag = GRE
		}
		is_in_faction_with = SER
		SER = { is_faction_leader = yes }
		is_major = no
		has_war = yes
		NOT = { has_country_flag = belgrade_pact_major }
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = pact.100.a
		set_country_flag = belgrade_pact_major
		set_major = yes
	}
}

# Re-setting their major status
country_event = {
	id = pact.101
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.101" }
	title = pact.101.t
	desc = pact.101.d

	trigger = {
		OR = {
			tag = ROM
			tag = RRM
			tag = GRE
		}
		has_country_flag = belgrade_pact_major
		is_major = yes
		OR = {
			has_war = no
			NOT = { is_in_faction_with = SER }
		}
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = pact.101.a
		clr_country_flag = belgrade_pact_major
		set_major = no
	}
}

# Serbia is waiting to attack Austria
country_event = {
	id = pact.102
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.102" }
	title = pact.102.t
	desc = pact.102.d

	trigger = {
		tag = SER
		is_subject = no
		has_war = no
		can_declare_war_on = AUS
		AUS = {
			is_subject = no
		}
		is_ai = yes
		OR = {
			is_in_faction = no
			is_faction_leader = yes
		}
		OR = {
			# waiting to do SER_status_of_montenegro focus
			AND = {
				NOT = { has_completed_focus = SER_status_of_montenegro }
				105 = {
					owned_by_austria_or_puppet = yes
					any_neighbor_state = { is_owned_by = ROOT }
				}
				OR = {
					has_completed_focus = SER_greater_serbia
					has_completed_focus = SER_slavic_federation
				}
			}
			# waiting to do SER_free_bosnia focus
			AND = {
				NOT = { has_completed_focus = SER_free_bosnia }
				104 = {
					owned_by_austria_or_puppet = yes
					any_neighbor_state = { is_owned_by = ROOT }
				}
				OR = {
					has_completed_focus = SER_greater_serbia
					has_completed_focus = SER_slavic_federation
				}
			}
			# waiting to do SER_conquer_vojvodina focus
			AND = {
				NOT = { has_completed_focus = SER_conquer_vojvodina }
				45 = {
					owned_by_austria_or_puppet = yes
					any_neighbor_state = { is_owned_by = ROOT }
				}
				OR = {
					has_completed_focus = SER_greater_serbia
					has_completed_focus = SER_slavic_federation
				}
			}
			# waiting to do SER_claim_dalmatia focus
			AND = {
				NOT = { has_completed_focus = SER_claim_dalmatia }
				163 = {
					owned_by_austria_or_puppet = yes
					any_neighbor_state = { is_owned_by = ROOT }
				}
				has_completed_focus = SER_free_bosnia
			}
			# waiting to do SER_claim_slovenia focus
			AND = {
				NOT = { has_completed_focus = SER_claim_slovenia }
				102 = {
					owned_by_austria_or_puppet = yes
					any_neighbor_state = { is_owned_by = ROOT }
				}
				has_completed_focus = SER_form_yugoslavia
			}
		}
		NOT = {
			has_country_flag = waiting_to_attack_austria
		}
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = pact.102.a
		set_country_flag = waiting_to_attack_austria
	}
}

# Serbia no longer waiting to attack Austria
country_event = {
	id = pact.103
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.103" }
	title = pact.103.t
	desc = pact.103.d

	trigger = {
		tag = SER
		has_country_flag = waiting_to_attack_austria
		is_ai = yes
		OR = {
			is_subject = yes
			has_war = yes
			AUS = { is_subject = yes }
			NOT = { can_declare_war_on = AUS }
			AND = {
				is_in_faction = yes
				is_faction_leader = no
			}
			NOT = {
				# waiting to do SER_status_of_montenegro focus
				AND = {
					NOT = { has_completed_focus = SER_status_of_montenegro }
					105 = {
						owned_by_austria_or_puppet = yes
						any_neighbor_state = { is_owned_by = ROOT }
					}
					OR = {
						has_completed_focus = SER_greater_serbia
						has_completed_focus = SER_slavic_federation
					}
				}
				# waiting to do SER_free_bosnia focus
				AND = {
					NOT = { has_completed_focus = SER_free_bosnia }
					104 = {
						owned_by_austria_or_puppet = yes
						any_neighbor_state = { is_owned_by = ROOT }
					}
					OR = {
						has_completed_focus = SER_greater_serbia
						has_completed_focus = SER_slavic_federation
					}
				}
				# waiting to do SER_conquer_vojvodina focus
				AND = {
					NOT = { has_completed_focus = SER_conquer_vojvodina }
					45 = {
						owned_by_austria_or_puppet = yes
						any_neighbor_state = { is_owned_by = ROOT }
					}
					OR = {
						has_completed_focus = SER_greater_serbia
						has_completed_focus = SER_slavic_federation
					}
				}
				# waiting to do SER_claim_dalmatia focus
				AND = {
					NOT = { has_completed_focus = SER_claim_dalmatia }
					163 = {
						owned_by_austria_or_puppet = yes
						any_neighbor_state = { is_owned_by = ROOT }
					}
					has_completed_focus = SER_free_bosnia
				}
				# waiting to do SER_claim_slovenia focus
				AND = {
					NOT = { has_completed_focus = SER_claim_slovenia }
					102 = {
						owned_by_austria_or_puppet = yes
						any_neighbor_state = { is_owned_by = ROOT }
					}
					has_completed_focus = SER_form_yugoslavia
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = pact.103.a
		clr_country_flag = waiting_to_attack_austria
	}
}

# Romania is waiting to attack Austria
country_event = {
	id = pact.104
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.104" }
	title = pact.104.t
	desc = pact.104.d

	trigger = {
		tag = ROM
		is_subject = no
		has_war = no
		can_declare_war_on = AUS
		AUS = {
			is_subject = no
		}
		is_ai = yes
		# waiting to do ROM_demand_transylvania focus
		OR = {
			84 = { owned_by_austria_or_puppet = yes }
			789 = { owned_by_austria_or_puppet = yes }
		}
		NOT = {
			has_completed_focus = ROM_transylvania_or_war
			has_country_flag = waiting_to_attack_austria
		}
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = pact.104.a
		set_country_flag = waiting_to_attack_austria
	}
}

# Romania no longer waiting to attack Austria
country_event = {
	id = pact.105
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.105" }
	title = pact.105.t
	desc = pact.105.d

	trigger = {
		tag = ROM
		has_country_flag = waiting_to_attack_austria
		is_ai = yes
		OR = {
			is_subject = yes
			has_war = yes
			has_completed_focus = ROM_transylvania_or_war
			AUS = { is_subject = yes }
			NOT = { can_declare_war_on = AUS }
			NOT = {
				84 = { owned_by_austria_or_puppet = yes }
				789 = { owned_by_austria_or_puppet = yes }
			}
		}
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = pact.105.a
		clr_country_flag = waiting_to_attack_austria
	}
}

# Italy is waiting to attack Austria
country_event = {
	id = pact.106
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.106" }
	title = pact.106.t
	desc = pact.106.d

	trigger = {
		tag = ITA
		is_subject = no
		has_war = no
		OR = {
			has_government = national_populist
			783 = { is_claimed_by = ROOT }
			736 = { is_claimed_by = ROOT }
		}
		can_declare_war_on = AUS
		AUS = {
			is_subject = no
			owns_state = 783
			owns_state = 736
			NOT = { is_in_faction_with = GER }
		}
		is_ai = yes
		OR = {
			is_in_faction = no
			is_faction_leader = yes
		}
		NOT = {
			has_country_flag = waiting_to_attack_austria
			has_country_flag = ITA_venice_will_rebel
			has_idea = ITA_austrian_influence
		}
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = pact.106.a
		set_country_flag = waiting_to_attack_austria
	}
}

# Italy no longer waiting to attack Austria
country_event = {
	id = pact.107
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.107" }
	title = pact.107.t
	desc = pact.107.d

	trigger = {
		tag = ITA
		has_country_flag = waiting_to_attack_austria
		is_ai = yes
		OR = {
			is_subject = yes
			has_war = yes
			has_idea = ITA_austrian_influence
			has_country_flag = ITA_venice_will_rebel
			NOT = {
				has_government = national_populist
				783 = { is_claimed_by = ROOT }
				736 = { is_claimed_by = ROOT }
			}
			NOT = {
				can_declare_war_on = AUS
				AUS = {
					is_subject = no
					owns_state = 783
					owns_state = 736
					NOT = { is_in_faction_with = GER }
				}
			}
			AND = {
				is_in_faction = yes
				is_faction_leader = no
			}
		}
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = pact.107.a
		clr_country_flag = waiting_to_attack_austria
	}
}

# Poland is waiting to attack Austria
country_event = {
	id = pact.108
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.108" }
	title = pact.108.t
	desc = pact.108.d

	trigger = {
		tag = POL
		has_completed_focus = POL_opportunism
		is_subject = no
		has_war = no
		can_declare_war_on = AUS
		AUS = {
			is_subject = no
		}
		is_ai = yes
		88 = { owned_by_austria_or_puppet = yes }
		NOT = {
			has_completed_focus = POL_return_galicia
			has_country_flag = waiting_to_attack_austria
			88 = { is_core_of = POL }
			80 = { is_core_of = POL }
			713 = { is_core_of = POL }
			89 = { is_core_of = POL }
			91 = { is_core_of = POL }
		}
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = pact.108.a
		set_country_flag = waiting_to_attack_austria
	}
}

# Poland no longer waiting to attack Austria
country_event = {
	id = pact.109
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.109" }
	title = pact.109.t
	desc = pact.109.d

	trigger = {
		tag = POL
		has_country_flag = waiting_to_attack_austria
		is_ai = yes
		OR = {
			has_war = yes
			is_subject = yes
			AUS = { is_subject = yes }
			NOT = { can_declare_war_on = AUS }
			88 = { owned_by_austria_or_puppet = no }
			has_completed_focus = POL_return_galicia
			88 = { is_core_of = POL }
			80 = { is_core_of = POL }
			713 = { is_core_of = POL }
			89 = { is_core_of = POL }
			91 = { is_core_of = POL }
		}
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = pact.109.a
		clr_country_flag = waiting_to_attack_austria
	}
}


###########################
# Transfer events
###########################

# Transfering Macedonia
country_event = {
	id = pact.110
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.110" }
	title = annexation_BUL_MAC_CONQ
	desc = annexation_BUL_MAC_CONQ_desc
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	trigger = {
		NOT = { tag = SER }
		OR = {
			owns_state = 841 #Pirot
			owns_state = 106 #Macedonia
		}
		OR = {
			SER = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
			BUL = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
		}
	}

	option = { #give to Serbia
		name = pact.110.a
		trigger = {
			SER = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 5
				is_in_faction_with = SER
			}
		}
		SER = {
			country_event = pact.118
		}
	}
	option = { #give to Bulgaria
		name = pact.110.b
		trigger = {
			BUL = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 5
				is_in_faction_with = BUL
			}
		}
		BUL = {
			country_event = pact.119
		}
	}
	option = { #Split it
		name = pact.110.c
		ai_chance = {
			factor = 25
			modifier = {
				factor = 5
				is_in_faction_with = SER
				is_in_faction_with = BUL
			}
		}
		trigger = {
			owns_state = 841
			owns_state = 106
			BUL = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
			SER = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
		}
		SER = {
			country_event = pact.120
		}
		BUL = {
			country_event = pact.121
		}
	}
	option = { #Keep it
		name = pact.110.e
		trigger = { is_ai = no }
		set_country_flag = MACEDONIA_CONQ
	}
}

# Transfering Dobruzha
country_event = {
	id = pact.111
	title = annexation_DOBROGEA_CONQ
	desc = annexation_DOBROGEA_CONQ_desc
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	trigger = {
		NOT = {
			tag = ROM
			tag = RRM
		}
		OR = {
			owns_state = 772
			owns_state = 77
		}
		OR = {
			ROM = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
			RRM = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
			BUL = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
		}
	}

	immediate = {
		log = "[GetDateText]: [Root.GetName]: event pact.111"
		if = {
			limit = { is_in_faction_with = ROM }
			ROM = { save_event_target_as = romania_target }
		}
		else_if = {
			limit = { is_in_faction_with = RRM }
			RRM = { save_event_target_as = romania_target }
		}
		else_if = {
			limit = { country_exists = ROM }
			ROM = { save_event_target_as = romania_target }
		}
		else = {
			RRM = { save_event_target_as = romania_target }
		}
	}

	option = {
		name = pact.111.a #Give it to Romania
		trigger = {
			event_target:romania_target = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 5
				is_in_faction_with = event_target:romania_target
			}
		}
		event_target:romania_target = {
			country_event = pact.114
		}
	}

	option = {
		name = pact.111.b #Give it to Bulgaria
		trigger = {
			BUL = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 5
				is_in_faction_with = BUL
			}
		}
		hidden_effect = {
			BUL = {
				country_event = pact.115
			}
		}
	}

	option = {
		name = pact.111.c
		ai_chance = {
			factor = 25
			modifier = {
				factor = 5
				is_in_faction_with = event_target:romania_target
				is_in_faction_with = BUL
			}
		}
		trigger = {
			owns_state = 772
			owns_state = 77
			BUL = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
			event_target:romania_target = {
				exists = yes
				NOT = { has_war_with = ROOT }
			}
		}
		event_target:romania_target = {
			country_event = pact.116
		}
		BUL = {
			country_event = pact.117
		}
	}
	option = { #Keep it
		name = pact.111.e
		trigger = { is_ai = no }
		set_country_flag = DOBROGEA_CONQ
	}
}

# Transfering East and West Salonica
country_event = {
	id = pact.112
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.112" }
	title = annexation_SALONICA_CONQ
	desc = annexation_SALONICA_CONQ_desc
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = { #Give to Greece
		name = pact.112.a
		trigger = {
			GRE = { is_ally_of_ROOT = yes }
			NOT = {
				tag = GRE
				tag = BUL
			}
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 5
				GRE = {
					is_in_faction_with = ROOT
					is_subject = no
				}
			}
		}
		set_temp_variable = { tag_to_release = GRE }
		731 = { #Western Macedonia
			if = {
				limit = { is_claim_or_core_of_ROOT = no }
				transfer_state_and_add_claim = yes
				save_event_target_as = transfer_state
				hidden_effect = { state_event = { id = gre.257 trigger_for = owner } }
			}
		}
		769 = { #Eastern Macedonia
			if = {
				limit = { is_claim_or_core_of_ROOT = no }
				transfer_state_and_add_claim = yes
				save_event_target_as = transfer_state
				hidden_effect = { state_event = { id = gre.257 trigger_for = owner } }
			}
		}
	}
	option = { #Give to Bulgaria
		name = pact.111.b
		trigger = {
			BUL = { 
				is_ally_of_ROOT = yes
				owns_state = 106
			}
			NOT = {
				tag = GRE
				tag = BUL
			}
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 5
				BUL = {
					is_in_faction_with = ROOT
					is_subject = no
				}
			}
			modifier = {
				factor = 0.01
				BUL = {
					NOT = { owns_state = 106 }
				}
			}
		}
		set_temp_variable = { tag_to_release = BUL }
		731 = { add_claim_of_target_and_transfer_if_owned = yes }
		769 = { add_claim_of_target_and_transfer_if_owned = yes }
	}
	option = { #Divide it up
		name = pact.111.c
		trigger = {
			731 = {
				is_owned_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
			769 = {
				is_owned_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
			BUL = { is_ally_of_ROOT = yes }
			GRE = { is_ally_of_ROOT = yes }
			NOT = {
				tag = BUL
				tag = GRE
			}
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 10
				BUL = {
					NOT = { owns_state = 106 }
				}
			}
		}
		set_temp_variable = { tag_to_release = GRE }
		731 = {
			transfer_state_and_add_claim = yes
			save_event_target_as = transfer_state
			hidden_effect = { state_event = { id = gre.257 trigger_for = owner } }
		}
		set_temp_variable = { tag_to_release = BUL }
		769 = { transfer_state_and_add_core = yes }
	}
	option = { #Divide it up
		name = pact.111.c
		trigger = {
			731 = {
				is_owned_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
			769 = {
				is_owned_by = ROOT
				is_claim_or_core_of_ROOT = no
			}
			BUL = { is_ally_of_ROOT = yes }
			GRE = { is_ally_of_ROOT = no }
			is_ally_with = SER
			SER = { owns_state = 106 } #Macedonia
			NOT = {
				tag = BUL
				tag = GRE
			}
		}
		ai_chance = {
			base = 40
			modifier = {
				factor = 10
				BUL = {
					NOT = { owns_state = 106 }
				}
			}
		}
		if = {
			limit = { NOT = { tag = SER } }
			SER = {
				transfer_state = 731
			}
		}
		769 = {
			if = {
				limit = { is_claimed_by = BUL }
				remove_claim_by = BUL
			}
			if = {
				limit = { NOT = { is_core_of = BUL } }
				add_core_of = BUL
			}
			transfer_state_to = BUL
		}
		recheck_annexations = yes
	}
	option = { #Grant it to GRE
		name = pact.112.e
		trigger = {
			NOT = {
				GRE = { is_ally_of_ROOT = yes }
				BUL = { is_ally_of_ROOT = yes }
				tag = GRE
				tag = BUL
			}
			GRE = {
				owns_state = 1076
				ROOT_can_grant_land = yes
			}
		}
		ai_chance = {
			base = 20
		}
		set_temp_variable = { tag_to_release = GRE }
		731 = { #Western Macedonia
			if = {
				limit = { is_claim_or_core_of_ROOT = no }
				transfer_state_and_add_claim = yes
				save_event_target_as = transfer_state
				hidden_effect = { state_event = { id = gre.257 trigger_for = owner } }
			}
		}
		769 = { #Eastern Macedonia
			if = {
				limit = { is_claim_or_core_of_ROOT = no }
				transfer_state_and_add_claim = yes
				save_event_target_as = transfer_state
				hidden_effect = { state_event = { id = gre.257 trigger_for = owner } }
			}
		}
	}
	option = { #annex
		name = annex.integration
		trigger = {
			tag = GRE
		}
		ai_chance = {
			base = 1000
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 731
					state = 769
				}
			}
			if = {
				limit = {
					NOT = { is_claimed_by = GRE }
					NOT = { is_core_of = GRE }
				}
				add_claim_by = GRE
			}
		}
		recheck_annexations = yes
	}
	option = { #annex
		name = annex.integration
		trigger = {
			tag = BUL
		}
		ai_chance = {
			base = 1000
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 731
					state = 769
				}
			}
			if = {
				limit = { is_claimed_by = ROOT }
				remove_claim_by = ROOT
			}
			if = {
				limit = { NOT = { is_core_of = ROOT } }
				add_core_of = ROOT
			}
		}
		recheck_annexations = yes
	}
	option = { #occupy
		name = annex.occupation
		trigger = {
			is_ai = no
			NOT = {
				tag = GRE
				tag = BUL
			}
		}
		set_country_flag = SALONICA_CONQ
		occupy_small_country = yes
	}
}

# Transferring Western Thrace
country_event = {
	id = pact.113
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.113 FROM = [From.GetName]" }
	title = annexation_THRACE_CONQ
	desc = annexation_THRACE_CONQ_desc
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = { #Give to Greece
		name = pact.112.a
		trigger = {
			GRE = {
				ROOT_can_grant_land = yes
				owns_state = 769 #Eastern Macedonia
				OR = {
					owns_state = 184 #Western Thrace
					184 = { is_valid_annexation_state = yes } #Western Thrace
				}
			}
			NOT = {
				tag = GRE
				tag = BUL
				tag = TUR
				tag = TUR
			}
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 5
				GRE = {
					is_in_faction_with = ROOT
					is_subject = no
				}
			}
		}
		set_temp_variable = { tag_to_release = GRE }
		184 = { #Western Thrace
			add_claim_of_target_and_transfer_if_owned = yes
			save_event_target_as = transfer_state
			hidden_effect = { state_event = { id = gre.257 trigger_for = owner } }
		}
		1089 = { #Kardzhali
			add_claim_of_target_and_transfer_if_owned = yes
			save_event_target_as = transfer_state
			hidden_effect = { state_event = { id = gre.257 trigger_for = owner } }
		}
	}
	option = { #Give to Bulgaria
		name = pact.111.b
		trigger = {
			BUL = {
				ROOT_can_grant_land = yes
				OR = {
					owns_state = 1089 #Kardzhali
					1089 = { is_valid_annexation_state = yes } #Kardzhali
				}
			}
			NOT = {
				tag = GRE
				tag = BUL
				tag = TUR
				tag = TUR
			}
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 5
				BUL = {
					is_in_faction_with = ROOT
					is_subject = no
				}
			}
		}
		set_temp_variable = { tag_to_release = BUL }
		184 = { add_core_of_target_and_transfer_if_owned = yes } #Western Thrace
		1089 = { add_core_of_target_and_transfer_if_owned = yes } #Kardzhali
	}
	option = { #Give to Serbia
		name = pact.111.f
		trigger = {
			SER = {
				is_ally_of_ROOT = yes
				owns_state = 49 #Sofia
				owns_state = 212 #Plovdiv
			}
			OR = {
				SER = { owns_state = 1089 } #Kardzhali
				1089 = { is_valid_annexation_state = yes }
			}
			NOT = {
				tag = GRE
				tag = BUL
				tag = TUR
				tag = TUR
				tag = SER
			}
		}
		ai_chance = {
			base = 90
			modifier = {
				factor = 5
				SER = {
					is_in_faction_with = ROOT
					is_subject = no
				}
			}
		}
		set_temp_variable = { tag_to_release = SER }
		184 = { transfer_if_owned = yes } #Western Thrace
		1089 = { transfer_if_owned = yes } #Kardzhali
	}

	option = { #Give to Turks
		name = pact.113.a
		trigger = {
			OR = {
				TUR = {
					ROOT_can_grant_land = yes
					OR = {
						owns_state = 184
						184 = { is_valid_annexation_state = yes } #Western Thrace
					}
				}
				TUR = {
					ROOT_can_grant_land = yes
					OR = {
						owns_state = 184
						184 = { is_valid_annexation_state = yes } #Western Thrace
					}
				}
			}
			NOT = {
				tag = GRE
				tag = BUL
				tag = TUR
				tag = TUR
			}
		}
		ai_chance = {
			base = 90
		}
			set_temp_variable = { tag_to_release = TUR }
			184 = { add_core_of_target_and_transfer_if_owned = yes } #Western Thrace
			1089 = { add_core_of_target_and_transfer_if_owned = yes } #Kardzhali
		}

	option = { #Divide it up
		name = pact.111.c
		trigger = {
			184 = { is_valid_annexation_state = yes } #Western Thrace
			1089 = { is_valid_annexation_state = yes } #Kardzhali
			GRE = {
				ROOT_can_grant_land = yes
				owns_state = 769 #Eastern Macedonia
			}
			BUL = { ROOT_can_grant_land = yes }
			NOT = {
				tag = BUL
				tag = GRE
				tag = TUR
				tag = TUR
			}
		}
		ai_chance = {
			base = 40
		}
		set_temp_variable = { tag_to_release = GRE }
		184 = { #Western Thrace
			transfer_state_and_add_claim = yes
			save_event_target_as = transfer_state
			hidden_effect = { state_event = { id = gre.257 trigger_for = owner } }
		}

		custom_effect_tooltip = tooltip_white_line
		set_temp_variable = { tag_to_release = BUL }
		1089 = { transfer_state_and_add_core = yes } #Kardzhali
	}

	option = { #Divide it up
		name = pact.111.c
		trigger = {
			184 = { is_valid_annexation_state = yes } #Western Thrace
			1089 = { is_valid_annexation_state = yes } #Kardzhali
			SER = {
				is_ally_of_ROOT = yes
				owns_state = 49 #Sofia
				owns_state = 212 #Plovdiv
			}
			GRE = {
				ROOT_can_grant_land = yes
				owns_state = 769 #Eastern Macedonia
			}
			NOT = {
				tag = BUL
				tag = GRE
				tag = TUR
				tag = TUR
				tag = SER
			}
		}
		ai_chance = {
			base = 40
		}
		set_temp_variable = { tag_to_release = GRE }
		184 = { #Western Thrace
			transfer_state_and_add_claim = yes
			save_event_target_as = transfer_state
			hidden_effect = { state_event = { id = gre.257 trigger_for = owner } }
		}

		custom_effect_tooltip = tooltip_white_line
		SER = { transfer_state = 1089 } #Kardzhali
	}

	option = { #annex
		name = annex.integration
		trigger = {
			tag = GRE
			owns_state = 184 #Western Thrace
		}
		ai_chance = {
			base = 1000
		}
		184 = { #Western Thrace
			if = {
				limit = { is_valid_annexation_state = yes }
				add_claim_of_ROOT = yes
			}
		}
		1089 = { #Kardzhali
			if = {
				limit = { is_valid_annexation_state = yes }
				add_claim_of_ROOT = yes
			}
		}
	}
	option = { #annex
		name = annex.integration
		trigger = {
			OR = {
				tag = BUL
				tag = TUR
			}
		}
		ai_chance = {
			base = 1000
		}
		184 = { #Western Thrace
			if = {
				limit = { is_valid_annexation_state = yes }
				remove_claim_and_add_core_of_ROOT = yes
			}
		}
		1089 = { #Kardzhali
			if = {
				limit = { is_valid_annexation_state = yes }
				remove_claim_and_add_core_of_ROOT = yes
			}
		}
	}
	option = { #occupy
		name = annex.occupation
		trigger = {
			NOT = {
				tag = GRE
				tag = BUL
				tag = TUR
				tag = TUR
			}
		}
		ai_chance = { base = 0 }
		set_country_flag = THRACE_CONQ
		occupy_small_country = yes
	}
}

# Dobruzha returned to Romania
country_event = {
	id = pact.114
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.114" }
	title = pact.114.t
	desc = pact.114.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = {
		name = pact.114.a
		if = {
			limit = {
				772 = { is_owned_by = FROM }
			}
			transfer_state = 772
		}
		if = {
			limit = {
				77 = { is_owned_by = FROM }
			}
			transfer_state = 77
		}
	}
}

# Dobruzha returned to Bulgaria
country_event = {
	id = pact.115
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.115" }
	title = pact.115.t
	desc = pact.115.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = {
		name = pact.115.a
		if = {
			limit = {
				772 = { is_owned_by = FROM }
			}
			transfer_state = 772
		}
		if = {
			limit = {
				77 = { is_owned_by = FROM }
			}
			transfer_state = 77
		}
	}
}

# Dobruzha split - for Romania
country_event = {
	id = pact.116
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.116" }
	title = pact.116.t
	desc = pact.116.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = {
		name = pact.116.a
		if = {
			limit = {
				772 = { is_owned_by = FROM }
			}
			transfer_state = 772
		}
	}
}

# Dobruzha split - for Bulgaria
country_event = {
	id = pact.117
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.117" }
	title = pact.117.t
	desc = pact.117.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = {
		name = pact.117.a
		if = {
			limit = {
				77 = { is_owned_by = FROM }
			}
			transfer_state = 77
		}
	}
}

# Macedonia returned to Serbia
country_event = {
	id = pact.118
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.118" }
	title = pact.118.t
	desc = pact.118.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = {
		name = pact.118.a
		if = {
			limit = {
				841 = { is_owned_by = FROM }
			}
			transfer_state = 841
			if = {
				limit = {
					NOT = { has_completed_focus = SER_integrate_macedonia }
					NOT = {
						841 = { is_claim_or_core_of_ROOT = yes }
					}
				}
				add_state_claim = 841
			}
			if = {
				limit = {
					has_completed_focus = SER_integrate_macedonia
					NOT = {
						841 = { is_core_of = ROOT }
					}
				}
				hidden_effect = { remove_state_claim = 841 }
				add_state_core = 841
			}
		}
		if = {
			limit = {
				106 = { is_owned_by = FROM }
			}
			transfer_state = 106
			if = {
				limit = {
					NOT = { has_completed_focus = SER_integrate_macedonia }
					NOT = {
						106 = { is_claim_or_core_of_ROOT = yes }
					}
				}
				add_state_claim = 106
			}
			if = {
				limit = {
					has_completed_focus = SER_integrate_macedonia
					NOT = {
						106 = { is_core_of = ROOT }
					}
				}
				hidden_effect = { remove_state_claim = 106 }
				add_state_core = 106
			}
		}
	}
}

# Macedonia returned to Bulgaria
country_event = {
	id = pact.119
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.119" }
	title = pact.119.t
	desc = pact.119.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = {
		name = pact.119.a
		if = {
			limit = {
				841 = { is_owned_by = FROM }
			}
			transfer_state = 841
		}
		if = {
			limit = {
				106 = { is_owned_by = FROM }
			}
			transfer_state = 106
		}
	}
}

# Macedonia split - for Serbia
country_event = {
	id = pact.120
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.120" }
	title = pact.120.t
	desc = pact.120.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = {
		name = pact.120.a
		if = {
			limit = {
				106 = { is_owned_by = FROM }
			}
			transfer_state = 106
			if = {
				limit = {
					NOT = { has_completed_focus = SER_integrate_macedonia }
					NOT = {
						106 = { is_claim_or_core_of_ROOT = yes }
					}
				}
				add_state_claim = 106
			}
			if = {
				limit = {
					has_completed_focus = SER_integrate_macedonia
					NOT = {
						106 = { is_core_of = ROOT }
					}
				}
				hidden_effect = { remove_state_claim = 106 }
				add_state_core = 106
			}
		}
	}
}

# Macedonia split - for Bulgaria
country_event = {
	id = pact.121
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.121" }
	title = pact.121.t
	desc = pact.121.d
	picture = GFX_report_event_GRE_army

	is_triggered_only = yes

	option = {
		name = pact.121.a
		if = {
			limit = {
				841 = { is_owned_by = FROM }
			}
			transfer_state = 841
		}
	}
}

# Economic Council
country_event = {#Pact of Organization invitation
	id = pact.300
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.300" }
	title = pact.300.t
	desc = pact.300.d
	picture = GFX_report_event_generic_diplomacy1

	is_triggered_only = yes

	option = {
		name = pact.300.a #Of course
		ai_chance = { base = 10 }
		custom_effect_tooltip = BP_economic_integration_tt
		set_country_flag = BP_accepted_economic_union
		if = {
			limit = {
				NOT = {
					is_in_array = { global.balkan_economic_union = ROOT }
				}
			}
			add_to_array = { global.balkan_economic_union = ROOT }
		}
	}

	option = {
		name = pact.300.b #Ew, economic integration
		ai_chance = { base = 0 }
		FROM = { country_event = pact.301 }
	}
}
country_event = {#FROM refuses
	id = pact.301
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.301" }
	title = pact.301.t
	desc = pact.301.d
	picture = GFX_report_event_generic_diplomacy1

	is_triggered_only = yes

	option = {
		name = pact.301.a #Whatever
		add_political_power = -5
	}
}
country_event = {#Formation of the Economic Council (initiator)
	id = pact.302
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.302" }
	title = pact.302.t
	desc = pact.302.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = pact.302.a #Woop woop
		if = {
			limit = {
				check_variable = { global.balkan_economic_union^num = 1 }
			}
			add_ideas = BP_economic_council_1
		}
		else_if = {
			limit = {
				check_variable = { global.balkan_economic_union^num = 2 }
			}
			add_ideas = BP_economic_council_2
		}
		else_if = {
			limit = {
				check_variable = { global.balkan_economic_union^num = 3 }
			}
			add_ideas = BP_economic_council_3
		}
		every_other_country = {
			limit = {
				OR = {
					is_in_array = { global.balkan_economic_union = THIS }
					AND = {
						OR = {
							tag = ALB
							tag = BOS
							tag = BUL
							tag = CRO
							tag = GRE
							tag = HUN
							tag = ROM
						}
						is_subject = yes
						overlord = {
							is_in_array = { global.balkan_economic_union = THIS }
						}
					}
				}
			}
			country_event = pact.303
		}
	}
}
country_event = {#Formation of the Economic Council (others)
	id = pact.303
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.303" }
	title = pact.303.t
	desc = pact.303.d
	picture = GFX_report_event_generic_diplomacy2

	is_triggered_only = yes

	option = {
		name = pact.303.a #Woop woop
		if = {
			limit = {
				check_variable = { global.balkan_economic_union^num = 1 }
			}
			add_ideas = BP_economic_council_1
		}
		else_if = {
			limit = {
				check_variable = { global.balkan_economic_union^num = 2 }
			}
			add_ideas = BP_economic_council_2
		}
		else_if = {
			limit = {
				check_variable = { global.balkan_economic_union^num = 3 }
			}
			add_ideas = BP_economic_council_3
		}
	}
}
country_event = { #Economic Council upgraded
	id = pact.304
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.304" }
	title = pact.304.t
	desc = pact.304.d
	picture = GFX_report_event_generic_diplomacy1

	is_triggered_only = yes

	option = {
		name = pact.304.a #Woop woop
		if = {
			limit = { has_idea = BP_economic_council_1 }
			swap_ideas = {
				remove_idea = BP_economic_council_1
				add_idea = BP_economic_council_upgraded_1
			}
		}
		else_if = {
			limit = { has_idea = BP_economic_council_2 }
			swap_ideas = {
				remove_idea = BP_economic_council_2
				add_idea = BP_economic_council_upgraded_2
			}
		}
		else_if = {
			limit = { has_idea = BP_economic_council_3 }
			swap_ideas = {
				remove_idea = BP_economic_council_3
				add_idea = BP_economic_council_upgraded_3
			}
		}
	}
}
country_event = {#Kicked out of the Economic Council
	id = pact.305
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.305" }
	title = pact.305.t

	desc = {
		text = pact.305.d.war
		trigger = {
			has_socialist_government = no
		}
	}
	desc = {
		text = pact.305.d.revolution
		trigger = {
			has_socialist_government = yes
		}
	}

	picture = GFX_report_event_generic_diplomacy1

	is_triggered_only = yes

	option = {
		name = pact.305.a
		if = {
			limit = { has_idea = BP_economic_council_1 }
			remove_ideas = BP_economic_council_1
		}
		else_if = {
			limit = { has_idea = BP_economic_council_upgraded_1 }
			remove_ideas = BP_economic_council_upgraded_1
		}
		else_if = {
			limit = { has_idea = BP_economic_council_2 }
			remove_ideas = BP_economic_council_2
		}
		else_if = {
			limit = { has_idea = BP_economic_council_upgraded_2 }
			remove_ideas = BP_economic_council_upgraded_2
		}
		else_if = {
			limit = { has_idea = BP_economic_council_2 }
			remove_ideas = BP_economic_council_2
		}
		else_if = {
			limit = { has_idea = BP_economic_council_upgraded_2 }
			remove_ideas = BP_economic_council_upgraded_2
		}
		if = {
			limit = {
				is_in_array = { global.balkan_economic_union = ROOT }
			}
			remove_from_array = { global.balkan_economic_union = ROOT }
		}
	}
}
country_event = { #Economic Council upgraded
	id = pact.306
	immediate = { log = "[GetDateText]: [Root.GetName]: event pact.306" }
	title = pact.306.t
	desc = pact.306.d
	picture = GFX_report_event_generic_diplomacy1

	is_triggered_only = yes

	option = {
		name = pact.306.a #Woop woop
		if = {
			limit = { has_idea = BP_economic_council_1 }
			swap_ideas = {
				remove_idea = BP_economic_council_1
				add_idea = BP_economic_council_2
			}
		}
		else_if = {
			limit = { has_idea = BP_economic_council_2 }
			swap_ideas = {
				remove_idea = BP_economic_council_2
				add_idea = BP_economic_council_3
			}
		}
		else_if = {
			limit = { has_idea = BP_economic_council_upgraded_1 }
			swap_ideas = {
				remove_idea = BP_economic_council_upgraded_1
				add_idea = BP_economic_council_upgraded_2
			}
		}
		else_if = {
			limit = { has_idea = BP_economic_council_upgraded_2 }
			swap_ideas = {
				remove_idea = BP_economic_council_upgraded_2
				add_idea = BP_economic_council_upgraded_3
			}
		}
	}
}