####################
### Cuban Events ###
####################
###By Pietrus	###
####################

add_namespace = cuba

### Elections and Havana Strike ###
country_event = { #History blurb
	id = cuba.0
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.0" }
	title = cuba.0.t
	desc = cuba.0.d
	picture = GFX_report_event_CUB_prelimrev
	is_triggered_only = yes

	option = {
		name = cuba.0.a
	}
}

country_event = { #1936 election
	id = cuba.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1" }
	title = cuba.1.t
	desc = cuba.1.d
	picture = GFX_report_event_CUB_prespalace
	is_triggered_only = yes

	option = { # Trejo
		name = cuba.1.a
		ai_chance = {
			factor = 33
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CUB_strike
					option = CUB_STRIKE_DIAZ
				}
			}
		}

		set_country_flag = trejo_elected
		add_popularity = {
			ideology = social_democrat
			popularity = 0.1
		}
		set_politics = {
			ruling_party = social_democrat
			last_election = "1936.1.28"
			elections_allowed = no
		}
		hidden_effect = {
			country_event = {
				id = cuba.2
				days = 1
			}
		}
	}

	option = { # Coalition
		name = cuba.1.b
		ai_chance = {
			factor = 33
		}

		set_country_flag = barnet_elected
		add_popularity = {
			ideology = social_liberal
			popularity = 0.03
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.07
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.03
		}
		set_politics = {
			ruling_party = market_liberal
			last_election = "1936.1.28"
			elections_allowed = no
		}
		hidden_effect = {
			country_event = {
				id = cuba.2
				days = 1
			}
		}
	}

	option = { # Bello
		name = cuba.1.c
		ai_chance = {
			factor = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_MARLIB
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_SOCLIB
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_SOCDEM
					}
				}
			}
		}

		set_country_flag = mendieta_elected
		add_political_power = -60
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.12
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			last_election = "1936.1.28"
			elections_allowed = no
		}
		hidden_effect = {
			country_event = {
				id = cuba.2
				days = 1
			}
		}
	}
}

country_event = { #selecting cabinet
	id = cuba.2
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.2" }
	title = cuba.2.t
	desc = cuba.2.d
	picture = GFX_report_event_CUB_cabinet
	is_triggered_only = yes

	option = { # Unity Cabinet
		name = cuba.2.a
		trigger = {
			NOT = {
				has_government = authoritarian_democrat
			}
		}

		if = {
			limit = {
				has_country_flag = trejo_elected
			}
			add_political_power = -20
			add_popularity = {
				ideology = social_democrat
				popularity = 0.05
			}
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Martin_Diaz_Tamayo_hog_pau
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Jose_Irrisari_Gamio_eco_sde
					CUB_Jaime_Marine_Montes_sec_pau
				}
			}
			custom_effect_tooltip = CUB_minister_tt
		}
		if = {
			limit = {
				has_country_flag = barnet_elected
			}
			add_political_power = -20
			add_popularity = {
				ideology = social_liberal
				popularity = 0.01
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.03
			}
			add_popularity = {
				ideology = social_conservative
				popularity = 0.01
			}
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Martin_Diaz_Tamayo_hog_pau
					CUB_Jorge_Manach_Robato_for_sli
					CUB_Carlos_Marquez_Sterling_eco_mli
					CUB_Jaime_Marine_Montes_sec_pau
				}
			}
			custom_effect_tooltip = CUB_minister_tt
		}
	}

	option = { #Mixed Cabinet
		name = cuba.2.b
		trigger = {
			NOT = {
				has_government = authoritarian_democrat
			}
		}

		if = {
			limit = {
				has_country_flag = trejo_elected
			}
			add_political_power = 20
			add_popularity = {
				ideology = social_liberal
				popularity = 0.01
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.03
			}
			add_popularity = {
				ideology = social_conservative
				popularity = 0.01
			}
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Martin_Diaz_Tamayo_hog_pau
					CUB_Jorge_Manach_Robato_for_sli
					CUB_Jose_Irrisari_Gamio_eco_sde
					CUB_Jaime_Marine_Montes_sec_pau
				}
			}
			custom_effect_tooltip = CUB_minister_tt
		}
		if = {
			limit = {
				has_country_flag = barnet_elected
			}
			add_political_power = 20
			add_popularity = {
				ideology = social_democrat
				popularity = 0.05
			}
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Martin_Diaz_Tamayo_hog_pau
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Carlos_Marquez_Sterling_eco_mli
					CUB_Jaime_Marine_Montes_sec_pau
				}
			}
			custom_effect_tooltip = CUB_minister_tt
		}
		set_country_flag = CUB_elec_post
	}

	option = { # American-appointed Cabinet
		name = cuba.2.c
		trigger = {
			has_government = authoritarian_democrat
		}

		hidden_effect = {
			remove_all_ministers = yes
			if = {
				limit = {
					date > 1943.1.2
				}
				add_ideas = CUB_Julio_Lobo_Olavarria_eco_ade
			}
			else = {
				add_ideas = CUB_Henri_Schueg_Chassin_eco_ade
			}
			add_ideas = {
				CUB_Martin_Diaz_Tamayo_hog_pau
				CUB_Jorge_Garcia_Montes_for_ade
				CUB_Jaime_Marine_Montes_sec_pau
			}
		}
	}
}

country_event = {
	id = cuba.3
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.3" }
	title = cuba.3.t
	desc = cuba.3.d
	picture = GFX_report_event_GER_Blackweekover
	is_triggered_only = yes

	option = {
		name = cuba.3.a

		swap_ideas = {
			remove_idea = CUB_partial_great_depression
			add_idea = CUB_double_dip
		}
		add_stability = -0.05
		hidden_effect = {
			country_event = {
				id = cuba.4
				days = 7
			}
		}
	}
}

country_event = {
	id = cuba.4
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.4" }
	title = cuba.4.t
	desc = cuba.4.d
	picture = GFX_report_event_CUB_strike
	is_triggered_only = yes

	option = {
		name = cuba.4.a

		set_country_flag = CUB_start_havana_revolt
		add_ideas = CUB_havana_general_strike
		hidden_effect = {
			country_event = {
				id = cuba.5
				days = 1
			}
		}
	}
}

country_event = {
	id = cuba.5
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.5" }
	title = cuba.5.t
	desc = {
		text = cuba.5.d_1
		trigger = {
			NOT = {
				has_country_flag = mendieta_elected
			}
		}
	}
	desc = {
		text = cuba.5.d_2
		trigger = {
			has_country_flag = mendieta_elected
		}
	}
	picture = GFX_report_event_CUB_strike
	is_triggered_only = yes

	option = {
		name = cuba.5.a
		trigger = {
			NOT = {
				has_country_flag = mendieta_elected
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_AUTHENTIC
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_RADSOC
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_SYN
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_TOTAL
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_COUP
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_LAPDOG
					}
				}
			}
		}

		set_country_flag = CUB_crushed_general_strike
		hidden_effect = {
			swap_ideas = {
				remove_idea = CUB_havana_general_strike
				add_idea = CUB_strike_destroyed
			}
			country_event = {
				id = cuba.6
				days = 2
			}
		}
	}

	option = {
		name = cuba.5.b
		trigger = {
			NOT = {
				has_country_flag = mendieta_elected
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_MARLIB
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_SOCLIB
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_SOCDEM
					}
				}
			}
		}

		set_country_flag = CUB_general_chaos
		hidden_effect = {
			swap_ideas = {
				remove_idea = CUB_havana_general_strike
				add_idea = CUB_complete_chaos
			}
			country_event = {
				id = cuba.7
				days = 2
			}
		}
	}
	option = {
		name = cuba.5.c
		trigger = {
			has_country_flag = mendieta_elected
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_AUTHENTIC
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_RADSOC
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_SYN
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_TOTAL
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_COUP
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_LAPDOG
					}
				}
			}
		}

		set_country_flag = CUB_crushed_general_strike
		hidden_effect = {
			swap_ideas = {
				remove_idea = CUB_havana_general_strike
				add_idea = CUB_strike_destroyed
			}
			country_event = {
				id = cuba.6
				days = 2
			}
		}
	}
	option = {
		name = cuba.5.d
		trigger = {
			has_country_flag = mendieta_elected
		}
		ai_chance = {
			factor = 25
		}

		set_country_flag = CUB_general_chaos
		hidden_effect = {
			swap_ideas = {
				remove_idea = CUB_havana_general_strike
				add_idea = CUB_complete_chaos
			}
			country_event = {
				id = cuba.7
				days = 2
			}
		}
	}
}

country_event = {
	id = cuba.6
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.6" }
	title = cuba.6.t
	desc = {
		text = cuba.6.d_1
		trigger = {
			has_country_flag = mendieta_elected
		}
	}
	desc = {
		text = cuba.6.d_2
		trigger = {
			has_country_flag = barnet_elected
		}
	}
	desc = {
		text = cuba.6.d_3
		trigger = {
			has_country_flag = trejo_elected
		}
	}
	picture = GFX_report_event_generic_workers
	is_triggered_only = yes

	option = {
		name = cuba.6.a
		trigger = {
			has_left_democratic_government = yes
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CUB_strike
					option = CUB_STRIKE_DIAZ
				}
			}
		}

		set_country_flag = CUB_no_emergency_powers
	}

	option = {
		name = cuba.6.b
		trigger = {
			OR = {
				has_government = authoritarian_democrat
				has_government = market_liberal
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_MARLIB
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_SOCLIB
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_SOCDEM
					}
				}
			}
		}

		set_country_flag = CUB_enacted_emergency_powers
	}
}

country_event = {
	id = cuba.7
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.7" }
	title = cuba.7.t
	desc = cuba.7.d
	picture = GFX_report_event_CUB_riot
	is_triggered_only = yes

	option = {
		name = cuba.7.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_AUTHENTIC
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_RADSOC
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_SYN
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_TOTAL
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_COUP
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_LAPDOG
					}
				}
			}
		}

		set_country_flag = CUB_crushed_general_strike_mil
		hidden_effect = {
			swap_ideas = {
				remove_idea = CUB_complete_chaos
				add_idea = CUB_strike_destroyed
			}
		}
	}

	option = {
		name = cuba.7.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CUB_strike
					option = CUB_STRIKE_DIAZ
				}
			}
		}

		set_country_flag = CUB_strike_success
		hidden_effect = {
			country_event = {
				id = cuba.8
				days = 4
			}
		}
	}
}

country_event = {
	id = cuba.8
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.8" }
	title = cuba.8.t
	desc = cuba.8.d
	picture = GFX_report_event_CUB_riot
	is_triggered_only = yes

	option = {
		name = cuba.8.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CUB_strike
					option = CUB_STRIKE_AUTHENTIC
				}
			}
		}

		set_country_flag = CUB_socialists_consolidate
		complete_national_focus = CUB_leftists
	}

	option = {
		name = cuba.8.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_RADSOC
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_SYN
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_TOTAL
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_COUP
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_LAPDOG
					}
				}
			}
		}

		set_country_flag = CUB_natpop_march
		complete_national_focus = CUB_march_on_havana
	}
}

### Socialist Chain ###
country_event = { #soc rev
	id = cuba.9
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.9" }
	title = cuba.9.t
	desc = cuba.9.d
	is_triggered_only = yes

	option = {
		name = cuba.9.a

		add_political_power = -20
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.10
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.07
		}
		set_politics = {
			ruling_party = syndicalist
			elections_allowed = no
		}
		custom_effect_tooltip = cubansocrev_tooltip
		add_ideas = CUB_militia_idea
		remove_ideas = CUB_complete_chaos
		remove_ideas = CUB_american_influence
		remove_ideas = CUB_mixed_regime
		hidden_effect = {
			set_party_name =  {
				ideology = totalist
				name = CUB_totalist_party_socrev
				long_name = CUB_totalist_party_long_socrev
			}
			set_party_name =  {
				ideology = syndicalist
				name = CUB_syndicalist_party_socrev
				long_name = CUB_syndicalist_party_long_socrev
			}
			set_party_name =  {
				ideology = radical_socialist
				name = CUB_radical_socialist_party_socrev
				long_name = CUB_radical_socialist_party_long_socrev
			}
			country_event = {
				id = cuba.13
				days = 7
			}
			USA = {
				country_event = {
					id = cuba.14
					days = 1
				}
			}
			create_field_marshal = {
				name = "Juan Blas Hernández"
				picture = "gfx/leaders/CUB/Portrait_Cuba_Juan_Blas_Hernandez.png"
				id = 1450
				traits = {
					war_hero
					trickster
				}
				skill = 2
				attack_skill = 2
				defense_skill = 2
				planning_skill = 1
				logistics_skill = 3
			}
			create_field_marshal = {
				name = "Antonio Guiteras Holmes"
				picture = "gfx/leaders/CUB/Portrait_Cuba_Antonio_Guiteras.png"
				id = 1451
				traits = {
					politically_connected
					media_personality
				}
				skill = 1
				attack_skill = 1
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 1
			}
			create_corps_commander = {
				name = "Alberto Bayo Giroud"
				portrait_path = "gfx/leaders/CUB/Portrait_Cuba_Alberto_Bayo_Giroud.png"
				id = 1455
				traits = {
					trait_reckless
					commando
				}
				skill = 2
				attack_skill = 3
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 3
			}
			if = {
				limit = {
					has_unit_leader = 1452
				}
				random_unit_leader = {
					limit = { has_id = 1452 }			
					remove_unit_leader = yes
				}
			}
			if = {
				limit = {
					has_unit_leader = 1456
				}
				random_unit_leader = {
					limit = { has_id = 1456 }			
					remove_unit_leader = yes
				}
			}
			if = {
				limit = {
					has_unit_leader = 1457
				}
				random_unit_leader = {
					limit = { has_id = 1457 }			
					remove_unit_leader = yes
				}
			}
			if = {
				limit = {
					has_unit_leader = 1458
				}
				random_unit_leader = {
					limit = { has_id = 1458 }			
					remove_unit_leader = yes
				}
			}
			if = {
				limit = {
					has_unit_leader = 14598
				}
				random_unit_leader = {
					limit = { has_id = 14598 }			
					remove_unit_leader = yes
				}
			}
			clr_country_flag = Juan_Blas_Hernandez_dead
			clr_country_flag = Alberto_Bayo_Giroud_dead
			clr_country_flag = Jose_Aguila_Ruiz_dead
			set_country_flag = Alberto_Herrera_Franchi_dead
			set_country_flag = Martin_Diaz_Tamayo_dead
			set_country_flag = Aristides_Sosa_Quesada_dead
			set_country_flag = Ignacio_Galindez_dead
			set_country_flag = Gaspar_Maspons_Jordan_dead
			set_country_flag = Angel_Aurelio_Gonzalez_dead
			set_country_flag = Guillermo_Martull_Bataille_dead
			remove_all_ministers = yes
			add_ideas = {
				CUB_Antonio_Guiteras_Holmes_hog_syn
				CUB_Raul_Roa_Garcia_for_syn
				CUB_Jose_Luciano_Franco_eco_rso
				CUB_Alejandro_Barreiro_Olivera_sec_tot
			}
		}
	}
}

country_event = { # start of chain for socialist internal struggle/calling congress
	id = cuba.10
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.10" }
	title = cuba.10.t
	desc = cuba.10.d
	picture = GFX_report_event_IRE_dail_meeting
	is_triggered_only = yes

	option = { #agree to congress
		name = cuba.10.a

		ai_chance = {
			factor = 50
		}
		set_country_flag = {
			flag = cubantotalistscore
			value = 0
		}
		set_country_flag = {
			flag = cubansyndiescore
			value = 0
		}
		set_country_flag = {
			flag = cubanradsocscore
			value = 0
		}
		add_stability = 0.1
		country_event = {
			id = cuba.30
			days = 3
		}
	}

	option = { #no congress
		name = cuba.10.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_RADSOC
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_SYN
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_TOTAL
					}
				}
			}
		}

		country_event = {
			id = cuba.43
			days = 3
		}
	}
}

country_event = { #agrarianism type
	id = cuba.11
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.11" }
	title = cuba.11.t
	desc = {
		text = cuba.11.d_1
		trigger = {
			has_government = totalist
		}
	}
	desc = {
		text = cuba.11.d_2
		trigger = {
			has_government = radical_socialist
			has_country_flag = mellaradsocdeal
		}
	}
	desc = {
		text = cuba.11.d_3
		trigger = {
			has_government = radical_socialist
			NOT = {
				has_country_flag = mellaradsocdeal
			}
		}
	}
	picture = GFX_report_event_USA_generic4
	is_triggered_only = yes

	option = { # moderate
		name = cuba.11.a

		trigger = {
			has_government = radical_socialist
			NOT = {
				has_country_flag = mellaradsocdeal
			}
		}
		add_stability = 0.05
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.1
		}
		add_ideas = CUB_modsyndagr
	}

	option = { #extreme
		name = cuba.11.b

		trigger = {
			OR = {
				AND = {
					has_government = radical_socialist
					has_country_flag = mellaradsocdeal
				}
				has_government = totalist
			}
		}

		add_stability = 0.05
		if = {
			limit = {
				has_government = radical_socialist
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.05
			}
			add_popularity = {
				ideology = totalist
				popularity = 0.05
			}
		}
		if = {
			limit = {
				has_government = totalist
			}
			add_popularity = {
				ideology = totalist
				popularity = 0.1
			}
		}
		add_ideas = CUB_extsyndagr
	}
}

country_event = { #socialist industrialism type
	id = cuba.12
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.12" }
	title = cuba.12.t
	desc = {
		text = cuba.12.d_1
		trigger = {
			has_government = totalist
		}
	}
	desc = {
		text = cuba.12.d_2
		trigger = {
			has_government = syndicalist
			NOT = {
				has_country_leader = {
					name = "Raul Roa García"
					ruling_only = yes
				}
			}
		}
	}
	desc = {
		text = cuba.12.d_3
		trigger = {
			has_government = syndicalist
			has_country_leader = {
				name = "Raul Roa García"
				ruling_only = yes
			}
		}
	}
	picture = GFX_report_event_generic_economic_policy
	is_triggered_only = yes

	option = { #syndie
		name = cuba.12.a

		trigger = {
			has_government = syndicalist
		}

		add_popularity = {
			ideology = syndicalist
			popularity = 0.1
		}
		add_stability = 0.05
		add_ideas = CUB_modsyndindust
	}

	option = { #totalist
		name = cuba.12.b

		trigger = {
			has_government = totalist
		}

		add_stability = 0.05
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.1
		}
		add_ideas = CUB_extsyndindust
	}
}

country_event = { #return of totalistified Mella
	id = cuba.13
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.13" }
	title = cuba.13.t
	desc = cuba.13.d
	picture = GFX_report_event_CUB_mella
	is_triggered_only = yes

	option = {
		name = cuba.13.a

		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CUB_strike
					option = CUB_STRIKE_SOCIALIST_RADSOC
				}
			}
		}
		set_country_flag = mella_back
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
	}

	option = {
		name = cuba.13.b

		ai_chance = {
			factor = 50
		}
		add_political_power = -10
	}
}

country_event = { #the US reacts to Cuban socrev
	id = cuba.14
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.14" }
	title = cuba.14.t
	desc = cuba.14.d
	picture = GFX_report_event_CUB_rebel_sailors
	is_triggered_only = yes

	option = { #intervene
		name = cuba.14.a

		set_country_flag = CUB_socUSchoseintervention
		hidden_effect = {
			if = {
				limit = {
					country_exists = CUB
				}
				diplomatic_relation = {
					country = CUB
					relation = guarantee
					active = no
				}
				diplomatic_relation = {
					country = CUB
					relation = non_aggression_pact
					active = no
				}
				diplomatic_relation = {
					country = CUB
					relation = military_access
					active = no
				}
			}
		}
		add_opinion_modifier = {
			target = CUB
			modifier = CUB_USinterresp
		}
		reverse_add_opinion_modifier = {
			target = CUB
			modifier = CUB_USinterresp
		}
		country_event = {
			id = cuba.15
			days = 1
		}
	}

	option = { # diplomacy
		name = cuba.14.b

		hidden_effect = {
			if = {
				limit = {
					country_exists = CUB
				}
				diplomatic_relation = {
					country = CUB
					relation = guarantee
					active = no
				}
				diplomatic_relation = {
					country = CUB
					relation = non_aggression_pact
					active = no
				}
				diplomatic_relation = {
					country = CUB
					relation = military_access
					active = no
				}
			}
		}
		set_country_flag = CUB_socUSchosediplo
		reverse_add_opinion_modifier = {
			target = CUB
			modifier = CUB_USdiploresp
		}
		add_opinion_modifier = {
			target = CUB
			modifier = CUB_USdiploresp
		}
		add_political_power = -20
		CUB = {
			set_country_flag = CUB_socmilflag
		}
	}
}

country_event = { # US decides how to intervene in Cuba
	id = cuba.15
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.15" }
	title = cuba.15.t
	desc = cuba.15.d
	picture = GFX_report_event_CUB_soldiers
	is_triggered_only = yes

	option = { #embargo & support dissidents
		name = cuba.15.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_COUP
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_LAPDOG
					}
				}
			}
		}

		add_political_power = -25		
		CUB = {
			embargo_PREV = yes
			country_event = cuba.16
		}
		set_global_flag = fed_sanctions_cuba
	}

	option = { # embargo & immediate coup
		name = cuba.15.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_RADSOC
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_SYN
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_TOTAL
					}
				}
			}
		}

		add_political_power = -50		
		CUB = {
			embargo_PREV = yes
			country_event = cuba.17
		}
		set_global_flag = fed_coup_cuba
	}
}

country_event = { # US dissidents in cuba
	id = cuba.16
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.16" }
	title = cuba.16.t
	desc = cuba.16.d
	picture = GFX_report_event_CUB_soldiers
	is_triggered_only = yes

	option = {
		name = cuba.16.a

		add_ideas = CUB_americabackdis
		set_country_flag = CUB_socmilflag
	}
}

country_event = { # US coup in cuba
	id = cuba.17
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.17" }
	title = cuba.17.t
	desc = cuba.17.d
	picture = GFX_report_event_CUB_soldiers
	is_triggered_only = yes

	option = {
		name = cuba.17.a

		hidden_effect = {
			country_event = {
				id = cuba.18
				days = 12
			}
		}
		add_ideas = CUB_americabackdis2
	}
}

country_event = { # US coup attempt
	id = cuba.18
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.18" }
	title = cuba.18.t
	desc = cuba.18.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { #coup fails
		name = cuba.18.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_COUP
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_LAPDOG
					}
				}
			}
		}

		country_event = {
			id = cuba.19
			days = 1
		}
		set_country_flag = CUB_socmilflag
		custom_effect_tooltip = CUB_decisiontooltip
		add_political_power = -20
		USA = {
			country_event = cuba.20
		}
	}

	option = { #coup succeeds
		name = cuba.18.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_RADSOC
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_SYN
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_TOTAL
					}
				}
			}
		}

		set_country_flag = CUB_mildirectrule
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.2
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.15
		}
		set_politics = {
			ruling_party = paternal_autocrat
		}
		custom_effect_tooltip = CUB_ministerandgen_tt
		add_ideas = CUB_american_influence_2
		remove_ideas = CUB_militia_idea
		set_country_flag = Juan_Blas_Hernandez_dead
		set_country_flag = Alberto_Bayo_Giroud_dead
		set_country_flag = Jose_Aguila_Ruiz_dead
		clr_country_flag = Martin_Diaz_Tamayo_dead
		clr_country_flag = Aristides_Sosa_Quesada_dead
		clr_country_flag = Ignacio_Galindez_dead
		clr_country_flag = Angel_Aurelio_Gonzalez_dead
		clr_country_flag = Guillermo_Martull_Bataille_dead
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Martin_Diaz_Tamayo_hog_pau
				CUB_Guillermo_Martull_Bataille_for_pau
				CUB_Ignacio_Galindez_eco_pau
				CUB_Jaime_Marine_Montes_sec_pau
			}
			if = {
				limit = {
					has_idea = CUB_americabackdis2
				}
				remove_ideas = CUB_americabackdis2
			}
			if = {
				limit = {
					has_unit_leader = 1450
				}
				random_unit_leader = {
					limit = { has_id = 1450 }			
					remove_unit_leader = yes
				}
			}
			if = {
				limit = {
					has_unit_leader = 1451
				}
				random_unit_leader = {
					limit = { has_id = 1451 }			
					remove_unit_leader = yes
				}
			}
			if = {
				limit = {
					has_unit_leader = 1455
				}
				random_unit_leader = {
					limit = { has_id = 1455 }			
					remove_unit_leader = yes
				}
			}
			if = {
				limit = {
					NOT ={
						has_unit_leader = 1452
					}
				}
				create_field_marshal = {
					name = "Martin Diaz Tamayo"
					picture = "gfx/leaders/CUB/Portrait_Cuba_Martin_Diaz.png"
					id = 1452
					traits = {
						career_officer
						politically_connected
					}
					skill = 2
					attack_skill = 2
					defense_skill = 1
					planning_skill = 3
					logistics_skill = 2
				}
			}
			if = {
				limit = {
					NOT ={
						has_unit_leader = 1456
					}
				}
				create_corps_commander = {
					name = "Manuel Lopez Migoya"
					portrait_path = "gfx/leaders/CUB/Portrait_Cuba_Manuel_Lopez_Migoya.png"
					id = 1456
					traits = {
						inflexible_strategist
						organizer
					}
					skill = 1
					attack_skill = 1
					defense_skill = 1
					planning_skill = 1
					logistics_skill = 1
				}
			}
			USA = {
				country_event = cuba.21
			}
		}
		set_country_flag = CUB_milcoup_flag
	}
}

country_event = { # Cuban Response to Coup Attempt
	id = cuba.19
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.19" }
	title = cuba.19.t
	desc = cuba.19.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { #Denounce them and appeal to people
		name = cuba.19.a

		add_stability = 0.05
		add_manpower = -2000
		if = {
			limit = {
				has_idea = CUB_americabackdis2
			}
			remove_ideas = CUB_americabackdis2
		}
	}
}

country_event = { # US event for failed coup
	id = cuba.20
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.20" }
	title = cuba.20.t
	desc = cuba.20.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { #fuuuuggggg
		name = cuba.20.a

		add_political_power = -25
	}
}

country_event = { # US event for victorious coup
	id = cuba.21
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.21" }
	title = cuba.21.t
	desc = cuba.21.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { # restore relations
		name = cuba.21.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CUB_strike
					option = CUB_STRIKE_LAPDOG
				}
			}
		}

		remove_opinion_modifier = {
			target = CUB
			modifier = CUB_USembargo
		}
		CUB = {
			remove_opinion_modifier = {
				target = USA
				modifier = CUB_USembargo
			}
		}
		remove_opinion_modifier = {
			target = CUB
			modifier = CUB_USinterresp
		}
		remove_opinion_modifier = {
			target = CUB
			modifier = CUB_USdiploresp
		}
		CUB = {
			remove_opinion_modifier = {
				target = USA
				modifier = CUB_USinterresp
			}
			remove_opinion_modifier = {
				target = USA
				modifier = CUB_USdiploresp
			}
		}
	}

	option = { # pressure for greater control
		name = cuba.21.b
		ai_chance = {
			factor = 50
		}

		remove_opinion_modifier = {
			target = CUB
			modifier = CUB_USinterresp
		}
		remove_opinion_modifier = {
			target = CUB
			modifier = CUB_USdiploresp
		}
		CUB = {
			remove_opinion_modifier = {
				target = USA
				modifier = CUB_USinterresp
			}
			remove_opinion_modifier = {
				target = USA
				modifier = CUB_USdiploresp
			}
		}
		CUB = {
			country_event = {
				id = cuba.23
				days = 1
			}
		}
	}
}

country_event = { # American notice of success of Havana intervention
	id = cuba.22
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.22" }
	title = cuba.22.t
	desc = cuba.22.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { # yay!
		name = cuba.22.a
		remove_opinion_modifier = {
			target = CUB
			modifier = CUB_USembargo
		}
		CUB = {
			remove_opinion_modifier = {
				target = USA
				modifier = CUB_USembargo
			}
		}
	}
}

country_event = { # Cuba responds to america demanding concessions
	id = cuba.23
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.23" }
	title = cuba.23.t
	desc = cuba.23.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { # accept
		name = cuba.23.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CUB_strike
					option = CUB_STRIKE_LAPDOG
				}
			}
		}
		USA = {
			country_event = {
				id = cuba.24
				days = 1
			}
		}
	}

	option = { # refuse
		name = cuba.23.b
		ai_chance = {
			factor = 50
		}

		USA = {
			country_event = {
				id = cuba.25
				days = 1
			}
		}
	}
}

country_event = { # US - Cuba accepts concessions
	id = cuba.24
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.24" }
	title = cuba.24.t
	desc = cuba.24.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = {
		name = cuba.24.a

		remove_opinion_modifier = {
			target = CUB
			modifier = CUB_USembargo
		}
		CUB = {
			remove_opinion_modifier = {
				target = USA
				modifier = CUB_USembargo
			}
		}
	}
}

country_event = { # US - Cuba refuses concessions
	id = cuba.25
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.25" }
	title = cuba.25.t
	desc = cuba.25.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { # Backdown
		name = cuba.25.a
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CUB_strike
					option = CUB_STRIKE_LAPDOG
				}
			}
		}

		CUB = {
			country_event = {
				id = cuba.26
				days = 1
			}
		}
		remove_opinion_modifier = {
			target = CUB
			modifier = CUB_USembargo
		}
		CUB = {
			remove_opinion_modifier = {
				target = USA
				modifier = CUB_USembargo
			}
		}
	}

	option = { # threaten
		name = cuba.25.b
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CUB_strike
					option = CUB_STRIKE_LAPDOG
				}
			}
		}

		CUB = {
			country_event = {
				id = cuba.27
				days = 1
			}
		}
	}

	option = { # immediate intervention
		name = cuba.25.c
		ai_chance = {
			factor = 50
		}

		CUB = {
			country_event = {
				id = cuba.29
				days = 7
			}
		}
	}
}

country_event = { # US backs down
	id = cuba.26
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.26" }
	title = cuba.26.t
	desc = cuba.26.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = {
		name = cuba.26.a

		set_country_flag = CUB_mildirectrule
	}
}

country_event = { # US threatens concessions or further intervention
	id = cuba.27
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.27" }
	title = cuba.27.t
	desc = cuba.27.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { # accept
		name = cuba.27.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CUB_strike
					option = CUB_STRIKE_LAPDOG
				}
			}
		}

		USA = {
			country_event = {
				id = cuba.24
				days = 1
			}
		}
	}

	option = { # refuse
		name = cuba.27.b
		ai_chance = {
			factor = 50
		}

		USA = {
			country_event = {
				id = cuba.28
				days = 1
			}
		}
	}
}

country_event = { # Last chance for us to back down
	id = cuba.28
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.28" }
	title = cuba.28.t
	desc = cuba.28.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { # back down
		name = cuba.28.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CUB_strike
					option = CUB_STRIKE_LAPDOG
				}
			}
		}

		CUB = {
			country_event = {
				id = cuba.26
				days = 7
			}
		}
	}

	option = { # direct intervention
		name = cuba.28.b
		ai_chance = {
			factor = 50
		}

		CUB = {
			country_event = {
				id = cuba.29
				days = 7
			}
		}
	}
}

country_event = { # America Directly Established Puppet Govt.
	id = cuba.29
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.29" }
	title = cuba.29.t
	desc = cuba.29.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = { # rip
		name = cuba.29.a

		USA = {
			country_event = {
				id = cuba.22
				days = 1
			}
		}
		set_politics = {
			ruling_party = authoritarian_democrat
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.15
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.15
		}
		custom_effect_tooltip = CUB_ministerandgen_tt
		remove_ideas = CUB_mixed_regime
		clr_country_flag = Aristides_Sosa_Quesada_dead
		clr_country_flag = Gaspar_Maspons_Jordan_dead
		set_country_flag = Martin_Diaz_Tamayo_dead
		set_country_flag = Ignacio_Galindez_dead
		set_country_flag = Angel_Aurelio_Gonzalez_dead
		set_country_flag = Guillermo_Martull_Bataille_dead
		if = {
			limit = {
				has_idea = CUB_american_influence
			}
			swap_ideas = {
				remove_idea = CUB_american_influence
				add_idea = CUB_american_puppet_idea
			}
		}
		if = {
			limit = {
				has_idea = CUB_american_influence_2
			}
			swap_ideas = {
				remove_idea = CUB_american_influence_2
				add_idea = CUB_american_puppet_idea
			}
		}
		hidden_effect = {
			remove_all_ministers = yes
			if = {
				limit = {
					date > 1943.1.2
				}
				add_ideas = CUB_Julio_Lobo_Olavarria_eco_ade
			}
			else = {
				add_ideas = CUB_Henri_Schueg_Chassin_eco_ade
			}
			if = {
				limit = {
					date > 1940.1.2
				}
				add_ideas = CUB_Antonio_Sanchez_de_Bustamante_Sirven_sec_ade
			}
			else = {
				add_ideas = CUB_Carlos_Mendieta_Montefur_sec_ade
			}
			add_ideas = {
				CUB_Clemente_Vazquez_Bello_hog_ade
				CUB_Jorge_Garcia_Montes_for_ade
			}
			if = {
				limit = {
					has_unit_leader = 1456
				}
				random_unit_leader = {
					limit = { has_id = 1456 }			
					remove_unit_leader = yes
				}
			}
			if = {
				limit = {
					has_unit_leader = 1452
				}
				random_unit_leader = {
					limit = { has_id = 1452 }			
					remove_unit_leader = yes
				}
			}
		}
		custom_effect_tooltip = CUB_decisiontooltip
		set_country_flag = CUB_USpuppet
	}
}

country_event = { # Start of revolutionary congress
	id = cuba.30
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.30" }
	title = cuba.30.t
	desc = {
		text = cuba.30.d
		trigger = {
			NOT = {
				has_country_flag = mella_back
			}
		}
	}
	desc = {
		text = cuba.30.d_mella
		trigger = {
			has_country_flag = mella_back
		}
	}
	picture = GFX_report_event_generic_diplomacy2
	is_triggered_only = yes

	option = { #Syndie
		name = cuba.30.a
		ai_chance = {
			factor = 34
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_RADSOC
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_TOTAL
					}
				}
			}
		}

		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		hidden_effect = {
			modify_country_flag = {
				flag = cubansyndiescore
				value = 1
			}
			country_event = {
				id = cuba.31
				days = 3
			}
		}
	}
	option = { #Radsoc
		name = cuba.30.b
		ai_chance = {
			factor = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_SYN
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_TOTAL
					}
				}
			}
			modifier = {
				factor = 0
				has_country_flag = mella_back
			}
		}

		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		hidden_effect = {
			modify_country_flag = {
				flag = cubanradsocscore
				value = 1
			}
			country_event = {
				id = cuba.31
				days = 3
			}
		}
	}
	option = { #Totalist
		name = cuba.30.c
		ai_chance = {
			factor = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_RADSOC
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_SYN
					}
				}
			}
			modifier = {
				factor = 2
				has_country_flag = mella_back
			}
		}

		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		hidden_effect = {
			modify_country_flag = {
				flag = cubantotalistscore
				value = 1
			}
			country_event = {
				id = cuba.31
				days = 3
			}
		}
	}
}

country_event = { # congress issue 2
	id = cuba.31
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.31" }
	title = cuba.31.t
	desc = {
		text = cuba.31.d
		trigger = {
			NOT = {
				has_country_flag = mella_back
			}
		}
	}
	desc = {
		text = cuba.31.d_mella
		trigger = {
			has_country_flag = mella_back
		}
	}
	picture = GFX_report_event_generic_diplomacy2
	is_triggered_only = yes

	option = { #Syndie
		name = cuba.31.a
		ai_chance = {
			factor = 34
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_RADSOC
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_TOTAL
					}
				}
			}
		}

		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		hidden_effect = {
			modify_country_flag = {
				flag = cubansyndiescore
				value = 1
			}
			country_event = {
				id = cuba.32
				days = 3
			}
		}
	}

	option = { #Radsoc
		name = cuba.31.b
		ai_chance = {
			factor = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_SYN
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_TOTAL
					}
				}
			}
			modifier = {
				factor = 0
				has_country_flag = mella_back
			}
		}

		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		hidden_effect = {
			modify_country_flag = {
				flag = cubanradsocscore
				value = 1
			}
			country_event = {
				id = cuba.32
				days = 3
			}
		}
	}
	option = { #Totalist
		name = cuba.31.c
		ai_chance = {
			factor = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_RADSOC
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_SYN
					}
				}
			}
			modifier = {
				has_country_flag = mella_back
			}
		}

		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		hidden_effect = {
			modify_country_flag = {
				flag = cubantotalistscore
				value = 1
			}
			country_event = {
				id = cuba.32
				days = 3
			}
		}
	}
}

country_event = { # congress issue 3
	id = cuba.32
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.32" }
	title = cuba.32.t
	desc = {
		text = cuba.32.d
		trigger = {
			NOT = {
				has_country_flag = mella_back
			}
		}
	}
	desc = {
		text = cuba.32.d_mella
		trigger = {
			has_country_flag = mella_back
		}
	}
	picture = GFX_report_event_generic_diplomacy2
	is_triggered_only = yes

	option = { #Syndie
		name = cuba.32.a
		ai_chance = {
			factor = 34
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_RADSOC
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_TOTAL
					}
				}
			}
		}

		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		hidden_effect = {
			modify_country_flag = {
				flag = cubansyndiescore
				value = 1
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubansyndiescore
						value > 1
					}
					has_country_flag = mella_back
				}
				country_event = {
					id = cuba.33
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubansyndiescore
						value > 1
					}
					NOT = {
						has_country_flag = mella_back
					}
				}
				country_event = {
					id = cuba.34
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubanradsocscore
						value > 1
					}
					has_country_flag = mella_back
				}
				country_event = {
					id = cuba.35
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubanradsocscore
						value > 1
					}
					NOT = {
						has_country_flag = mella_back
					}
				}
				country_event = {
					id = cuba.36
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubantotalistscore
						value > 1
					}
					has_country_flag = mella_back
				}
				country_event = {
					id = cuba.37
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubantotalistscore
						value > 1
					}
					NOT = {
						has_country_flag = mella_back
					}
				}
				country_event = {
					id = cuba.38
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubansyndiescore
						value < 2
					}
					has_country_flag = {
						flag = cubanradsocscore
						value < 2
					}
					has_country_flag = {
						flag = cubantotalistscore
						value < 2
					}
				}
				country_event = {
					id = cuba.39
					days = 3
				}
			}
		}
	}

	option = { #Radsoc
		name = cuba.32.b
		ai_chance = {
			factor = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_SYN
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_TOTAL
					}
				}
			}
			modifier = {
				factor = 0
				has_country_flag = mella_back
			}
		}

		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		hidden_effect = {
			modify_country_flag = {
				flag = cubanradsocscore
				value = 1
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubansyndiescore
						value > 1
					}
					has_country_flag = mella_back
				}
				country_event = {
					id = cuba.33
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubansyndiescore
						value > 1
					}
					NOT = {
						has_country_flag = mella_back
					}
				}
				country_event = {
					id = cuba.34
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubanradsocscore
						value > 1
					}
					has_country_flag = mella_back
				}
				country_event = {
					id = cuba.35
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubanradsocscore
						value > 1
					}
					NOT = {
						has_country_flag = mella_back
					}
				}
				country_event = {
					id = cuba.36
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubantotalistscore
						value > 1
					}
					has_country_flag = mella_back
				}
				country_event = {
					id = cuba.37
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubantotalistscore
						value > 1
					}
					NOT = {
						has_country_flag = mella_back
					}
				}
				country_event = {
					id = cuba.38
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubansyndiescore
						value < 2
					}
					has_country_flag = {
						flag = cubanradsocscore
						value < 2
					}
					has_country_flag = {
						flag = cubantotalistscore
						value < 2
					}
				}
				country_event = {
					id = cuba.39
					days = 3
				}
			}
		}
	}
	option = { #Totalist
		name = cuba.32.c
		ai_chance = {
			factor = 33
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_RADSOC
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_SOCIALIST_SYN
					}
				}
			}
			modifier = {
				factor = 2
				has_country_flag = mella_back
			}
		}

		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		hidden_effect = {
			modify_country_flag = {
				flag = cubantotalistscore
				value = 1
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubansyndiescore
						value > 1
					}
					has_country_flag = mella_back
				}
				country_event = {
					id = cuba.33
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubansyndiescore
						value > 1
					}
					NOT = {
						has_country_flag = mella_back
					}
				}
				country_event = {
					id = cuba.34
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubanradsocscore
						value > 1
					}
					has_country_flag = mella_back
				}
				country_event = {
					id = cuba.35
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubanradsocscore
						value > 1
					}
					NOT = {
						has_country_flag = mella_back
					}
				}
				country_event = {
					id = cuba.36
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubantotalistscore
						value > 1
					}
					has_country_flag = mella_back
				}
				country_event = {
					id = cuba.37
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubantotalistscore
						value > 1
					}
					NOT = {
						has_country_flag = mella_back
					}
				}
				country_event = {
					id = cuba.38
					days = 3
				}
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubansyndiescore
						value < 2
					}
					has_country_flag = {
						flag = cubanradsocscore
						value < 2
					}
					has_country_flag = {
						flag = cubantotalistscore
						value < 2
					}
				}
				country_event = {
					id = cuba.39
					days = 3
				}
			}
		}
	}
}

country_event = { # syndie victory with mella - mella coup attempt
	id = cuba.33
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.33" }
	title = cuba.33.t
	desc = cuba.33.d
	picture = GFX_report_event_CUB_mella
	is_triggered_only = yes

	option = { #coup fails
		name = cuba.33.a
		ai_chance = {
			factor = 50
		}

		add_popularity = {
			ideology = syndicalist
			popularity = 0.07
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Antonio_Guiteras_Holmes_hog_syn
				CUB_Raul_Roa_Garcia_for_syn
				CUB_Salvador_Vilaseca_Forne_eco_syn
				CUB_Newton_Briones_Fernandez_sec_syn
			}
			country_event = {
				id = cuba.40
				days = 1
			}
		}
		set_country_flag = syndiecongvic
		if = {
			limit = {
				NOT = {
					has_government = syndicalist
				}
			}
			set_politics = {
				ruling_party = syndicalist
			}
		}
	}

	option = { #coup succeeds
		name = cuba.33.b
		ai_chance = {
		factor = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CUB_strike
					option = CUB_STRIKE_SOCIALIST_SYN
				}
			}
		}

		add_popularity = {
			ideology = syndicalist
			popularity = 0.02
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		set_country_flag = totalistcongvic
		if = {
			limit = {
				NOT = {
					has_government = totalist
				}
			}
			set_politics = {
				ruling_party = totalist
			}
		}
		create_country_leader = {
			name = "Julio Mella McPartland"
			desc = "POLITICS_JULIO_MELLA_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Julio_Antonio_Mella.png"
			expire = "1.1.1"
			ideology = internationalism_subtype
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Julio_Mella_McPartland_hog_tot
				CUB_Emilio_Roig_Leuchsenring_for_tot
				CUB_Blas_Roca_Calderio_eco_tot
				CUB_Alejandro_Barreiro_Olivera_sec_tot
			}
			country_event = {
				id = cuba.41
				days = 1
			}
		}
		if = {
			limit = {
				has_unit_leader = 1451
			}
			random_unit_leader = {
				limit = { has_id = 1451 }			
				remove_unit_leader = yes
			}
		}
	}
}

country_event = { # syndie victory without mella
	id = cuba.34
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.34" }
	title = cuba.34.t
	desc = cuba.34.d
	is_triggered_only = yes

	option = {
		name = cuba.34.a

		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		hidden_effect = {
			country_event = {
				id = cuba.232
				days = 800
			}
		}
		set_country_flag = syndiecongvic
		if = {
			limit = {
				NOT = {
					has_government = syndicalist
				}
			}
			set_politics = {
				ruling_party = syndicalist
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Antonio_Guiteras_Holmes_hog_syn
					CUB_Raul_Roa_Garcia_for_syn
					CUB_Salvador_Vilaseca_Forne_eco_syn
					CUB_Newton_Briones_Fernandez_sec_syn
				}
			}
		}
	}
}

country_event = { # radsoc victory with mella - mella demands HoG and non-bourg govt structure
	id = cuba.35
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.35" }
	title = cuba.35.t
	desc = cuba.35.d
	picture = GFX_report_event_CUB_mella
	is_triggered_only = yes

	option = { #yes
		name = cuba.35.a

		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.02
		}
		set_country_flag = radsoccongvic
		set_country_flag = mellaradsocdeal
		if = {
			limit = {
				NOT = {
					has_government = radical_socialist
				}
			}
			set_politics = {
				ruling_party = radical_socialist
			}
		}
		create_country_leader = {
			name = "Julio Mella McPartland"
			desc = "POLITICS_JULIO_MELLA_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Julio_Antonio_Mella.png"
			expire = "1.1.1"
			ideology = internationalism_subtype
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Julio_Mella_McPartland_hog_tot
				CUB_Pablo_de_la_Torriente_Brau_for_rso
				CUB_Jose_Luciano_Franco_eco_rso
				CUB_Fernando_Cruz_Portuondo_sec_rso
			}
		}
	}

	option = { #no
		name = cuba.35.b

		add_popularity = {
			ideology = radical_socialist
			popularity = 0.04
		}
		set_country_flag = radsoccongvic
		if = {
			limit = {
				NOT = {
					has_government = radical_socialist
				}
			}
			set_politics = {
				ruling_party = radical_socialist
			}
			create_country_leader = {
				name = "Julio Mella McPartland"
				desc = "POLITICS_JULIO_MELLA_DESC"
				picture = "gfx/leaders/CUB/Portrait_Cuba_Julio_Antonio_Mella.png"
				expire = "1.1.1"
				ideology = internationalism_subtype
			}
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Juan_Blas_Hernandez_hog_rso
				CUB_Pablo_de_la_Torriente_Brau_for_rso
				CUB_Jose_Luciano_Franco_eco_rso
				CUB_Fernando_Cruz_Portuondo_sec_rso
			}
			country_event = {
				id = cuba.42
				days = 1
			}
		}
	}
}

country_event = { # radsoc victory without mella
	id = cuba.36
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.36" }
	title = cuba.36.t
	desc = cuba.36.d
	is_triggered_only = yes

	option = {
		name = cuba.36.a

		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		if = {
			limit = {
				NOT = {
					has_government = radical_socialist
				}
			}
			set_politics = {
				ruling_party = radical_socialist
			}
		}
		set_country_flag = radsoccongvic
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Juan_Blas_Hernandez_hog_rso
				CUB_Pablo_de_la_Torriente_Brau_for_rso
				CUB_Jose_Luciano_Franco_eco_rso
				CUB_Fernando_Cruz_Portuondo_sec_rso
			}
			country_event = {
				id = cuba.232
				days = 800
			}
		}
	}
}

country_event = { # totalist victory with mella
	id = cuba.37
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.37" }
	title = cuba.37.t
	desc = cuba.37.d
	picture = GFX_report_event_CUB_mella
	is_triggered_only = yes

	option = {
		name = cuba.37.a

		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		set_country_flag = totalistcongvic
		if = {
			limit = {
				NOT = {
					has_government = totalist
				}
			}
			set_politics = {
				ruling_party = totalist
			}
		}
		create_country_leader = {
			name = "Julio Mella McPartland"
			desc = "POLITICS_JULIO_MELLA_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Julio_Antonio_Mella.png"
			expire = "1.1.1"
			ideology = internationalism_subtype
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Julio_Mella_McPartland_hog_tot
				CUB_Emilio_Roig_Leuchsenring_for_tot
				CUB_Blas_Roca_Calderio_eco_tot
				CUB_Alejandro_Barreiro_Olivera_sec_tot
			}
		}
	}
}

country_event = { # totalist victory without mella
	id = cuba.38
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.38" }
	title = cuba.38.t
	desc = cuba.38.d

	is_triggered_only = yes

	option = {
		name = cuba.38.a

		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		set_country_flag = totalistcongvic
		if = {
			limit = {
				NOT = {
					has_government = totalist
				}
			}
			set_politics = {
				ruling_party = totalist
			}
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Lazaro_Pena_Gonzalez_hog_tot
				CUB_Emilio_Roig_Leuchsenring_for_tot
				CUB_Blas_Roca_Calderio_eco_tot
				CUB_Alejandro_Barreiro_Olivera_sec_tot
			}
			country_event = {
				id = cuba.232
				days = 800
			}
		}
	}
}

country_event = { # no majority - will be modified if have mella
	id = cuba.39
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.39" }
	title = cuba.39.t
	desc = cuba.39.d
	is_triggered_only = yes

	option = {
		name = cuba.39.a

		set_country_flag = syndiecongvic
		add_stability = -0.05
		add_political_power = -20
		add_popularity = {
			ideology = syndicalist
			popularity = 0.02
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.02
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.02
		}
		if = {
			limit = {
				has_country_flag = mella_back
			}
			create_country_leader = {
				name = "Julio Mella McPartland"
				desc = "POLITICS_JULIO_MELLA_DESC"
				picture = "gfx/leaders/CUB/Portrait_Cuba_Julio_Antonio_Mella.png"
				expire = "1.1.1"
				ideology = internationalism_subtype
			}
		}
		create_country_leader = {
			name = "Raul Roa García"
			desc = "POLITICS_RAUL_ROA_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Raul_Roa_Garcia.png"
			expire = "1.1.1"
			ideology = syndicalist_subtype
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Raul_Roa_Garcia_hog_syn
				CUB_Pablo_de_la_Torriente_Brau_for_rso
				CUB_Salvador_Vilaseca_Forne_eco_syn
				CUB_Alejandro_Barreiro_Olivera_sec_tot
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = mella_back
					}
				}
				country_event = {
					id = cuba.232
					days = 800
				}
			}
		}
	}
}

country_event = { # Guiteras Dealing with Mella & Supporters
	id = cuba.40
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.40" }
	title = cuba.40.t
	desc = cuba.40.d
	picture = GFX_report_event_CUB_execute
	is_triggered_only = yes

	option = { #execute
		name = cuba.40.a

		add_political_power = 20
		add_popularity = {
			ideology = totalist
			popularity = 0.02
		}
	}

	option = { #imprison
		name = cuba.40.b

		add_political_power = -20
	}
}

country_event = { # Mella Dealing with guiteras & Supporters
	id = cuba.41
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.41" }
	title = cuba.41.t
	desc = cuba.41.d
	picture = GFX_report_event_CUB_execute
	is_triggered_only = yes

	option = { #execute
		name = cuba.41.a

		add_political_power = 20
		add_popularity = {
			ideology = syndicalist
			popularity = 0.02
		}
		create_country_leader = {
			name = "Raul Roa García"
			desc = "POLITICS_RAUL_ROA_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Raul_Roa_Garcia.png"
			expire = "1.1.1"
			ideology = syndicalist_subtype
		}
	}

	option = { #imprison
		name = cuba.41.b

		add_political_power = -20
		create_country_leader = {
			name = "Raul Roa García"
			desc = "POLITICS_RAUL_ROA_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Raul_Roa_Garcia.png"
			expire = "1.1.1"
			ideology = syndicalist_subtype
		}
	}
}

country_event = { # Radsoc refuses Mella
	id = cuba.42
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.42" }
	title = cuba.42.t
	desc = cuba.42.d
	picture = GFX_report_event_CUB_mella
	is_triggered_only = yes

	option = { #arrest mella
		name = cuba.42.a

		add_political_power = 30
		add_popularity = {
			ideology = totalist
			popularity = 0.02
		}
	}

	option = { #leave him be
		name = cuba.42.b

		add_political_power = -10
		add_stability = -0.02
	}
}

country_event = { # The Congress is Refused
	id = cuba.43
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.43" }
	title = cuba.43.t
	desc = {
		text = cuba.43.d
		trigger = {
			NOT = {
				has_country_flag = mella_back
			}
		}
	}
	desc = {
		text = cuba.43.d_mella
		trigger = {
			has_country_flag = mella_back
		}
	}
	is_triggered_only = yes

	option = {
		name = cuba.43.a

		trigger = {
			NOT = {
				has_country_flag = mella_back
			}
		}

		add_stability = -0.2
		add_political_power = -200
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.1
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Antonio_Guiteras_Holmes_hog_syn
				CUB_Raul_Roa_Garcia_for_syn
				CUB_Salvador_Vilaseca_Forne_eco_syn
				CUB_Newton_Briones_Fernandez_sec_syn
			}
			country_event = {
				id = cuba.232
				days = 800
			}
		}
		if = {
			limit = {
				has_unit_leader = 1450
			}
			random_unit_leader = {
				limit = { has_id = 1450 }			
				remove_unit_leader = yes
			}
		}
		set_country_flag = Juan_Blas_Hernandez_dead
		clr_country_flag = Antonio_Guiteras_Holmes_dead
		set_country_flag = no_congress
	}

	option = {
		name = cuba.43.b

		trigger = {
			has_country_flag = mella_back
		}

		add_stability = -0.2
		add_political_power = -200
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.1
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Antonio_Guiteras_Holmes_hog_syn
				CUB_Raul_Roa_Garcia_for_syn
				CUB_Salvador_Vilaseca_Forne_eco_syn
				CUB_Newton_Briones_Fernandez_sec_syn
			}
			random_list = {
				50 = { # coup fails
					CUB = {
						country_event = {
							id = cuba.45
							days = 13
						}
					}
				}
				50 = { # coup succeeds
					CUB = {
						country_event = {
							id = cuba.46
							days = 13
						}
					}
				}
			}
		}
	}
}

#cuba.44 removed

country_event = { # Coup Fails
	id = cuba.45
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.45" }
	title = cuba.45.t
	desc = cuba.45.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = {
		name = cuba.45.a

		add_manpower = -1000
		add_stability = 0.1
		add_political_power = 100
		add_popularity = {
			ideology = totalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		if = {
			limit = {
				has_unit_leader = 1450
			}
			random_unit_leader = {
				limit = { has_id = 1450 }			
				remove_unit_leader = yes
			}
		}
		clr_country_flag = Antonio_Guiteras_Holmes_dead
		set_country_flag = Juan_Blas_Hernandez_dead
		hidden_effect = {
			country_event = {
				id = cuba.232
				days = 800
			}
		}
		set_country_flag = no_congress
	}
}

country_event = { # Coup Succeeds
	id = cuba.46
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.46" }
	title = cuba.46.t
	desc = cuba.46.d
	picture = GFX_report_event_CUB_march
	is_triggered_only = yes

	option = {
		name = cuba.46.a

		set_politics = {
			ruling_party = totalist
		}
		add_manpower = -1000
		add_stability = 0.1
		add_political_power = 100
		add_popularity = {
			ideology = totalist
			popularity = 0.15
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.15
		}
		create_country_leader = {
			name = "Julio Mella McPartland"
			desc = "POLITICS_JULIO_MELLA_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Julio_Antonio_Mella.png"
			expire = "1.1.1"
			ideology = internationalism_subtype
		}
		create_country_leader = {
			name = "Raul Roa García"
			desc = "POLITICS_RAUL_ROA_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Raul_Roa_Garcia.png"
			expire = "1.1.1"
			ideology = syndicalist_subtype
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Julio_Mella_McPartland_hog_tot
				CUB_Emilio_Roig_Leuchsenring_for_tot
				CUB_Blas_Roca_Calderio_eco_tot
				CUB_Alejandro_Barreiro_Olivera_sec_tot
			}
			country_event = {
				id = cuba.48
				days = 30
			}
		}
		if = {
			limit = {
				has_unit_leader = 1451
			}
			random_unit_leader = {
				limit = { has_id = 1451 }			
				remove_unit_leader = yes
			}
		}
		set_country_flag = no_congress_mellacoup
	}
}

country_event = { #protect revolution
	id = cuba.47
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.47" }
	title = cuba.47.t
	desc = {
		text = cuba.47.d_1
		trigger = {
			has_government = radical_socialist
			NOT = {
				has_country_flag = mellaradsocdeal
			}
		}
	}
	desc = {
		text = cuba.47.d_2
		trigger = {
			has_government = radical_socialist
			has_country_flag = mellaradsocdeal
		}
	}
	desc = {
		text = cuba.47.d_3
		trigger = {
			has_government = syndicalist
			NOT = {
				has_country_leader = {
					name = "Raul Roa García"
					ruling_only = yes
				}
			}
		}
	}
	desc = {
		text = cuba.47.d_4
		trigger = {
			has_government = totalist
			NOT = {
				has_country_flag = mella_back
			}
		}
	}
	desc = {
		text = cuba.47.d_5
		trigger = {
			has_government = totalist
			has_country_flag = mella_back
		}
	}
	desc = {
		text = cuba.47.d_6
		trigger = {
			has_government = syndicalist
			has_country_leader = {
				name = "Raul Roa García"
				ruling_only = yes
			}
		}
	}
	is_triggered_only = yes

	option = {
		name = cuba.47.a
		trigger = {
			has_government = radical_socialist
			NOT = {
				has_country_flag = mellaradsocdeal
			}
		}

		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		add_ideas = CUB_rs_guard_guer
	}

	option = {
		name = cuba.47.b
		trigger = {
			has_government = radical_socialist
			NOT = {
				has_country_flag = mellaradsocdeal
			}
		}

		add_popularity = {
			ideology = radical_socialist
			popularity = 0.05
		}
		add_ideas = CUB_rs_guard_pol
	}

	option = {
		name = cuba.47.c
		trigger = {
			has_government = syndicalist
		}

		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		add_ideas = CUB_syn_guard_sep
	}

	option = {
		name = cuba.47.d
		trigger = {
			has_government = syndicalist
		}

		add_popularity = {
			ideology = syndicalist
			popularity = 0.05
		}
		add_ideas = CUB_syn_guard_int
	}

	option = {
		name = cuba.47.e

		trigger = {
			OR = {
				AND = {
					has_government = totalist
					has_country_flag = mella_back
				}
				AND = {
					has_government = radical_socialist
					has_country_flag = mellaradsocdeal
				}
			}
		}

		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		add_ideas = CUB_tot_guard_ref
	}

	option = {
		name = cuba.47.f

		trigger = {
			OR = {
				AND = {
					has_government = totalist
					has_country_flag = mella_back
				}
				AND = {
					has_government = radical_socialist
					has_country_flag = mellaradsocdeal
				}
			}
		}

		if = {
			limit = {
				has_government = radical_socialist
			}
			add_popularity = {
				ideology = radical_socialist
				popularity = 0.03
			}
			add_popularity = {
				ideology = totalist
				popularity = 0.02
			}
		}
		if = {
			limit = {
				has_government = totalist
			}
			add_popularity = {
				ideology = totalist
				popularity = 0.05
			}
		}
		add_ideas = CUB_tot_guard_rip
	}

	option = {
		name = cuba.47.g

		trigger = {
			has_government = totalist
			NOT = {
				has_country_flag = mella_back
			}
		}

		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		add_ideas = CUB_tot_guard2_int
	}

	option = {
		name = cuba.47.h

		trigger = {
			has_government = totalist
			NOT = {
				has_country_flag = mella_back
			}
		}

		add_popularity = {
			ideology = totalist
			popularity = 0.05
		}
		add_ideas = CUB_tot_guard2_sep
	}
}

country_event = { #Radsoc attempt to overthrow old friends
	id = cuba.48
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.48" }
	title = cuba.48.t
	desc = cuba.48.d
	picture = GFX_report_event_CUB_blasrevolution
	is_triggered_only = yes

	option = { #success
		name = cuba.48.a

		add_political_power = 50
		add_popularity = {
			ideology = radical_socialist
			popularity = 0.15
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.1
		}
		set_politics = {
			ruling_party = radical_socialist
			elections_allowed = no
		}
		country_event = {
			id = cuba.49
			days = 1
		}
		create_country_leader = {
			name = "Sandalio Junco Camellón"
			desc = "POLITICS_SANDALIO_JUNCO_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Sandalio_Junco_Camellon.png"
			expire = "1.1.1"
			ideology = authcom_subtype
		}
		add_ideas = {
			CUB_Juan_Blas_Hernandez_hog_rso
			CUB_Pablo_de_la_Torriente_Brau_for_rso
			CUB_Jose_Luciano_Franco_eco_rso
			CUB_Fernando_Cruz_Portuondo_sec_rso
		}
		set_country_flag = CUB_radsoccoup
	}

	option = { #failure
		name = cuba.48.b

		add_stability = 0.05
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.1
		}
		add_popularity = {
			ideology = totalist
			popularity = 0.15
		}
		country_event = {
			id = cuba.50
			days = 1
		}
		create_country_leader = {
			name = "Alberto Bayo Giroud"
			desc = "POLITICS_RAUL_ROA_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Alberto_Bayo_Giroud.png"
			expire = "1.1.1"
			ideology = agrarian_socialism_subtype
		}
		if = {
			limit = {
				has_unit_leader = 1450
			}
			random_unit_leader = {
				limit = { has_id = 1450 }			
				remove_unit_leader = yes
			}
		}
		clr_country_flag = Julio_Mella_McPartland_dead
		set_country_flag = Juan_Blas_Hernandez_dead
	}
}

country_event = { #Radsoc event for info
	id = cuba.49
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.49" }
	title = cuba.49.t
	desc = cuba.49.d
	is_triggered_only = yes

	option = { #
		name = cuba.49.a

		add_popularity = {
			ideology = totalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.05
		}
		set_country_flag = Juan_Blas_Hernandez_dead
	}
}

country_event = { #Totalist event for info
	id = cuba.50
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.50" }
	title = cuba.50.t
	desc = cuba.50.d
	is_triggered_only = yes

	option = { #
		name = cuba.50.a

		add_popularity = {
			ideology = radical_socialist
			popularity = -0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.05
		}
	}
}

country_event = { #taking bourg's stuff
	id = cuba.51
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.51" }
	title = cuba.51.t
	desc = cuba.51.d
	picture = GFX_report_event_HAI_sugar_workers
	is_triggered_only = yes

	option = { #seize from evil bourg
		name = cuba.51.a

		country_event = cuba.52
	}

	option = { #dont seize
		name = cuba.51.b

		add_political_power = -50
		add_stability = -0.05
	}
}

country_event = { # Syndie bourg seizing
	id = cuba.52
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.52" }
	title = cuba.52.t
	desc = cuba.52.d
	picture = GFX_report_event_HAI_sugar_workers
	is_triggered_only = yes

	option = { #moderate
		name = cuba.52.a

		add_timed_idea = {
			idea = CUB_syn_seize_mod
			days = 90
		}
		315 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}

	option = { #full
		name = cuba.52.b

		add_timed_idea = {
			idea = CUB_syn_seize_rad
			days = 120
		}
		315 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
	}
}

### Natpop Chain ###
country_event = { #march on Havana
	id = cuba.53
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.53" }
	title = cuba.53.t
	desc = cuba.53.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_rebel_sailors

	option = {
		name = cuba.53.a

		create_country_leader = {
			name = "Ramón Grau San Martín"
			desc = "POLITICS_RAMON_GRAU_MARTIN_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Ramon_Grau_Martin.png"
			expire = "1.1.1"
			ideology = autentico_subtype
		}
		set_party_name =  {
			ideology = national_populist
			name = CUB_authoritarian_democrat_party_nat
			long_name = CUB_paternal_autocrat_party_long_nat
		}
		set_politics = {
			ruling_party = national_populist
			elections_allowed = no
		}
		if = {
			limit = {
				has_country_flag = mendieta_elected
			}
			add_popularity = {
				ideology = national_populist
				popularity = 0.13
			}
		}
		else = {
			add_popularity = {
				ideology = national_populist
				popularity = 0.2
			}
		}
		clr_country_flag = Genovevo_Perez_Damera_dead
		clr_country_flag = Salvador_Menendez_Villoch_dead
		clr_country_flag = Otalio_Soca_Llanes_dead
		clr_country_flag = Agustin_Parla_Orduna_dead
		set_country_flag = Alberto_Herrera_Franchi_dead
		set_country_flag = Martin_Diaz_Tamayo_dead
		set_country_flag = Aristides_Sosa_Quesada_dead
		set_country_flag = Ignacio_Galindez_dead
		set_country_flag = Gaspar_Maspons_Jordan_dead
		set_country_flag = Angel_Aurelio_Gonzalez_dead
		set_country_flag = Guillermo_Martull_Bataille_dead
		set_country_flag = CUB_natmilflag
		custom_effect_tooltip = CUB_decisiontooltip
		remove_ideas = CUB_mixed_regime
		remove_ideas = CUB_complete_chaos
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Ramon_Grau_San_Martin_hog_ade
				CUB_Gustavo_Cuervo_Rubio_for_ade
				CUB_Gustavo_Moreno_Lastres_eco_ade
				CUB_Felix_Lancis_Sanchez_sec_ade
			}
			if = {
				limit = {
					has_unit_leader = 1456
				}
				random_unit_leader = {
					limit = { has_id = 1456 }			
					remove_unit_leader = yes
				}
			}
			if = {
				limit = {
					has_unit_leader = 1450
				}
				random_unit_leader = {
					limit = { has_id = 1450 }			
					remove_unit_leader = yes
				}
			}
			if = {
				limit = {
					has_unit_leader = 1451
				}
				random_unit_leader = {
					limit = { has_id = 1451 }			
					remove_unit_leader = yes
				}
			}
			if = {
				limit = {
					has_unit_leader = 1455
				}
				random_unit_leader = {
					limit = { has_id = 1455 }			
					remove_unit_leader = yes
				}
			}
			if = {
				limit = {
					has_unit_leader = 1452
				}
				random_unit_leader = {
					limit = { has_id = 1452 }			
					remove_unit_leader = yes
				}
			}
			if = {
				limit = {
					has_unit_leader = 1458
				}
				random_unit_leader = {
					limit = { has_id = 1458 }			
					remove_unit_leader = yes
				}
			}
			create_field_marshal = {
				name = "Ramón Grau San Martín"
				picture = "gfx/leaders/CUB/Portrait_Cuba_Ramon_Grau_Martin.png"
				id = 1454
				traits = {
					politically_connected
					guerilla_fighter
				}
				skill = 2
				attack_skill = 3
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 1
			}
			create_corps_commander = {
				name = "Genovevo Pérez Dámera"
				portrait_path = "gfx/leaders/CUB/Portrait_Cuba_Genovevo_Perez_Damera.png"
				id = 1457
				traits = {
					politically_connected
					career_officer
				}
				skill = 1
				attack_skill = 1
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 1
			}
			country_event = {
				id = cuba.55
				days = 7
			}
			USA = {
				country_event = {
					id = cuba.56
					days = 1
				}
			}
		}
		custom_effect_tooltip = CUB_ministerandgen_tt
	}
}

country_event = { #natpops seize or ask americans to make concessions for plantations
	id = cuba.54
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.54" }
	title = cuba.54.t
	desc = {
		text = cuba.54.d_1
		trigger = {
			has_country_flag = CUB_summitfail
			NOT = {
				AND = {
					has_global_flag = USA_civil_war_begun_flag
					NOT = {
						has_global_flag = USA_civil_war_over_flag
					}
				}
			}
		}
	}
	desc = {
		text = cuba.54.d_2
		trigger = {
			NOT = {
				has_country_flag = CUB_summitfail
				AND = {
					has_global_flag = USA_civil_war_begun_flag
					NOT = {
						has_global_flag = USA_civil_war_over_flag
					}
				}
			}
		}
	}
	desc = {
		text = cuba.54.d_3
		trigger = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = {
				has_global_flag = USA_civil_war_over_flag
			}
		}
	}
	picture = GFX_report_event_CUB_american_deal
	is_triggered_only = yes

	option = { #seize
		name = cuba.54.a

		315 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		set_country_flag = CUB_natsseizedstuff
		remove_ideas = CUB_american_influence
		add_timed_idea = {
			idea = CUB_nat_seize
			days = 90
		}
		reverse_add_opinion_modifier = {
			target = USA
			modifier = CUB_natseize
		}
		add_opinion_modifier = {
			target = USA
			modifier = CUB_natseize
		}
		USA = {
			country_event = {
				id = cuba.57
				days = 1
			}
		}
	}

	option = { #negotiate
		name = cuba.54.b

		trigger = {
			NOT = {
				has_country_flag = CUB_summitfail
			}
		}

		USA = {
			country_event = {
				id = cuba.58
				days = 1
			}
		}
	}
}

country_event = { #natpop dealing with socialists
	id = cuba.55
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.55" }
	title = cuba.55.t
	desc = cuba.55.d
	is_triggered_only = yes

	option = {
		name = cuba.55.a

		add_popularity = {
			ideology = radical_socialist
			popularity = -0.05
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.05
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.05
		}
		create_country_leader = {
			name = "Alberto Bayo Giroud"
			desc = "POLITICS_ALBERTO_BAYO_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Alberto_Bayo_Giroud.png"
			expire = "1.1.1"
			ideology = agrarian_socialism_subtype
		}
		create_country_leader = {
			name = "Sandalio Junco Camellón"
			desc = "POLITICS_SANDALIO_JUNCO_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Sandalio_Junco_Camellon.png"
			expire = "1.1.1"
			ideology = authcom_subtype
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.1
		}
	}
}

country_event = { #the US reacts to Cuban natrev
	id = cuba.56
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.56" }
	title = cuba.56.t
	desc = cuba.56.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_rebel_sailors

	option = {
		name = cuba.56.a

		hidden_effect = {
			if = {
				limit = {
					country_exists = CUB
				}
				diplomatic_relation = {
					country = CUB
					relation = guarantee
					active = no
				}
				diplomatic_relation = {
					country = CUB
					relation = non_aggression_pact
					active = no
				}
				diplomatic_relation = {
					country = CUB
					relation = military_access
					active = no
				}
			}
		}
	}
}
country_event = { #the US reacts to Cuban nat seizing plantations
	id = cuba.57
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.57" }
	title = cuba.57.t
	desc = cuba.57.d
	picture = GFX_report_event_HAI_sugar_workers
	is_triggered_only = yes

	option = { #Do Nothing
		name = cuba.57.a

		add_political_power = -25
	}

	option = { #Embargo and support dissidents
		name = cuba.57.b
		CUB = {
			embargo_PREV = yes
			country_event = cuba.16
		}
		set_global_flag = fed_sanctions_cuba
	}
}

country_event = { #the US reacts to Cuban nat calls for plantation summit
	id = cuba.58
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.58" }
	title = cuba.58.t
	desc = cuba.58.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_american_deal

	option = { #yes
		name = cuba.58.a

		CUB = {
			country_event = {
				id = cuba.59
				days = 1
			}
		}
	}

	option = { #no
		name = cuba.58.b

		CUB = {
			country_event = {
				id = cuba.60
				days = 1
			}
		}
	}
}

country_event = { #US accepts Summit
	id = cuba.59
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.59" }
	title = cuba.59.t
	desc = cuba.59.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_american_deal

	option = {
		name = cuba.59.a

		set_country_flag = CUB_summitsuc
		USA = {
			country_event = {
				id = cuba.62
				days = 6
			}
		}
	}
}

country_event = { #US refuses Summit
	id = cuba.60
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.60" }
	title = cuba.60.t
	desc = cuba.60.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_american_deal

	option = {
		name = cuba.60.a

		add_political_power = -50
		set_country_flag = CUB_summitfail
		country_event = {
			id = cuba.54
			days = 1
		}
	}
}

country_event = { #dealing with captured socialists
	id = cuba.61
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.61" }
	title = cuba.61.t
	desc = cuba.61.d
	is_triggered_only = yes

	option = { #kill
		name = cuba.61.a

		add_stability = 0.01
		add_political_power = -10
	}

	option = { #prison
		name = cuba.61.b

		add_stability = -0.01
		add_political_power = 10
	}
}

country_event = { #Negotiations USA
	id = cuba.62
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.62" }
	title = cuba.62.t
	desc = cuba.62.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_american_deal

	option = { #work with Cuba
		name = cuba.62.a

		add_political_power = 5
		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.63
					days = 1
				}
			}
		}
	}

	option = { #play hardball
		name = cuba.62.b

		add_political_power = -25
		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.64
					days = 1
				}
			}
		}
	}
}

country_event = { #negotiations succeed
	id = cuba.63
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.63" }
	title = cuba.63.t
	desc = cuba.63.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_american_deal

	option = { #yay
		name = cuba.63.a

		add_ideas = CUB_natplantdeal
		swap_ideas = {
			remove_idea = CUB_american_influence
			add_idea = CUB_american_influence_2
		}
		USA = {
			country_event = {
				id = cuba.67
				days = 1
			}
		}
	}
}

country_event = { #US plays hardball
	id = cuba.64
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.64" }
	title = cuba.64.t
	desc = cuba.64.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_american_deal

	option = { #give up
		name = cuba.64.a

		add_political_power = -50
		set_country_flag = CUB_summitfail
		country_event = {
			id = cuba.54
			days = 1
		}
	}

	option = { #pushback
		name = cuba.64.b

		hidden_effect = {
			random_list = {
				50 = { # fail
					CUB = {
						country_event = {
							id = cuba.66
							days = 1
						}
					}
				}
				50 = { # succeed
					CUB = {
						country_event = {
							id = cuba.63
							days = 1
						}
					}
				}
			}
		}
	}
}

#cuba.65 removed

country_event = { #Negotiations fail
	id = cuba.66
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.66" }
	title = cuba.66.t
	desc = cuba.66.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_american_deal

	option = { #give up
		name = cuba.66.a

		add_political_power = -100
		set_country_flag = CUB_summitfail
		country_event = {
			id = cuba.54
			days = 1
		}
	}
}

country_event = { #negotiations succeed - USA
	id = cuba.67
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.67" }
	title = cuba.67.t
	desc = cuba.67.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_american_deal

	option = { #yay
		name = cuba.67.a

		add_political_power = 50
	}
}

country_event = { #the siege - eliminating foreign-owned traitors
	id = cuba.68
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.68" }
	title = cuba.68.t
	desc = cuba.68.d
	is_triggered_only = yes

	option = { #attack comfra consulate
		name = cuba.68.a

		create_country_leader = {
			name = "Raul Roa García"
			desc = "POLITICS_RAUL_ROA_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Raul_Roa_Garcia.png"
			expire = "1.1.1"
			ideology = syndicalist_subtype
		}
		add_opinion_modifier = {
			target = CUB
			modifier = CUB_embassystormopinion
		}
		reverse_add_opinion_modifier = {
			target = CUB
			modifier = CUB_embassystormopinion
		}
		country_event = {
			id = cuba.61
			days = 1
		}
		FRA = {
			country_event = cuba.69
		}
		SRI = {
			country_event = cuba.69
		}
		ENG = {
			country_event = cuba.69
		}
		set_country_flag = CUB_stormed_embassy
	}

	option = { #leave them be
		name = cuba.68.b

		set_country_flag = CUB_nostorm
		add_political_power = -25
	}
}

country_event = { #Syndie notice of Cuban attack
	id = cuba.69
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.69" }
	title = {
		text = cuba.69.t_1
		trigger = {
			tag = FRA
		}
	}
	title = {
		text = cuba.69.t_2
		trigger = {
			OR = {
				tag = ENG
				tag = SRI
			}
		}
	}
	desc = {
		text = cuba.69.d_1
		trigger = {
			tag = FRA
		}
	}
	desc = {
		text = cuba.69.d_2
		trigger = {
			OR = {
				tag = ENG
				tag = SRI
			}
		}
	}
	is_triggered_only = yes

	option = {
		name = cuba.69.a

		add_political_power = -5
	}
}

country_event = { #effect of Cuba Por la Cubanos variable with success of past two focuses
	id = cuba.70
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.70" }
	title = cuba.70.t
	desc = {
		text = cuba.70.d_1
		trigger = {
			has_country_flag = CUB_stormed_embassy
			has_idea = CUB_natplantdeal
		}
	}
	desc = {
		text = cuba.70.d_2
		trigger = {
			has_country_flag = CUB_nostorm
			has_idea = CUB_natplantdeal
		}
	}
	desc = {
		text = cuba.70.d_3
		trigger = {
			has_country_flag = CUB_nostorm
			NOT = {
				has_idea = CUB_natplantdeal
			}
		}
	}
	desc = {
		text = cuba.70.d_4
		trigger = {
			has_country_flag = CUB_stormed_embassy
			NOT = {
				has_idea = CUB_natplantdeal
			}
		}
	}
	picture = GFX_report_event_CUB_parade
	is_triggered_only = yes

	option = {
		name = cuba.70.a

		if = {
			limit = {
				has_country_flag = CUB_stormed_embassy
				has_idea = CUB_natplantdeal
			}
			add_political_power = 100
			add_stability = 0.1
			add_popularity = {
				ideology = national_populist
				popularity = 0.1
			}
		}
		if = {
			limit = {
				has_country_flag = CUB_nostorm
				has_idea = CUB_natplantdeal
			}
			add_political_power = 75
			add_stability = 0.05
			add_popularity = {
				ideology = national_populist
				popularity = 0.05
			}
		}
		if = {
			limit = {
				has_country_flag = CUB_nostorm
				NOT = {
					has_idea = CUB_natplantdeal
				}
			}
			add_political_power = 25
			add_stability = 0.02
			add_popularity = {
				ideology = national_populist
				popularity = 0.02
			}
		}
		if = {
			limit = {
				has_country_flag = CUB_stormed_embassy
				NOT = {
					has_idea = CUB_natplantdeal
				}
			}
			add_political_power = 35
			add_stability = 0.03
			add_popularity = {
				ideology = national_populist
				popularity = 0.03
			}
		}
	}
}

### Democratic Chain ###
country_event = { # Negotiating Tariffs
	id = cuba.71
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.71" }
	title = cuba.71.t
	desc = cuba.71.d
	picture = GFX_report_event_CUB_american_deal
	is_triggered_only = yes

	option = {
		name = cuba.71.a

		CUB = {
			country_event = cuba.72
		}
	}

	option = {
		name = cuba.71.b

		CUB = {
			country_event = cuba.73
		}
	}
}

country_event = { # Morton's fork with neg opinion of the below
	id = cuba.72
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.72" }
	title = cuba.72.t
	desc = cuba.72.d
	picture = GFX_report_event_CUB_american_deal
	is_triggered_only = yes

	option = {
		name = cuba.72.a

		swap_ideas = {
			remove_idea = CUB_american_influence
			add_idea = CUB_american_influence_2
		}
		if = {
			limit  = {
				has_idea = CUB_recovering
			}
			remove_ideas = CUB_recovering
			add_timed_idea = {
				idea = CUB_recovering_2
				days = 270
			}
		}
		if = {
			limit  = {
				has_idea = CUB_double_dip
			}
			swap_ideas = {
				remove_idea = CUB_double_dip
				add_idea = CUB_recovering
			}
		}
		add_opinion_modifier = {
			target = USA
			modifier = CUB_UStariffno
		}
		reverse_add_opinion_modifier = {
			target = USA
			modifier = CUB_UStariffnoreverse
		}
	}
}

country_event = { # Negotiating Tariffs 2
	id = cuba.73
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.73" }
	title = cuba.73.t
	desc = cuba.73.d
	picture = GFX_report_event_CUB_american_deal
	is_triggered_only = yes

	option = {
		name = cuba.73.a

		swap_ideas = {
			remove_idea = CUB_american_influence
			add_idea = CUB_american_influence_2
		}
		if = {
			limit  = {
				has_idea = CUB_recovering
			}
			remove_ideas = CUB_recovering
			add_timed_idea = {
				idea = CUB_recovering_2
				days = 270
			}
		}
		if = {
			limit  = {
				has_idea = CUB_double_dip
			}
			swap_ideas = {
				remove_idea = CUB_double_dip
				add_idea = CUB_recovering
			}
		}
		add_opinion_modifier = {
			target = USA
			modifier = CUB_UStariffapprove
		}
		reverse_add_opinion_modifier = {
			target = USA
			modifier = CUB_UStariffapprove
		}
	}
}

country_event = { # Guard Coup
	id = cuba.74
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.74" }
	title = cuba.74.t
	desc = cuba.74.d
	picture = GFX_report_event_CUB_rebel_sailors_fight
	is_triggered_only = yes

	option = {
		name = cuba.74.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_MARLIB
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_SOCLIB
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_SOCDEM
					}
				}
			}
		}

		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.1
		}
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Martin_Diaz_Tamayo_hog_pau
				CUB_Eduardo_Chibas_Ribas_for_sde
				CUB_Jose_Irrisari_Gamio_eco_sde
				CUB_Jaime_Marine_Montes_sec_pau
			}
		}
		set_country_flag = CUB_presgcoup
		remove_ideas = CUB_mixed_regime
		remove_ideas = CUB_presiguard
	}

	option = {
		name = cuba.74.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CUB_strike
					option = CUB_STRIKE_DIAZ
				}
			}
		}

		set_country_flag = Martin_Diaz_Tamayo_dead
		set_country_flag = Aristides_Sosa_Quesada_dead
		set_country_flag = Ignacio_Galindez_dead
		set_country_flag = Angel_Aurelio_Gonzalez_dead
		set_country_flag = Guillermo_Martull_Bataille_dead
		remove_ideas = CUB_mixed_regime
		remove_ideas = CUB_presiguard
		custom_effect_tooltip = CUB_ministerandgen_tt
		hidden_effect = {
			remove_ideas_with_trait = head_of_government
			if = {
				limit = {
					has_government = market_liberal
				}
				add_ideas = {
					CUB_Jose_Barnet_Vinageras_hog_mli
				}
			}
			else = {
				add_ideas = {
					CUB_Rafael_Trejo_Gonzalez_hog_sde
				}
			}
			if = {
				limit = {
					has_unit_leader = 1452
				}
				random_unit_leader = {
			limit = { has_id = 1452 }			
			remove_unit_leader = yes
		}
			}
			if = {
				limit = {
					has_unit_leader = 1456
				}
				random_unit_leader = {
			limit = { has_id = 1456 }			
			remove_unit_leader = yes
		}
			}
			if = {
				limit = {
					has_government = social_democrat
					has_idea = CUB_Jaime_Marine_Montes_sec_pau
				}
				remove_ideas_with_trait = security_minister
				add_ideas = CUB_Juan_Remos_Rubio_sec_sde
			}
			else_if = {
				limit = {
					has_government = market_liberal
					has_idea = CUB_Jaime_Marine_Montes_sec_pau
				}
				remove_ideas_with_trait = security_minister
				add_ideas = CUB_Frederico_Laredo_Bru_sec_mli
			}
			country_event = {
				id = cuba.246
				days = 4
			}
		}
		set_country_flag = CUB_failpresgcoup
		custom_effect_tooltip = CUB_decisiontooltip
	}
}

country_event = { # New Elections Called
	id = cuba.75
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.75" }
	title = cuba.75.t
	desc = {
		text = cuba.75.d_1
		trigger = {
			has_government = social_democrat
		}
	}
	desc = {
		text = cuba.75.d_2
		trigger = {
			NOT = {
				has_government = social_democrat
			}
		}
	}
	is_triggered_only = yes

	option = {
		name = cuba.75.a

		country_event = {
			id = cuba.76
			days = 14
		}
		if = {
			limit = {
				NOT = {
					has_government = social_democrat
				}
			}
			create_country_leader = {
				name = "Manuel Bisbé Alberni"
				desc = "POLITICS_MANUEL_BISBE_DESC"
				picture = "gfx/leaders/CUB/Portrait_Cuba_Manuel_Bisbe_Alberni.png"
				expire = "1.1.1"
				ideology = socdem_left_nationalism_subtype
			}
			add_popularity = {
				ideology = social_democrat
				popularity = -0.05
			}
			set_country_flag = CUB_trejostepsdown
		}
	}
}

country_event = { # New Elections
	id = cuba.76
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.76" }
	title = cuba.76.t
	desc = {
		text = cuba.76.d_1
		trigger = {
			has_government = social_democrat
		}
	}
	desc = {
		text = cuba.76.d_2
		trigger = {
			NOT = {
				has_government = social_democrat
			}
		}
	}
	picture = GFX_report_event_CUB_prespalace
	is_triggered_only = yes

	option = {
		name = cuba.76.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_SOCLIB
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_SOCDEM
					}
				}
			}
		}

		set_country_flag = CUB_electionman_flag
		set_country_flag = republicanovicelectwo
		hidden_effect = {
			country_event = {
				id = cuba.232
				days = 800
			}
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.1
		}
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = market_liberal
						last_election = "[ELECTION_DATE_TAG]"
						election_frequency = 48
						elections_allowed = yes
					}
				}
				ELECTION_DATE_TAG = "[GetYear].1.28"
			}
		}
		custom_effect_tooltip = CUBelectionsallowed
		if = {
			limit = {
				NOT = {
					has_country_flag = CUB_trejostepsdown
				}
			}
			set_country_flag = CUB_trejostepsdown
			create_country_leader = {
				name = "Manuel Bisbé Alberni"
				desc = "POLITICS_MANUEL_BISBE_DESC"
				picture = "gfx/leaders/CUB/Portrait_Cuba_Manuel_Bisbe_Alberni.png"
				expire = "1.1.1"
				ideology = socdem_left_nationalism_subtype
			}
		}
		if = {
			limit = {
				has_country_flag = CUB_elec_post
			}
			country_event = {
				id = cuba.77
				days = 1
			}
		}
		else = {
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Miguel_Gomez_Arias_hog_mli
					CUB_Jose_Barnet_Vinageras_for_mli
					CUB_Carlos_Marquez_Sterling_eco_mli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
	}

	option = {
		name = cuba.76.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_MARLIB
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_SOCDEM
					}
				}
			}
		}

		set_country_flag = CUB_electionman_flag
		set_country_flag = liberalvicelectwo
		hidden_effect = {
			country_event = {
				id = cuba.232
				days = 800
			}
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.1
		}
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = social_liberal
						last_election = "[ELECTION_DATE_TAG]"
						election_frequency = 48
						elections_allowed = yes
					}
				}
				ELECTION_DATE_TAG = "[GetYear].1.28"
			}
		}
		custom_effect_tooltip = CUBelectionsallowed
		if = {
			limit = {
				NOT = {
					has_country_flag = CUB_trejostepsdown
				}
			}
			set_country_flag = CUB_trejostepsdown
			create_country_leader = {
				name = "Manuel Bisbé Alberni"
				desc = "POLITICS_MANUEL_BISBE_DESC"
				picture = "gfx/leaders/CUB/Portrait_Cuba_Manuel_Bisbe_Alberni.png"
				expire = "1.1.1"
				ideology = socdem_left_nationalism_subtype
			}
		}
		if = {
			limit = {
				has_country_flag = CUB_elec_post
			}
			country_event = {
				id = cuba.77
				days = 1
			}
		}
		else = {
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Carlos_Cespedes_Quesada_hog_sli
					CUB_Jorge_Manach_Robato_for_sli
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Sergio_Carbo_Morera_sec_sli
				}
			}
		}
	}

	option = {
		name = cuba.76.c
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				OR = {
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_MARLIB
					}
					has_game_rule = {
						rule = CUB_strike
						option = CUB_STRIKE_DEMOCRACY_SOCLIB
					}
				}
			}
		}

		set_country_flag = CUB_electionman_flag
		set_country_flag = unionistavicelectwo
		hidden_effect = {
			country_event = {
				id = cuba.232
				days = 800
			}
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.1
		}
		hidden_effect = {
			meta_effect = {
				text = {
					set_politics = {
						ruling_party = social_democrat
						last_election = "[ELECTION_DATE_TAG]"
						election_frequency = 48
						elections_allowed = yes
					}
				}
				ELECTION_DATE_TAG = "[GetYear].1.28"
			}
		}
		custom_effect_tooltip = CUBelectionsallowed
		if = {
			limit = {
				NOT = {
					has_country_flag = CUB_trejostepsdown
				}
			}
			set_country_flag = CUB_trejostepsdown
			create_country_leader = {
				name = "Manuel Bisbé Alberni"
				desc = "POLITICS_MANUEL_BISBE_DESC"
				picture = "gfx/leaders/CUB/Portrait_Cuba_Manuel_Bisbe_Alberni.png"
				expire = "1.1.1"
				ideology = socdem_left_nationalism_subtype
			}
		}
		if = {
			limit = {
				has_country_flag = CUB_elec_post
			}
			country_event = {
				id = cuba.77
				days = 1
			}
		}
		else = {
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Manuel_Bisbe_Alberni_hog_sde
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Jose_Irrisari_Gamio_eco_sde
					CUB_Juan_Remos_Rubio_sec_sde
				}
			}
		}
	}
}

country_event = { # Cabinet Decision for second election
	id = cuba.77
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.77" }
	title = cuba.77.t
	desc = cuba.77.d
	is_triggered_only = yes

	option = { # Unity Cabinet
		name = cuba.77.a

		if = {
			limit = {
				has_government = social_democrat
			}
			add_political_power = -20
			add_popularity = {
				ideology = social_democrat
				popularity = 0.05
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Manuel_Bisbe_Alberni_hog_sde
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Jose_Irrisari_Gamio_eco_sde
					CUB_Juan_Remos_Rubio_sec_sde
				}
			}
		}
		else_if = {
			limit = {
				has_government = social_liberal
			}
			add_political_power = -20
			add_popularity = {
				ideology = social_liberal
				popularity = 0.05
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Carlos_Cespedes_Quesada_hog_sli
					CUB_Jorge_Manach_Robato_for_sli
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Sergio_Carbo_Morera_sec_sli
				}
			}
		}
		else_if = {
			limit = {
				has_government = market_liberal
			}
			add_political_power = -20
			add_popularity = {
				ideology = market_liberal
				popularity = 0.05
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Miguel_Gomez_Arias_hog_mli
					CUB_Jose_Barnet_Vinageras_for_mli
					CUB_Carlos_Marquez_Sterling_eco_mli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
		clr_country_flag = CUB_elec_post
	}

	option = { #Mixed Cabinet
		name = cuba.77.b

		set_country_flag = CUB_elec_post_2
		if = {
			limit = {
				has_government = social_democrat
			}
			add_political_power = 20
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Manuel_Bisbe_Alberni_hog_sde
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
		else_if = {
			limit = {
				has_government = social_liberal
			}
			add_political_power = 20
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Carlos_Cespedes_Quesada_hog_sli
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
		else_if = {
			limit = {
				has_government = market_liberal
			}
			add_political_power = 20
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Miguel_Gomez_Arias_hog_mli
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
	}

	option = { # Mixed Cabinet Forever
		name = cuba.77.c

		if = {
			limit = {
				has_government = social_democrat
			}
			add_political_power = 40
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Manuel_Bisbe_Alberni_hog_sde
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
		else_if = {
			limit = {
				has_government = social_liberal
			}
			add_political_power = 40
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Carlos_Cespedes_Quesada_hog_sli
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
		else_if = {
			limit = {
				has_government = market_liberal
			}
			add_political_power = 40
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Miguel_Gomez_Arias_hog_mli
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
		set_country_flag = CUB_elec_post_forever
		clr_country_flag = CUB_elec_post
	}
}

### Junta Tree ###
country_event = {
	id = cuba.78
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.78" }
	title = cuba.78.t
	desc = {
		text = cuba.78.d_1
		trigger = {
			OR = {
				has_government = authoritarian_democrat
				has_government = market_liberal
			}
			NOT = {
				has_country_flag = CUB_USpuppet
			}
		}
	}
	desc = {
		text = cuba.78.d_2
		trigger = {
			has_government = authoritarian_democrat
			has_country_flag = CUB_USpuppet
			has_country_flag = CUB_brokefreefromUS
		}
	}
	desc = {
		text = cuba.78.d_3
		trigger = {
			has_government = authoritarian_democrat
			has_country_flag = CUB_USpuppet
			NOT = {
				has_country_flag = CUB_brokefreefromUS
			}
		}
	}
	desc = {
		text = cuba.78.d_4
		trigger = {
			has_government = paternal_autocrat
		}
	}
	is_triggered_only = yes

	option = { #appoint Diaz as HoS
		name = cuba.78.a

		trigger = {
			OR = {
				has_government = authoritarian_democrat
				has_government = market_liberal
			}
			NOT = {
				has_country_flag = CUB_USpuppet
			}
		}

		set_party_name =  {
			ideology = paternal_autocrat
			name = CUB_paternal_autocrat_party_diazgov
			long_name = CUB_paternal_autocrat_party_long_diazgov
		}
		if = {
			limit = {
				NOT = {
					has_government = authoritarian_democrat
				}
			}
			set_politics = {
				ruling_party = authoritarian_democrat
				elections_allowed = no
			}
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
		add_stability = 0.1
		if = {
			limit = {
				has_idea = CUB_mixed_regime
			}
			remove_ideas = CUB_mixed_regime
		}
		if = {
			limit = {
				has_idea = CUB_emergency_powersidea
			}
			remove_ideas = CUB_emergency_powersidea
		}
		if = {
			limit = {
				has_idea = CUB_strike_destroyed
			}
			remove_ideas = CUB_strike_destroyed
		}
		if = {
			limit = {
				has_unit_leader = 1458
			}
			random_unit_leader = {
				limit = { has_id = 1458 }			
				remove_unit_leader = yes
			}
		}
		set_country_flag = Alberto_Herrera_Franchi_dead
		set_country_flag = Gaspar_Maspons_Jordan_dead
		set_country_flag = Mario_Torres_Menier_dead
		create_country_leader = {
			name = "Fulgencio Batista"
			desc = "POLITICS_FUGLENCIO_BATISTA_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Fulgencio_Batista.png"
			expire = "1.1.1"
			ideology = authdem_caudillo_populism_subtype
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Martin_Diaz_Tamayo_hog_pau
				CUB_Guillermo_Martull_Bataille_for_pau
				CUB_Ignacio_Galindez_eco_pau
				CUB_Jaime_Marine_Montes_sec_pau
			}
		}
	}

	option = {
		name = cuba.78.b

		trigger = {
			has_government = authoritarian_democrat
			has_country_flag = CUB_USpuppet
		}

		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
		add_stability = 0.1
		if = {
			limit = {
				has_idea = CUB_strike_destroyed
			}
			remove_ideas = CUB_strike_destroyed
		}
		if = {
			limit = {
				has_idea = CUB_mixed_regime
			}
			remove_ideas = CUB_mixed_regime
		}
		if = {
			limit = {
				has_idea = CUB_emergency_powersidea
			}
			remove_ideas = CUB_emergency_powersidea
		}
		if = {
			limit = {
				has_unit_leader = 1458
			}
			random_unit_leader = {
				limit = { has_id = 1458 }			
				remove_unit_leader = yes
			}
		}
		set_country_flag = Alberto_Herrera_Franchi_dead
		set_country_flag = Gaspar_Maspons_Jordan_dead
		set_country_flag = Mario_Torres_Menier_dead
	}

	option = {
		name = cuba.78.c
		trigger = {
			has_government = paternal_autocrat
		}

		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.05
		}
		add_stability = 0.1
		set_party_name =  {
			ideology = paternal_autocrat
			name = CUB_paternal_autocrat_party_diazgov
			long_name = CUB_paternal_autocrat_party_long_diazgov
		}
		if = {
			limit = {
				has_idea = CUB_strike_destroyed
			}
			remove_ideas = CUB_strike_destroyed
		}
		if = {
			limit = {
				has_idea = CUB_mixed_regime
			}
			remove_ideas = CUB_mixed_regime
		}
		if = {
			limit = {
				has_idea = CUB_emergency_powersidea
			}
			remove_ideas = CUB_emergency_powersidea
		}
		if = {
			limit = {
				has_unit_leader = 1458
			}
			random_unit_leader = {
			limit = { has_id = 1458 }			
			remove_unit_leader = yes
		}
		}
		set_country_flag = Alberto_Herrera_Franchi_dead
		set_country_flag = Gaspar_Maspons_Jordan_dead
		set_country_flag = Mario_Torres_Menier_dead
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			if = {
				limit = {
					date > 1943.1.2
				}
				add_ideas = CUB_Julio_Lobo_Olavarria_eco_ade
			}
			else = {
				add_ideas = CUB_Henri_Schueg_Chassin_eco_ade
			}
			add_ideas = {
				CUB_Martin_Diaz_Tamayo_hog_pau
				CUB_Guillermo_Martull_Bataille_for_pau
				CUB_Jaime_Marine_Montes_sec_pau
			}
		}
	}
}

country_event = { # Deal with American organized crime
	id = cuba.79
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.79" }
	title = cuba.79.t
	desc = {
		text = cuba.79.d_1
		trigger = {
			NOT = {
				has_global_flag = USA_civil_war_begun_flag
				has_global_flag = USA_civil_war_over_flag
			}
		}
	}
	desc = {
		text = cuba.79.d_2
		trigger = {
			has_global_flag = USA_civil_war_begun_flag
			NOT = {
				has_global_flag = USA_civil_war_over_flag
			}
		}
	}
	desc = {
		text = cuba.79.d_3
		trigger = {
			has_global_flag = USA_civil_war_over_flag
		}
	}
	is_triggered_only = yes
	picture = GFX_report_event_CUB_gambling

	option = {
		name = cuba.79.a

		add_ideas = CUB_americancrime_idea
		add_political_power = 50
		hidden_effect = {
			remove_ideas_with_trait = foreign_minister
			remove_ideas_with_trait = economy_minister
		}
		add_ideas = CUB_Meyer_Lansky_for_ade
		add_ideas = CUB_Evaristo_Rubio_eco_ade
	}
}

country_event = { #Appointing Diaz
	id = cuba.80
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.80" }
	title = cuba.80.t
	desc = cuba.80.d
	is_triggered_only = yes

	option = {
		name = cuba.80.a

		hidden_effect = {
			country_event = {
				id = cuba.81
				days = 20
			}
		}
	}
}

country_event = { #Diaz Makes His Move
	id = cuba.81
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.81" }
	title = cuba.81.t
	desc = cuba.81.d
	is_triggered_only = yes

	option = {
		name = cuba.81.a

		add_political_power = 30
		add_stability = 0.03
		set_country_flag = CUB_diazauthdem
	}
}

### New Cuba Event ###
country_event = {
	id = cuba.82
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.82" }
	title = cuba.82.t
	desc = cuba.82.d
	picture = GFX_report_event_CUB_flag
	is_triggered_only = yes

	option = {
		name = cuba.82.a

		custom_effect_tooltip = CUB_decisiontooltip
		if = {
			limit = {
				has_elected_government = yes
			}
			load_focus_tree = CUB_democratic_focuses
			hidden_effect = {
				set_country_flag = CUB_eightoffset
				country_event = {
					id = cuba.200
					days = 30
				}
			}
		}
		else_if = {
			limit = {
				OR = {
					has_government = authoritarian_democrat
					has_government = paternal_autocrat
				}
				NOT = {
					has_country_flag = CUB_USpuppet
					has_country_leader = {
						name = "Ramón Grau San Martín"
						ruling_only = yes
					}
				}
			}
			load_focus_tree = CUB_authoritarian_focuses
			hidden_effect = {
				set_country_flag = CUB_eightoffset
				country_event = {
					id = cuba.204
					days = 30
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = CUB_USpuppet
			}
			load_focus_tree = CUB_uspuppet_focuses
			hidden_effect = {
				country_event = {
					id = cuba.205
					days = 30
				}
			}
		}
		else_if = {
			limit = {
				OR = {
					AND = {
						has_government = radical_socialist
						NOT = {
							has_country_flag = CUB_radsoccoup
							has_country_flag = mellaradsocdeal
						}
					}
					has_government = syndicalist
					AND = {
						has_government = totalist
						NOT = {
							has_country_flag = mella_back
						}
					}
				}
			}
			load_focus_tree = CUB_leftist_focuses
			hidden_effect = {
				set_country_flag = CUB_oneoffset
				country_event = {
					id = cuba.211
					days = 30
				}
			}
		}
		else_if = {
			limit = {
				OR = {
					AND = {
						has_government = radical_socialist
						has_country_flag = mellaradsocdeal
					}
					AND = {
						has_government = totalist
						has_country_flag = mella_back
					}
				}
			}
			load_focus_tree = CUB_mella_focuses
			hidden_effect = {
				country_event = {
					id = cuba.213
					days = 30
				}
			}
		}
		else_if = {
			limit = {
				has_government = radical_socialist
				has_country_flag = CUB_radsoccoup
			}
			load_focus_tree = CUB_revdem_focuses
			hidden_effect = {
				set_country_flag = CUB_nineoffset
				country_event = {
					id = cuba.217
					days = 30
				}
			}
		}
		else_if = {
			limit = {
				has_government = national_populist
				has_country_leader = {
					name = "Ramón Grau San Martín"
					ruling_only = yes
				}
			}
			load_focus_tree = CUB_natpop_focuses
			hidden_effect = {
				set_country_flag = CUB_eightoffset
				country_event = {
					id = cuba.218
					days = 30
				}
			}
		}
	}
}

### Economic Tree ###
country_event = { # Oil
	id = cuba.83
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.83" }
	title = cuba.83.t
	desc = cuba.83.d
	picture = GFX_report_event_CUB_derrick
	is_triggered_only = yes

	option = {
		name = cuba.83.a

		add_political_power = -25
		hidden_effect = {
			random_list = {
				50 = { # fail
					CUB = {
						country_event = {
							id = cuba.85
							days = 10
						}
					}
				}
				50 = { # success
					CUB = {
						country_event = {
							id = cuba.86
							days = 10
						}
					}
				}
			}
		}
	}

	option = {
		name = cuba.83.b
		ai_chance = {
			factor = 0
		}

		add_political_power = -10
	}
}

#cuba.84 removed

country_event = { # Oil exploration fails
	id = cuba.85
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.85" }
	title = cuba.85.t
	desc = cuba.85.d
	picture = GFX_report_event_CUB_derrick
	is_triggered_only = yes

	option = { #keep trying
		name = cuba.85.a

		add_political_power = -40
		hidden_effect = {
			country_event = {
				id = cuba.86
				days = 10
			}
		}
	}

	option = { #give up
		name = cuba.85.b
		ai_chance = {
			factor = 0
		}

		add_political_power = -10
	}
}

country_event = { # Oil exploration succeeds
	id = cuba.86
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.86" }
	title = cuba.86.t
	desc = cuba.86.d
	picture = GFX_report_event_CUB_derrick
	is_triggered_only = yes

	option = { #yay
		name = cuba.86.a

		315 = {
			add_resource = {
				type = oil
				amount = 4
			}
		}
	}
}

country_event = { # Chromium
	id = cuba.87
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.87" }
	title = cuba.87.t
	desc = cuba.87.d
	picture = GFX_report_event_CUB_mine
	is_triggered_only = yes

	option = {
		name = cuba.87.a

		add_political_power = -25
		820 = {
			add_resource = {
				type = chromium
				amount = 50
			}
		}
	}

	option = {
		name = cuba.87.b
		ai_chance = {
			factor = 0
		}
	}
}

country_event = { # Steel
	id = cuba.88
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.88" }
	title = cuba.88.t
	desc = cuba.88.d
	picture = GFX_report_event_IRE_steelfactory
	is_triggered_only = yes

	option = {
		name = cuba.88.a

		add_political_power = -25
		315 = {
			add_resource = {
				type = steel
				amount = 2
			}
		}
	}

	option = {
		name = cuba.88.b
		ai_chance = {
			factor = 0
		}
	}
}

country_event = { # Rubber
	id = cuba.89
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.89" }
	title = cuba.89.t
	desc = cuba.89.d
	picture = GFX_report_event_CUB_rubberplant
	is_triggered_only = yes

	option = {
		name = cuba.89.a

		add_political_power = -50
		country_event = {
			id = cuba.90
			days = 40
		}
	}

	option = {
		name = cuba.89.b
		ai_chance = {
			factor = 0
		}

		add_political_power = 25
	}
}

country_event = { # Rubber #2
	id = cuba.90
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.90" }
	title = cuba.90.t
	desc = cuba.90.d
	picture = GFX_report_event_CUB_rubberplant
	is_triggered_only = yes

	option = {
		name = cuba.90.a

		custom_effect_tooltip = CUB_decisiontooltip
		add_political_power = 25
		set_country_flag = CUB_rubberunlock
	}
}

country_event = { # Rubber #3
	id = cuba.91
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.91" }
	title = cuba.91.t
	desc = cuba.91.d
	picture = GFX_report_event_CUB_rubberplant
	is_triggered_only = yes

	option = {
		name = cuba.91.a

		custom_effect_tooltip = CUB_decisiontooltip
		add_political_power = 25
		set_country_flag = CUB_rubberinhavana
		315 = {
			add_resource = {
				type = rubber
				amount = 2
			}
		}
	}
}

country_event = { # Rubber #4
	id = cuba.92
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.92" }
	title = cuba.92.t
	desc = cuba.92.d
	picture = GFX_report_event_CUB_rubberplant
	is_triggered_only = yes

	option = {
		name = cuba.92.a

		set_country_flag = CUB_rubberexp
		custom_effect_tooltip = CUB_decisiontooltip
		315 = {
			add_resource = {
				type = rubber
				amount = 2
			}
		}
		820 = {
			add_resource = {
				type = rubber
				amount = 1
			}
		}
	}
}

country_event = { # Rubber #5
	id = cuba.93
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.93" }
	title = cuba.93.t
	desc = cuba.93.d
	picture = GFX_report_event_CUB_rubberplant
	is_triggered_only = yes

	option = {
		name = cuba.93.a

		custom_effect_tooltip = CUB_decisiontooltip
		set_country_flag = CUB_rubberexp2
		315 = {
			add_resource = {
				type = rubber
				amount = 3
			}
		}
		820 = {
			add_resource = {
				type = rubber
				amount = 1
			}
		}
	}
}

country_event = { # Rubber #6
	id = cuba.94
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.94" }
	title = cuba.94.t
	desc = cuba.94.d
	picture = GFX_report_event_CUB_rubberplant
	is_triggered_only = yes

	option = {
		name = cuba.93.a

		315 = {
			add_resource = {
				type = rubber
				amount = 3
			}
		}
		820 = {
			add_resource = {
				type = rubber
				amount = 2
			}
		}
	}
}

#cuba.95 removed

#Cuba.96 Removed

### Military Chains ###
country_event = {
	id = cuba.97
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.97" }
	title = cuba.97.t
	desc = cuba.97.d

	is_triggered_only = yes

	option = {
		name = cuba.97.a

		navy_experience = 50
		set_country_flag = CUB_chose_navy
	}

	option = {
		name = cuba.97.b

		air_experience = 50
		set_country_flag = CUB_chose_airforce
	}
}

country_event = {
	id = cuba.98
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.98" }
	title = cuba.98.t
	desc = {
		text = cuba.98.d_1
		trigger = {
			has_socialist_government = yes
		}
	}
	desc = {
		text = cuba.98.d_2
		trigger = {
			has_government = authoritarian_democrat
		}
	}
	desc = {
		text = cuba.98.d_3
		trigger = {
			has_elected_government = yes
		}
	}
	desc = {
		text = cuba.98.d_4
		trigger = {
			has_government = authoritarian_democrat
		}
	}
	is_triggered_only = yes

	option = {
		name = cuba.98.a
		ai_chance = {
			factor = 50
		}

		set_country_flag = CUB_officersimprisoned
		add_stability = -0.02
	}

	option = {
		name = cuba.98.b
		ai_chance = {
			factor = 40
		}

		set_country_flag = CUB_officerskilled
		add_political_power = -20
	}
	option = {
		name = cuba.98.c
		ai_chance = {
			factor = 10
		}

		set_country_flag = CUB_officerspardon
		add_stability = -0.05
		add_political_power = -50
	}
}

country_event = {
	id = cuba.99
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.99" }
	title = cuba.99.t
	desc = {
		text = cuba.99.d_1
		trigger = {
			OR = {
				has_country_flag = CUB_officersimprisoned
				has_country_flag = CUB_officerskilled
			}
		}
	}
	desc = {
		text = cuba.99.d_2
		trigger = {
			has_country_flag = CUB_officerspardon
		}
	}
	desc = {
		text = cuba.99.d_3
		trigger = {
			NOT = {
				has_country_flag = CUB_officersimprisoned
				has_country_flag = CUB_officerskilled
				has_country_flag = CUB_officerspardon
			}
		}
	}
	is_triggered_only = yes

	option = {
		name = cuba.99.a

		add_stability = 0.05
		army_experience = 100
		add_political_power = 10
		if = {
			limit = {
				has_country_flag = CUB_officerspardon
			}
			add_political_power = 25
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = CUB_officersimprisoned
					has_country_flag = CUB_officerskilled
					has_country_flag = CUB_officerspardon
				}
			}
			army_experience = 25
		}
	}
}

country_event = {
	id = cuba.100
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.100" }
	title = cuba.100.t
	desc = cuba.100.d
	is_triggered_only = yes

	option = {
		name = cuba.100.a

		add_ideas = CUB_offensivearmy
	}

	option = {
		name = cuba.100.b

		add_ideas = CUB_defensivearmy
	}
}

country_event = {
	id = cuba.101
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.101" }
	title = cuba.101.t
	desc = cuba.101.d
	is_triggered_only = yes

	option = {
		name = cuba.101.a

		add_ideas = CUB_artilleryproduction
	}
	option = {
		name = cuba.101.b

		add_ideas = CUB_accurateguns
	}
}

country_event = { #Airforce expansion
	id = cuba.102
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.102" }
	title = cuba.102.t
	desc = cuba.102.d
	picture = GFX_report_event_CUB_airforce
	is_triggered_only = yes

	option = { # small
		name = cuba.102.a

		air_experience = 25
		if = {
			limit = {
				315 = {
					NOT = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
				}
				820 = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
			}
			820 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
			}
			315 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
				315 = {
					free_building_slots = {
						building = air_base
						size < 2
					}
				}
				820 = {
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
			}
			315 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			820 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size < 1
					}
				}
				820 = {
					free_building_slots = {
						building = air_base
						size < 1
					}
				}
				818 = {
					is_owned_by = CUB
				}
				818 = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
			}
			818 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size < 1
					}
				}
				820 = {
					free_building_slots = {
						building = air_base
						size < 1
					}
				}
				818 = {
					is_owned_by = CUB
				}
				818 = {
					free_building_slots = {
						building = air_base
						size < 2
					}
				}
				818 = {
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
			}
			818 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			air_experience = 10
		}
		if = {
			limit = {
				OR = {
					AND = {
						315 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
						820 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
						818 = {
							is_owned_by = CUB
						}
						818 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
					}
					AND = {
						315 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
						820 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
						818 = {
							NOT = {
								is_owned_by = CUB
							}
						}
					}
				}
			}
			air_experience = 30
		}
		country_event = cuba.103
	}

	option = { # medium
		name = cuba.102.b

		air_experience = 40
		add_political_power = -25
		add_timed_idea = {
			idea = CUB_airinvest1
			days = 200
		}
		if = {
			limit = {
				315 = {
					NOT = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
				}
				820 = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
			}
			820 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
			}
			315 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
				315 = {
					free_building_slots = {
						building = air_base
						size < 2
					}
				}
				820 = {
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
			}
			315 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			820 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size < 1
					}
				}
				820 = {
					free_building_slots = {
						building = air_base
						size < 1
					}
				}
				818 = {
					is_owned_by = CUB
				}
				818 = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
			}
			818 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size < 1
					}
				}
				820 = {
					free_building_slots = {
						building = air_base
						size < 1
					}
				}
				818 = {
					is_owned_by = CUB
				}
				818 = {
					free_building_slots = {
						building = air_base
						size < 2
					}
				}
				818 = {
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
			}
			818 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			air_experience = 10
		}
		if = {
			limit = {
				OR = {
					AND = {
						315 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
						820 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
						818 = {
							is_owned_by = CUB
						}
						818 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
					}
					AND = {
						315 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
						820 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
						818 = {
							NOT = {
								is_owned_by = CUB
							}
						}
					}
				}
			}
			air_experience = 30
		}
		country_event = cuba.103
	}

	option = { # large
		name = cuba.102.c

		air_experience = 60
		add_political_power = -50
		add_timed_idea = {
			idea = CUB_airinvest2
			days = 400
		}
		if = {
			limit = {
				315 = {
					NOT = {
						free_building_slots = {
							building = air_base
							size > 1
						}
					}
				}
				820 = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
			}
			820 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
			}
			315 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
				315 = {
					free_building_slots = {
						building = air_base
						size < 2
					}
				}
				820 = {
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
			}
			315 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			820 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size < 1
					}
				}
				820 = {
					free_building_slots = {
						building = air_base
						size < 1
					}
				}
				818 = {
					is_owned_by = CUB
				}
				818 = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
			}
			818 = {
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
		if = {
			limit = {
				315 = {
					free_building_slots = {
						building = air_base
						size < 1
					}
				}
				820 = {
					free_building_slots = {
						building = air_base
						size < 1
					}
				}
				818 = {
					is_owned_by = CUB
				}
				818 = {
					free_building_slots = {
						building = air_base
						size < 2
					}
				}
				818 = {
					free_building_slots = {
						building = air_base
						size > 0
					}
				}
			}
			818 = {
				add_building_construction = {
					type = air_base
					level = 1
					instant_build = yes
				}
			}
			air_experience = 10
		}
		if = {
			limit = {
				OR = {
					AND = {
						315 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
						820 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
						818 = {
							is_owned_by = CUB
						}
						818 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
					}
					AND = {
						315 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
						820 = {
							free_building_slots = {
								building = air_base
								size < 1
							}
						}
						818 = {
							NOT = {
								is_owned_by = CUB
							}
						}
					}
				}
			}
			air_experience = 30
		}
		country_event = cuba.103
	}
}

country_event = { # acquiring planes
	id = cuba.103
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.103" }
	title = cuba.103.t
	desc = cuba.103.d
	picture = GFX_report_event_CUB_airforce2
	is_triggered_only = yes

	option = {
		name = cuba.103.a

		trigger = {
			OR = {
				CUB = {
					any_allied_country = {
						is_faction_leader = yes
						NOT = {
							tag = USA
							tag = TEX
							tag = CSA
						}
					}
				}
				is_in_faction_with = USA
				is_in_faction_with = CSA
				is_in_faction_with = TEX
				AND = {
					country_exists = USA
					CUB = {
						has_socialist_government = no
					}
				}
				AND = {
					country_exists = CSA
					CUB = {
						has_socialist_government = yes
					}
				}
				AND = {
					NOT = {
						AND = {
							country_exists = CSA
							CUB = {
								has_socialist_government = yes
							}
						}
						AND = {
							country_exists = USA
							CUB = {
								has_socialist_government = no
							}
						}
					}
					country_exists = TEX
				}
			}
		}

		country_event = cuba.117
	}

	option = { #invest in domestic air industry
		name = cuba.103.b

		add_political_power = -20
		add_tech_bonus = {
			name = cuba.103.t
			bonus = 1
			uses = 2
			category = light_fighter
			category = cas_bomber
		}
	}
}


country_event = { #purchasing other nation's
	id = cuba.117
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.117" }
	title = cuba.117.t
	desc = cuba.117.d
	picture = GFX_report_event_CUB_airforce2
	is_triggered_only = yes

	option = { #Fighters and CAS others
		name = cuba.117.a

		trigger = {
			CUB = {
				any_allied_country = {
					is_faction_leader = yes
					NOT = {
						tag = USA
						tag = TEX
						tag = CSA
					}
				}
			}
		}

		add_political_power = -20
		every_country = {
			limit = {
				is_faction_leader = yes
				is_in_faction_with = CUB
				NOT = {
					tag = USA
					tag = TEX
					tag = CSA
				}
			}
			country_event = {
				id = cuba.118
				days = 4
			}
		}
	}

	option = { #Fighters and CAS usa/csa/tex
		name = cuba.117.b
		trigger = {
			OR = {
				is_in_faction_with = USA
				is_in_faction_with = CSA
				is_in_faction_with = TEX
				AND = {
					country_exists = USA
					CUB = {
						has_socialist_government = no
					}
				}
				AND = {
					country_exists = CSA
					CUB = {
						has_socialist_government = yes
					}
				}
				AND = {
					NOT = {
						AND = {
							country_exists = CSA
							CUB = {
								has_socialist_government = yes
							}
						}
						AND = {
							country_exists = USA
							CUB = {
								has_socialist_government = no
							}
						}
					}
					country_exists = TEX
				}
			}
		}

		add_political_power = -20
		if = {
			limit = {
				OR = {
					is_in_faction_with = USA
					AND = {
						country_exists = USA
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
			USA = {
				country_event = {
					id = cuba.118
					days = 4
				}
			}
		}
		else_if = {
			limit = {
				OR = {
					is_in_faction_with = CSA
					AND = {
						country_exists = CSA
						CUB = {
							has_socialist_government = yes
						}
					}
				}
			}
			CSA = {
				country_event = {
					id = cuba.118
					days = 4
				}
			}
		}
		else_if = {
			limit = {
				OR = {
					is_in_faction_with = TEX
					AND = {
						NOT = {
							AND = {
								country_exists = CSA
								CUB = {
									has_socialist_government = yes
								}
							}
							AND = {
								country_exists = USA
								CUB = {
									has_socialist_government = no
								}
							}
						}
						country_exists = TEX
					}
				}
			}
			TEX = {
				country_event = {
					id = cuba.118
					days = 4
				}
			}
		}
	}
}

country_event = { #purchasing other Aircraft - response
	id = cuba.118
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.118" }
	title = cuba.118.t
	desc = cuba.118.d
	picture = GFX_report_event_CUB_airforce2
	is_triggered_only = yes

	option = { #yes
		name = cuba.118.a
		ai_chance = {
			factor = 75
		}

		add_political_power = 20
		CUB = {
			country_event = cuba.119
		}
		add_timed_idea = {
			idea = CUB_americanaircraftneg
			days = 30
		}
	}

	option = { #no
		name = cuba.118.b
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				CUB = {
					is_ai = no
				}
			}
		}

		CUB = {
			country_event = cuba.120
		}
	}
}

country_event = { #purchasing other Aircraft - other accepts
	id = cuba.119
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.119" }
	title = cuba.119.t
	desc = cuba.119.d
	picture = GFX_report_event_CUB_airforce2
	is_triggered_only = yes

	option = { #yay!
		name = cuba.119.a

		add_equipment_to_stockpile = {
			type = small_plane_airframe_0
			amount = 50
		}
		add_tech_bonus = {
			name = cuba.119.t
			bonus = 1
			uses = 1
			category = light_fighter
			category = cas_bomber
		}
	}
}

country_event = { #purchasing other Aircraft - other says no
	id = cuba.120
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.120" }
	title = cuba.120.t
	desc = cuba.120.d
	picture = GFX_report_event_CUB_airforce2
	is_triggered_only = yes

	option = { #damn!
		name = cuba.120.a

		add_political_power = -20
		add_tech_bonus = {
			name = cuba.120.t
			bonus = 1
			uses = 2
			category = light_fighter
			category = cas_bomber
		}
	}
}

### Diplomatic
country_event = { #WIF politics influenced
	id = cuba.121
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.121" }
	title = cuba.121.t
	desc = cuba.121.d
	picture = GFX_report_event_CAF_Flag
	is_triggered_only = yes

	option = {
		name = cuba.121.a

		add_political_power = -10
		add_stability = -0.01
		add_opinion_modifier = {
			target = CUB
			modifier = CUB_influence_neg
		}
		increase_ruling_party_popularity_by_5 = yes
	}
}

country_event = { #Federation Relations
	id = cuba.122
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.122" }
	title = cuba.122.t
	desc = {
		text = cuba.122.d_1
		trigger = {
			OR = {
				AND = {
					CAF = {
						has_socialist_government = yes
					}
					has_socialist_government = no
				}
				AND = {
					has_socialist_government = yes
					CAF = {
						has_socialist_government = no
					}
				}
			}
		}
	}
	desc = {
		text = cuba.122.d_2
		trigger = {
			OR = {
				AND = {
					CAF = {
						has_socialist_government = yes
					}
					has_socialist_government = yes
				}
				AND = {
					has_socialist_government = no
					CAF = {
						has_socialist_government = no
					}
				}
			}
		}
	}
	picture = GFX_report_event_CAF_Flag
	is_triggered_only = yes

	option = {
		trigger = {
			OR = {
				AND = {
					CAF = {
						has_socialist_government = yes
					}
					has_socialist_government = no
				}
				AND = {
					has_socialist_government = yes
					CAF = {
						has_socialist_government = no
					}
				}
			}
		}
		name = cuba.122.a

		CAF = {
			country_event = {
				id = cuba.121
				days = 1
			}
		}
	}

	option = {
		trigger = {
			OR = {
				AND = {
					CAF = {
						has_socialist_government = yes
					}
					has_socialist_government = yes
				}
				AND = {
					has_socialist_government = no
					CAF = {
						has_socialist_government = no
					}
				}
			}
		}
		name = cuba.122.b

		CAF = {
			country_event = {
				id = cuba.131
				days = 1
			}
		}
	}
}

country_event = { #Local Relations
	id = cuba.123
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.123" }
	title = cuba.123.t
	desc = {
		text = cuba.123.d_1
		trigger = {
			any_other_country = {
				exists = yes
				has_war = no
				OR = {
					tag = DOM
					tag = HAI
					tag = YUC
					tag = MEX
					tag = GUA
					tag = ELS
					tag = ELS
					tag = HON
					tag = NIC
					tag = COS
					tag = PAN
					tag = VEN
					tag = CEN
				}
				OR = {
					AND = {
						CUB = {
							has_socialist_government = yes
						}
						has_socialist_government = yes
					}
					AND = {
						has_socialist_government = no
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
		}
	}
	desc = {
		text = cuba.123.d_2
		trigger = {
			NOT = {
				any_other_country = {
					exists = yes
					has_war = no
					OR = {
						tag = DOM
						tag = HAI
						tag = YUC
						tag = MEX
						tag = GUA
						tag = ELS
						tag = ELS
						tag = HON
						tag = NIC
						tag = COS
						tag = PAN
						tag = VEN
						tag = CEN
					}
					OR = {
						AND = {
							CUB = {
								has_socialist_government = yes
							}
							has_socialist_government = yes
						}
						AND = {
							has_socialist_government = no
							CUB = {
								has_socialist_government = no
							}
						}
					}
				}
			}
		}
	}
	picture = GFX_report_event_CUB_caribmap
	is_triggered_only = yes

	option = {# Only Both nonsocialist or both socialist Ideology
		name = cuba.123.a
		trigger = {
			any_other_country = {
				exists = yes
				has_war = no
				OR = {
					tag = DOM
					tag = HAI
					tag = YUC
					tag = MEX
					tag = GUA
					tag = ELS
					tag = ELS
					tag = HON
					tag = NIC
					tag = COS
					tag = PAN
					tag = VEN
					tag = CEN
				}
				OR = {
					AND = {
						has_socialist_government = yes
						CUB = {
							has_socialist_government = yes
						}
					}
					AND = {
						has_socialist_government = no
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
		}
		hidden_effect = {
			country_event = {
				id = cuba.1340
				days = 14
			}
		}
		every_other_country = {
			limit = {
				exists = yes
				has_war = no
				OR = {
					tag = DOM
					tag = HAI
					tag = YUC
					tag = MEX
					tag = GUA
					tag = ELS
					tag = ELS
					tag = HON
					tag = NIC
					tag = COS
					tag = PAN
					tag = VEN
					tag = CEN
				}
				OR = {
					AND = {
						has_socialist_government = yes
						CUB = {
							has_socialist_government = yes
						}
					}
					AND = {
						has_socialist_government = no
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
			country_event = {
				id = cuba.134
				days = 1
			}
		}
	}

	option = { #All Ideologies
		name = cuba.123.b

		hidden_effect = {
			country_event = {
				id = cuba.1340
				days = 14
			}
		}
		every_other_country = {
			limit = {
				exists = yes
				has_war = no
				OR = {
					tag = DOM
					tag = HAI
					tag = YUC
					tag = MEX
					tag = GUA
					tag = ELS
					tag = ELS
					tag = HON
					tag = NIC
					tag = COS
					tag = PAN
					tag = VEN
					tag = CEN
				}
			}
			country_event = {
				id = cuba.134
				days = 1
			}
		}
	}

	option = { #Denounce
		name = cuba.123.c
		trigger = {
			any_other_country = {
				exists = yes
				OR = {
					tag = DOM
					tag = HAI
					tag = YUC
					tag = MEX
					tag = GUA
					tag = ELS
					tag = ELS
					tag = HON
					tag = NIC
					tag = COS
					tag = PAN
					tag = VEN
					tag = CEN
				}
				OR = {
					AND = {
						has_socialist_government = no
						CUB = {
							has_socialist_government = yes
						}
					}
					AND = {
						has_socialist_government = yes
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
		}

		add_stability = 0.03
		add_war_support = 0.03
		add_political_power = 30
		every_other_country = {
			limit = {
				exists = yes
				has_war = no
				OR = {
					tag = DOM
					tag = HAI
					tag = YUC
					tag = MEX
					tag = GUA
					tag = ELS
					tag = ELS
					tag = HON
					tag = NIC
					tag = COS
					tag = PAN
					tag = VEN
					tag = CEN
				}
				OR = {
					AND = {
						has_socialist_government = yes
						CUB = {
							has_socialist_government = yes
						}
					}
					AND = {
						has_socialist_government = no
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
			country_event = {
				id = cuba.137
				days = 1
			}
			add_opinion_modifier = {
				target = CUB
				modifier = CUB_summitdenounce
			}
		}
	}
}

country_event = { #American Relations
	id = cuba.124
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.124" }
	title = cuba.124.t
	desc = {
		text = cuba.124.d_1
		trigger = {
			OR = {
				is_in_faction_with = USA
				is_in_faction_with = CSA
				is_in_faction_with = TEX
				is_in_faction_with = CAL
				is_in_faction_with = NEE
			}
		}
	}
	desc = {
		text = cuba.124.d_2
		trigger = {
			has_socialist_government = yes
			country_exists = CSA
			NOT = {
				is_in_faction_with = USA
				is_in_faction_with = CSA
				is_in_faction_with = TEX
				is_in_faction_with = CAL
				is_in_faction_with = NEE
			}
		}
	}
	desc = {
		text = cuba.124.d_3
		trigger = {
			has_socialist_government = no
			country_exists = USA
			NOT = {
				is_in_faction_with = USA
				is_in_faction_with = CSA
				is_in_faction_with = TEX
				is_in_faction_with = CAL
				is_in_faction_with = NEE
			}
		}
	}
	desc = {
		text = cuba.124.d_4
		trigger = {
			has_socialist_government = yes
			USA = {
				exists = yes
				has_government = social_democrat
			}
			NOT = {
				is_in_faction_with = USA
				is_in_faction_with = CSA
				is_in_faction_with = TEX
				is_in_faction_with = CAL
				is_in_faction_with = NEE
			}
		}
	}
	desc = {
		text = cuba.124.d_5
		trigger = {
			has_socialist_government = no
			country_exists = CAL
			NOT = {
				is_in_faction_with = USA
				is_in_faction_with = CSA
				is_in_faction_with = TEX
				is_in_faction_with = CAL
				is_in_faction_with = NEE
			}
		}
	}
	desc = {
		text = cuba.124.d_6
		trigger = {
			has_socialist_government = yes
			CAL = {
				exists = yes
				has_government = social_democrat
			}
			NOT = {
				is_in_faction_with = USA
				is_in_faction_with = CSA
				is_in_faction_with = TEX
				is_in_faction_with = CAL
				is_in_faction_with = NEE
			}
		}
	}
	desc = {
		text = cuba.124.d_7
		trigger = {
			has_socialist_government = no
			country_exists = TEX
			NOT = {
				is_in_faction_with = USA
				is_in_faction_with = CSA
				is_in_faction_with = TEX
				is_in_faction_with = CAL
				is_in_faction_with = NEE
			}
		}
	}
	desc = {
		text = cuba.124.d_8
		trigger = {
			has_socialist_government = no
			country_exists = NEE
			NOT = {
				is_in_faction_with = USA
				is_in_faction_with = CSA
				is_in_faction_with = TEX
				is_in_faction_with = CAL
				is_in_faction_with = NEE
			}
		}
	}
	desc = {
		text = cuba.124.d_9
		trigger = {
			has_socialist_government = yes
			NEE = {
				exists = yes
				has_government = social_democrat
			}
			NOT = {
				is_in_faction_with = USA
				is_in_faction_with = CSA
				is_in_faction_with = TEX
				is_in_faction_with = CAL
				is_in_faction_with = NEE
			}
		}
	}

	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes

	option = {
		name = cuba.124.a
		trigger = {
			country_exists = CSA
			OR = {
				has_socialist_government = yes
				is_in_faction_with = CSA
			}
		}

		CSA = {
			country_event = {
				id = cuba.1240
				days = 1
			}
		}
	}

	option = {
		name = cuba.124.b
		trigger = {
			country_exists = USA
			OR = {
				has_socialist_government = no
				USA = {
					has_government = social_democrat
				}
				is_in_faction_with = USA
			}
		}

		USA = {
			country_event = {
				id = cuba.1240
				days = 1
			}
		}
	}

	option = {
		name = cuba.124.c
		trigger = {
			country_exists = TEX
			has_socialist_government = no
			is_in_faction_with = TEX
		}

		TEX = {
			country_event = {
				id = cuba.1240
				days = 1
			}
		}
	}

	option = {
		name = cuba.124.d
		trigger = {
			country_exists = CAL
			OR = {
				has_socialist_government = no
				CAL = {
					has_government = social_democrat
				}
				is_in_faction_with = CAL
			}
		}

		CAL = {
			country_event = {
				id = cuba.1240
				days = 1
			}
		}
	}

	option = {
		name = cuba.124.e
		trigger = {
			country_exists = NEE
			OR = {
				has_socialist_government = no
				NEE = {
					has_government = social_democrat
				}
				is_in_faction_with = NEE
			}
		}

		NEE = {
			country_event = {
				id = cuba.1240
				days = 1
			}
		}
	}

	option = {
		name = cuba.124.f
		ai_chance = {
			factor = 0
		}

		add_political_power = 30
	}
}

country_event = { #Cuba extends a hand
	id = cuba.1240
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1240" }
	title = cuba.1240.t
	desc = {
		text = cuba.1240.d_1
		trigger = {
			OR = {
				AND = {
					has_socialist_government = yes
					CUB = {
						has_socialist_government = yes
					}
				}
				AND = {
					has_socialist_government = no
					CUB = {
						has_socialist_government = no
					}
				}
			}
		}
	}
	desc = {
		text = cuba.1240.d_2
		trigger = {
			OR = {
				AND = {
					has_socialist_government = no
					CUB = {
						has_socialist_government = no
					}
				}
				AND = {
					has_socialist_government = yes
					CUB = {
						has_socialist_government = yes
					}
				}
			}
		}
	}
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {	#Accept
		name = cuba.1240.a
		ai_chance = {
			factor = 50
			modifier = {
				add = 50
				OR = {
					AND = {
						has_socialist_government = yes
						CUB = {
							has_socialist_government = yes
						}
					}
					AND = {
						has_socialist_government = no
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
		}
		add_political_power = 20
		set_country_flag = CUB_Alliance_Option
		CUB = {
			country_event = {
				id = cuba.1241
				days = 1
			}
		}
	}

	option = {	#Refuse
		name = cuba.1240.b
		ai_chance = {
			factor = 0
			modifier = {
				add = 100
				OR = {
					AND = {
						CUB = {
							has_socialist_government = yes
						}
						has_socialist_government = no
					}
					AND = {
						has_socialist_government = yes
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
		}
		CUB = {
			country_event = {
				id = cuba.1242
				days = 1
			}
		}
	}

	option = {	#Refuse hard
		name = cuba.1240.c
		ai_chance = {
			factor = 0
			modifier = {
				add = 100
				OR = {
					AND = {
						CUB = {
							has_socialist_government = yes
						}
						has_socialist_government = no
					}
					AND = {
						has_socialist_government = yes
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
		}
		CUB = {
			country_event = {
				id = cuba.1243
				days = 1
			}
		}
	}
}

country_event = { #America accepts our hand
	id = cuba.1241
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1241" }
	title = cuba.1241.t
	desc = cuba.1241.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {	#Accept
		name = cuba.1241.a

		add_political_power = 30
	}
}

country_event = { #America rejects
	id = cuba.1242
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1242" }
	title = cuba.1242.t
	desc = cuba.1242.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {
		name = cuba.1242.a

		add_political_power = -30
	}
}

country_event = { #America refuses our hand
	id = cuba.1243
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1243" }
	title = cuba.1243.t
	desc = cuba.1243.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {	#Emergency Mobilisation
		name = cuba.1243.a

		if = {
			limit = {
				NOT = {
					has_idea = extensive_conscription
					has_idea = service_by_requirement
					has_idea = all_adults_serve
				}
			}
			increase_conscription = yes
		}
		add_timed_idea = {
			idea = CUB_Emergency_Mobilisation
			days = 100
		}
		add_political_power = -100
		add_stability = -0.1
	}

	option = {	#Let's not make a rash decision
		name = cuba.1243.b

		decrease_ruling_party_popularity_by_5 = yes
	}
}

country_event = { #European Relations
	id = cuba.125
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.125" }
	title = cuba.125.t
	desc = cuba.125.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {	#Germany
		name = cuba.125.a
		ai_chance = {
			factor = 80
		}
		trigger = {
			country_exists = GER
			NOT = {
				has_war_with = GER
			}
		}
		add_opinion_modifier = {
			target = GER
			modifier = CUB_germany
		}
		GER = {
			add_opinion_modifier = {
				target = CUB
				modifier = CUB_germany
			}
		}
		add_timed_idea = {
			idea = CUB_euro_trade
			days = 100
		}
		set_country_flag = CUB_GER
	}

	option = {	#Austria
		name = cuba.125.b
		ai_chance = {
			factor = 20
		}
		trigger = {
			country_exists = AUS
			NOT = {
				has_war_with = AUS
			}
			OR = {
				has_war_with = GER
				NOT = {
					country_exists = GER
				}
			}
		}
		add_opinion_modifier = {
			target = AUS
			modifier = CUB_austria
		}
		AUS = {
			add_opinion_modifier = {
				target = CUB
				modifier = CUB_austria
			}
		}
		add_timed_idea = {
			idea = CUB_euro_trade
			days = 100
		}
		set_country_flag = CUB_AUS
	}
}

country_event = { #European Relations - Socialist
	id = cuba.1250
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1250" }
	title = cuba.1250.t
	desc = cuba.1250.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {	#ComFrance
		name = cuba.1250.a
		add_opinion_modifier = {
			target = FRA
			modifier = CUB_france
		}
		INT = {
			add_opinion_modifier = {
				target = CUB
				modifier = CUB_france
			}
		}
		add_timed_idea = {
			idea = CUB_euro_trade
			days = 100
		}
		set_country_flag = CUB_FRA
	}
}

country_event = { #European Relations - None Available
	id = cuba.1251
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1251" }
	title = cuba.1251.t
	desc = cuba.1251.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {	#Smoll Boys
		name = cuba.1251.a

		add_timed_idea = {
			idea = CUB_euro_trade
			days = 100
		}
	}
}

country_event = { #New Markets
	id = cuba.126
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.126" }
	title = cuba.126.t
	desc = cuba.126.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes

	option = {
		name = cuba.126.a

		#Set Variable
		set_temp_variable = { cub_new_market_temp = 0 }

		#Check who could possibly be an export partner
		if = {
			limit = {
				MEX = {
					same_government_type_as_ROOT = yes
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 5 }
		}
		if = {
			limit = {
				GUA = {
					same_government_type_as_ROOT = yes
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 2 }
		}
		if = {
			limit = {
				ELS = {
					same_government_type_as_ROOT = yes
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 1 }
		}
		if = {
			limit = {
				HON = {
					same_government_type_as_ROOT = yes
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 1 }
		}
		if = {
			limit = {
				NIC = {
					same_government_type_as_ROOT = yes
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 1 }
		}
		if = {
			limit = {
				YUC = {
					same_government_type_as_ROOT = yes
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 1 }
		}
		if = {
			limit = {
				NIC = {
					same_government_type_as_ROOT = yes
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 1 }
		}
		if = {
			limit = {
				COS = {
					same_government_type_as_ROOT = yes
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 1 }
		}
		if = {
			limit = {
				"PAN" = {
					same_government_type_as_ROOT = yes
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 1 }
		}
		if = {
			limit = {
				COL = {
					same_government_type_as_ROOT = yes
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 4 }
		}
		if = {
			limit = {
				ECU = {
					same_government_type_as_ROOT = yes
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 2 }
		}
		if = {
			limit = {
				PRU = {
					same_government_type_as_ROOT = yes
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 3 }
		}
		if = {
			limit = {
				CHL = {
					same_government_type_as_ROOT = yes
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 3 }
		}
		if = {
			limit = {
				BRA = {
					same_government_type_as_ROOT = yes
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 5 }
		}
		if = {
			limit = {
				ARG = {
					same_government_type_as_ROOT = yes
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 5 }
		}
		if = {
			limit = {
				FOP = {
					same_government_type_as_ROOT = yes
					owns_state = 278
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 5 }
		}
		if = {
			limit = {
				FOP = {
					same_government_type_as_ROOT = yes
					NOT = {
						owns_state = 278
					}
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 1 }
		}
		if = {
			limit = {
				URG = {
					same_government_type_as_ROOT = yes
					NOT = {
						has_war_with = CUB
					}
				}
			}
			add_to_temp_variable = { var = cub_new_market_temp value = 2 }
		}

		#Check which idea to add
		if = {
			limit = {
				check_variable = { cub_new_market_temp > 5 }
				check_variable = { cub_new_market_temp < 13 }
			}
			add_ideas = CUB_new_market_1
		}
		else_if = {
			limit = {
				check_variable = { cub_new_market_temp > 12 }
				check_variable = { cub_new_market_temp < 20 }
			}
			add_ideas = CUB_new_market_2
		}
		else_if = {
			limit = {
				check_variable = { cub_new_market_temp > 19 }
				check_variable = { cub_new_market_temp < 25 }
			}
			add_ideas = CUB_new_market_3
		}
		else_if = {
			limit = {
				check_variable = { cub_new_market_temp > 24 }
			}
			add_ideas = CUB_new_market_4
		}
	}

	option = {
		name = cuba.126.b
		ai_chance = {
			factor = 0
		}
		add_political_power = 30
	}
}

country_event = { #Alliance with the USA/CSA/AUS
	id = cuba.127
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.127" }
	title = cuba.127.t
	desc = cuba.127.d
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes

	option = {
		name = cuba.127.a
		trigger = {
			TEX = {
				has_country_flag = CUB_Alliance_Option
			}
		}

		if = {
			limit = {
				TEX = {
					is_faction_leader = yes
				}
			}
			TEX = {
				country_event = cuba.1283
			}
		}
		else_if = {
			limit = {
				TEX = {
					is_in_faction = yes
					is_faction_leader = no
				}
			}
			TEX = {
				country_event = cuba.1284
			}
		}
		else_if = {
			limit = {
				TEX = {
					is_in_faction = no
				}
			}
			TEX = {
				country_event = cuba.1287
			}
		}
	}

	option = {
		name = cuba.127.b
		trigger = {
			CSA = {
				has_country_flag = CUB_Alliance_Option
			}
		}

		if = {
			limit = {
				CSA = {
					is_in_faction = yes
					is_faction_leader = no
				}
			}
			CSA = {
				country_event = cuba.1284
			}
		}
		else_if = {
			limit = {
				CSA = {
					is_in_faction = no
				}
			}
			CSA = {
				country_event = cuba.1287
			}
		}
	}

	option = {
		name = cuba.127.c
		trigger = {
			USA = {
				has_country_flag = CUB_Alliance_Option
			}
		}

		if = {
			limit = {
				USA = {
					is_in_faction = yes
					is_faction_leader = no
				}
			}
			USA = {
				country_event = cuba.1284
			}
		}
		else_if = {
			limit = {
				USA = {
					is_in_faction = no
				}
			}
			USA = {
				country_event = cuba.1287
			}
		}
	}

	option = {
		name = cuba.127.e
		trigger = {
			CAL = {
				has_country_flag = CUB_Alliance_Option
			}
		}

		if = {
			limit = {
				CAL = {
					is_in_faction = yes
					is_faction_leader = no
				}
			}
			CAL = {
				country_event = cuba.1284
			}
		}
		else_if = {
			limit = {
				CAL = {
					is_in_faction = no
				}
			}
			CAL = {
				country_event = cuba.1287
			}
		}
	}
}

country_event = { #Alliance with others
	id = cuba.128
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.128" }
	title = cuba.128.t
	desc = cuba.128.d
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes

	option = {
		name = cuba.128.a
		trigger = {
			has_country_flag = CUB_GER
			GER = {
				is_faction_leader = yes
				exists = yes
				NOT = {
					has_war_with = CUB
				}
			}
			OR = {
				is_ai = no
				NOT = {
					OR = {
						AND = {
							has_game_rule = { rule = CUB_foreign_policy option = CUB_COS }
							has_government = social_democrat
							COS = {
								has_government = social_democrat
								is_faction_leader = yes
								exists = yes
								NOT = {
									has_war_with = CUB
								}
							}
						}
						AND = {
							has_game_rule = { rule = CUB_foreign_policy option = CUB_CAN }
							OR = {
								AND = {
									has_country_flag = CUB_canada_ally
									CAN = {
										is_faction_leader = yes
										exists = yes
										NOT = {
											has_war_with = CUB
										}
									}
									NOT = {
										AND = {
											has_democratic_government = yes
											has_global_flag = USA_civil_war_over_flag
											country_exists = CSA
										}
									}
								}
								AND = {
									has_democratic_government = yes
									has_global_flag = USA_civil_war_over_flag
									CSA = {
										exists = yes
									}
									CAN = {
										is_faction_leader = yes
										exists = yes
										NOT = {
											has_war_with = CUB
										}
									}
								}
							}
						}
					}
				}
			}
		}

		GER = {
			country_event = cuba.1280
		}
	}

	option = {
		name = cuba.128.b
		trigger = {
			has_country_flag = CUB_FRA
			INT = {
				is_faction_leader = yes
				exists = yes
				NOT = {
					has_war_with = CUB
				}
			}
		}

		INT = {
			country_event = cuba.1280
		}
	}

	option = {
		name = cuba.128.c
		trigger = {
			has_country_flag = CUB_canada_ally
			CAN = {
				is_faction_leader = yes
				exists = yes
				NOT = {
					has_war_with = CUB
				}
			}
			NOT = {
				AND = {
					has_democratic_government = yes
					has_global_flag = USA_civil_war_over_flag
					country_exists = CSA
				}
			}
			OR = {
				is_ai = no
				NOT = {
					OR = {
						AND = {
							has_game_rule = { rule = CUB_foreign_policy option = CUB_GER }
							has_country_flag = CUB_GER
							GER = {
								is_faction_leader = yes
								exists = yes
								NOT = {
									has_war_with = CUB
								}
							}
						}
						AND = {
							has_game_rule = { rule = CUB_foreign_policy option = CUB_COS }
							has_government = social_democrat
							COS = {
								has_government = social_democrat
								is_faction_leader = yes
								exists = yes
								NOT = {
									has_war_with = CUB
								}
							}
						}
					}
				}
			}
		}

		CAN = {
			country_event = cuba.1280
		}
	}

	option = {
		name = cuba.128.e
		trigger = {
			has_government = social_democrat
			COS = {
				has_government = social_democrat
				is_faction_leader = yes
				exists = yes
				NOT = {
					has_war_with = CUB
				}
			}
			OR = {
				is_ai = no
				NOT = {
					OR = {
						AND = {
							has_game_rule = { rule = CUB_foreign_policy option = CUB_GER }
							has_country_flag = CUB_GER
							GER = {
								is_faction_leader = yes
								exists = yes
								NOT = {
									has_war_with = CUB
								}
							}
						}
						AND = {
							has_game_rule = { rule = CUB_foreign_policy option = CUB_CAN }
							OR = {
								AND = {
									has_country_flag = CUB_canada_ally
									CAN = {
										is_faction_leader = yes
										exists = yes
										NOT = {
											has_war_with = CUB
										}
									}
									NOT = {
										AND = {
											has_democratic_government = yes
											has_global_flag = USA_civil_war_over_flag
											country_exists = CSA
										}
									}
								}
								AND = {
									has_democratic_government = yes
									has_global_flag = USA_civil_war_over_flag
									CSA = {
										exists = yes
									}
									CAN = {
										is_faction_leader = yes
										exists = yes
										NOT = {
											has_war_with = CUB
										}
									}
								}
							}
						}
					}
				}
			}
		}

		COS = {
			country_event = cuba.1280
		}
	}

	option = {
		name = cuba.128.f
		trigger = {
			has_country_flag = CUB_AUS
			AUS = {
				is_faction_leader = yes
				exists = yes
				NOT = {
					has_war_with = CUB
				}
			}
		}

		AUS = {
			country_event = cuba.1280
		}
	}

	option = {
		name = cuba.128.g
		trigger = {
			has_democratic_government = yes
			has_global_flag = USA_civil_war_over_flag
			CSA = {
				exists = yes
			}
			CAN = {
				is_faction_leader = yes
				exists = yes
				NOT = {
					has_war_with = CUB
				}
			}
			OR = {
				is_ai = no
				NOT = {
					OR = {
						AND = {
							has_game_rule = { rule = CUB_foreign_policy option = CUB_GER }
							has_country_flag = CUB_GER
							GER = {
								is_faction_leader = yes
								exists = yes
								NOT = {
									has_war_with = CUB
								}
							}
						}
						AND = {
							has_game_rule = { rule = CUB_foreign_policy option = CUB_COS }
							has_government = social_democrat
							COS = {
								has_government = social_democrat
								is_faction_leader = yes
								exists = yes
								NOT = {
									has_war_with = CUB
								}
							}
						}
					}
				}
			}
		}

		CAN = {
			country_event = cuba.1280
		}
	}
}

country_event = { #Cuba joins Faction - Request
	id = cuba.1280
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1280" }
	title = cuba.1280.t
	desc = cuba.1280.d
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes

	option = {
		name = cuba.1280.a_can
		trigger = {
			original_tag = CAN
		}

		add_to_faction = CUB
		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.1282
					days = 1
				}
			}
		}
	}

	option = {
		name = cuba.1280.a_ger
		trigger = {
			original_tag = GER
		}

		add_to_faction = CUB
		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.1282
					days = 1
				}
			}
		}
	}

	option = {
		name = cuba.1280.a_fra
		trigger = {
			original_tag = FRA
		}

		add_to_faction = CUB
		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.1282
					days = 1
				}
			}
		}
	}

	option = {
		name = cuba.1280.a_sov
		trigger = {
			is_russian_tag = yes
			has_country_flag = soviet_russia_restored
		}

		add_to_faction = CUB
		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.1282
					days = 1
				}
			}
		}
	}

	option = {
		name = cuba.1280.a_cos
		trigger = {
			original_tag = COS
		}

		add_to_faction = CUB
		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.1282
					days = 1
				}
			}
		}
	}

	option = {
		name = cuba.1280.a_aus
		trigger = {
			original_tag = AUS
		}

		add_to_faction = CUB
		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.1282
					days = 1
				}
			}
		}
	}

	option = {
		name = cuba.1280.b
		ai_chance = {
			factor = 0
		}
		CUB = {
			country_event = {
				id = cuba.1281
				days = 1
			}
		}
	}
}

country_event = { #Cuba joins Faction - Refused
	id = cuba.1281
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1281" }
	title = cuba.1281.t
	desc = cuba.1281.d
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes

	option = {
		name = cuba.1281.a
	}
}

country_event = { #Cuba joins Faction - Accepted
	id = cuba.1282
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1282" }
	title = cuba.1282.t
	desc = cuba.1282.d
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes

	option = {
		name = cuba.1282.a
	}
}

country_event = { #Cuba joins Faction - Request (Americans)
	id = cuba.1283
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1283" }
	title = cuba.1283.t
	desc = cuba.1283.d
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes

	option = {
		name = cuba.1283.a

		add_to_faction = CUB
		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.1282
					days = 1
				}
			}
		}
	}

	option = {
		name = cuba.1283.b
		ai_chance = {
			factor = 0
		}

		CUB = {
			country_event = {
				id = cuba.1281
				days = 1
			}
		}
	}
}

country_event = { #Cuba joins Faction - Request (Americans not faction leader)
	id = cuba.1284
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1284" }
	title = cuba.1284.t
	desc = cuba.1284.d
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes

	option = {
		name = cuba.1284.a

		hidden_effect = {
			var:faction_leader = {
				country_event = {
					id = cuba.1285
					days = 1
				}
			}
		}
	}

	option = {
		name = cuba.1284.b
		ai_chance = {
			factor = 0
		}

		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.1281
					days = 1
				}
			}
		}
	}
}

country_event = { #America advocates on Cuba's behalf
	id = cuba.1285
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1285" }
	title = cuba.1285.t
	desc = cuba.1285.d
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes

	option = {
		name = cuba.1285.a

		add_to_faction = CUB
		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.1282
					days = 1
				}
			}
		}
	}

	option = {
		name = cuba.1285.b
		ai_chance = {
			factor = 0
		}

		FROM = {
			country_event = {
				id = cuba.1286
				days = 1
			}
		}
		CUB = {
			country_event = {
				id = cuba.1281
				days = 1
			}
		}
	}
}

country_event = {
	id = cuba.1286
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1286" }
	title = cuba.1286.t
	desc = cuba.1286.d
	is_triggered_only = yes

	option = {
		name = cuba.1286.a

		add_political_power = -5
	}
}

country_event = { #Cuba partners with America (no faction)
	id = cuba.1287
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1287" }
	title = cuba.1287.t
	desc = cuba.1287.d
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes

	option = {
		name = cuba.1287.a

		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.1288
					days = 1
				}
			}
		}
		give_guarantee = CUB
		add_opinion_modifier = { target = CUB modifier = CUB_ampartner }
	}

	option = {
		name = cuba.1287.b
		ai_chance = {
			factor = 0
		}

		CUB = {
			country_event = {
				id = cuba.1281
				days = 1
			}
		}
	}
}

country_event = { #Cuba-American partner - Accepted
	id = cuba.1288
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1288" }
	title = cuba.1288.t
	desc = cuba.1288.d
	picture = GFX_report_event_generic_sign_treaty2
	is_triggered_only = yes

	option = {
		name = cuba.1288.a

		give_guarantee = FROM
		give_military_access = FROM
		add_opinion_modifier = { target = FROM modifier = CUB_ampartner }
		set_country_flag = CUB_joinlater_@FROM
		custom_effect_tooltip = CUB_amjoinlater_tt
	}
}

country_event = {
	id = cuba.129
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.129" }
	title = cuba.129.t
	desc = cuba.129.d
	is_triggered_only = yes

	option = {
		name = cuba.129.a

		army_experience = 20
		navy_experience = 20
		air_experience = 20
		add_opinion_modifier = { target = CUB modifier = CUB_milint_opinion }
	}
}

country_event = { #form research group with COS
	id = cuba.130
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.130" }
	title = cuba.130.t
	desc = cuba.130.d
	is_triggered_only = yes

	option = {
		name = cuba.130.a

		hidden_effect = {
			COS = {
				country_event = {
					id = cuba.1300
					days = 1
				}
			}
		}
	}

	option = {
		name = cuba.130.b
		ai_chance = {
			factor = 0
		}

		add_tech_bonus = {
			name = cuba.130.t
			bonus = 1
			uses = 1
			category = electronics
		}
	}
}

country_event = { #form research group with COS - COS
	id = cuba.1300
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1300" }
	title = cuba.1300.t
	desc = cuba.1300.d
	is_triggered_only = yes

	option = {
		name = cuba.1300.a

		add_to_tech_sharing_group = cubcos_research
		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.1301
					days = 1
				}
			}
		}
	}

	option = {
		name = cuba.1300.b
		ai_chance = {
			factor = 0
		}

		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.1302
					days = 1
				}
			}
		}
	}
}

country_event = { #COS accepts
	id = cuba.1301
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1301" }
	title = cuba.1301.t
	desc = cuba.1301.d
	is_triggered_only = yes

	option = {
		name = cuba.1301.a

		add_to_tech_sharing_group = cubcos_research
	}
}

country_event = { #COS declines
	id = cuba.1302
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1302" }
	title = cuba.1302.t
	desc = cuba.1302.d
	is_triggered_only = yes

	option = {
		name = cuba.1302.a

		add_tech_bonus = {
			name = cuba.1302.t
			bonus = 1
			uses = 1
			category = electronics
		}
	}
}

country_event = { #Cuban-WIF Positive Event
	id = cuba.131
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.131" }
	title = cuba.131.t
	desc = cuba.131.d
	picture = GFX_report_event_generic_diplomacy3
	is_triggered_only = yes

	option = {
		name = cuba.131.a
		ai_chance = {
			factor = 95
		}

		add_political_power = 10
		reverse_add_opinion_modifier = {
			target = CUB
			modifier = CUB_wifecon
		}
		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
		CUB = {
			country_event = {
				id = cuba.132
				days = 1
			}
		}
	}

	option = {
		name = cuba.131.b
		ai_chance = {
			factor = 5
		}
		CUB = {
			country_event = {
				id = cuba.133
				days = 1
			}
		}
	}
}

country_event = { #WIF accepts
	id = cuba.132
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.132" }
	title = cuba.132.t
	desc = cuba.132.d
	picture = GFX_report_event_generic_diplomacy3
	is_triggered_only = yes

	option = {
		name = cuba.132.a

		add_political_power = -10
		reverse_add_opinion_modifier = {
			target = CAF
			modifier = CUB_wifecon
		}
		hidden_effect = {
			country_event = {
				id = cuba.1320
				days = 30
			}
		}
	}
}

country_event = { #WIF benefits for cuba
	id = cuba.1320
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1320" }
	title = cuba.1320.t
	desc = cuba.1320.d
	picture = GFX_report_event_CAF_Flag
	is_triggered_only = yes

	option = {
		name = cuba.1320.a

		add_offsite_building = {
			type = industrial_complex
			level = 1
		}
	}
}

country_event = { #WIF Declines
	id = cuba.133
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.133" }
	title = cuba.133.t
	desc = cuba.133.d
	is_triggered_only = yes

	option = {
		name = cuba.133.a
	}
}

country_event = { #Cuban Neighbor Summit
	id = cuba.134
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.134" }
	title = cuba.134.t
	desc = cuba.134.d
	picture = GFX_report_event_generic_diplomacy4
	is_triggered_only = yes

	option = { #Attend
		name = cuba.134.a
		ai_chance = {
			factor = 90
		}

		if = {
			limit = {
				NOT = {
					has_global_flag = CUB_someoneshowedup
				}
			}
			set_global_flag = CUB_someoneshowedup
		}
		set_country_flag = CUB_conf_showedup
	}

	option = { #Dont Attend
		name = cuba.134.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 20
				OR = {
					AND = {
						CUB = {
							has_socialist_government = yes
						}
						ROOT = {
							has_socialist_government = no
						}
					}
					AND = {
						ROOT = {
							has_socialist_government = yes
						}
						CUB = {
							has_socialist_government = no
						}
					}
				}
			}
		}

		set_country_flag = CUB_refusedshowedup
		if = {
			limit = {
				NOT = {
					has_global_flag = CUB_someonedidnotshowedup
				}
			}
			set_global_flag = CUB_someonedidnotshowedup
		}
	}
}

country_event = { #no shows
	id = cuba.1340
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1340" }
	title = cuba.1340.t
	desc = {
		text = cuba.1340.d_1
		trigger = {
			has_global_flag = CUB_someoneshowedup
		}
	}
	desc = {
		text = cuba.1340.d_2
		trigger = {
			NOT = {
				has_global_flag = CUB_someoneshowedup
			}
		}
	}
	desc = {
		text = cuba.1340.d_3
		trigger = {
			NOT = {
				has_global_flag = CUB_someonedidnotshowedup
			}
		}
	}
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = cuba.1340.a
		trigger = {
			has_global_flag = CUB_someonedidnotshowedup
		}

		hidden_effect = {
			if = {
				limit = {
					has_global_flag = CUB_someoneshowedup
				}
				country_event = {
					id = cuba.135
					days = 3
				}
			}
		}

		every_other_country = {
			limit = {
				has_country_flag = CUB_refusedshowedup
			}
			add_opinion_modifier = {
				target = CUB
				modifier = CUB_summitbad
			}
			hidden_effect = {
				country_event = {
					id = cuba.1341
					days = 1
				}
			}
		}
	}

	option = {
		name = cuba.1340.a
		trigger = {
			NOT = {
				has_global_flag = CUB_someonedidnotshowedup
			}
		}

		hidden_effect = {
			country_event = {
				id = cuba.135
				days = 3
			}
		}
	}
}

country_event = { #no shows notice
	id = cuba.1341
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1341" }
	title = cuba.1341.t
	desc = cuba.1341.d
	is_triggered_only = yes

	option = {
		name = cuba.1341.a

		reverse_add_opinion_modifier = {
			target = CUB
			modifier = CUB_summitbad2
		}
	}
}

country_event = { #Cuban Neighbor Summit Final
	id = cuba.135
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.135" }
	title = cuba.135.t
	desc = cuba.135.d
	picture = GFX_report_event_generic_diplomacy4
	is_triggered_only = yes

	option = { #Success
		name = cuba.135.a

		add_political_power = 50
		add_stability = 0.01

		every_other_country = {
			limit = {
				has_country_flag = CUB_conf_showedup
			}
			add_opinion_modifier = {
				target = CUB
				modifier = CUB_summit
			}
			hidden_effect = {
				country_event = {
					id = cuba.136
					days = 1
				}
			}
		}
	}
}

country_event = { #Notice of Summit End
	id = cuba.136
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.136" }
	title = cuba.136.t
	desc = cuba.136.d
	picture = GFX_report_event_generic_diplomacy4
	is_triggered_only = yes

	option = {
		name = cuba.136.a

		add_political_power = 50
		reverse_add_opinion_modifier = {
			target = CUB
			modifier = CUB_summit
		}
		every_other_country = {
			limit = {
				has_country_flag = CUB_conf_showedup
			}
			reverse_add_opinion_modifier = {
				target = ROOT
				modifier = CUB_summit
			}
		}
	}
}

country_event = { #Notice of Cuban Denouncement
	id = cuba.137
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.137" }
	title = cuba.137.t
	desc = cuba.137.d
	is_triggered_only = yes

	option = {
		name = cuba.137.a

		reverse_add_opinion_modifier = {
			target = CUB
			modifier = CUB_summitdenounce
		}
	}
}

country_event = { #Civil war raging US relations
	id = cuba.138
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.138" }
	title = cuba.138.t
	desc = {
		text = cuba.138.d_1
		trigger = {
			has_country_flag = CUB_USpuppet
		}
	}
	desc = {
		text = cuba.138.d_2
		trigger = {
			NOT = {
				has_country_flag = CUB_USpuppet
			}
		}
	}
	is_triggered_only = yes

	option = { #Active Stance
		name = cuba.138.a

		if = {
			limit = {
				has_socialist_government = yes
			}
			hidden_effect = {
				country_event = cuba.140
			}
		}
		else_if = {
			limit = {
				has_socialist_government = no
			}
			hidden_effect = {
				country_event = cuba.141
			}
		}
	}

	option = { #Wait and See
		name = cuba.138.b
		trigger = {
			OR = {
				is_ai = no
				NOT = {
					OR = {
						has_game_rule = { rule = CUB_foreign_policy option = CUB_USA }
						has_game_rule = { rule = CUB_foreign_policy option = CUB_CSA }
						has_game_rule = { rule = CUB_foreign_policy option = CUB_TEX }
						has_game_rule = { rule = CUB_foreign_policy option = CUB_CAN }
					}
				}
			}
		}

		if = {
			limit = {
				has_country_flag = CUB_USpuppet
			}
			hidden_effect = {
				USA = {
					country_event = cuba.143
				}
			}
		}
		hidden_effect = {
			country_event = {
				id = cuba.142
				days = 90
			}
		}
	}

	option = { #Do nothing
		name = cuba.138.c

		trigger = {
			NOT = {
				has_country_flag = CUB_USpuppet
			}
			OR = {
				is_ai = no
				NOT = {
					OR = {
						has_game_rule = { rule = CUB_foreign_policy option = CUB_USA }
						has_game_rule = { rule = CUB_foreign_policy option = CUB_CSA }
						has_game_rule = { rule = CUB_foreign_policy option = CUB_TEX }
						has_game_rule = { rule = CUB_foreign_policy option = CUB_CAN }
					}
				}
			}
		}
		add_political_power = 10
		add_stability = 0.01
	}
}

country_event = { #Supplying CA nations notice
	id = cuba.139
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.139" }
	title = cuba.139.t
	desc = cuba.139.d
	is_triggered_only = yes

	option = {
		name = cuba.139.a
	}
}

country_event = { #socialist active stance
	id = cuba.140
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.140" }
	title = cuba.140.t
	desc = {
		text = cuba.140.d_1
		trigger = {
			country_exists = CSA
		}
	}
	desc = {
		text = cuba.140.d_2
		trigger = {
			NOT = {
				country_exists = CSA
			}
		}
	}
	is_triggered_only = yes

	option = { #support CSA
		name = cuba.140.a

		trigger = {
			country_exists = CSA
		}
		add_ideas = CUB_acwvolcsa_idea
		if = {
			limit = {
				CSA = {
					controls_state = 395
				}
			}
			add_manpower = -9000
		}
		CSA = {
			country_event = cuba.150
		}
		set_country_flag = CUB_allow_csadecision
	}

	option = { #anti-AUS CSA gone
		name = cuba.140.b

		trigger = {
			country_exists = TEX
			NOT = {
				country_exists = CSA
			}
		}
		country_event = {
			id = cuba.151
			days = 1
		}
	}

	option = { #support socdem USA
		name = cuba.140.c

		trigger = {
			country_exists = USA
			has_government = radical_socialist
			USA = {
				has_government = social_democrat
			}
			NOT = {
				country_exists = CSA
			}
		}
		add_ideas = CUB_acwvolusa_idea
		if = {
			limit = {
				USA = {
					controls_state = 361
				}
			}
			add_manpower = -9000
		}
		USA = {
			country_event = cuba.150
		}
		set_country_flag = CUB_allow_usadecision
	}

	option = { #support socdem PSA
		name = cuba.140.d

		trigger = {
			country_exists = CAL
			has_government = radical_socialist
			CAL = {
				has_government = social_democrat
			}
			NOT = {
				country_exists = CSA
			}
		}
		add_ideas = CUB_acwvolusa_idea
		if = {
			limit = {
				CAL = {
					controls_state = 361
				}
			}
			add_manpower = -9000
		}
		CAL = {
			country_event = cuba.150
		}
		set_country_flag = CUB_allow_psadecision
	}

	option = { #bring socialist dissidents to cuba
		name = cuba.140.e

		trigger = {
			NOT = {
				country_exists = CSA
			}
		}
		every_country = {
			limit = {
				OR = {
					controls_state = 261
					controls_state = 359
					controls_state = 360
					controls_state = 391
					controls_state = 393
					controls_state = 395
					controls_state = 396
					controls_state = 929
				}
			}
			country_event = {
				id = cuba.152
				days = 1
			}
		}
	}
}

country_event = { #non-socialist active stance
	id = cuba.141
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.141" }
	title = cuba.141.t
	desc = {
		text = cuba.141.d_1
		trigger = {
			has_country_flag = CUB_USpuppet
		}
	}
	desc = {
		text = cuba.141.d_2
		trigger = {
			NOT = {
				has_country_flag = CUB_USpuppet
			}
		}
	}
	is_triggered_only = yes

	option = { #support the Feds
		name = cuba.141.a

		trigger = {
			country_exists = USA
			NOT = {
				has_country_flag = CUB_USpuppet
			}
		}
		add_ideas = CUB_acwvolusa_idea
		if = {
			limit = {
				USA = {
					controls_state = 361
				}
			}
			add_manpower = -9000
		}
		USA = {
			country_event = cuba.150
		}
		set_country_flag = CUB_allow_usadecision
	}

	option = { #support the Feds - double down
		name = cuba.141.b

		trigger = {
			country_exists = USA
			has_country_flag = CUB_USpuppet
		}
		add_ideas = CUB_acwvolusa_idea
		if = {
			limit = {
				USA = {
					controls_state = 361
				}
			}
			add_manpower = -9000
		}
		USA = {
			country_event = cuba.150
		}
		set_country_flag = CUB_allow_usadecision
	}

	option = { #anti-CSA
		name = cuba.141.c

		trigger = {
			country_exists = CSA
			NOT = {
				country_exists = USA
			}
			OR = {
				TEX = { exists = no }
				is_ai = no
				NOT = { has_game_rule = { rule = CUB_foreign_policy option = CUB_TEX } }
			}
		}
		country_event = {
			id = cuba.159
			days = 1
		}
	}

	option = { #AUS
		name = cuba.141.d

		trigger = {
			country_exists = TEX
			NOT = {
				country_exists = USA
			}
			OR = {
				CAN = { exists = no }
				is_ai = no
				NOT = { has_game_rule = { rule = CUB_foreign_policy option = CUB_CAN } }
			}
		}
		add_ideas = CUB_acwvoltex_idea
		if = {
			limit = {
				TEX = {
					controls_state = 371
				}
			}
			add_manpower = -9000
		}
		TEX = {
			country_event = cuba.150
		}
		set_country_flag = CUB_allow_texdecision
	}
}

country_event = { #hidden wait and see decision triggering
	id = cuba.142
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event cuba.142"
		set_country_flag = CUB_waitandseeflag
	}
	hidden = yes
	is_triggered_only = yes

	option = {
	}
}

country_event = { #Cuba being non-commital
	id = cuba.143
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.143" }
	title = cuba.143.t
	desc = cuba.143.d
	is_triggered_only = yes

	option = {
		name = cuba.143.a
	}
}

country_event = { #CSA/USA/TEX notice of cuban ind help
	id = cuba.144
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.144" }
	title = cuba.144.t
	desc = {
		text = cuba.144.d_1
		trigger = {
			tag = CSA
		}
	}
	desc = {
		text = cuba.144.d_2
		trigger = {
			NOT = { tag = CSA }
		}
	}
	is_triggered_only = yes

	option = {
		name = cuba.144.a
		trigger = {
			tag = CSA
		}

	}
	option = {
		name = cuba.144.b
		trigger = {
			NOT = { tag = CSA }
		}
	}
}

country_event = { # asking Cuba for more
	id = cuba.145
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.145" }
	title = cuba.145.t
	desc = cuba.145.d
	is_triggered_only = yes

	trigger = {
		NOT = {
			has_global_flag = USA_civil_war_over_flag
		}
	}

	option = {
		name = cuba.145.a

		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.146
					days = 1
				}
			}
		}
	}

	option = {
		name = cuba.145.b
	}
}

country_event = { #CSA asking Cuba for more part 2
	id = cuba.146
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.146" }
	title = cuba.146.t
	desc = cuba.146.d
	is_triggered_only = yes

	option = { #yes
		name = cuba.146.a

		add_political_power = 75
		add_timed_idea = {
			idea = CUB_indag_support_2_idea
			days = 360
		}
		hidden_effect = {
			if = {
				limit = {
					FROM = {
						tag = CSA
					}
				}
				CSA = {
					country_event = {
						id = cuba.147
						days = 1
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						tag = USA
					}
				}
				USA = {
					country_event = {
						id = cuba.147
						days = 1
					}
				}
			}
			else_if = {
				limit = {
					FROM = {
						tag = TEX
					}
				}
				TEX = {
					country_event = {
						id = cuba.147
						days = 1
					}
				}
			}
		}
	}

	option = { #no
		name = cuba.146.b

		hidden_effect = {
			CSA = {
				country_event = {
					id = cuba.148
					days = 1
				}
			}
		}
	}
}

country_event = { #CSA/tex/usa notice of cuban acceptance
	id = cuba.147
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.147" }
	title = cuba.147.t
	desc = cuba.147.d
	is_triggered_only = yes

	option = {
		name = cuba.147.a

		if = {
			limit = {
				NOT = {
					has_country_flag = CUB_Alliance_Option
				}
			}
			set_country_flag = CUB_Alliance_Option
		}
		add_political_power = -75
		add_timed_idea = {
			idea = CUB_indag_support_idea
			days = 360
		}
	}
}

country_event = { #CSA/tex/usa notice of cuban declining
	id = cuba.148
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.148" }
	title = cuba.148.t
	desc = cuba.148.d
	is_triggered_only = yes

	option = {
		name = cuba.148.a

		add_political_power = -10
	}
}

country_event = { #cuba hurting stab
	id = cuba.149
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.149" }
	title = cuba.149.t
	desc = cuba.149.d
	is_triggered_only = yes

	option = {
		name = cuba.149.a

		add_stability = -0.01
	}
}

country_event = { #CSA/USA/TEX/CAL notice of cuban volunteers
	id = cuba.150
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.150" }
	title = cuba.150.t
	desc = cuba.150.d
	is_triggered_only = yes

	option = {
		name = cuba.150.a
		trigger = {
			tag = CSA
		}

		add_opinion_modifier = { target = CUB modifier = CUB_ACWsupport }
		set_country_flag = CUB_Alliance_Option
		if = {
			limit = {
				controls_state = 395
			}
			hidden_effect = {
				load_oob = CUB_acwvolcsaunit
			}
			custom_effect_tooltip = cub_cubvol_tt
		}
	}
	option = {
		name = cuba.150.b
		trigger = {
			OR = {
				tag = USA
				tag = TEX
				tag = CAL
			}
		}

		set_country_flag = CUB_Alliance_Option
		add_opinion_modifier = { target = CUB modifier = CUB_ACWsupport }
		if = {
			limit = {
				tag = USA
				controls_state = 361
			}
			hidden_effect = {
				load_oob = CUB_acwvolusaunit
			}
			custom_effect_tooltip = cub_cubvol_tt
		}
		else_if = {
			limit = {
				tag = TEX
				controls_state = 371
			}
			hidden_effect = {
				load_oob = CUB_acwvoltexunit
			}
			custom_effect_tooltip = cub_cubvol_tt
		}
		else_if = {
			limit = {
				tag = CAL
				controls_state = 797
			}
			hidden_effect = {
				load_oob = CUB_acwvolpsaunit
			}
			custom_effect_tooltip = cub_cubvol_tt
		}
	}
}

country_event = { #preparing war with union state
	id = cuba.151
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.151" }
	title = cuba.151.t
	desc = cuba.151.d
	is_triggered_only = yes

	option = { #war
		name = cuba.151.a
		trigger = {
			is_valid_peace_target = yes
		}
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
			country_event = {
				id = cuba.155
				days = 45
			}
		}
	}

	option = { #Sab campaign
		name = cuba.151.b
		ai_chance = {
			factor = 90
		}
		hidden_effect = {
			country_event = {
				id = cuba.156
				days = 30
			}
		}
	}
}

country_event = { #cuba announces intention to attract refugees
	id = cuba.152
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.152" }
	title = cuba.152.t
	desc = cuba.152.d
	is_triggered_only = yes

	option = {
		name = cuba.152.a

		add_stability = -0.01
		set_variable = { CUB_refugees = 0 }
		hidden_effect = {
			country_event = {
				id = cuba.153
				days = 30
			}
		}
	}
}

country_event = { #refugees to soccub part 2
	id = cuba.153
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.153" }
	title = cuba.153.t
	desc = cuba.153.d
	is_triggered_only = yes

	option = {
		name = cuba.153.a

		add_stability = 0.02
		add_manpower = -5000
		add_to_variable = { var = CUB_refugees value = 1}
		set_global_flag = CUB_refugee1
		hidden_effect = {
			country_event = {
				id = cuba.154
				days = 60
			}
		}
	}
}

country_event = { #cuban refugees added
	id = cuba.1530
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1530" }
	title = cuba.1530.t
	desc = cuba.1530.d
	fire_only_once = yes

	trigger = {
		has_global_flag = CUB_refugee1
	}

	option = {
		name = cuba.1530.a

		if = {
			limit = {
				check_variable = { CUB_refugees = 1 }
			}
			add_manpower = 4000
		}
		else_if = {
			limit = {
				check_variable = { CUB_refugees = 2 }
			}
			add_manpower = 8000
		}
		else_if = {
			limit = {
				check_variable = { CUB_refugees = 3 }
			}
			add_manpower = 12000
		}
		else_if = {
			limit = {
				check_variable = { CUB_refugees > 3 }
			}
			add_manpower = 16000
		}
	}
}

country_event = { #refugees to soccub part 3
	id = cuba.154
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.154" }
	title = cuba.154.t
	desc = cuba.154.d
	is_triggered_only = yes

	option = {
		name = cuba.154.a

		set_global_flag = CUB_refugee2
		add_stability = 0.01
		add_manpower = -2000
		hidden_effect = {
			CUB = {
				country_event = cuba.1540
			}
		}
	}
}

country_event = { #cuban refugees added 2
	id = cuba.1540
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1540" }
	title = cuba.1540.t
	desc = cuba.1540.d
	fire_only_once = yes

	trigger = {
		has_global_flag = CUB_refugee2
	}

	option = {
		name = cuba.1540.a

		if = {
			limit = {
				check_variable = { CUB_refugees = 1 }
			}
			add_manpower = 2000
		}
		else_if = {
			limit = {
				check_variable = { CUB_refugees = 2 }
			}
			add_manpower = 4000
		}
		else_if = {
			limit = {
				check_variable = { CUB_refugees = 3 }
			}
			add_manpower = 6000
		}
		else_if = {
			limit = {
				check_variable = { CUB_refugees > 3 }
			}
			add_manpower = 8000
		}
	}
}

country_event = { #War with the union State
	id = cuba.155
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.155" }
	title = cuba.155.t
	desc = cuba.155.d
	is_triggered_only = yes

	option = {
		name = cuba.155.a

		declare_war_on = { target = TEX type = annex_everything }
		hidden_effect = {
			load_oob = CUB_acwmiami
		}
		custom_effect_tooltip = cub_miamidiv_tt
		if = {
			limit = {
				has_manpower > 4500
			}
			hidden_effect = {
				load_oob = CUB_acwinvasion
			}
			custom_effect_tooltip = cub_orlandodiv_tt
		}
		hidden_effect = {
			TEX = {
				country_event = cuba.158
			}
		}
	}
}

country_event = { #cuban sab campaign ready
	id = cuba.156
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.156" }
	title = cuba.156.t
	desc = cuba.156.d
	is_triggered_only = yes

	option = {
		name = cuba.156.a

		hidden_effect = {
			if = {
				limit = {
					has_socialist_government = yes
				}
				TEX = {
					country_event = cuba.157
				}
			}
			if = {
				limit = {
					has_socialist_government = no
				}
				CSA = {
					country_event = cuba.157
				}
			}
		}
	}
}

country_event = { #notice of cuba sab
	id = cuba.157
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.157" }
	title = cuba.157.t
	desc = cuba.157.d
	is_triggered_only = yes

	option = {
		name = cuba.157.a

		add_stability = -0.02
		add_political_power = -20
		if = {
			limit = {
				tag = CSA
			}
			every_owned_state = {
				limit = {
					OR = {
						state = 261
						state = 360
						state = 393
						state = 394
						state = 395
						state = 396
					}
				}
				damage_building = {
					type = infrastructure
					damage = 0.25
				}
			}
		}
		if = {
			limit = {
				tag = TEX
			}
			every_owned_state = {
				limit = {
					OR = {
						state = 365
						state = 366
						state = 371
						state = 375
					}
				}
				damage_building = {
					type = infrastructure
					damage = 0.25
				}
			}
		}
		hidden_effect = {
			country_event = {
				id = cuba.165
				days = 30
			}
		}
	}
}

country_event = { #tex notice of cuba war
	id = cuba.158
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.158" }
	title = cuba.158.t
	desc = cuba.158.d
	is_triggered_only = yes

	option = {
		name = cuba.158.a
	}
}

country_event = { #anti-csa
	id = cuba.159
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.159" }
	title = cuba.159.t
	desc = cuba.159.d
	is_triggered_only = yes

	option = { #support Canada
		name = cuba.159.a
		trigger = {
			is_valid_peace_target = yes
		}
		if = {
			limit = {
				CAN = {
					has_war_with = CSA
				}
			}
			hidden_effect = {
				CAN = {
					country_event = {
						id = cuba.160
						days = 1
					}
				}
			}
		}
		if = {
			limit = {
				NOT = {
					CAN = {
						has_war_with = CSA
					}
				}
			}
			hidden_effect = {
				CAN = {
					country_event = {
						id = cuba.161
						days = 1
					}
				}
			}
		}
	}

	option = { #Sab campaign
		name = cuba.159.b
		trigger = {
			OR = {
				is_valid_peace_target = no
				is_ai = no
				NOT = { has_game_rule = { rule = CUB_foreign_policy option = CUB_CAN } }
			}
		}

		hidden_effect = {
			country_event = {
				id = cuba.156
				days = 30
			}
		}
	}
}

country_event = { #Canada-Cuba in war with CSA
	id = cuba.160
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.160" }
	title = cuba.160.t
	desc = cuba.160.d
	is_triggered_only = yes

	option = { #yes
		name = cuba.160.a

		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.162
					days = 1
				}
			}
		}
	}

	option = { #no
		name = cuba.160.b

		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.163
					days = 1
				}
			}
		}
	}
}

country_event = { #Canada-Cuba not in war with CSA
	id = cuba.161
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.161" }
	title = cuba.161.t
	desc = cuba.161.d
	is_triggered_only = yes

	option = {
		name = cuba.161.a

		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.164
					days = 1
				}
			}
		}
		add_opinion_modifier = {
			target = CUB
			modifier = CUB_canfriend
		}
	}

	option = {
		name = cuba.161.b

		hidden_effect = {
			CUB = {
				country_event = {
					id = cuba.166
					days = 1
				}
			}
		}
	}
}

country_event = { #CAN say yes (war with CSA)
	id = cuba.162
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.162" }
	title = cuba.162.t
	desc = cuba.162.d
	is_triggered_only = yes

	option = {
		name = cuba.162.a

		add_to_war = {
			targeted_alliance = CAN
			enemy = CSA
		}
		set_country_flag = CUB_canada_ally
		add_opinion_modifier = {
			target = CAN
			modifier = CUB_canfriend
		}
		hidden_effect = {
			CAN = {
				country_event = {
					id = cuba.1620
					days = 1
				}
			}
		}
	}
}

country_event = { #Cuba joins war
	id = cuba.1620
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1620" }
	title = cuba.1620.t
	desc = cuba.1620.d
	is_triggered_only = yes

	option = {
		name = cuba.1620.a

		add_opinion_modifier = {
			target = CUB
			modifier = CUB_canfriend
		}
	}
}

country_event = { #CAN says support
	id = cuba.163
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.163" }
	title = cuba.163.t
	desc = cuba.163.d
	is_triggered_only = yes

	option = { #alright
		name = cuba.163.a

		set_country_flag = CUB_canada_ally
		add_ideas = CUB_cananticsasupport
		add_opinion_modifier = {
			target = CAN
			modifier = CUB_canfriend
		}
		hidden_effect = {
			CAN = {
				country_event = {
					id = cuba.1630
					days = 1
				}
			}
		}
	}

	option = { #direspect smh
		name = cuba.163.b

		trigger = {
			OR = {
				is_ai = no
				NOT = { has_game_rule = { rule = CUB_foreign_policy option = CUB_CAN } }
			}
		}
		
		add_opinion_modifier = {
			target = CAN
			modifier = CUB_canslight
		}
		hidden_effect = {
			CAN = {
				country_event = {
					id = cuba.1631
					days = 1
				}
			}
		}
	}
}

country_event = { #Cuba say yes to support
	id = cuba.1630
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1630" }
	title = cuba.1630.t
	desc = cuba.1630.d
	is_triggered_only = yes

	option = {
		name = cuba.1630.a

		add_ideas = CUB_cananticsasupport2
		add_opinion_modifier = {
			target = CUB
			modifier = CUB_canfriend
		}
	}
}

country_event = { #Cuba angry
	id = cuba.1631
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1631" }
	title = cuba.1631.t
	desc = cuba.1631.d
	is_triggered_only = yes

	option = {
		name = cuba.1631.a

		add_opinion_modifier = {
			target = CUB
			modifier = CUB_canslight2
		}
	}
}

country_event = { #CAN say yes
	id = cuba.164
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.164" }
	title = cuba.164.t
	desc = cuba.164.d
	is_triggered_only = yes

	option = {
		name = cuba.164.a

		set_country_flag = CUB_canada_ally
		set_country_flag = CUB_canada_promise
		add_opinion_modifier = {
			target = CAN
			modifier = CUB_canfriend
		}
	}
}

country_event = { #War breaks out w/ promise
	id = cuba.1640
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.1640" }
	title = cuba.164.t
	desc = cuba.164.d
	fire_only_once = yes

	trigger = {
		is_valid_peace_target = yes
		has_country_flag = CUB_canada_promise
		CAN = {
			has_war_with = CSA
		}
	}

	option = {
		name = cuba.164.a

		add_to_war = {
			targeted_alliance = CAN
			enemy = CSA
		}
		hidden_effect = {
			CAN = {
				country_event = {
					id = cuba.1620
					days = 1
				}
			}
		}
	}
}

country_event = { #Cuban saboteurs uncovered
	id = cuba.165
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.165" }
	title = cuba.165.t
	desc = cuba.165.d
	is_triggered_only = yes

	option = {
		name = cuba.165.a

		declare_war_on = { target = CUB type = annex_everything }
		add_opinion_modifier = {
			target = CUB
			modifier = CUB_sabotage
		}
	}
	option = {
		name = cuba.165.b

		add_opinion_modifier = {
			target = CUB
			modifier = CUB_sabotage
		}
	}
}

country_event = { #CAN says no
	id = cuba.166
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.166" }
	title = cuba.166.t
	desc = cuba.166.d
	is_triggered_only = yes

	option = {
		name = cuba.166.a
	}
}

country_event = { #deleting invasion templates
	id = cuba.167
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.167" }
	title = cuba.167.t
	desc = cuba.167.d
	fire_only_once = yes

	trigger = {
		tag = CUB
		has_template = "Voluntarios"
		NOT = {
			has_war_with = TEX
		}
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {
		name = cuba.167.a

		if = {
			limit = {
				has_template = "Voluntarios"
			}
			delete_unit_template_and_units = {
				division_template = "Voluntarios"
			}
		}
	}
}

country_event = { #deleting invasion templates 2
	id = cuba.168
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.168" }
	title = cuba.168.t
	desc = cuba.168.d
	fire_only_once = yes

	trigger = {
		tag = CUB
		has_template = "Fuerza de Liberacion"
		NOT = {
			has_war_with = TEX
		}
	}

	mean_time_to_happen = {
		days = 7
	}

	option = {
		name = cuba.168.a

		if = {
			limit = {
				has_template = "Fuerza de Liberacion"
			}
			delete_unit_template_and_units = {
				division_template = "Fuerza de Liberacion"
			}
			add_manpower = 4500
		}
	}
}

country_event = { #deleting cuba volunteers
	id = cuba.169
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.169" }
	title = cuba.169.t
	desc = cuba.169.d
	fire_only_once = yes

	trigger = {
		OR = {
			tag = USA
			tag = CSA
			tag = TEX
			tag = CAL
		}
		ROOT = {
			exists = yes
		}
		has_template = "Cuban Volunteers"
		has_global_flag = USA_civil_war_over_flag
	}

	mean_time_to_happen = {
		days = 7
	}

	option = {
		name = cuba.169.a

		if = {
			limit = {
				has_template = "Cuban Volunteers"
			}
			delete_unit_template_and_units = {
				division_template = "Cuban Volunteers"
			}
			hidden_effect = {
				CUB = {
					country_event = {
						id = cuba.170
						days = 1
					}
				}
			}
		}
	}
}

country_event = { #return of our volunteers
	id = cuba.170
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.170" }
	title = cuba.170.t
	desc = cuba.170.d
	is_triggered_only = yes

	option = {
		name = cuba.170.a

		add_political_power = 50
	}
}

country_event = { #notice of USA death as puppet
	id = cuba.199
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.199" }
	title = cuba.199.t
	desc = cuba.199.d
	fire_only_once = yes

	trigger = {
		tag = CUB
		has_country_flag = CUB_USpuppet
		NOT = {
			country_exists = USA
		}
	}

	option = {
		name = cuba.199.a

		add_political_power = -50
	}
}

### Democratic Flavor Tree
country_event = { #Start
	id = cuba.200
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.200" }
	title = cuba.200.t
	desc = cuba.200.d
	is_triggered_only = yes

	option = {
		name = cuba.200.a

		complete_national_focus = CUB_democracy_survives
	}
}


country_event = { # Start of constitutional convention
	id = cuba.201
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.201" }
	title = cuba.201.t
	desc = cuba.201.d
	is_triggered_only = yes

	option = { #succ
		name = cuba.201.a

		add_political_power = 30
		hidden_effect = {
			modify_country_flag = {
				flag = cubsuccconstscore
				value = 1
			}
			country_event = {
				id = cuba.202
				days = 3
			}
		}
	}
	option = { #lib
		name = cuba.201.b

		add_stability = 0.03
		hidden_effect = {
			modify_country_flag = {
				flag = cublibconstscore
				value = 1
			}
			country_event = {
				id = cuba.202
				days = 3
			}
		}
	}
}

country_event = { # convention issue 2
	id = cuba.202
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.202" }
	title = cuba.202.t
	desc = cuba.202.d
	is_triggered_only = yes

	option = { #radical
		name = cuba.202.a

		add_political_power = 30
		hidden_effect = {
			modify_country_flag = {
				flag = cubsuccconstscore
				value = 1
			}
			country_event = {
				id = cuba.203
				days = 3
			}
		}
	}
	option = { #conservative
		name = cuba.202.b

		add_stability = 0.03
		hidden_effect = {
			modify_country_flag = {
				flag = cublibconstscore
				value = 1
			}
			country_event = {
				id = cuba.203
				days = 3
			}
		}
	}
}

country_event = { # convention issue 3
	id = cuba.203
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.203" }
	title = cuba.203.t
	desc = cuba.203.d
	is_triggered_only = yes

	option = { #radical
		name = cuba.203.a

		hidden_effect = {
			modify_country_flag = {
				flag = cubsuccconstscore
				value = 1
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubsuccconstscore
						value > 2
					}
				}
				add_political_power = 50
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cubsuccconstscore
						value > 1
					}
					has_country_flag = {
						flag = cublibconstscore
						value > 0
					}
				}
				add_stability = 0.02
				add_political_power = 30
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cublibconstscore
						value > 2
					}
				}
				add_stability = 0.03
				add_political_power = 20
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cublibconstscore
						value > 1
					}
					has_country_flag = {
						flag = cubsuccconstscore
						value > 0
					}
				}
				add_stability = 0.05
			}
		}
	}

	option = { #conservative
		name = cuba.203.b

		hidden_effect = {
			modify_country_flag = {
				flag = cubsuccconstscore
				value = 1
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubsuccconstscore
						value > 2
					}
				}
				add_political_power = 50
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cubsuccconstscore
						value > 1
					}
					has_country_flag = {
						flag = cublibconstscore
						value > 0
					}
				}
				add_stability = 0.02
				add_political_power = 30
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cublibconstscore
						value > 2
					}
				}
				add_stability = 0.03
				add_political_power = 20
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cublibconstscore
						value > 1
					}
					has_country_flag = {
						flag = cubsuccconstscore
						value > 0
					}
				}
				add_stability = 0.05
			}
		}
	}
}

### Authoritarian Focuses
country_event = { #Start
	id = cuba.204
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.204" }
	title = cuba.204.t
	desc = cuba.204.d
	is_triggered_only = yes

	option = {
		name = cuba.204.a

		complete_national_focus = CUB_authoritarianism_normal
	}
}

###US Lapdog Focuses
country_event = { #Start
	id = cuba.205
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.205" }
	title = cuba.205.t
	desc = cuba.205.d
	is_triggered_only = yes

	option = {
		name = cuba.205.a

		hidden_effect = {
			country_event = {
				id = cuba.206
				days = 30
			}
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
		complete_national_focus = CUB_puppet_begin
	}
}

country_event = { #Vazquez Assassination
	id = cuba.206
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.206" }
	title = cuba.206.t
	desc = cuba.206.d
	is_triggered_only = yes

	option = {#
		name = cuba.206.a

		add_popularity = {
			ideology = authoritarian_democrat
			popularity = -0.1
		}
		create_country_leader = {
			name = "Carlos Mendieta Montefur"
			desc = "POLITICS_CARLOS_MENDIETA_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Carlos_Mendieta_Montefur.png"
			expire = "1.1.1"
			ideology = oligarchy_subtype
		}
		hidden_effect = {
			remove_ideas_with_trait = head_of_government
		}
		add_ideas = CUB_Carlos_Mendieta_Montefur_hog_ade
		hidden_effect = {
			country_event = {
				id = cuba.207
				days = 2
			}
		}
	}
}

country_event = { #Maintain Regime?
	id = cuba.207
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.207" }
	title = cuba.207.t
	desc = {
		text = cuba.207.d_1
		trigger = {
			NOT = {
				has_country_flag = CUB_brokefreefromUS
			}
		}
	}
	desc = {
		text = cuba.207.d_2
		trigger = {
			has_country_flag = CUB_brokefreefromUS
		}
	}
	is_triggered_only = yes

	option = {#Maintain
		name = cuba.207.a
		trigger = {
			NOT = {
				has_country_flag = CUB_brokefreefromUS
			}
		}

		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.05
		}
		complete_national_focus = CUB_auth_continue
	}

	option = {#Democratize
		name = cuba.207.b

		add_popularity = {
			ideology = authoritarian_democrat
			popularity = -0.05
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.15
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.05
		}
		set_politics = {
			ruling_party = market_liberal
			elections_allowed = no
		}
		create_country_leader = {
			name = "José Barnet Vinageras"
			desc = "POLITICS_JOSE_BARNET_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Jose_Agripino_Barnet.png"
			expire = "1.1.1"
			ideology = marlib_classical_liberalism_subtype
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Jose_Barnet_Vinageras_hog_mli
				CUB_Orestes_Ferrara_Marino_for_mli
				CUB_Carlos_Marquez_Sterling_eco_mli
				CUB_Frederico_Laredo_Bru_sec_mli
			}
			country_event = {
				id = cuba.247
				days = 4
			}
		}
		complete_national_focus = CUB_democratize_auth
	}

	option = {#Anti-US
		name = cuba.207.c
		trigger = {
			has_country_flag = CUB_brokefreefromUS
		}

		add_popularity = {
			ideology = authoritarian_democrat
			popularity = -0.05
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.05
		}
		add_popularity = {
			ideology = social_liberal
			popularity = 0.15
		}
		set_politics = {
			ruling_party = social_liberal
			elections_allowed = no
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Carlos_Cespedes_Quesada_hog_sli
				CUB_Jorge_Manach_Robato_for_sli
				CUB_Joaquin_Martinez_Saenz_eco_sli
				CUB_Sergio_Carbo_Morera_sec_sli
			}
			country_event = {
				id = cuba.247
				days = 4
			}
		}
		complete_national_focus = CUB_nomorelapdop
	}
}

country_event = { # Start of constitutional convention
	id = cuba.208
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.208" }
	title = cuba.208.t
	desc = cuba.208.d
	is_triggered_only = yes

	option = { #radical
		name = cuba.208.a

		add_political_power = 30
		hidden_effect = {
			modify_country_flag = {
				flag = cubradconstscore
				value = 1
			}
			country_event = {
				id = cuba.209
				days = 3
			}
		}
	}
	option = { #conservative
		name = cuba.208.b

		add_stability = 0.03
		hidden_effect = {
			modify_country_flag = {
				flag = cubconconstscore
				value = 1
			}
			country_event = {
				id = cuba.209
				days = 3
			}
		}
	}
}

country_event = { # convention issue 2
	id = cuba.209
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.209" }
	title = cuba.209.t
	desc = cuba.209.d
	is_triggered_only = yes

	option = { #radical
		name = cuba.209.a

		add_political_power = 30
		hidden_effect = {
			modify_country_flag = {
				flag = cubradconstscore
				value = 1
			}
			country_event = {
				id = cuba.210
				days = 3
			}
		}
	}
	option = { #conservative
		name = cuba.209.b

		add_stability = 0.03
		hidden_effect = {
			modify_country_flag = {
				flag = cubconconstscore
				value = 1
			}
			country_event = {
				id = cuba.210
				days = 3
			}
		}
	}
}

country_event = { # convention issue 3
	id = cuba.210
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.210" }
	title = cuba.210.t
	desc = cuba.210.d
	is_triggered_only = yes

	option = { #radical
		name = cuba.210.a

		hidden_effect = {
			modify_country_flag = {
				flag = cubradconstscore
				value = 1
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubradconstscore
						value > 2
					}
				}
				add_political_power = 50
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cubradconstscore
						value > 1
					}
					has_country_flag = {
						flag = cubconconstscore
						value > 0
					}
				}
				add_stability = 0.02
				add_political_power = 30
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cubconconstscore
						value > 2
					}
				}
				add_stability = 0.03
				add_political_power = 20
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cubconconstscore
						value > 1
					}
					has_country_flag = {
						flag = cubradconstscore
						value > 0
					}
				}
				add_stability = 0.05
			}
		}
	}

	option = { #conservative
		name = cuba.210.b

		hidden_effect = {
			modify_country_flag = {
				flag = cubradconstscore
				value = 1
			}
			if = {
				limit = {
					has_country_flag = {
						flag = cubradconstscore
						value > 2
					}
				}
				add_political_power = 50
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cubradconstscore
						value > 1
					}
					has_country_flag = {
						flag = cubconconstscore
						value > 0
					}
				}
				add_stability = 0.02
				add_political_power = 30
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cubconconstscore
						value > 2
					}
				}
				add_stability = 0.03
				add_political_power = 20
			}
			else_if = {
				limit = {
					has_country_flag = {
						flag = cubconconstscore
						value > 1
					}
					has_country_flag = {
						flag = cubradconstscore
						value > 0
					}
				}
				add_stability = 0.05
			}
		}
	}
}

###Leftist Focuses
country_event = { #Start
	id = cuba.211
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.211" }
	title = cuba.211.t
	desc = cuba.211.d
	is_triggered_only = yes

	option = {
		name = cuba.211.a

		complete_national_focus = CUB_orthodox_syndicalism
		hidden_effect = {
			country_event = {
				id = cuba.212
				days = 3
			}
		}
	}
}

country_event = { #completer
	id = cuba.212
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.212" }
	title = {
		text = cuba.212.t_1
		trigger = {
			OR = {
				has_government = totalist
				AND = {
					has_government = syndicalist
					has_country_flag = no_congress
				}
			}
		}
	}
	title = {
		text = cuba.212.t_2
		trigger = {
			OR = {
				has_government = radical_socialist
				AND = {
					has_government = syndicalist
					NOT = {
						has_country_flag = no_congress
					}
				}
			}
		}
	}
	desc = {
		text = cuba.212.d_1
		trigger = {
			OR = {
				has_government = totalist
				AND = {
					has_government = syndicalist
					has_country_flag = no_congress
				}
			}
		}
	}
	desc = {
		text = cuba.212.d_2
		trigger = {
			OR = {
				has_government = radical_socialist
				AND = {
					has_government = syndicalist
					NOT = {
						has_country_flag = no_congress
					}
				}
			}
		}
	}
	is_triggered_only = yes

	option = {
		name = cuba.212.a

		if = {
			limit = {
				OR = {
					has_government = totalist
					AND = {
						has_government = syndicalist
						has_country_flag = no_congress
					}
				}
			}
			complete_national_focus = CUB_syndienodem
		}
		if = {
			limit = {
				OR = {
					has_government = radical_socialist
					AND = {
						has_government = syndicalist
						NOT = {
							has_country_flag = no_congress
						}
					}
				}
			}
			complete_national_focus = CUB_syndiedem
		}
	}
}

###Mella Focuses
country_event = { #Start
	id = cuba.213
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.213" }
	title = cuba.213.t
	desc = {
		text = cuba.213.d_1
		trigger = {
			NOT = {
				has_country_flag = mellaradsocdeal
			}
		}
	}
	desc = {
		text = cuba.213.d_2
		trigger = {
			has_country_flag = mellaradsocdeal
		}
	}
	is_triggered_only = yes

	option = {
		name = cuba.213.a

		complete_national_focus = CUB_mella_begin
	}
}

country_event = {
	id = cuba.214
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.214" }
	title = cuba.214.t
	desc = cuba.214.d
	is_triggered_only = yes

	option = {
		name = cuba.214.a

		if = {
			limit = {
				check_variable = {
					var = CUB_socdeal_mella_count
					value = 3
					compare = greater_than_or_equals
				}
			}
			add_popularity = { ideology = totalist popularity = 0.05 }
			add_popularity = { ideology = radical_socialist popularity = -0.05 }
		}
		else = {
			add_popularity = { ideology = radical_socialist popularity = 0.05 }
			add_popularity = { ideology = totalist popularity = -0.05 }
		}
		add_ideas = CUB_opensocialistconflict
		hidden_effect = {
			country_event = {
				id = cuba.2140
				days = 7
			}
		}
	}
}

country_event = {
	id = cuba.2140
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.2140" }
	title = cuba.2140.t
	desc = {
		text = cuba.2140.d_1
		trigger = {
			check_variable = {
				var = CUB_socdeal_blas_count
				value = 3
				compare = greater_than_or_equals
			}
		}
	}
	desc = {
		text = cuba.2140.d_2
		trigger = {
			NOT = {
				check_variable = {
					var = CUB_socdeal_blas_count
					value = 3
					compare = greater_than_or_equals
				}
			}
		}
	}
	is_triggered_only = yes

	option = { #mella1
		name = cuba.2140.a
		ai_chance = {
			factor = 0
		}
		trigger = {
			check_variable = {
				var = CUB_socdeal_blas_count
				value = 3
				compare = greater_than_or_equals
			}
		}

		add_stability = -0.05
		add_war_support = -0.05
		add_political_power = -50
		create_country_leader = {
			name = "Alberto Bayo Giroud"
			desc = "POLITICS_RAUL_ROA_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Alberto_Bayo_Giroud.png"
			expire = "1.1.1"
			ideology = agrarian_socialism_subtype
		}
		set_politics = {
			ruling_party = totalist
			elections_allowed = yes
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Julio_Mella_McPartland_hog_tot
				CUB_Emilio_Roig_Leuchsenring_for_tot
				CUB_Blas_Roca_Calderio_eco_tot
				CUB_Alejandro_Barreiro_Olivera_sec_tot
			}
			country_event = {
				id = cuba.2141
				days = 1
			}
		}
	}

	option = { #mella2
		name = cuba.2140.b
		trigger = {
			check_variable = {
				var = CUB_socdeal_mella_count
				value = 3
				compare = greater_than_or_equals
			}
			NOT = {
				check_variable = {
					var = CUB_socdeal_mella_count
					value = 5
					compare = greater_than_or_equals
				}
			}
		}

		set_politics = {
			ruling_party = totalist
			elections_allowed = yes
		}
		create_country_leader = {
			name = "Alberto Bayo Giroud"
			desc = "POLITICS_RAUL_ROA_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Alberto_Bayo_Giroud.png"
			expire = "1.1.1"
			ideology = agrarian_socialism_subtype
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Julio_Mella_McPartland_hog_tot
				CUB_Emilio_Roig_Leuchsenring_for_tot
				CUB_Blas_Roca_Calderio_eco_tot
				CUB_Alejandro_Barreiro_Olivera_sec_tot
			}
			country_event = {
				id = cuba.2141
				days = 1
			}
		}
	}

	option = { #mella3
		name = cuba.2140.c
		trigger = {
			check_variable = {
				var = CUB_socdeal_mella_count
				value = 5
				compare = greater_than_or_equals
			}
		}

		add_stability = 0.05
		add_war_support = 0.05
		add_political_power = 50
		create_country_leader = {
			name = "Alberto Bayo Giroud"
			desc = "POLITICS_RAUL_ROA_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Alberto_Bayo_Giroud.png"
			expire = "1.1.1"
			ideology = agrarian_socialism_subtype
		}
		set_politics = {
			ruling_party = totalist
			elections_allowed = yes
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Julio_Mella_McPartland_hog_tot
				CUB_Emilio_Roig_Leuchsenring_for_tot
				CUB_Blas_Roca_Calderio_eco_tot
				CUB_Alejandro_Barreiro_Olivera_sec_tot
			}
			country_event = {
				id = cuba.2141
				days = 1
			}
		}
	}

	option = { #blas1
		name = cuba.2140.e
		ai_chance = {
			factor = 0
		}
		trigger = {
			check_variable = {
				var = CUB_socdeal_mella_count
				value = 3
				compare = greater_than_or_equals
			}
		}

		add_stability = -0.05
		add_war_support = -0.05
		add_political_power = -50
		create_country_leader = {
			name = "Sandalio Junco Camellón"
			desc = "POLITICS_SANDALIO_JUNCO_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Sandalio_Junco_Camellon.png"
			expire = "1.1.1"
			ideology = authcom_subtype
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Juan_Blas_Hernandez_hog_rso
				CUB_Pablo_de_la_Torriente_Brau_for_rso
				CUB_Jose_Luciano_Franco_eco_rso
				CUB_Fernando_Cruz_Portuondo_sec_rso
			}
			country_event = {
				id = cuba.2142
				days = 1
			}
		}
	}

	option = { #blas2
		name = cuba.2140.f
		trigger = {
			check_variable = {
				var = CUB_socdeal_blas_count
				value = 3
				compare = greater_than_or_equals
			}
			NOT = {
				check_variable = {
					var = CUB_socdeal_blas_count
					value = 5
					compare = greater_than_or_equals
				}
			}
		}

		create_country_leader = {
			name = "Sandalio Junco Camellón"
			desc = "POLITICS_SANDALIO_JUNCO_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Sandalio_Junco_Camellon.png"
			expire = "1.1.1"
			ideology = authcom_subtype
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Juan_Blas_Hernandez_hog_rso
				CUB_Pablo_de_la_Torriente_Brau_for_rso
				CUB_Jose_Luciano_Franco_eco_rso
				CUB_Fernando_Cruz_Portuondo_sec_rso
			}
			country_event = {
				id = cuba.2142
				days = 1
			}
		}
	}

	option = { #blas3
		name = cuba.2140.g
		trigger = {
			check_variable = {
				var = CUB_socdeal_blas_count
				value = 5
				compare = greater_than_or_equals
			}
		}

		add_stability = 0.05
		add_war_support = 0.05
		add_political_power = 50
		create_country_leader = {
			name = "Sandalio Junco Camellón"
			desc = "POLITICS_SANDALIO_JUNCO_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Sandalio_Junco_Camellon.png"
			expire = "1.1.1"
			ideology = authcom_subtype
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Juan_Blas_Hernandez_hog_rso
				CUB_Pablo_de_la_Torriente_Brau_for_rso
				CUB_Jose_Luciano_Franco_eco_rso
				CUB_Fernando_Cruz_Portuondo_sec_rso
			}
			country_event = {
				id = cuba.2142
				days = 1
			}
		}
	}
}

country_event = {
	id = cuba.2141
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.2141" }
	title = cuba.2141.t
	desc = cuba.2141.d
	is_triggered_only = yes

	option = { #mella
		name = cuba.2141.a

		remove_ideas = CUB_opensocialistconflict
	}
}

country_event = {
	id = cuba.2142
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.2142" }
	title = cuba.2142.t
	desc = cuba.2142.d
	is_triggered_only = yes

	option = { #mella
		name = cuba.2142.a

		remove_ideas = CUB_opensocialistconflict
	}
}

country_event = {
	id = cuba.215
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.215" }
	title = cuba.215.t
	desc = cuba.215.d
	is_triggered_only = yes

	option = { #mella
		name = cuba.215.a

		hidden_effect = {
			country_event = cuba.2150
		}
		set_country_flag = CUB_melstrongarmblasag
		add_to_variable = { var = CUB_socdeal_mella_count value = 1 }
	}

	option = { #blas
		name = cuba.215.b

		hidden_effect = {
			country_event = cuba.2150
		}
		add_to_variable = { var = CUB_socdeal_blas_count value = 1 }
	}
}

country_event = {
	id = cuba.2150
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.2150" }
	title = cuba.2150.t
	desc = cuba.2150.d
	is_triggered_only = yes

	option = { #mella
		name = cuba.2150.a

		hidden_effect = {
			country_event = cuba.2151
		}
		set_country_flag = CUB_melstrongarmblaspol
		add_to_variable = { var = CUB_socdeal_mella_count value = 1 }
	}

	option = { #blas
		name = cuba.2150.b

		hidden_effect = {
			country_event = cuba.2151
		}
		add_to_variable = { var = CUB_socdeal_blas_count value = 1 }
	}
}

country_event = {
	id = cuba.2151
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.2151" }
	title = cuba.2151.t
	desc = cuba.2151.d
	is_triggered_only = yes

	option = { #mella
		name = cuba.2151.a

		set_country_flag = CUB_melladealtrcomp
		set_country_flag = CUB_melstrongarmblasmil
		add_to_variable = { var = CUB_socdeal_mella_count value = 1 }
	}

	option = { #blas
		name = cuba.2151.b

		set_country_flag = CUB_melladealtrcomp
		add_to_variable = { var = CUB_socdeal_blas_count value = 1 }
	}
}

country_event = {
	id = cuba.216
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.216" }
	title = cuba.216.t
	desc = cuba.216.d
	is_triggered_only = yes

	option = { #mella
		name = cuba.216.a

		add_to_variable = { var = CUB_socdeal_mella_count value = 2 }
		add_ideas = CUB_mellatranssociety
	}

	option = { #blas
		name = cuba.216.b

		add_to_variable = { var = CUB_socdeal_blas_count value = 2 }
		add_ideas = CUB_blastranssociety
	}

	option = { #compromise
		name = cuba.216.c

		add_to_variable = { var = CUB_socdeal_mella_count value = 1 }
		add_to_variable = { var = CUB_socdeal_blas_count value = 1 }
		add_ideas = CUB_comptranssociety
	}
}

###Revolutionary Democracy Focuses
country_event = { #Start
	id = cuba.217
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.217" }
	title = cuba.217.t
	desc = cuba.217.d
	is_triggered_only = yes

	option = {
		name = cuba.217.a

		complete_national_focus = CUB_revdem_begin
	}
}

###National Populist Focuses

country_event = { #Start
	id = cuba.218
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.218" }
	title = cuba.218.t
	desc = cuba.218.d
	is_triggered_only = yes

	option = {
		name = cuba.218.a

		complete_national_focus = CUB_autenticfoc_begin
	}
}

country_event = { #Natpop uprising
	id = cuba.2180
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.2180" }
	title = cuba.2180.t
	desc = cuba.2180.d
	is_triggered_only = yes

	option = {
		name = cuba.2180.a
		add_popularity = {
			ideology = national_populist
			popularity = 0.1
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = -0.05
		}
		set_politics = {
			ruling_party = national_populist
			elections_allowed = yes
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			country_event = {
				id = cuba.2181
				days = 14
			}
			remove_all_ministers = yes
			add_ideas = {
				CUB_Alberto_Lamar_Schweyer_hog_npo
				CUB_Jesus_Marinas_Alvarez_for_npo
				CUB_Alfonso_Serrano_Vilarino_eco_npo
				CUB_Agustin_Parla_Orduna_sec_npo
			}
		}
	}
}

country_event = { #Natpop betrayal
	id = cuba.2181
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.2181" }
	title = cuba.2181.t
	desc = cuba.2181.d
	is_triggered_only = yes

	option = {
		name = cuba.2181.a

		add_popularity = {
			ideology = national_populist
			popularity = -0.1
		}
		set_country_flag = CUB_ordunabetrayal
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Ramon_Grau_San_Martin_hog_ade
				CUB_Gustavo_Cuervo_Rubio_for_ade
				CUB_Gustavo_Moreno_Lastres_eco_ade
				CUB_Agustin_Parla_Orduna_sec_npo
			}
		}
	}

	option = {
		name = cuba.2181.b

		custom_effect_tooltip = "This route is a work-in-progress, stay tuned!/n"
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_ideas_with_trait = security_minister
			add_ideas = CUB_Conrado_Alminaque_Agudo_sec_npo
		}
	}
}

country_event = { #Refounding the DNA
	id = cuba.219
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.219" }
	title = cuba.219.t
	desc = cuba.219.d
	is_triggered_only = yes

	option = {
		name = cuba.219.a

		add_popularity = {
			ideology = social_conservative
			popularity = 0.1
		}
	}
}

country_event = { #Opening back up the political sphere
	id = cuba.2190
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.2190" }
	title = cuba.2190.t
	desc = cuba.2190.d
	is_triggered_only = yes

	option = {
		name = cuba.2190.a

		set_country_flag = CUB_autopenagain
		add_political_power = 25
		add_popularity = {
			ideology = social_democrat
			popularity = 0.05
		}
	}
}

country_event = { #Grau corruption
	id = cuba.2200
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.2200" }
	title = cuba.2200.t
	desc = {
		text = cuba.2200.d_1
		trigger = {
			has_government = authoritarian_democrat
		}
	}
	desc = {
		text = cuba.2200.d_2
		trigger = {
			NOT = {
				has_government = authoritarian_democrat
			}
		}
	}
	picture = GFX_report_event_CUB_menocal
	is_triggered_only = yes

	option = {
		name = cuba.2200.a

		if = {
			limit = {
				NOT = {
					has_country_flag = CUB_autopenagain
				}
			}
			country_event = {
				id = cuba.2190
				days = 15
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_leader = {
						name = "Carlos Prío Socarrás"
					}
				}
			}
			create_country_leader = {
				name = "Carlos Prío Socarrás"
				desc = "POLITICS_CARLOS_PRIO_SOCARRAS_DESC"
				picture = "gfx/leaders/CUB/Portrait_Carlos_Prio_Socarras.png"
				expire = "1.1.1"
				ideology = social_conservative_subtype
			}
		}
		if = {
			limit = {
				has_government = authoritarian_democrat
			}
			set_politics = {
				ruling_party = social_conservative
				elections_allowed = yes
			}
		}
		add_stability = -0.1
		set_country_flag = CUB_nomoreauttents
	}
	option = {
		name = cuba.2200.b
		trigger = {
			has_government = authoritarian_democrat
		}
	}
}

### Flavor ###
country_event = { #syndie cuba invited to internationale
	id = cuba.221
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.221" }
	title = cuba.221.t
	desc = cuba.221.d
	picture = GFX_report_event_soviet_soldiers_tank
	is_triggered_only = yes

	trigger = {
		has_socialist_government = yes
	}

	option = { #yes!
		name = cuba.221.a
		ai_chance = {
			factor = 25
		}

		add_stability = -0.04
		add_political_power = 20
		set_global_flag = first_inter_congress_CUB
	}

	option = { #no
		name = cuba.221.b
		ai_chance = {
			factor = 75
		}

		add_political_power = -20
		reverse_add_opinion_modifier = { target = FRA modifier = KR_outraged }
	}
}

country_event = { #syndie cuba considers changing flag
	id = cuba.222
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.222" }
	title = cuba.222.t
	desc = cuba.222.d
	picture = GFX_report_event_CUB_flag
	is_triggered_only = yes

	option = { #yes!
		name = cuba.222.a

		add_stability = 0.01
		set_country_flag = CUB_movedholiday
		hidden_effect = {
			set_cosmetic_tag = CUB_SYN
		}
	}

	option = { #no
		name = cuba.222.b

		add_political_power = 10
	}
}

country_event = { #Santeria rumors
	id = cuba.223
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.223" }
	title = cuba.223.t
	desc = cuba.223.d
	picture = GFX_report_event_CUB_santeria
	is_triggered_only = yes

	option = {
		name = cuba.223.a

		add_political_power = -10
		add_stability = 0.01
	}

	option = {
		name = cuba.223.b

		add_political_power = 10
		add_stability = -0.01
	}
}

country_event = { #German Spy
	id = cuba.224
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.224" }
	title = cuba.224.t
	desc = {
		text = cuba.224.d_1
		trigger = {
			has_war_with = GER
		}
	}
	desc = {
		text = cuba.224.d_2
		trigger = {
			NOT = {
				has_war_with = GER
			}
		}
	}
	picture = GFX_report_event_CUB_enrique_luning
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		country_exists = GER
		NOT = {
			is_in_faction_with = GER
		}
	}

	option = { #allow him to stand trial
		name = cuba.224.a
		trigger = {
			NOT = {
				has_war_with = GER
			}
		}

		reverse_add_opinion_modifier = {
			target = GER
			modifier = CUB_luning_killed
		}
		add_political_power = -10
		add_stability = 0.01
	}

	option = { #deport him
		name = cuba.224.b
		trigger = {
			NOT = {
				has_war_with = GER
			}
		}

		reverse_add_opinion_modifier = {
			target = GER
			modifier = CUB_luning_spared
		}
		add_political_power = 10
		add_stability = -0.01
	}

	option = { #execute him
		name = cuba.224.c
		trigger = {
			has_war_with = GER
		}

		add_political_power = -20
		add_stability = 0.02
	}

	option = { #prison
		name = cuba.224.d
		trigger = {
			has_war_with = GER
		}

		add_political_power = 20
		add_stability = -0.02
	}
}

country_event = { #Capablanca Death
	id = cuba.225
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.225" }
	title = cuba.225.t
	desc = cuba.225.d
	picture = GFX_report_event_CUB_capablanca
	is_triggered_only = yes

	option = {
		name = cuba.225.a

		add_stability = -0.01
	}
}

news_event = { #May 20th Ind Day
	id = cuba.226
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event cuba.226"
		hidden_effect = {
			news_event = { days = 365 id = cuba.227 }
		}
	}
	title = cuba.226.t
	desc = cuba.226.d
	picture = GFX_news_event_CUB_flagcrowd
	is_triggered_only = yes

	option = {
		name = cuba.226.a

		add_stability = 0.01
	}
}

news_event = { #May 20th Ind Day 2
	id = cuba.227
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event cuba.227"
		hidden_effect = {
			news_event = { days = 365 id = cuba.228 }
		}
	}
	title = cuba.227.t
	desc = cuba.227.d
	picture = GFX_news_event_CUB_flagcrowd
	is_triggered_only = yes
	trigger = {
		NOT = {
			has_country_flag = CUB_movedholiday
		}
	}

	option = {
		name = cuba.227.a

		add_stability = 0.01
	}
}

news_event = { #May 20th Ind Day 3
	id = cuba.228
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event cuba.228"
		hidden_effect = {
			news_event = { days = 365 id = cuba.227 }
		}
	}
	title = cuba.228.t
	desc = cuba.228.d
	picture = GFX_news_event_CUB_flagcrowd
	is_triggered_only = yes
	trigger = {
		NOT = {
			has_country_flag = CUB_movedholiday
		}
	}

	option = {
		name = cuba.228.a

		add_stability = 0.01
	}
}

news_event = { #October 10th Ind Day
	id = cuba.229
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event cuba.229"
		hidden_effect = {
			news_event = { days = 365 id = cuba.230 }
		}
	}
	title = cuba.229.t
	desc = cuba.229.d
	picture = GFX_news_event_CUB_flagcrowd
	fire_only_once = yes
	trigger = {
		tag = CUB
		date > 1936.10.7
		date < 1936.10.13
		has_country_flag = CUB_movedholiday
	}

	option = {
		name = cuba.229.a

		add_stability = 0.01
	}
}

news_event = { #October 10th Ind Day 2
	id = cuba.230
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event cuba.230"
		hidden_effect = {
			news_event = { days = 365 id = cuba.231 }
		}
	}
	title = cuba.230.t
	desc = cuba.230.d
	picture = GFX_news_event_CUB_flagcrowd
	is_triggered_only = yes

	option = {
		name = cuba.230.a

		add_stability = 0.01
	}
}

news_event = { #October 10th Ind Day 3
	id = cuba.231
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event cuba.231"
		hidden_effect = {
			news_event = { days = 365 id = cuba.230 }
		}
	}
	title = cuba.231.t
	desc = cuba.231.d
	picture = GFX_news_event_CUB_flagcrowd
	is_triggered_only = yes

	option = {
		name = cuba.231.a

		add_stability = 0.01
	}
}

country_event = { #Junco succeeds Pena
	id = cuba.232
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.232" }
	title = cuba.232.t
	desc = {
		text = cuba.232.d_1
		trigger = {
			has_socialist_government = no
		}
	}
	desc = {
		text = cuba.232.d_2
		trigger = {
			has_government = totalist
			NOT = {
				has_country_flag = CUB_postmellacnoc
			}
		}
	}
	desc = {
		text = cuba.232.d_3
		trigger = {
			has_government = totalist
			has_country_flag = CUB_postmellacnoc
		}
	}
	desc = {
		text = cuba.232.d_4
		trigger = {
			OR = {
				has_government = syndicalist
				has_government = radical_socialist
			}
		}
	}
	picture = GFX_report_event_soviet_soldiers_tank
	is_triggered_only = yes
	fire_only_once = yes

	option = { #allow the transition
		name = cuba.232.a

		create_country_leader = {
			name = "Sandalio Junco Camellón"
			desc = "POLITICS_SANDALIO_JUNCO_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Sandalio_Junco_Camellon.png"
			expire = "1.1.1"
			ideology = authcom_subtype
		}

		set_country_flag = CUB_juncotot
		if = {
			limit = {
				has_idea = CUB_Lazaro_Pena_Gonzalez_hog_tot
			}
			hidden_effect = {
				remove_ideas_with_trait = head_of_government
			}
			add_ideas = CUB_Sandalio_Junco_Camellon_hog_tot
		}
	}

	option = { #maintain pena
		name = cuba.232.b
		trigger = {
			has_government = totalist
			NOT = {
				has_country_flag = mella_back
			}
		}

		add_political_power = -20
		add_stability = -0.02
	}
}

country_event = { #Tina Modotti
	id = cuba.233
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.233" }
	title = cuba.233.t
	desc = cuba.233.d
	picture = GFX_report_event_CUB_tina
	is_triggered_only = yes

	option = {
		name = cuba.233.a

		add_political_power = -50

		hidden_effect = {
			remove_ideas_with_trait = head_of_government
		}
		add_ideas = CUB_Tina_Modotti_hog_tot
	}

	option = {
		name = cuba.233.b

		add_stability = -0.05
		add_war_support = -0.05
		add_political_power = -50

		hidden_effect = {
			remove_ideas_with_trait = head_of_government
		}
		add_ideas = CUB_Tina_Modotti_hog_tot

		create_country_leader = {
			name = "Tina Modotti"
			desc = "POLITICS_TINA_MODOTTI_DESC"
			picture = "gfx/leaders/CUB/Portrait_Cuba_Tina_Modotti.png"
			expire = "1.1.1"
			ideology = authcom_subtype
			female = yes
		}
	}
}

country_event = { #Radsoc election
	id = cuba.234
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.234" }
	title = cuba.234.t
	desc = cuba.234.d
	picture = GFX_report_event_CUB_prespalace
	is_triggered_only = yes

	trigger = {
		has_completed_focus = CUB_revdem_6
	}

	option = {
		name = cuba.234.a
		ai_chance = {
			factor = 35
		}

		set_politics = {
			ruling_party = radical_socialist
			elections_allowed = yes
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Juan_Blas_Hernandez_hog_rso
				CUB_Pablo_de_la_Torriente_Brau_for_rso
				CUB_Jose_Luciano_Franco_eco_rso
				CUB_Fernando_Cruz_Portuondo_sec_rso
			}
		}
	}
	option = {
		name = cuba.234.b
		ai_chance = {
			factor = 35
		}

		set_politics = {
			ruling_party = social_democrat
			elections_allowed = yes
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Manuel_Bisbe_Alberni_hog_sde
				CUB_Eduardo_Chibas_Ribas_for_sde
				CUB_Jose_Irrisari_Gamio_eco_sde
				CUB_Juan_Remos_Rubio_sec_sde
			}
		}
	}
	option = {
		name = cuba.234.c
		ai_chance = {
			factor = 30
		}

		set_politics = {
			ruling_party = social_liberal
			elections_allowed = yes
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Carlos_Cespedes_Quesada_hog_sli
				CUB_Jorge_Manach_Robato_for_sli
				CUB_Joaquin_Martinez_Saenz_eco_sli
				CUB_Sergio_Carbo_Morera_sec_sli
			}
		}
	}
}

country_event = { #Main election
	id = cuba.235
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.235" }
	title = cuba.235.t
	desc = cuba.235.d
	picture = GFX_report_event_CUB_prespalace
	is_triggered_only = yes

	trigger = {
		has_country_flag = CUB_electionman_flag
	}

	option = {
		name = cuba.235.a
		ai_chance = {
			factor = 35
		}

		set_politics = {
			ruling_party = market_liberal
			elections_allowed = yes
		}

		if = {
			limit = {
				has_country_flag = CUB_elec_post
			}
			country_event = {
				id = cuba.238
				days = 1
			}
		}
		else_if = {
			limit = {
				has_country_flag = CUB_elec_post_forever
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Miguel_Gomez_Arias_hog_mli
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = CUB_elec_post_forever
				}
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Miguel_Gomez_Arias_hog_mli
					CUB_Jose_Barnet_Vinageras_for_mli
					CUB_Carlos_Marquez_Sterling_eco_mli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
	}

	option = {
		name = cuba.235.b
		ai_chance = {
			factor = 35
		}

		set_politics = {
			ruling_party = social_democrat
			elections_allowed = yes
		}
		if = {
			limit = {
				has_country_flag = CUB_elec_post
			}
			country_event = {
				id = cuba.238
				days = 1
			}
		}
		else_if = {
			limit = {
				has_country_flag = CUB_elec_post_forever
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Manuel_Bisbe_Alberni_hog_sde
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = CUB_elec_post_forever
				}
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Manuel_Bisbe_Alberni_hog_sde
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Jose_Irrisari_Gamio_eco_sde
					CUB_Juan_Remos_Rubio_sec_sde
				}
			}
		}
	}
	option = {
		name = cuba.235.c
		ai_chance = {
			factor = 30
		}

		set_politics = {
			ruling_party = social_liberal
			elections_allowed = yes
		}
		if = {
			limit = {
				has_country_flag = CUB_elec_post
			}
			country_event = {
				id = cuba.238
				days = 1
			}
		}
		else_if = {
			limit = {
				has_country_flag = CUB_elec_post_forever
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Carlos_Cespedes_Quesada_hog_sli
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
		else_if = {
			limit = {
				NOT = {
					has_country_flag = CUB_elec_post_forever
				}
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Carlos_Cespedes_Quesada_hog_sli
					CUB_Jorge_Manach_Robato_for_sli
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Sergio_Carbo_Morera_sec_sli
				}
			}
		}
	}
}

country_event = { #Syndie election
	id = cuba.236
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.236" }
	title = cuba.236.t
	desc = cuba.236.d
	picture = GFX_report_event_CUB_prespalace
	is_triggered_only = yes

	trigger = {
		has_completed_focus = CUB_syndiedem
	}

	option = {
		name = cuba.236.a
		ai_chance = {
			factor = 45
		}

		hidden_effect = {
			set_politics = {
				ruling_party = radical_socialist
				elections_allowed = yes
			}
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Juan_Blas_Hernandez_hog_rso
				CUB_Pablo_de_la_Torriente_Brau_for_rso
				CUB_Jose_Luciano_Franco_eco_rso
				CUB_Fernando_Cruz_Portuondo_sec_rso
			}
		}
	}
	option = {
		name = cuba.236.b
		ai_chance = {
			factor = 45
		}

		set_politics = {
			ruling_party = syndicalist
			elections_allowed = yes
		}
		if = {
			limit = {
				has_country_leader = {
					name = "Raul Roa García"
					ruling_only = yes
				}
			}
			create_country_leader = {
				name = "Antonio Guiteras Holmes"
				desc = "POLITICS_ANTONIO_GUITERAS_DESC"
				picture = "gfx/leaders/CUB/Portrait_Cuba_Antonio_Guiteras.png"
				expire = "1.1.1"
				ideology = syn_left_nationalism_subtype
			}
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Antonio_Guiteras_Holmes_hog_syn
				CUB_Raul_Roa_Garcia_for_syn
				CUB_Salvador_Vilaseca_Forne_eco_syn
				CUB_Newton_Briones_Fernandez_sec_syn
			}
		}
	}
	option = {
		name = cuba.236.c
		ai_chance = {
			factor = 10
		}

		set_politics = {
			ruling_party = totalist
			elections_allowed = no
		}
		if = {
			limit = {
				has_country_leader = {
					name = "Julio Mella McPartland"
					ruling_only = yes
				}
			}
			create_country_leader = {
				name = "Lázaro Peña González"
				desc = "POLITICS_LAZARO_PENA_DESC"
				picture = "gfx/leaders/CUB/Portrait_Cuba_Lazaro_Pena_Gonzalez.png"
				expire = "1.1.1"
				ideology = authcom_subtype
			}
			hidden_effect = {
				set_country_flag = CUB_postmellacnoc
				country_event = {
					id = cuba.232
					days = 14
				}
			}
		}

		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Lazaro_Pena_Gonzalez_hog_tot
				CUB_Emilio_Roig_Leuchsenring_for_tot
				CUB_Blas_Roca_Calderio_eco_tot
				CUB_Alejandro_Barreiro_Olivera_sec_tot
			}
			country_event = {
				id = cuba.237
				days = 4
			}
		}
	}
}

country_event = { #Totalist switching to dictatorship
	id = cuba.237
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.237" }
	title = cuba.237.t
	desc = cuba.237.d
	picture = GFX_report_event_CUB_prespalace
	is_triggered_only = yes

	option = {
		name = cuba.237.a

		if = {
			limit = {
				NOT = {
					has_completed_focus = CUB_syndienodem
				}
			}
			complete_national_focus = CUB_syndienodem
		}
	}
}

country_event = { # Cabinet Decision for repeat
	id = cuba.238
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.238" }
	title = cuba.238.t
	desc = cuba.238.d
	picture = GFX_report_event_CUB_cabinet
	is_triggered_only = yes

	option = { # Unity Cabinet
		name = cuba.238.a

		if = {
			limit = {
				has_government = social_democrat
			}
			add_political_power = -20
			add_popularity = {
				ideology = social_democrat
				popularity = 0.05
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Manuel_Bisbe_Alberni_hog_sde
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Jose_Irrisari_Gamio_eco_sde
					CUB_Juan_Remos_Rubio_sec_sde
				}
			}
		}
		else_if = {
			limit = {
				has_government = social_liberal
			}
			add_political_power = -20
			add_popularity = {
				ideology = social_liberal
				popularity = 0.05
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Carlos_Cespedes_Quesada_hog_sli
					CUB_Jorge_Manach_Robato_for_sli
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Sergio_Carbo_Morera_sec_sli
				}
			}
		}
		else_if = {
			limit = {
				has_government = market_liberal
			}
			add_political_power = -20
			add_popularity = {
				ideology = market_liberal
				popularity = 0.05
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Miguel_Gomez_Arias_hog_mli
					CUB_Jose_Barnet_Vinageras_for_mli
					CUB_Carlos_Marquez_Sterling_eco_mli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
		clr_country_flag = CUB_elec_post
	}

	option = { #Mixed Cabinet
		name = cuba.238.b

		if = {
			limit = {
				has_government = social_democrat
			}
			add_political_power = 20
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Manuel_Bisbe_Alberni_hog_sde
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
		else_if = {
			limit = {
				has_government = social_liberal
			}
			add_political_power = 20
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Carlos_Cespedes_Quesada_hog_sli
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
		else_if = {
			limit = {
				has_government = market_liberal
			}
			add_political_power = 20
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Miguel_Gomez_Arias_hog_mli
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
	}

	option = { # Mixed Cabinet Forever
		name = cuba.238.c

		if = {
			limit = {
				has_government = social_democrat
			}
			add_political_power = 40
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Manuel_Bisbe_Alberni_hog_sde
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
		else_if = {
			limit = {
				has_government = social_liberal
			}
			add_political_power = 40
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Carlos_Cespedes_Quesada_hog_sli
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
		else_if = {
			limit = {
				has_government = market_liberal
			}
			add_political_power = 40
			add_popularity = {
				ideology = social_democrat
				popularity = 0.02
			}
			add_popularity = {
				ideology = social_liberal
				popularity = 0.02
			}
			custom_effect_tooltip = CUB_minister_tt
			hidden_effect = {
				remove_all_ministers = yes
				add_ideas = {
					CUB_Miguel_Gomez_Arias_hog_mli
					CUB_Eduardo_Chibas_Ribas_for_sde
					CUB_Joaquin_Martinez_Saenz_eco_sli
					CUB_Frederico_Laredo_Bru_sec_mli
				}
			}
		}
		set_country_flag = CUB_elec_post_forever
		clr_country_flag = CUB_elec_post
	}
}

country_event = { #US puppet election
	id = cuba.239
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.239" }
	title = cuba.239.t
	desc = cuba.239.d
	picture = GFX_report_event_CUB_prespalace
	is_triggered_only = yes

	trigger = {
		OR = {
			has_completed_focus = CUB_nomorelapdop_7
			has_completed_focus = CUB_democratize_auth_8
		}
	}

	option = {
		name = cuba.239.a
		ai_chance = {
			factor = 35
		}

		set_politics = {
			ruling_party = market_liberal
			elections_allowed = yes
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Jose_Barnet_Vinageras_hog_mli
				CUB_Orestes_Ferrara_Marino_for_mli
				CUB_Carlos_Marquez_Sterling_eco_mli
				CUB_Frederico_Laredo_Bru_sec_mli
			}
		}
	}
	option = {
		name = cuba.239.b
		ai_chance = {
			factor = 30
		}

		set_politics = {
			ruling_party = social_liberal
			elections_allowed = yes
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Carlos_Cespedes_Quesada_hog_sli
				CUB_Jorge_Manach_Robato_for_sli
				CUB_Joaquin_Martinez_Saenz_eco_sli
				CUB_Sergio_Carbo_Morera_sec_sli
			}
		}
	}

	option = {
		name = cuba.239.c
		ai_chance = {
			factor = 30
		}

		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = yes
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			if = {
				limit = {
					date > 1943.1.2
				}
				add_ideas = CUB_Julio_Lobo_Olavarria_eco_ade
			}
			else = {
				add_ideas = CUB_Henri_Schueg_Chassin_eco_ade
			}
			if = {
				limit = {
					date > 1940.1.2
				}
				add_ideas = CUB_Antonio_Sanchez_de_Bustamante_Sirven_sec_ade
			}
			else = {
				add_ideas = CUB_Carlos_Mendieta_Montefur_sec_ade
			}
			add_ideas = {
				CUB_Carlos_Mendieta_Montefur_hog_ade
				CUB_Jorge_Garcia_Montes_for_ade
			}
		}
	}
}

country_event = { #Let Machado Return?
	id = cuba.240
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.240" }
	title = cuba.240.t
	desc = cuba.240.d
	picture = GFX_report_event_CUB_gmachado
	is_triggered_only = yes

	option = { #yes
		name = cuba.240.a
		ai_chance = {
			factor = 70
		}
		add_political_power = 10
		add_war_support = -0.01
	}

	option = { #no
		name = cuba.240.b
		ai_chance = {
			factor = 30
		}
		add_political_power = -10
		add_war_support = 0.01
	}
}

country_event = { #Amadeo Roldán Gardes Death
	id = cuba.241
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.241" }
	title = cuba.241.t
	desc = cuba.241.d
	picture = GFX_report_event_CUB_amadeoroldan
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = cuba.241.a

		add_political_power = -5
	}
}

country_event = { #Alejandro García Caturla Death
	id = cuba.242
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.242" }
	title = cuba.242.t
	desc = cuba.242.d
	picture = GFX_report_event_CUB_alejandrogarcia
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = cuba.242.a

		add_political_power = -5
	}
}

country_event = { #notice of ending trade ties
	id = cuba.243
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.243" }
	title = cuba.243.t
	desc = cuba.243.d
	is_triggered_only = yes

	option = {
		name = cuba.243.a

		add_political_power = -5
	}
}

country_event = { #autogyro craze
	id = cuba.244
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.244" }
	title = cuba.244.t
	desc = cuba.244.d
	is_triggered_only = yes
	picture = GFX_report_event_CUB_autogyro

	option = {
		name = cuba.244.a

		air_experience = 5
	}
}

country_event = { #Afro-cuban jazz
	id = cuba.245
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.245" }
	title = cuba.245.t
	desc = cuba.245.d
	picture = GFX_report_event_CUB_afroband
	is_triggered_only = yes

	option = {
		name = cuba.245.a

		add_political_power = -5
	}
}

country_event = { #Ask Jose Marti Zayas-Bazan to take new commission
	id = cuba.246
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.246" }
	title = cuba.246.t
	desc = cuba.246.d
	is_triggered_only = yes

	option = {
		name = cuba.246.a

		hidden_effect = {
			country_event = {
				id = cuba.248
				days = 2
			}
		}
	}
}

country_event = { #Ask Alberto Herrera Franchi and Jose Marti Zayas-Bazan to take new commission
	id = cuba.247
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.247" }
	title = cuba.247.t
	desc = cuba.247.d
	is_triggered_only = yes

	option = {
		name = cuba.247.a

		hidden_effect = {
			country_event = {
				id = cuba.248
				days = 2
			}
		}
		set_country_flag = CUB_herreraalso
	}
}

country_event = { #yay
	id = cuba.248
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.248" }
	title = cuba.248.t
	desc = {
		text = cuba.248.d_1
		trigger = {
			NOT = {
				has_country_flag = CUB_herreraalso
			}
		}
	}
	desc = {
		text = cuba.248.d_2
		trigger = {
			has_country_flag = CUB_herreraalso
		}
	}
	is_triggered_only = yes

	option = {
		name = cuba.248.a

		create_corps_commander = {
			name = "José Martí Zayas-Bazán"
			portrait_path = "gfx/leaders/CUB/Portrait_Cuba_Jose_Marti_Zayas_Bazan.png"
			id = 1459
			traits = {
				old_guard
				war_hero
			}
			skill = 2
			attack_skill = 1
			defense_skill = 2
			planning_skill = 2
			logistics_skill = 2
		}
		if = {
			limit = {
				has_country_flag = CUB_herreraalso
				NOT = {
					has_unit_leader = 1458
				}
			}
			clr_country_flag = Alberto_Herrera_Franchi_dead
			create_field_marshal = {
				name = "Alberto Herrera Franchi"
				picture = "gfx/leaders/CUB/Portrait_Cuba_Alberto_Herrera_Franchi.png"
				id = 1458
				traits = {
					career_officer
					old_guard
				}
				skill = 2
				attack_skill = 3
				defense_skill = 1
				planning_skill = 1
				logistics_skill = 2
			}
		}
	}
}

country_event = { #autentico puppet election
	id = cuba.250
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.250" }
	title = cuba.250.t
	desc = cuba.250.d
	picture = GFX_report_event_CUB_prespalace
	is_triggered_only = yes

	trigger = {
		has_completed_focus = CUB_autenticfoc_4
	}

	option = {
		name = cuba.250.a
		trigger = {
			NOT = {
				has_country_flag = CUB_nomoreauttents
			}
		}

		set_politics = {
			ruling_party = national_populist
			elections_allowed = yes
		}
		custom_effect_tooltip = CUB_minister_tt
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Ramon_Grau_San_Martin_hog_ade
				CUB_Gustavo_Cuervo_Rubio_for_ade
				CUB_Gustavo_Moreno_Lastres_eco_ade
				CUB_Felix_Lancis_Sanchez_sec_ade
			}
		}
	}
	option = {
		name = cuba.250.b

		set_politics = {
			ruling_party = social_conservative
			elections_allowed = yes
		}
		custom_effect_tooltip = CUB_minister_tt
		if = {
			limit = {
				NOT = {
					has_country_leader = {
						name = "Carlos Prío Socarrás"
					}
				}
			}
			create_country_leader = {
				name = "Carlos Prío Socarrás"
				desc = "POLITICS_CARLOS_PRIO_SOCARRAS_DESC"
				picture = "gfx/leaders/CUB/Portrait_Carlos_Prio_Socarras.png"
				expire = "1.1.1"
				ideology = social_conservative_subtype
			}
		}
		hidden_effect = {
			if = {
				limit = {
					NOT = {
						has_country_flag = CUB_autopenagain
					}
				}
				country_event = {
					id = cuba.2190
					days = 15
				}
			}
			remove_all_ministers = yes
			add_ideas = {
				CUB_Carlos_Prio_Soccares_hog_sco
				CUB_Alberto_Inocente_Alvarez_for_sco
				CUB_Raul_Cardenas_Echarte_eco_sco
				CUB_Manuel_Fernandez_Supervielle_sec_sco
			}
		}
	}

	option = {
		name = cuba.250.c
		trigger = {
			has_country_flag = CUB_autopenagain
		}

		set_politics = {
			ruling_party = social_democrat
			elections_allowed = yes
		}
		custom_effect_tooltip = CUB_minister_tt
		if = {
			limit = {
				NOT = {
					has_country_leader = {
						name = "Manuel Bisbé Alberni"
					}
				}
			}
			set_country_flag = CUB_trejostepsdown
			create_country_leader = {
				name = "Manuel Bisbé Alberni"
				desc = "POLITICS_MANUEL_BISBE_DESC"
				picture = "gfx/leaders/CUB/Portrait_Cuba_Manuel_Bisbe_Alberni.png"
				expire = "1.1.1"
				ideology = socdem_left_nationalism_subtype
			}
		}
		hidden_effect = {
			remove_all_ministers = yes
			add_ideas = {
				CUB_Manuel_Bisbe_Alberni_hog_sde
				CUB_Eduardo_Chibas_Ribas_for_sde
				CUB_Jose_Irrisari_Gamio_eco_sde
				CUB_Juan_Remos_Rubio_sec_sde
			}
		}
	}
}

country_event = { #Menocal Death
	id = cuba.251
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.251" }
	title = cuba.251.t
	desc = {
		text = cuba.251.d_1
		trigger = {
			NOT = {
				has_country_leader = {
					name = "Carlos Prío Socarrás"
				}
			}
		}
	}
	desc = {
		text = cuba.251.d_2
		trigger = {
			has_country_leader = {
				name = "Carlos Prío Socarrás"
			}
		}
	}
	picture = GFX_report_event_CUB_menocal
	fire_only_once = yes
	trigger = {
		tag = CUB
		date > 1941.9.7
	}

	option = {
		name = cuba.251.a

		if = {
			limit = {
				NOT = {
					has_country_leader = {
						name = "Carlos Prío Socarrás"
					}
				}
			}
			create_country_leader = {
				name = "Carlos Prío Socarrás"
				desc = "POLITICS_CARLOS_PRIO_SOCARRAS_DESC"
				picture = "gfx/leaders/CUB/Portrait_Carlos_Prio_Socarras.png"
				expire = "1.1.1"
				ideology = social_conservative_subtype
			}
		}
		if = {
			limit = {
				has_idea = CUB_Mario_Garcia_Menocal_hog_sco
			}
			hidden_effect = {
				remove_ideas = CUB_Mario_Garcia_Menocal_hog_sco
			}
			add_ideas = CUB_Carlos_Prio_Soccares_hog_sco
		}
	}
}

country_event = { #Bacardi Retirement
	id = cuba.252
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.252" }
	title = cuba.252.t
	desc = {
		text = cuba.252.d_1
		trigger = {
			has_socialist_government = yes
		}
	}
	desc = {
		text = cuba.252.d_2
		trigger = {
			has_socialist_government = no
		}
	}
	fire_only_once = yes
	trigger = {
		tag = CUB
		date > 1943.1.2
	}

	option = {
		name = cuba.252.a

		if = {
			limit = {
				has_idea = CUB_Henri_Schueg_Chassin_eco_ade
			}
			hidden_effect = {
				remove_ideas = CUB_Henri_Schueg_Chassin_eco_ade
			}
			add_ideas = CUB_Julio_Lobo_Olavarria_eco_ade
		}
	}
}

country_event = { #Sanchez Retirement
	id = cuba.253
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.253" }
	title = cuba.253.t
	desc = {
		text = cuba.253.d_1
		trigger = {
			has_socialist_government = yes
		}
	}
	desc = {
		text = cuba.253.d_2
		trigger = {
			has_socialist_government = no
		}
	}
	picture = GFX_report_event_CUB_sanchez
	fire_only_once = yes
	trigger = {
		tag = CUB
		date > 1940.1.2
	}

	option = {
		name = cuba.253.a

		if = {
			limit = {
				has_idea = CUB_Antonio_Sanchez_de_Bustamante_Sirven_sec_ade
			}
			hidden_effect = {
				remove_ideas = CUB_Antonio_Sanchez_de_Bustamante_Sirven_sec_ade
			}
			add_ideas = CUB_Carlos_Mendieta_Montefur_sec_ade
		}
	}
}

country_event = { #Carmelo González Arias killed on eve of election
	id = cuba.254
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.254" }
	title = cuba.254.t
	desc = cuba.254.d
	picture = GFX_report_event_CUB_officer_death
	is_triggered_only = yes

	option = {
		name = cuba.254.a

		set_country_flag = Carmelo_Gonzalez_Arias_dead
		custom_effect_tooltip = CUB_carmelo_gonzalez_dies_tt
	}
}

### Cuba takes GITMO ###
country_event = {# United states in disarray - Cuba's reaction
	id = cuba.400
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.400" }
	title = cuba.400.t
	desc = {
		text = cuba.400.d_1
		trigger = {
			NOT = {
				has_country_flag = CUB_brokefreefromUS
			}
		}
	}
	desc = {
		text = cuba.400.d_2
		trigger = {
			has_country_flag = CUB_brokefreefromUS
		}
	}
	picture = GFX_report_event_spain_civil_war_soldiers

	fire_only_once = yes

	trigger = {
		tag = CUB
		has_global_flag = USA_civil_war_begun_flag
		USA = { controls_state = 818 }
		NOT = {
			has_idea = CUB_american_puppet_idea
		}
	}

	mean_time_to_happen = {
		days = 5
	}

	option = {# Seize the naval base
		name = cuba.400.a
		ai_chance = {
			factor = 98
			modifier = {
				factor = 0.5
				has_government = authoritarian_democrat
			}
		}
		add_state_core = 818
		USA = {
			country_event = cuba.401
		}
		if = {
			limit = {
				has_idea = CUB_american_influence
			}
			remove_ideas = CUB_american_influence
		}
		else_if = {
			limit = {
				has_idea = CUB_american_influence_2
			}
			remove_ideas = CUB_american_influence_2
		}
	}

	option = {# don't seize the naval base
		name = cuba.400.b
		ai_chance = {
			factor = 2
			modifier = {
				factor = 20
				has_government = authoritarian_democrat
			}
		}
		add_stability = -0.02
		reverse_add_opinion_modifier = { target = USA modifier = CUB_not_seize_guan }
		if = {
			limit = {
				has_idea = CUB_american_influence
			}
			remove_ideas = CUB_american_influence
		}
		else_if = {
			limit = {
				has_idea = CUB_american_influence_2
			}
			remove_ideas = CUB_american_influence_2
		}
	}
}

country_event = {# Cuba Seizes Guantanamo naval base
	id = cuba.401
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.401" }
	title = cuba.401.t
	desc = cuba.401.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	option = {
		name = cuba.401.a
		CUB = {
			transfer_state = 818
		}
		remove_state_core = 818
	}
}

country_event = {# US puppet cuba considers breaking free
	id = cuba.402
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.402" }
	title = cuba.402.t
	desc = cuba.402.d
	picture = GFX_report_event_spain_civil_war_soldiers

	fire_only_once = yes

	trigger = {
		tag = CUB
		has_global_flag = USA_civil_war_begun_flag
		has_idea = CUB_american_puppet_idea
	}

	mean_time_to_happen = {
		days = 5
	}

	option = {# break free
		name = cuba.402.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_game_rule = {
					rule = CUB_strike
					option = CUB_STRIKE_LAPDOG
				}
			}
		}

		add_political_power = 50
		USA = {
			country_event = cuba.403
		}
		remove_ideas = CUB_american_puppet_idea
		reverse_add_opinion_modifier = { target = USA modifier = CUB_puppetbrokefree }
		add_opinion_modifier = { target = USA modifier = CUB_puppetbrokefree }
		set_country_flag = CUB_brokefreefromUS
		clr_country_flag = CUB_USpuppet
	}

	option = {# stay loyal
		name = cuba.402.b
		ai_chance = {
			factor = 50
		}

		add_stability = -0.05
		USA = {
			country_event = cuba.404
		}
		reverse_add_opinion_modifier = { target = USA modifier = CUB_puppetloyal }
		add_opinion_modifier = { target = USA modifier = CUB_puppetloyal }
		swap_ideas = {
			remove_idea = CUB_american_puppet_idea
			add_idea = CUB_american_loyal_idea
		}
	}
}

country_event = {# Cuba breaks free - US notice
	id = cuba.403
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.403" }
	title = cuba.403.t
	desc = cuba.403.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	option = {
		name = cuba.403.a
		add_political_power = -20
		add_stability = -0.01
	}
}

country_event = {# Cuba stays loyal free - US notice & offering them gitmo
	id = cuba.404
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.404" }
	title = cuba.404.t
	desc = cuba.404.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	option = { #Give
		name = cuba.404.a
		add_political_power = 30
		add_stability = 0.02
		CUB = { transfer_state = 818 }
		remove_state_core = 818
		CUB = {
			country_event = cuba.405
		}
		reverse_add_opinion_modifier = { target = CUB modifier = CUB_givenguan }
	}

	option = {#Keep
		name = cuba.404.b
		add_political_power = -10
	}
}

country_event = {# US gives Cuba gitmo - US notice
	id = cuba.405
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.405" }
	title = cuba.405.t
	desc = cuba.405.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	option = { #great!
		name = cuba.405.a
		add_political_power = 30
		add_stability = 0.02
	}
}

country_event = {# Puppet Cuba USA ded
	id = cuba.406
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.406" }
	title = cuba.406.t
	desc = cuba.406.d
	picture = GFX_report_event_spain_civil_war_soldiers

	fire_only_once = yes

	trigger = {
		tag = CUB
		NOT = {
			country_exists = USA
		}
		USA = { controls_state = 818 }
		OR = {
			has_idea = CUB_american_puppet_idea
			has_idea = CUB_american_loyal_idea
		}
	}

	mean_time_to_happen = {
		days = 5
	}

	option = { #great!
		name = cuba.406.a
		add_political_power = -50
		add_stability = -0.05
		if = {
			limit = {
				has_idea = CUB_american_puppet_idea
			}
			remove_ideas = CUB_american_puppet_idea
		}
		else = {
			remove_ideas = CUB_american_loyal_idea
		}
	}
}

country_event = {# Denounce/Support Socialists
	id = cuba.407
	immediate = {
		log = "[GetDateText]: [Root.GetName]: event cuba.407"
		if = {
			limit = {
				OR = {
					has_democratic_government = yes
					has_government = paternal_autocrat
				}
			}
			hidden_effect = {
				country_event = {
					id = cuba.240
					days = 18
				}
			}
		}
	}
	title = cuba.407.t
	desc = {
		text = cuba.407.d_1
		trigger = {
			has_socialist_government = no
		}
	}
	desc = {
		text = cuba.407.d_2
		trigger = {
			has_socialist_government = yes
		}
	}

	fire_only_once = yes

	trigger = {
		tag = CUB
		has_global_flag = USA_civil_war_begun_flag
	}

	mean_time_to_happen = {
		days = 3
	}

	option = {#
		name = cuba.407.a

		if = {
			limit = {
				has_socialist_government = yes
			}
			reverse_add_opinion_modifier = { target = CSA modifier = CUB_acw_initialsup }
			reverse_add_opinion_modifier = { target = TEX modifier = CUB_acw_initialden }
		}
		else = {
			reverse_add_opinion_modifier = { target = CSA modifier = CUB_acw_initialden }
		}
	}
}

country_event = {# cuba go big
	id = cuba.408
	immediate = { log = "[GetDateText]: [Root.GetName]: event cuba.405" }
	title = cuba.408.t
	desc = cuba.408.d
	picture = GFX_report_event_spain_civil_war_soldiers

	is_triggered_only = yes

	option = { #great!
		name = cuba.408.a
		add_political_power = 30
		add_war_support = -0.1
	}

	option = { #great!
		name = cuba.408.b
		trigger = {
			is_ai = no
		}
		create_wargoal = {
			   target = HAI
			   type = annex_everything
			}
		create_wargoal = {
			   target = DOM
			   type = annex_everything
			}
		create_wargoal = {
			   target = CAF
			   type = annex_everything
			}	
		create_wargoal = {
			   target = PRI
			   type = annex_everything
			}
		hidden_effect = {
		add_state_core = 1077
		add_state_core = 695
		add_state_core = 309
		add_state_core = 1038
		}
		every_state = {
			limit = {
				OR = {
					is_core_of = HAI
					is_core_of = DOM
					is_core_of = CAF
					is_core_of = PRI
					is_core_of = COL
				}
			}
			add_core_of = CUB
		}
	}

	option = { #great!
		name = cuba.408.c
		trigger = {
			is_ai = no
		}
		create_wargoal = {
			   target = HAI
			   type = annex_everything
			}
		create_wargoal = {
			   target = DOM
			   type = annex_everything
			}
		create_wargoal = {
			   target = CAF
			   type = annex_everything
			}	
		create_wargoal = {
			   target = PRI
			   type = annex_everything
			}
		hidden_effect = {
		add_state_core = 1077
		add_state_core = 695
		add_state_core = 309
		add_state_core = 1038
		}
		set_cosmetic_tag = ANT
		every_state = {
			limit = {
				OR = {
					is_core_of = HAI
					is_core_of = DOM
					is_core_of = CAF
					is_core_of = PRI
					is_core_of = COL
				}
			}
			add_core_of = CUB
		}				
	}
}

country_event = { #peace out Cuba
	id = cuba.500
	immediate = {log = "[GetDateText]: [Root.GetName]: cuba.500"}
	title = cuba.500.t
	desc = cuba.500.d
	picture = GFX_the_campesino_war

	trigger= {
		is_ai = no
		has_war_with = CUB
		NOT = {
			tag = GER
			tag = ENT
			tag = INT
		}
		OR = {
			is_faction_leader = yes
			is_in_faction = no
		}
		CUB = { 
			is_ai = yes 
			is_in_faction = yes 
			has_capitulated = yes
		}
		controls_state = 315
	}
	
	fire_only_once = yes

	option = { #yes
		name = cuba.500.a
		every_enemy_country = {
			limit = {
				is_in_faction_with = CUB
			}
			white_peace = ROOT
		}
		annex_country = {
			target = CUB
		}
	}
	option = { #well nah
		name = cuba.500.b
		add_war_support = 0.1
	}
}