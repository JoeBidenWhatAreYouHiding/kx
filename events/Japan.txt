###########################
# Japan Domestic Events
###########################
# By Flamefang, Levi, Paul, Zankoas & ~mw~
###########################

add_namespace = japdom
add_namespace = japfor
add_namespace = japfeng

###########################
# Opening Events - 1936
###########################

country_event = { #Recovering from the Lost Decade, triggered at game start
	id = japdom.1
	immediate = { log = "[GetDateText]: [Root.GetName]: event japdom.1" }
	title = japdom.1.t
	desc = japdom.1.d
	picture = GFX_report_event_JAP_lost_decade

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = japdom.1.a
		hidden_effect = {
			country_event = {
				id = japdom.2
				days = 21
			}
		}
	}
}

country_event = { #Dissolution of the Diet, triggered soon after start
	id = japdom.2
	title = japdom.2.t
	desc = japdom.2.d
	picture = GFX_report_event_JAP_diet

	fire_only_once = yes
	is_triggered_only = yes
	option = {
		log = "[GetLogInfo]: event japdom.2 option japdom.2.a"
		name = japdom.2.a
		hidden_effect = {
			country_event = { id = japdom.3 days = 30 }
			country_event = { id = japdom.4 days = 35 }
		}
	}
}

country_event = { #General Election Feb. 1936, triggered early 1936, important flag set
	id = japdom.3
	title = japdom.3.t
	desc = japdom.3.d
	picture = GFX_report_event_JAP_voting

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_socialist_government = no
		NOT = { has_country_flag = JAP_liberal_puppet_flag }
	}

	option = { #The Seiyukai have defended their absolute majority!
		log = "[GetLogInfo]: event japdom.3 option japdom.3.a"
		name = japdom.3.a
		add_political_power = 25
		set_country_flag = JAP_elected_soccon
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_PATAUT }
					has_game_rule = { rule = JAP_path option = JAP_PATH_NATPOP }
				}
			}
		}
	}
	option = { #The Seiyukai have lost their absolute majority!
		log = "[GetLogInfo]: event japdom.3 option japdom.3.b"
		name = japdom.3.b
		set_temp_variable = { ideology_change_var = -0.1 }
		change_ruling_party_popularity = yes
		set_country_flag = JAP_WEAK_SEIYUKAI
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
			}
		}
	}
}

country_event = { #The Assassination of Katayama Sen, triggered early 1936
	id = japdom.4
	title = japdom.4.t
	desc = japdom.4.d
	picture = GFX_report_event_JAP_Katayama

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.4 option japdom.4.a"
		name = japdom.4.a
		add_stability = -0.02
		hidden_effect = {
			country_event = { id = japdom.5 days = 60 }
		}
	}
}

country_event = { #Friction Within the Japanese Left, triggered early 1936
	id = japdom.5
	title = japdom.5.t
	desc = japdom.5.d
	picture = GFX_report_event_FNG_protest

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.5 option japdom.5.a"
		name = japdom.5.a
		add_popularity = {
			ideology = totalist
			popularity = 0.02
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.01
		}
		add_popularity = {
			ideology = social_democrat
			popularity = -0.01
		}
		hidden_effect = {
			country_event = { id = japdom.7 days = 65 }
		}
	}
}

country_event = { #The May 15 Incident, triggered mid 1936
	id = japdom.6
	title = japdom.6.t
	desc = japdom.6.d
	picture = GFX_report_event_JAP_coup

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.6 option japdom.6.a"
		name = japdom.6.a
		add_stability = -0.1
		remove_ideas_with_trait = head_of_government
		add_ideas = JAP_Suzuki_Kisaburo_hog_sco
	}
}

country_event = { #Restorationists and Centralists, triggered mid 1936
	id = japdom.7
	title = japdom.7.t
	desc = japdom.7.d
	picture = GFX_report_event_JAP_restorationist_centralist

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.7 option japdom.7.a"
		name = japdom.7.a
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.04
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.02
		}
	}
}

country_event = { #The NSA debate begins
	id = japdom.8
	title = japdom.8.t
	desc = japdom.8.d
	picture = GFX_report_event_JAP_meeting

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.8 option japdom.8.a"
		name = japdom.8.a
		complete_national_focus = JAP_NSA_focus
	}
}

country_event = { #The National Security Act, triggered by focus end of 1936, very important flags set
	id = japdom.9
	title = japdom.9.t
	desc = japdom.9.d
	picture = GFX_report_event_generic_diplomacy1

	is_triggered_only = yes
	fire_only_once = yes

	option = { #The Act is forced through
		log = "[GetLogInfo]: event japdom.9 option japdom.9.a"
		name = japdom.9.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = JAP_path option = JAP_PATH_NATPOP }
			}
		}
		add_political_power = -50
		set_country_flag = JAP_NSA
		add_ideas = JAP_NSA_idea
		hidden_effect = {
			country_event = { id = japdom.10 days = 40 }
			country_event = { id = japdom.51 days = 60 random_days = 180 }
		}
	}
	option = { #Public opinion and the opposition defeat the Act
		log = "[GetLogInfo]: event japdom.9 option japdom.9.b"
		name = japdom.9.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_PATAUT }
				}
			}
		}
		add_political_power = -100
		add_popularity = {
			ideology = national_populist
			popularity = 0.05
		}
		set_country_flag = JAP_NO_NSA
		hidden_effect = {
			country_event = { id = japdom.12 days = 10 }
		}
	}
}

###########################
# Japan's Longest Winter - 1936
###########################

country_event = { #The Trial of the May 15 Incident, triggered by the NSA passing
	id = japdom.10
	title = japdom.10.t
	desc = japdom.10.d
	picture = GFX_report_event_generic_trial_big

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event japdom.10 option japdom.10.a"
		name = japdom.10.a
		add_political_power = -35
		hidden_effect = {
			country_event = { id = japdom.11 days = 10 }
		}
	}
}

country_event = { #The Assassination of Suzuki Kisaburo, triggered by the NSA passing
	id = japdom.11
	title = japdom.11.t
	desc = japdom.11.d
	picture = GFX_report_event_POL_assassination

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event japdom.11 option japdom.11.a"
		name = japdom.11.a
		set_country_flag = Suzuki_Kisaburo_dead
		remove_ideas = JAP_Suzuki_Kisaburo_hog_sco
		add_ideas = JAP_unstable_democracy
		if = {
			limit = {
				has_idea = JAP_Suzuki_Kisaburo_sec_sco
			}
			remove_ideas_with_trait = security_minister
			add_ideas = JAP_Kawamura_Takeji_sec_sco
		}
		country_event = japdom.14
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.05
		}
	}
}

country_event = { #Government Under Fire
	id = japdom.12
	title = japdom.12.t
	desc = japdom.12.d
	picture = GFX_report_event_USA_Riots

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event japdom.12 option japdom.12.a"
		name = japdom.12.a
		add_stability = -0.01
		hidden_effect = {
			country_event = { id = japdom.13 days = 10 }
		}
	}
}

country_event = { #Resignation of Suzuki Kisaburo, triggered by the NSA not passing
	id = japdom.13
	title = japdom.13.t
	desc = japdom.13.d
	picture = GFX_report_event_JAP_crowd

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event japdom.13 option japdom.13.a"
		name = japdom.13.a
		add_stability = -0.05
		remove_ideas = JAP_Suzuki_Kisaburo_hog_sco
		add_stability = 0.05
		if = {
			limit = {
				has_idea = JAP_Suzuki_Kisaburo_sec_sco
			}
			remove_ideas_with_trait = security_minister
			add_ideas = JAP_Kawamura_Takeji_sec_sco
		}
		hidden_effect = {
			country_event = { id = japdom.14 days = 30 }
		}
	}
}

country_event = { #The Election of Mizuno Rentaro
	id = japdom.14
	title = japdom.14.t
	picture = GFX_report_event_JAP_rentaro
	desc = {
		text = japdom.14.dead
		trigger = {
			NOT = { has_character = JAP_suzuki_kisaburo }
		}
	}
	desc = {
		text = japdom.14.notdead
		trigger = {
			has_character = JAP_suzuki_kisaburo
		}
	}

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.14 option japdom.14.a"
		name = japdom.14.a
		add_stability = 0.05
		add_ideas = JAP_Mizuno_Rentaro_hog_sco
		if = {
			limit = {
				has_country_flag = JAP_NO_NSA
			}
			hidden_effect = {
				country_event = { id = japdom.15 days = 7 }
			}
		}
		else_if = {
			limit = {
				has_country_flag = JAP_NSA
				has_country_flag = JAP_WEAK_SEIYUKAI
			}
			hidden_effect = {
				country_event = { id = japdom.72 days = 7 }
			}
		}
		else_if = {
			limit = {
				has_country_flag = JAP_NSA
				NOT = { has_country_flag = JAP_WEAK_SEIYUKAI }
			}
			hidden_effect = {
				country_event = { id = japdom.65 days = 7 }
			}
		}
	}
}

country_event = { #Japan's Longest Winter, triggered by failing to pass the NSA
	id = japdom.15
	title = japdom.15.t
	desc = japdom.15.d
	picture = GFX_report_event_japanese_officers
	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event japdom.15 option japdom.15.a"
		name = japdom.15.a
		add_stability = -0.05
		hidden_effect = { #Japan's longest day - army coup successful
			country_event = { id = japdom.16 days = 5 }
		}
	}
}

country_event = { #Japan's longest day - army coup successful, triggered by previous event, lots of important flags set
	id = japdom.16
	title = japdom.16.t
	desc = japdom.16.d
	picture = GFX_report_event_japanese_soldiers_02
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		log = "[GetLogInfo]: event japdom.16 option japdom.16.a"
		name = japdom.16.a
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.1
		}
		remove_all_ministers = yes
		add_ideas = {
			JAP_Hiranuma_Kiichiro_hog_pau
			JAP_Suetsugu_Nobumasa_sec_npo
			JAP_Honda_Kumataro_for_pau
			JAP_Suzuki_Teiichi_eco_npo
		}
		hidden_effect = {
			country_event = { id = japdom.18 days = 5 }
		}
	}
}

country_event = { #Army coups fails, triggered by disagreeing with emperor when he doesn't support the government
	id = japdom.17
	title = japdom.17.t
	desc = japdom.17.d
	picture = GFX_report_event_JAP_barricade
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.17 option japdom.17.a"
		name = japdom.17.a
		add_stability = -0.03
		retire_character = JAP_koiso_kuniaki
		retire_character = JAP_muto_akira
		add_popularity = {
			ideology = paternal_autocrat
			popularity = -0.05
		}
		hidden_effect = {
			country_event = { id = japdom.22 days = 18 }
		}
		custom_effect_tooltip = failed_coup_weak_government
		mark_focus_tree_layout_dirty = yes
		set_country_flag = democracy_failed_coup
		hidden_effect = {
			news_event = worldnews.176
		}
	}
}

country_event = { #The Power Struggle
	id = japdom.18
	title = japdom.18.t
	desc = japdom.18.d
	picture = GFX_report_event_JAP_restorationist_centralist
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		log = "[GetLogInfo]: event japdom.18 option japdom.18.a"
		name = japdom.18.a
		add_political_power = -25
		country_event = { id = japdom.19 days = 5 }	#Japan's longest day - army coup successful
	}
}
country_event = { #The restorationist counter-coup, triggered by previous event, important flag set
	id = japdom.19
	title = japdom.19.t
	desc = japdom.19.d
	picture = GFX_report_event_JAP_coup
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		log = "[GetLogInfo]: event japdom.19 option japdom.19.a"
		name = japdom.19.a
		add_stability = -0.05
		retire_character = JAP_koiso_kuniaki
		retire_character = JAP_muto_akira
		set_politics = {
			ruling_party = national_populist
			elections_allowed = no
		}
		add_popularity = {
			ideology = national_populist
			popularity = 0.15
		}
		remove_all_ministers = yes
		add_ideas = {
			JAP_Hiranuma_Kiichiro_hog_pau
			JAP_Suetsugu_Nobumasa_sec_npo
			JAP_Okawa_Shumei_for_npo
			JAP_Suzuki_Teiichi_eco_npo
		}
		set_country_flag = JAP_path_decided
		set_country_flag = JAP_showa_tree
		clr_country_flag = JAP_elected_soccon
		hidden_effect = { news_event = worldnews.479 }
	}
}
country_event = { #Army coup fails, centralist incoming, triggered by focus "Military Centralism"
	id = japdom.20
	title = japdom.20.t
	desc = japdom.20.d
	picture = GFX_report_event_JAP_revolt
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.20 option japdom.20.a"
		name = japdom.20.a
		add_stability = -0.05
		retire_character = JAP_araki_sadao
		country_event = japdom.21
	}
}
country_event = { #The Centralists counter-coup is successful, triggered by previous event
	id = japdom.21
	title = japdom.21.t
	desc = japdom.21.d
	picture = GFX_report_event_JAP_coup
	fire_only_once = yes
	is_triggered_only = yes
	option = { #new ministers
		log = "[GetLogInfo]: event japdom.21 option japdom.21.a"
		name = japdom.21.a
		remove_ideas = JAP_unstable_democracy
		set_politics = {
			ruling_party = paternal_autocrat
			elections_allowed = no
		}
		add_popularity = {
			ideology = paternal_autocrat
			popularity = 0.35
		}
		remove_all_ministers = yes
		add_ideas = {
			JAP_Hayashi_Senjuro_hog_pau
			JAP_Tatekawa_Yoshitsugu_for_pau
			JAP_Fujie_Keisuke_sec_pau
			JAP_Godo_Takuo_eco_pau
		}
		hidden_effect = { news_event = worldnews.480 }

		set_country_flag = JAP_path_decided
		set_country_flag = JAP_milcentralism_tree
		clr_country_flag = JAP_elected_soccon
	}
}

country_event = { #The Government of National Unity, triggered by event japdom.17
	id = japdom.22
	title = japdom.22.t
	desc = japdom.22.d
	picture = GFX_report_event_JAP_politician
	fire_only_once = yes
	is_triggered_only = yes

	option = { #national government
		log = "[GetLogInfo]: event japdom.22 option japdom.22.a"
		name = japdom.22.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
				}
			}
		}
		add_stability = 0.05
		add_political_power = -50
		set_politics = {
			ruling_party = authoritarian_democrat
			elections_allowed = yes
			election_frequency = 48
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.25
		}
		remove_all_ministers = yes
		add_ideas = {
			JAP_Adachi_Kenzo_hog_ade
			JAP_Ogawa_Gotaro_for_ade
			JAP_Nakajima_Chikuhei_eco_ade
			JAP_Mochizuki_Keisuke_sec_ade
		}
		set_party_name = {
			ideology = market_liberal
			name = JAP_national_unity_gov
			long_name = JAP_national_unity_gov_long
		}
		set_party_name = {
			ideology = social_conservative
			name = JAP_national_unity_gov
			long_name = JAP_national_unity_gov_long
		}
		set_party_name = {
			ideology = authoritarian_democrat
			name = JAP_national_unity_gov
			long_name = JAP_national_unity_gov_long
		}
		set_temp_variable = { coalition_partner_var = token:market_liberal }
		add_to_coalition = yes
		set_temp_variable = { coalition_partner_var = token:social_conservative }
		add_to_coalition = yes
		if = {
			limit = { check_variable = { JAP_autdem_focus_variable < 1 } }
			custom_effect_tooltip = tooltip_white_line
			set_variable = {
				tooltip = JAP_autdem_reforms_tt
				JAP_autdem_focus_variable = 0
			}
		}
		set_country_flag = JAP_elected_autdem
		hidden_effect = {
			country_event = { id = japdom.34 days = 500 }
		}
	}
	option = { #no need
		log = "[GetLogInfo]: event japdom.22 option japdom.22.b"
		name = japdom.22.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
			}
		}
		add_political_power = 25
		hidden_effect = {
			country_event = { id = japdom.31 days = 12 }
		}
	}
}

###########################
# 1937 ~ 1939 - Centralist Event Chain : Gearing Up for War
###########################

country_event = { #On the Basic Principles of National Defence
	id = japdom.23
	title = japdom.23.t
	desc = japdom.23.d
	picture = GFX_report_event_generic_diplomacy1
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.23 option japdom.23.a"
		name = japdom.23.a
		add_war_support = 0.05
	}
}

country_event = { #On The Fundamental Principles of the National Structure, triggered by taking focus Create the Cabinet Planning Board
	id = japdom.24
	title = japdom.24.t
	desc = japdom.24.d
	picture = GFX_report_event_JAP_politician
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.24 option japdom.24.a"
		name = japdom.24.a
		add_war_support = 0.05
	}
}
country_event = { #The New System Movement
	id = japdom.25
	title = japdom.25.t
	desc = japdom.25.d
	picture = GFX_report_event_japanese_reply
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		log = "[GetLogInfo]: event japdom.25 option japdom.25.a"
		name = japdom.25.a
		add_political_power = 25
	#	set_party_name = {
	#		ideology = national_populist
	#		name = JAP_national_populist_party_iraa
	#		long_name = JAP_national_populist_party_iraa_long
	#	}
	}
}
country_event = { #The First Convention of the Taisei Yokusankai, triggered by focus JAP_showa_restoration
	id = japdom.26
	title = japdom.26.t
	desc = japdom.26.d
	picture = GFX_report_event_JAP_meeting
	is_triggered_only = yes
	option = {
		log = "[GetLogInfo]: event japdom.26 option japdom.26.a"
		name = japdom.26.a
		add_political_power = 50
	}
}
country_event = { #Konoe Fumimaro Secures Support, triggered by focus JAP_showa_restoration
	id = japdom.27
	title = japdom.27.t
	desc = japdom.27.d
	picture = GFX_report_event_japanese_reply
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		log = "[GetLogInfo]: event japdom.27 option japdom.27.a"
		name = japdom.27.a
		add_political_power = 25
		hidden_effect = {
			set_party_name = {
				ideology = national_populist
				name = JAP_national_populist_party_iraa
				long_name = JAP_national_populist_party_iraa_long
			}
		}
		remove_ideas_with_trait = head_of_government
		add_ideas = JAP_Konoe_Fumimaro_hog_npo
		custom_effect_tooltip = tooltip_white_line
		custom_effect_tooltip = JAP_showa_restoration_mechanic_tt
	}
}

country_event = { #Araki Sadao Secures Support
	id = japdom.28
	immediate = { log = "[GetDateText]: [Root.GetName]: event japdom.28" }
	title = japdom.28.t
	desc = japdom.28.d
	picture = GFX_report_event_japanese_officers
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = japdom.28.a
		remove_ideas_with_trait = head_of_government
		add_ideas = JAP_Araki_Sadao_hog_npo
		add_political_power = 25
	}
}
country_event = { #Kuhara Fusanosuke Secures Support
	id = japdom.29
	immediate = { log = "[GetDateText]: [Root.GetName]: event japdom.29" }
	title = japdom.29.t
	desc = japdom.29.d
	picture = GFX_report_event_JAP_meeting
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = japdom.28.a
		remove_ideas_with_trait = head_of_government
		add_ideas = JAP_Kuhara_Fusanosuke_hog_npo
		add_political_power = 25
	}
}

country_event = { #Rehires advisors if you had them before in Cabinet Planning Board
	id = japdom.30
	fire_only_once = yes
	is_triggered_only = yes
	hidden = yes

	option = {
		log = "[GetLogInfo]: event japdom.30 option 1"
		
	}
}

###########################
# General Election, in theory in late 1936
###########################
country_event = {
	id = japdom.31
	title = japdom.31.t
	desc = japdom.31.d
	picture = GFX_report_event_JAP_voting
	fire_only_once = yes
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = japdom.32 days = 30 }
		}
	}

	option = { #Conservatives
		log = "[GetLogInfo]: event japdom.31 option japdom.31.a"
		name = japdom.31.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
				}
			}
		}
		trigger = {
			NOT = { has_government = authoritarian_democrat }
		}
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.2
		}
		remove_all_ministers = yes
		add_ideas = {
			JAP_Mizuno_Rentaro_hog_sco
			JAP_Yoshizawa_Kenkichi_for_sco
			JAP_Oguchi_Kiroku_eco_sco
			JAP_Matsuno_Tsuruhei_sec_sco
		}
		set_country_flag = JAP_elected_soccon
	}
	option = { #Liberals
		log = "[GetLogInfo]: event japdom.31 option japdom.31.b"
		name = japdom.31.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
			}
		}
		trigger = {
			NOT = { has_government = authoritarian_democrat }
		}
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.2
		}
		remove_all_ministers = yes
		add_ideas = {
			JAP_Hamaguchi_Osachi_hog_mli
			JAP_Shidehara_Kijuro_for_mli
			JAP_Inoue_Junnosuke_eco_mli
			JAP_Kawasaki_Takukichi_sec_mli
		}
		set_country_flag = JAP_elected_marlib
	}
	option = { #maintain coalition
		log = "[GetLogInfo]: event japdom.31 option japdom.31.c"
		name = japdom.31.c
		trigger = {
			has_government = authoritarian_democrat
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.2
		}
		remove_all_ministers = yes
		add_ideas = {
			JAP_Adachi_Kenzo_hog_ade
			JAP_Ogawa_Gotaro_for_ade
			JAP_Nakajima_Chikuhei_eco_ade
			JAP_Mochizuki_Keisuke_sec_ade
		}
	}
}

###########################
# 1937 - A Party Divided
###########################

country_event = {
	id = japdom.32
	title = japdom.32.t
	desc = japdom.32.d
	picture = GFX_report_event_JAP_politician
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.32 option japdom.32.a"
		name = japdom.32.a
		add_stability = -0.05
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = -0.05
		}
		hidden_effect = {
			country_event = { id = japdom.33 days = 30 }
		}
	}
}

country_event = { #Formation of the Kokumin Domei
	id = japdom.33
	title = japdom.33.t
	desc = japdom.33.d
	picture = GFX_report_event_JAP_announcement
	is_triggered_only = yes
	trigger = {
		NOT = {
			has_completed_focus = JAP_showa_restoration
			has_completed_focus = JAP_military_centralism
		}
	}

	option = {
		log = "[GetLogInfo]: event japdom.33 option japdom.33.a"
		name = japdom.33.a
		add_stability = 0.05
		set_party_name = {
			ideology = market_liberal
			name = JAP_market_liberal_party_kd
			long_name = JAP_market_liberal_party_long_kd
		}
		set_party_name = {
			ideology = social_conservative
			name = JAP_social_conservative_party_kd
			long_name = JAP_social_conservative_party_long_kd
		}
		set_party_name = {
			ideology = authoritarian_democrat
			name = JAP_authoritarian_democrat_party_kd
			long_name = JAP_authoritarian_democrat_party_long_kd
		}
		set_party_name = {
			ideology = national_populist
			name = JAP_national_populist_party_kd
			long_name = JAP_national_populist_party_long_kd
		}
	}
}

country_event = { # The National Unity Government Breaks Up
	id = japdom.34
	title = japdom.34.t
	desc = japdom.34.d
	picture = GFX_report_event_JAP_announcement

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.34 option japdom.34.a"
		name = japdom.34.a
		set_party_name = {
			ideology = market_liberal
			name = JAP_market_liberal_party_kd
			long_name = JAP_market_liberal_party_long_kd
		}
		set_party_name = {
			ideology = social_conservative
			name = JAP_social_conservative_party_kd
			long_name = JAP_social_conservative_party_long_kd
		}
		set_party_name = {
			ideology = authoritarian_democrat
			name = JAP_authoritarian_democrat_party_kd
			long_name = JAP_authoritarian_democrat_party_long_kd
		}
		set_temp_variable = { coalition_partner_var = token:market_liberal }
		remove_from_coalition = yes
		set_temp_variable = { coalition_partner_var = token:social_conservative }
		remove_from_coalition = yes
	}
}

###########################
# 1937 - The MITI
###########################

country_event = { #The Cabinet Planning Board
	id = japdom.35
	title = japdom.35.t
	desc = japdom.35.d
	picture = GFX_report_event_JAP_foreign_minister_2
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.35 option japdom.35.a"
		name = japdom.35.a
		add_political_power = 25
	}
}

###########################
# Colonisation of Korea
###########################

country_event = { #Colonisation of Korea
	id = japdom.39
	immediate = { log = "[GetDateText]: [Root.GetName]: event japdom.39" }
	title = japdom.39.t
	desc = japdom.39.d
	picture = GFX_report_event_japanese_parade
	is_triggered_only = yes

	trigger = {
		tag = JAP
		has_completed_focus = JAP_COL_KOREA
		controls_state = 525
		controls_state = 527
	}

	option = {
		name = japdom.39.a
		every_owned_state = {
			limit = { is_core_of = KOR }
			custom_effect_tooltip = JAP_korean_military_administration_tooltip
			hidden_effect = {
				if = {
					limit = { has_dynamic_modifier = { modifier = JAP_korean_military_administration } }
					remove_dynamic_modifier = { modifier = JAP_korean_military_administration }
				}
				add_dynamic_modifier = { modifier = JAP_korean_military_administration_2 }
			}
		}
	}
}

country_event = { #Economic Integration of Korea
	id = japdom.40
	immediate = { log = "[GetDateText]: [Root.GetName]: event japdom.40" }
	title = japdom.40.t
	desc = japdom.40.d
	picture = GFX_report_event_JAP_manchurian_exploitation
	is_triggered_only = yes

	trigger = {
		KOR = {
			is_subject_of = JAP
			controls_state = 525
			controls_state = 527
		}
	}

	option = {
		name = japdom.40.a
		529 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		528 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		525 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		527 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
}

###########################
# Colonisation of Taiwan
###########################

country_event = { #Colonisation of Taiwan
	id = japdom.42
	immediate = { log = "[GetDateText]: [Root.GetName]: event japdom.42" }
	title = japdom.42.t
	desc = japdom.42.d
	picture = GFX_report_event_JAP_parade_shanghai
	is_triggered_only = yes

	trigger = {
		controls_state = 524
	}

	option = {
		name = japdom.39.a
		custom_effect_tooltip = JAP_model_colony_tooltip
		hidden_effect = {
			524 = {
				if = {
					limit = { has_dynamic_modifier = { modifier = JAP_model_colony } }
					remove_dynamic_modifier = { modifier = JAP_model_colony }
				}
				add_dynamic_modifier = { modifier = JAP_model_colony_2 }
			}
		}
	}
}

###########################
# Colonisation of Port Arthur
###########################

country_event = { #Colonisation of Dairen
	id = japdom.73
	immediate = { log = "[GetDateText]: [Root.GetName]: event japdom.73" }
	title = japdom.73.t
	desc = japdom.73.d
	picture = GFX_report_event_JAP_kwantung

	is_triggered_only = yes

	trigger = {
		controls_state = 745
	}

	option = {
		name = japdom.73.a
		add_state_core = 745
	}
}

###########################
# Colonisation of Hawaii
###########################

country_event = { #Colonisation of Hawaii
	id = japdom.760
	immediate = { log = "[GetDateText]: [Root.GetName]: event japdom.760" }
	title = japdom.760.t
	desc = japdom.760.d
	picture = GFX_report_event_japanese_army_parade

	is_triggered_only = yes

	trigger = {
		controls_state = 629
	}

	option = {
		name = japdom.760.a
		add_state_core = 629
	}
}

###########################
# 1936 Total mobilisation
###########################

country_event = { #A New 1281
	id = japdom.59
	immediate = { log = "[GetDateText]: [Root.GetName]: event japdom.59" }
	title = japdom.59.t
	desc = japdom.59.d
	picture = GFX_report_event_japanese_soldiers_01
	fire_only_once = yes
	trigger = {
		tag = JAP
		has_war = yes
		surrender_progress > 0.5
	}

	option = {
		name = japdom.59.a
		add_war_support = 0.10
		282 = {
			add_building_construction = {
				type = bunker
				province = 1182
				level = 3
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 9998
				level = 2
				instant_build = yes
			}
		}
		533 = {
			add_building_construction = {
				type = bunker
				province = 7169
				level = 2
				instant_build = yes
			}
		}
		535 = {
			add_building_construction = {
				type = bunker
				province = 10032
				level = 2
				instant_build = yes
			}
		}
		532 = {
			add_building_construction = {
				type = bunker
				province = 10125
				level = 2
				instant_build = yes
			}
		}
		529 = {
			add_building_construction = {
				type = bunker
				province = 1092
				level = 2
				instant_build = yes
			}
		}
		hidden_effect = {
			load_oob = JAP_DESPERATION
		}
		custom_effect_tooltip = JAP_DESPERATION_OOB
	}
}

###########################
# 1937 The NSA
###########################

country_event = { #The Popular Front Incident
	id = japdom.45
	title = japdom.45.t
	desc = japdom.45.d
	picture = GFX_report_event_FNG_several_prisoners

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_country_flag = JAP_NSA
	}

	option = {
		log = "[GetLogInfo]: event japdom.45 option japdom.45.a"
		name = japdom.45.a
		add_political_power = 25
		add_stability = 0.05
		add_popularity = {
			ideology = social_democrat
			popularity = -0.02
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.02
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.02
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.02
		}
		hidden_effect = {
			country_event = { id = japdom.46 days = 100 }
		}
	}
}

country_event = { #The Second Popular Front Incident
	id = japdom.46
	title = japdom.46.t
	desc = japdom.46.d
	picture = GFX_report_event_LEC_shanghai_police_patrol

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.46 option japdom.46.a"
		name = japdom.46.a
		add_political_power = -5
		add_stability = 0.02
		add_popularity = {
			ideology = social_democrat
			popularity = -0.02
		}
		add_popularity = {
			ideology = radical_socialist
			popularity = -0.02
		}
		add_popularity = {
			ideology = syndicalist
			popularity = -0.02
		}
		add_popularity = {
			ideology = totalist
			popularity = -0.02
		}
		hidden_effect = {
			country_event = { id = japdom.47 days = 200 }
		}
	}
}

country_event = { #The Keihin Workers' Group Incident
	id = japdom.47
	title = japdom.47.t
	desc = japdom.47.d
	picture = GFX_report_event_YUN_intellectuals

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.47 option japdom.47.a"
		name = japdom.47.a
		add_political_power = -10
		add_stability = 0.01
		hidden_effect = {
			country_event = { id = japdom.48 days = 300 }
		}
	}
}

country_event = { #The Planning Board Incident
	id = japdom.48
	title = japdom.48.t
	desc = japdom.48.d
	picture = GFX_report_event_CHI_intelligence

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.48 option japdom.48.a"
		name = japdom.48.a
		add_political_power = -20
		hidden_effect = {
			country_event = { id = japdom.49 days = 400 }
		}
	}
}

country_event = { #The Research Department Incident
	id = japdom.49
	title = japdom.49.t
	desc = japdom.49.d
	picture = GFX_report_event_JAP_science

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.49 option japdom.49.a"
		name = japdom.49.a
		add_political_power = -30
		hidden_effect = {
			country_event = { id = japdom.50 days = 500 }
		}
	}
}

country_event = { #The Yokohama Incident
	id = japdom.50
	title = japdom.50.t
	desc = japdom.50.d
	picture = GFX_report_event_JAP_news

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.50 option japdom.50.a"
		name = japdom.50.a
		add_political_power = -50
		add_stability = -0.05
		add_war_support = -0.05
	}
}

country_event = { #Tokko Officers Accused of Torture
	id = japdom.51
	title = japdom.51.t
	desc = japdom.51.d
	picture = GFX_report_event_JAP_politician

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_country_flag = JAP_NSA
		has_democratic_government = yes
	}

	option = {
		log = "[GetLogInfo]: event japdom.51 option japdom.51.a"
		name = japdom.51.a
		add_stability = -0.05
	}
}

###########################
# 1939 - The Great Drought
###########################

country_event = { #The Great Drought of 1939
	id = japdom.53
	title = japdom.53.t
	desc = japdom.53.d
	picture = GFX_report_event_JAP_rice_farmers

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.53 option japdom.53.a"
		name = japdom.53.a
		set_country_flag = JAP_great_drought_active
		add_ideas = JAP_great_drought
		hidden_effect = {
			country_event = { id = japdom.60 days = 120 }
		}
	}
}

country_event = { #The Great Drought Gets Worse
	id = japdom.60
	title = japdom.60.t
	desc = japdom.60.d
	picture = GFX_report_event_JAP_rice_farmers

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.60 option japdom.60.a"
		name = japdom.60.a
		swap_ideas = {
			remove_idea = JAP_great_drought
			add_idea = JAP_great_drought_worse
		}
		hidden_effect = {
			country_event = { id = japdom.63 days = 360 }
			if = {
				limit = {
					has_global_flag = soy_initiative_on
					FNG_JAP_hostile = no
					FNG = {
						exists = yes
						NOT = {
							has_global_flag = fengtian_refuses_food
						}
					}
				}
				country_event = { id = japdom.61 days = 30 }
			}
		}
	}
}

country_event = { # Japan can ask for food from Fengtian
	id = japdom.61
	title = japdom.61.t
	desc = {
		text = japdom.61.d_pervasive #Mantetsu Influence is Pervasive or Dominant
		trigger = {
			FNG = {
				OR = {
					FNG_mantetsu_level_high = yes
					FNG_mantetsu_level_very_high = yes
				}
			}
		}
	}
	desc = {
		text = japdom.61.d_normal # Mantetsu Influence is present or low
		trigger = {
			FNG = {
				OR = {
					FNG_mantetsu_level_medium = yes
					FNG_mantetsu_level_low = yes
				}
			}
		}
	}
	picture = GFX_report_event_FNG_farmers

	fire_only_once = yes
	is_triggered_only = yes

	option = { # Force Compliance
		log = "[GetLogInfo]: event japdom.61 option japdom.61.a"
		name = japdom.61.a
		ai_chance = { base = 50 }
		trigger = {
			FNG = {
				OR = {
					FNG_mantetsu_level_high = yes
					FNG_mantetsu_level_very_high = yes
				}
			}
		}
		set_global_flag = fengtian_forced
		FNG = {
			country_event = { id = fengtian.43 days = 2 }
		}
	}

	option = { # Request
		log = "[GetLogInfo]: event japdom.61 option japdom.61.b"
		name = japdom.61.b
		ai_chance = { base = 50 }
		set_global_flag = fengtian_normal
		FNG = {
			country_event = { id = fengtian.43 days = 2 }
		}
	}

	option = { # Do nothing
		log = "[GetLogInfo]: event japdom.61 option japdom.61.c"
		name = japdom.61.c
		ai_chance = { base = 0 }
	}
}

country_event = { # Fengtian refuses to provide food
	id = japdom.62

	title = {
		text = japdom.62.t
		trigger = {
			NOT = { has_country_flag = FNG_cut_off_food }
		}
	}
	title = {
		text = japdom.62.t.cutoff
		trigger = {
			has_country_flag = FNG_cut_off_food
		}
	}

	desc = {
		text = japdom.62.d
		trigger = {
			NOT = { has_country_flag = FNG_cut_off_food }
		}
	}
	desc = {
		text = japdom.62.d.cutoff
		trigger = {
			has_country_flag = FNG_cut_off_food
		}
	}
	picture = GFX_report_event_CHI_ambassador_announcement

	fire_only_once = yes
	is_triggered_only = yes

	option = { # Punish
		log = "[GetLogInfo]: event japdom.62 option japdom.62.a"
		name = japdom.62.a
		set_global_flag = japan_punishes_fengtian
	}

	option = { # Do not Punish
		log = "[GetLogInfo]: event japdom.62 option japdom.62.b"
		name = japdom.62.b
	}
}

country_event = { # The Drought Ends
	id = japdom.63
	title = japdom.63.t
	desc = japdom.63.d
	picture = GFX_report_event_JAP_rice_farmers

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.63 option japdom.63.a"
		name = japdom.63.a
		add_political_power = 100
		if = {
			limit = { has_idea = JAP_great_drought }
			remove_ideas = JAP_great_drought
		}
		else_if = {
			limit = { has_idea = JAP_great_drought_worse }
			remove_ideas = JAP_great_drought_worse
		}
	}
}

country_event = { #Fengtian provides food
	id = japdom.64
	title = japdom.64.t
	desc = japdom.64.d
	picture = GFX_report_event_JAP_rice_farmers

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.64 option japdom.64.a"
		name = japdom.64.a
		swap_ideas = {
			remove_idea = JAP_great_drought_worse
			add_idea = JAP_great_drought
		}
	}
}

###########################
# 1941+ The Great Void
###########################

country_event = { #General Election 1940
	id = japdom.54
	immediate = {
		hidden_effect = {
			set_party_name = {
				ideology = market_liberal
				name = JAP_market_liberal_party_kd
				long_name = JAP_market_liberal_party_long_kd
			}
			set_party_name = {
				ideology = social_conservative
				name = JAP_social_conservative_party
				long_name = JAP_social_conservative_party_long
			}
			set_party_name = {
				ideology = authoritarian_democrat
				name = JAP_authoritarian_democrat_party_kd
				long_name = JAP_authoritarian_democrat_party_long_kd
			}
			set_party_name = {
				ideology = national_populist
				name = JAP_national_populist_party_kd
				long_name = JAP_national_populist_party_long_kd
			}
		}
	}
	title = japdom.54.t
	desc = japdom.54.d
	picture = GFX_report_event_JAP_voting
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		date > 1939.1.1
		date < 1941.1.1
		has_socialist_government = no
		NOT = { has_country_flag = JAP_liberal_puppet_flag }
	}

	option = { #Elect Rikken Seiyukai (Conservatives)
		log = "[GetLogInfo]: event japdom.54 option japdom.54.a"
		name = japdom.54.a
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
				}
			}
		}
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.3
		}
		remove_all_ministers = yes
		add_ideas = {
			JAP_Yoshizawa_Kenkichi_hog_sco
			JAP_Yoshida_Shigeru_for_sco
			JAP_Ikeda_Shigeaki_eco_sco
			JAP_Hatoyama_Ichiro_sec_sco
		}
	}
	option = { #Elect Minseito (Liberals)
		log = "[GetLogInfo]: event japdom.54 option japdom.54.b"
		name = japdom.54.b
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
				}
			}
		}
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.3
		}
		remove_all_ministers = yes
		add_ideas = {
			JAP_Ugaki_Kazushige_hog_mli
			JAP_Inoue_Junnosuke_eco_mli
			JAP_Miki_Bukichi_eco_mli
			JAP_Kawasaki_Katsu_sec_mli
		}
	}
	option = { #Elect Kokumin Domei (Nationalists)
		log = "[GetLogInfo]: event japdom.54 option japdom.54.c"
		name = japdom.54.c
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
				}
			}
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.3
		}
		remove_all_ministers = yes
		add_ideas = {
			JAP_Maeda_Yonezo_hog_ade
			JAP_Arita_Hachiro_for_ade
			JAP_Horikiri_Zenbee_eco_ade
			JAP_Akita_Kiyoshi_sec_ade
		}
	}
	option = { #Elect Shakai Taishuto (Socialists)
		log = "[GetLogInfo]: event japdom.54 option japdom.54.e"
		name = japdom.54.e
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
				}
			}
		}
		set_politics = {
			ruling_party = social_democrat
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.3
		}
		remove_all_ministers = yes
		add_ideas = {
			JAP_Abe_Iso_hog_sde
			JAP_Katayama_Tetsu_for_sde
			JAP_Mizutani_Chozaburo_eco_sde
			JAP_Matsuoka_Komakichi_sec_sde
		}
	}
}

country_event = { #General Election 1944
	id = japdom.55
	immediate = { log = "[GetDateText]: [Root.GetName]: event japdom.55" }
	title = japdom.55.t
	desc = japdom.54.d
	picture = GFX_report_event_JAP_voting
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		date > 1943.1.1
		date < 1946.1.1
		has_socialist_government = no
		NOT = { has_country_flag = JAP_liberal_puppet_flag }
	}

	option = { #Elect Rikken Seiyukai (Conservatives)
		log = "[GetLogInfo]: event japdom.55 option japdom.54.a"
		name = japdom.54.a
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
				}
			}
		}
		set_politics = {
			ruling_party = social_conservative
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = social_conservative
			popularity = 0.3
		}
		remove_all_ministers = yes
		add_ideas = {
			JAP_Hatoyama_Ichiro_hog_sco
			JAP_Ashida_Hitoshi_for_sco
			JAP_Tsushima_Juichi_eco_sco
			JAP_Hatoyama_Ichiro_sec_sco
		}
	}
	option = { #Elect Minseito (Liberals)
		name = japdom.54.b
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
				}
			}
		}
		set_politics = {
			ruling_party = market_liberal
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = market_liberal
			popularity = 0.3
		}
		remove_all_ministers = yes
		add_ideas = {
			JAP_Machida_Chuji_hog_mli
			JAP_Shidehara_Kijuro_for_mli
			JAP_Matsumura_Kenzo_eco_mli
			JAP_Kawasaki_Katsu_sec_mli
		}
	}
	option = { #Elect Kokumin Domei (Nationalists)
		log = "[GetLogInfo]: event japdom.55 option japdom.54.c"
		name = japdom.54.c
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
				}
			}
		}
		set_politics = {
			ruling_party = authoritarian_democrat
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = authoritarian_democrat
			popularity = 0.3
		}
		remove_all_ministers = yes
		add_ideas = {
			JAP_Maeda_Yonezo_hog_ade
			JAP_Arita_Hachiro_for_ade
			JAP_Horikiri_Zenbee_eco_ade
			JAP_Oasa_Tadao_sec_ade
		}
	}
	option = { #Elect Shakai Taishuto (Socialists)
		log = "[GetLogInfo]: event japdom.55 option japdom.54.e"
		name = japdom.54.e
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
				}
			}
		}
		set_politics = {
			ruling_party = social_democrat
			election_frequency = 48
			elections_allowed = yes
		}
		add_popularity = {
			ideology = social_democrat
			popularity = 0.3
		}
		remove_all_ministers = yes
		add_ideas = {
			JAP_Katayama_Tetsu_hog_sde
			JAP_Katayama_Tetsu_for_sde
			JAP_Mizutani_Chozaburo_eco_sde
			JAP_Matsuoka_Komakichi_sec_sde
		}
	}
}

###########################
# 1937 ~ 1953 - Imperator1993's event chain
###########################

country_event = { #The Emperor has been shot!
	id = japdom.56
	immediate = { log = "[GetDateText]: [Root.GetName]: event japdom.56" }
	title = japdom.56.t
	desc = japdom.56.d
	picture = GFX_report_event_POL_assassination
	
	is_triggered_only = yes

	trigger = {
		has_completed_focus = JAP_showa_restoration
	}

	option = { #He survives
		name = japdom.56.a
		ai_chance = {
			factor = 75
			modifier = {
				factor = 0
				has_game_rule = {
					rule = JAP_Hirohito
					option = JAP_HIROHITO_DEAD
				}
			}
		}
		add_stability = 0.05
	}

	option = { #His Majesty is dead, Prince Chichibu will become regent.
		name = japdom.56.b
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				has_game_rule = {
					rule = JAP_Hirohito
					option = JAP_HIROHITO_ALIVE
				}
			}
		}
		add_stability = -0.05
		create_country_leader = {
			name = "Yasuhito"
			picture = "gfx/leaders/JAP/Portrait_JAP_Yasuhito.png"
			expire = "1965.1.1"
			ideology = social_democrat_subtype
			traits = { 
				JAP_imperial_regent
			}
		}
		create_country_leader = {
			name = "Yasuhito"
			picture = "gfx/leaders/JAP/Portrait_JAP_Yasuhito.png"
			expire = "1965.1.1"
			ideology = social_liberal_subtype
			traits = { 
				JAP_imperial_regent
			}
		}
		create_country_leader = {
			name = "Yasuhito"
			picture = "gfx/leaders/JAP/Portrait_JAP_Yasuhito.png"
			expire = "1965.1.1"
			ideology = market_liberal_subtype
			traits = { 
				JAP_imperial_regent
			}
		}
		create_country_leader = {
			name = "Yasuhito"
			picture = "gfx/leaders/JAP/Portrait_JAP_Yasuhito.png"
			expire = "1965.1.1"
			ideology = social_conservative_subtype
			traits = { 
				JAP_imperial_regent
			}
		}
		create_country_leader = {
			name = "Yasuhito"
			picture = "gfx/leaders/JAP/Portrait_JAP_Yasuhito.png"
			expire = "1965.1.1"
			ideology = authoritarian_democrat_subtype
			traits = { 
				JAP_imperial_regent
			}
		}
		create_country_leader = {
			name = "Yasuhito"
			picture = "gfx/leaders/JAP/Portrait_JAP_Yasuhito.png"
			expire = "1965.1.1"
			ideology = junta_subtype
			traits = { 
				JAP_imperial_regent
			}
		}
		create_country_leader = {
			name = "Yasuhito"
			picture = "gfx/leaders/JAP/Portrait_JAP_Yasuhito.png"
			expire = "1965.1.1"
			ideology = militarism_subtype
			traits = { 
				JAP_imperial_regent
			}
		}
		set_country_flag = JAP_yasuhito
		news_event = {
			id = worldnews.417
			days = 1
		}
	}
}

country_event = { #A Second Meiji restoration?
	id = japdom.57
	immediate = { log = "[GetDateText]: [Root.GetName]: event japdom.57" }
	title = japdom.57.t
	desc = japdom.57.d
	picture = GFX_report_event_JAP_restorationist_centralist
	
	is_triggered_only = yes

	trigger = {
		has_country_flag = JAP_yasuhito
	}

	option = { #yes
		name = japdom.57.a
		ai_chance = {
			factor = 70
		}
		add_stability = 0.16
	}
	option = { #no
		name = japdom.57.b
		ai_chance = {
			factor = 30
		}
		add_stability = -0.05
	}
}

country_event = { #Hayashi Senjuro is dead!
	id = japdom.58
	title = japdom.58.t
	desc = {
		text = japdom.58.d.pataut
		trigger = { has_idea = JAP_Hayashi_Senjuro_hog_pau }
	}
	desc = {
		text = japdom.58.d.defaul
		trigger = { has_idea = JAP_Hayashi_Senjuro_hog_pau }
	}
	picture = GFX_report_event_europe_funeral

	is_triggered_only = yes

	trigger = { NOT = { has_government = national_populist } }

	option = { #Tojo Hideki
		name = japdom.58.a
		trigger = {
			has_idea = JAP_Hayashi_Senjuro_hog_pau
		}
		ai_chance = {
			factor = 50
		}
		remove_ideas_with_trait = head_of_government
		add_ideas = JAP_Tojo_Hideki_hog_pau
	}
	option = { #Nagata Tetsuzan
		name = japdom.58.b
		trigger = {
			has_idea = JAP_Hayashi_Senjuro_hog_pau
		}
		ai_chance = {
			factor = 50
		}
		remove_ideas_with_trait = head_of_government
		add_ideas = JAP_Nagata_Tetsuzan_hog_pau
	}

	option = { #Gomeifuku wo inorimasu
		log = "[GetLogInfo]: event japdom.58 option japdom.58.b"
		name = japdom.58.b
		trigger = { NOT = { has_idea = JAP_Hayashi_Senjuro_hog_pau } }
		#retire_character = JAP_hayashi_senjuro
	}
}

###########################
# The Emperor Speaks
###########################

country_event = { #Government asks the Emperor to speak, supports government
	id = japdom.65
	title = japdom.65.t
	desc = japdom.65.d
	picture = GFX_report_event_JAP_hirohito_addressing
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		log = "[GetLogInfo]: event japdom.65 option japdom.65.a"
		name = japdom.65.a #Agree with Emperor
		add_stability = 0.03
		set_country_flag = emperor_support_agree
		set_country_flag = JAP_path_decided
		set_country_flag = JAP_dem_tree
	}
}

country_event = { #Government asks the Emperor to speak, does not support government
	id = japdom.72
	title = japdom.72.t
	desc = japdom.72.d
	picture = GFX_report_event_JAP_hirohito_addressing
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		log = "[GetLogInfo]: event japdom.72 option japdom.72.a"
		name = japdom.72.a #Agree with Emperor
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCCON }
					has_game_rule = { rule = JAP_path option = JAP_PATH_MARLIB }
					has_game_rule = { rule = JAP_path option = JAP_PATH_SOCDEM }
					has_game_rule = { rule = JAP_path option = JAP_PATH_AUTDEM }
				}
			}
		}
		country_event = { id = japdom.20 days = 10 }
	}
	option = {
		log = "[GetLogInfo]: event japdom.72 option japdom.72.b"
		name = japdom.72.b #Disagree with Emperor
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_game_rule = { rule = JAP_path option = JAP_PATH_PATAUT }
			}
		}
		add_stability = -0.03
		set_country_flag = JAP_path_decided
		set_country_flag = JAP_dem_tree
		hidden_effect = {
			country_event = { id = japdom.17 days = 35 }
		}
	}
}

country_event = { #Glorious Mantetsu rails gone
	id = japdom.74
	title = japdom.74.t
	desc = japdom.74.d
	picture = GFX_report_event_JAP_infrastructure

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.74 option japdom.74.a"
		name = japdom.74.a
		remove_ideas = JAP_change_rail
		remove_ideas = JAP_narrow_rail
	}
}

country_event = { #Land Reform? Land Reform
	id = japdom.75
	title = japdom.75.t
	picture = GFX_report_event_JAP_lost_decade

	fire_only_once = yes
	is_triggered_only = yes

	desc = {
		text = japdom.75.bad
		trigger = {
			check_variable = { JAP_land_reform_variable < 3 }
		}
	}
	desc = {
		text = japdom.75.okay
		trigger = {
			check_variable = { JAP_land_reform_variable > 2 }
			check_variable = { JAP_land_reform_variable < 6 }
		}
	}
	desc = {
		text = japdom.75.good
		trigger = {
			check_variable = { JAP_land_reform_variable > 5 }
			check_variable = { JAP_land_reform_variable < 8 }
		}
	}
	desc = {
		text = japdom.75.great
		trigger = {
			check_variable = { JAP_land_reform_variable > 7 }
		}
	}

	option = {
		log = "[GetLogInfo]: event japdom.75 option japdom.75.a"
		name = japdom.75.a
		trigger = {
			check_variable = { JAP_land_reform_variable < 3 }
		}
		JAP_clr_land_reform = yes
	}
	option = {
		log = "[GetLogInfo]: event japdom.75 option japdom.75.b"
		name = japdom.75.b
		trigger = {
			check_variable = { JAP_land_reform_variable > 2 }
			check_variable = { JAP_land_reform_variable < 6 }
		}
		if = {
			limit = { has_country_flag = JAP_seiyukai_land_reform }
			add_stability = 0.05
			add_war_support = 0.05
		}
		JAP_land_reform_reward_decent = yes
		JAP_clr_land_reform = yes
	}
	option = {
		log = "[GetLogInfo]: event japdom.75 option japdom.75.c"
		name = japdom.75.c
		trigger = {
			check_variable = { JAP_land_reform_variable > 5 }
			check_variable = { JAP_land_reform_variable < 8 }
		}
		if = {
			limit = { has_country_flag = JAP_seiyukai_land_reform }
			add_stability = 0.1
			add_war_support = 0.1
		}
		JAP_land_reform_reward_good = yes
		JAP_clr_land_reform = yes
	}
	option = {
		log = "[GetLogInfo]: event japdom.75 option japdom.75.d"
		name = japdom.75.d
		trigger = {
			check_variable = { JAP_land_reform_variable > 7 }
		}
		if = {
			limit = { has_country_flag = JAP_seiyukai_land_reform }
			add_stability = 0.15
			add_war_support = 0.15
		}
		JAP_land_reform_best = yes
		JAP_clr_land_reform = yes
	}
}

country_event = { #Budget and Policy Research Event (MilCentralism)
	id = japdom.76
	title = japdom.76.t
	desc = japdom.76.d
	picture = GFX_report_event_JAP_diet
	is_triggered_only = yes

	option = { #Compromise
		log = "[GetLogInfo]: event japdom.76 option japdom.76.a"
		name = japdom.76.a
		add_ideas = JAP_new_policy_organ_1

		add_to_variable = { JAP_compromise = 1 }
	}

	option = { #No Compromise
		log = "[GetLogInfo]: event japdom.76 option japdom.76.b"
		name = japdom.76.b
		add_ideas = JAP_new_policy_organ_2
		add_stability = -0.05

		add_to_variable = { JAP_force = 1 }
	}
}

country_event = { #Merge Small Ministries Event (MilCentralism)
	id = japdom.77
	title = japdom.77.t
	desc = japdom.77.d
	picture = GFX_report_event_JAP_diet
	is_triggered_only = yes

	option = { #Compromise
		log = "[GetLogInfo]: event japdom.77 option japdom.77.a"
		name = japdom.77.a
		custom_effect_tooltip = JAP_merge_small_ministries_1
		subtract_from_variable = { JAP_land_reform_cost_1 = 25 }
		subtract_from_variable = { JAP_land_reform_cost_2 = 25 }
		subtract_from_variable = { JAP_land_reform_cost_3 = 25 }
		subtract_from_variable = { JAP_land_reform_cost_4 = 25 }
		subtract_from_variable = { JAP_eco_cost_1 = 35 }
		subtract_from_variable = { JAP_eco_cost_2 = 35 }

		add_to_variable = { JAP_compromise = 1 }
	}

	option = { #No Compromise
		log = "[GetLogInfo]: event japdom.77 option japdom.77.b"
		name = japdom.77.b
		custom_effect_tooltip = JAP_merge_small_ministries_2
		subtract_from_variable = { JAP_land_reform_cost_1 = 50 }
		subtract_from_variable = { JAP_land_reform_cost_2 = 50 }
		subtract_from_variable = { JAP_land_reform_cost_3 = 50 }
		subtract_from_variable = { JAP_land_reform_cost_4 = 50 }
		subtract_from_variable = { JAP_eco_cost_1 = 50 }
		subtract_from_variable = { JAP_eco_cost_2 = 50 }
		add_stability = -0.1

		add_to_variable = { JAP_force = 1 }
	}
}

country_event = { #Five Year Plan Event (MilCentralism)
	id = japdom.78
	title = japdom.78.t
	desc = japdom.78.d
	picture = GFX_report_event_JAP_diet
	is_triggered_only = yes

	option = { #Compromise
		log = "[GetLogInfo]: event japdom.78 option japdom.78.a"
		name = japdom.78.a
		activate_targeted_decision = { target = THIS decision = JAP_support_yokohama_auto_industries }
		activate_targeted_decision = { target = THIS decision = JAP_support_ota_jidosha }
		activate_targeted_decision = { target = THIS decision = JAP_support_kurasiki_kensyoku }

		add_to_variable = { JAP_compromise = 1 }
	}

	option = { #No Compromise
		log = "[GetLogInfo]: event japdom.78 option japdom.78.b"
		name = japdom.78.b
		activate_targeted_decision = { target = THIS decision = JAP_support_yokohama_auto_industries }
		activate_targeted_decision = { target = THIS decision = JAP_support_ota_jidosha }
		activate_targeted_decision = { target = THIS decision = JAP_support_kurasiki_kensyoku }
		activate_targeted_decision = { target = THIS decision = JAP_support_mitsubishi }
		activate_targeted_decision = { target = THIS decision = JAP_subisidies_for_nakajima }
		add_stability = -0.05

		add_to_variable = { JAP_force = 1 }
	}
}

country_event = { #Curtailing the Zaibatsu (Showa Restoration)
	id = japdom.79
	title = japdom.79.t
	desc = japdom.79.d
	is_triggered_only = yes

	option = { #Get Idea
		log = "[GetLogInfo]: event japdom.79 option japdom.79.a"
		name = japdom.79.a
		add_ideas = JAP_curtailed_Zaibatsu
	}

	option = { #Get Factories
		log = "[GetLogInfo]: event japdom.79 option japdom.79.b"
		name = japdom.79.b
		add_one_random_civilian_factory = yes
		add_one_random_civilian_factory = yes
		add_one_random_civilian_factory = yes
		add_one_random_civilian_factory = yes
		add_one_random_civilian_factory = yes
		add_one_random_civilian_factory = yes
	}
}

country_event = { #Civil Servant Purges (Democratic)
	id = japdom.90
	title = japdom.90.t
	desc = japdom.90.d

	is_triggered_only = yes

	option = { #Lighter Purge
		log = "[GetLogInfo]: event japdom.90 option japdom.90.a"
		name = japdom.90.a
		add_stability = 0.05
		set_temp_variable = { ideology_change_var = 0.1 }
		change_ruling_party_popularity = yes
	}
	option = { #Heavy Purge
		log = "[GetLogInfo]: event japdom.90 option japdom.90.b"
		name = japdom.90.b
		add_political_power = 75
		add_popularity = {
			ideology = social_democrat
			popularity = -0.1
		}
	}
}

country_event = { #dem puppet GetYear general elections
	id = japdom.239
	title = japdom.239.t
	desc = japdom.239.d
	picture = GFX_report_event_JAP_voting

	is_triggered_only = yes
	trigger = {
		has_country_flag = JAP_liberal_puppet_flag
	}

	option = { #Minshuto - soccon
		log = "[GetLogInfo]: event japdom.239 option japdom.239.a"
		name = japdom.239.a
		if = {
			limit = {
				social_conservative < 0.5
			}
			add_popularity = {
				ideology = social_conservative
				popularity = 0.1
			}
		}
		set_politics = {
			ruling_party = social_conservative
			elections_allowed = yes
			election_frequency = 48
		}
		remove_all_ministers = yes
		add_ideas = {
			JAP_Hatoyama_Ichiro_hog_sco
			JAP_Ashida_Hitoshi_for_sco
			JAP_Tsushima_Juichi_eco_sco
			JAP_Hatoyama_Ichiro_sec_sco
		}
	}

	option = { #Jiyuto - marklib
		log = "[GetLogInfo]: event japdom.239 option japdom.239.b"
		name = japdom.239.b
		if = {
			limit = {
				market_liberal < 0.5
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.1
			}
		}
		set_politics = {
			ruling_party = market_liberal
			elections_allowed = yes
			election_frequency = 48
		}
		activate_advisor = JAP_yoshida_shigeru_sic
	}

	option = { #Shakai Taishuto - socdem
		log = "[GetLogInfo]: event japdom.239 option japdom.239.c"
		name = japdom.239.c
		if = {
			limit = {
				social_democrat < 0.5
			}
			add_popularity = {
				ideology = social_democrat
				popularity = 0.1
			}
		}
		set_politics = {
			ruling_party = social_democrat
			elections_allowed = yes
			election_frequency = 48
		}
		remove_all_ministers = yes
		add_ideas = {
			JAP_Katayama_Tetsu_hog_sde
			JAP_Katayama_Tetsu_for_sde
			JAP_Mizutani_Chozaburo_eco_sde
			JAP_Matsuoka_Komakichi_sec_sde
		}
	}
}

country_event = { #Fate of Hirohito - Democratic
	id = japdom.240
	title = japdom.240.t
	desc = japdom.240.d
	picture = GFX_report_event_jap_imperial_family

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_subject = JAP
		JAP = { has_country_leader = { name = "Hirohito" ruling_only = yes } }
		has_democratic_government = yes
	}

	option = {
		log = "[GetLogInfo]: event japdom.240 option japdom.240.a"
		name = japdom.240.a
		ai_chance = { base = 80 }
		JAP = {
			add_stability = 0.1
			add_timed_idea = {
				idea = JAP_depolicization_of_the_throne_idea
				days = 120
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event japdom.240 option japdom.240.b"
		name = japdom.240.b
		ai_chance = { base = 15 }
		JAP = {
			JAP_regent_effect = yes
			custom_effect_tooltip = tooltip_white_line
			add_timed_idea = {
				idea = JAP_forced_abdication_idea
				days = 100
			}
			custom_effect_tooltip = tooltip_white_line
			
		}
	}
	
	option = { #Republic
		log = "[GetLogInfo]: event japdom.240 option japdom.240.b"
		name = japdom.240.c
		ai_chance = { base = 0 }
		JAP = {
			JAP_become_republic = yes
			add_timed_idea = {
				idea = JAP_republic_founded_idea
				days = 100
			}
			add_timed_idea = {
				idea = JAP_country_unrest
				days = 160
			}
			add_stability = -0.2
		}
		add_stability = -0.04
		add_war_support = 0.1
	}
}

country_event = { #Fate of the Imperial Family - Socialist
	id = japdom.241
	title = japdom.241.t
	desc = japdom.241.d
	picture = GFX_report_event_jap_imperial_family

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		has_subject = JAP
		has_socialist_government = yes
	}

	option = {
		log = "[GetLogInfo]: event japdom.241 option japdom.241.a"
		name = japdom.241.a
		ai_chance = { base = 80 }
		JAP = {
			add_stability = 0.1
			add_ideas = JAP_Imperial_Family_powerless
			add_timed_idea = {
				idea = JAP_country_unrest
				days = 90
			}
		}
		hidden_effect = {
			news_event = { id = worldnews.245 days = 1 }
		}
	}

	option = {
		log = "[GetLogInfo]: event japdom.241 option japdom.241.b"
		name = japdom.241.b
		ai_chance = { base = 15 }
		JAP = {
			effect_tooltip = {
				if = {
					limit = { has_character = JAP_hirohito }
					retire_character = JAP_hirohito
				}
			}
			add_ideas = JAP_Imperial_Family_exiled
			add_timed_idea = {
				idea = JAP_country_unrest
				days = 160
			}
		}
		hidden_effect = {
			news_event = { id = worldnews.245 days = 1 }
		}
	}
}

country_event = { #Black Monday
	id = japdom.242
	title = japdom.242.t
	desc = japdom.242.d
	picture = GFX_report_event_JAP_economy_building

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.242 option japdom.242.a"
		name = japdom.242.a
		add_stability = -0.03
	}
}

country_event = { #Hidden event to take away research slot
	id = japdom.305
	is_triggered_only = yes
	fire_only_once = yes
	hidden = yes

	option = {
		log = "[GetLogInfo]: event japdom.305 option 1"
		add_research_slot = -1
	}
}

######################
### Flavour Events ###
######################

country_event = { #Birth of Princess Suga
	id = japdom.400
	title = japdom.400.t
	desc = japdom.400.d
	picture = GFX_report_event_jap_imperial_family

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.400 option japdom.400.a"
		name = japdom.400.a
		add_stability = 0.01
	}
}

country_event = { #Dispute over Japanese Rugby
	id = japdom.401
	title = japdom.401.t
	desc = japdom.401.d
	picture = GFX_report_event_KTG_Sport

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.401 option japdom.401.a"
		name = japdom.401.a
		add_political_power = 10
	}
	option = {
		log = "[GetLogInfo]: event japdom.401 option japdom.401.b"
		name = japdom.401.b
		add_stability = 0.01
		add_political_power = -10
	}
}

country_event = { # Launch of the Asia Express
	id = japdom.402
	title = japdom.402.t
	desc = japdom.402.desc
	picture = GFX_report_event_FNG_asia_express

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.402 option japdom.402.a"
		name = japdom.402.a
		add_stability = 0.01
	}
}

country_event = { # The Rise of Datsun
	id = japdom.403
	title = japdom.403.t
	desc = japdom.403.desc
	picture = GFX_report_event_JAP_motorized

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.403 option japdom.403.a"
		name = japdom.403.a
		add_equipment_to_stockpile = {
			type = motorized_equipment
			amount = 1
		}
	}
}

country_event = { # Home Run on the Home Islands
	id = japdom.404
	title = japdom.404.t
	desc = japdom.404.desc
	picture = GFX_report_event_NEE_Baseball

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japdom.404 option japdom.404.a"
		name = japdom.404.a
	}
}

#########################################
### Economic Exploitation of Fengtian ###
#########################################

country_event = { #Mantetsu Declares Record Earnings
	id = japfor.1
	title = japfor.1.t
	desc = japfor.1.d
	picture = GFX_report_event_JAP_manchurian_exploitation

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.1 option japfor.1.a"
		name = japfor.1.a
		add_stability = 0.03
		hidden_effect = {
			FNG = {
				country_event = { id = fengtian.125 hours = 8 random_hours = 16 }
			}
		}
		reverse_add_opinion_modifier = {
			target = FNG
			modifier = JAP_FNG_exploit
		}
	}
}

######################################
###	Influence China Related Events ###
######################################

country_event = { #Offering training to Chinese warlords
	id = japfor.3
	title = japfor.3.t
	desc = japfor.3.d
	picture = GFX_report_event_JAP_manchu_exploit
	is_triggered_only = yes

	option = { #yes
		log = "[GetLogInfo]: event japfor.3 option japfor.3.a"
		ai_chance = { base = 100 }
		name = japfor.3.a
		add_timed_idea = {
			idea = JAP_china_training
			days = 100
		}
		if = {
			limit = {
				OR = {
					tag = FNG
					tag = ANQ
				}
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.04
			}
		}
	}

	option = { #no
		log = "[GetLogInfo]: event japfor.3 option japfor.3.b"
		ai_chance = { base = 0 }
		name = japfor.3.b
		add_political_power = 10
		set_country_flag = JAP_no_training_help
		reverse_add_opinion_modifier = { target = FROM modifier = KR_disapproves_of_govt }
	}
}

country_event = { #giving offsite mils to warlords
	id = japfor.4
	title = japfor.4.t
	desc = japfor.4.d
	picture = GFX_report_event_SZC_sichuan_chengdu_arsenal
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.4 option japfor.4.a"
		name = japfor.4.a
		if = {
			limit = {
				OR = {
					tag = FNG
					tag = ANQ
				}
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
		}
		else_if = {
			limit = { tag = CHI }
			CHI_add_rad_medium_effect = yes
		}
		add_offsite_building = { type = arms_factory level = 3 }
		set_country_flag = has_offsite_mils_from_JAP
		hidden_effect = {
			JAP = {
				random_owned_controlled_state = {
					limit = {
						is_core_of = JAP
						arms_factory > 0
					}
					add_to_variable = { JAP_mils_to_china_state = 1 }
					remove_building = {
						type = arms_factory
						level = 1
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = JAP
						arms_factory > 0
					}
					add_to_variable = { JAP_mils_to_china_state = 1 }
					remove_building = {
						type = arms_factory
						level = 1
					}
				}
				random_owned_controlled_state = {
					limit = {
						is_core_of = JAP
						arms_factory > 0
					}
					add_to_variable = { JAP_mils_to_china_state = 1 }
					remove_building = {
						type = arms_factory
						level = 1
					}
				}
			}
		}
	}
	option = {
		log = "[GetLogInfo]: event japfor.4 option japfor.4.b"
		name = japfor.4.b
		ai_chance = { base = 0 }
		add_political_power = 10
		set_country_flag = JAP_refused_offsite_mils
	}
}

country_event = { #supporting a Warlord's offensive
	id = japfor.5
	title = japfor.5.t
	desc = japfor.5.d
	picture = GFX_report_event_JAP_rising_sun
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.5 option japfor.5.a"
		name = japfor.5.a
		ai_chance = { base = 100 }
		if = {
			limit = {
				OR = {
					tag = FNG
					tag = ANQ
				}
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.02
			}
		}
		add_timed_idea = {
			idea = JAP_china_attack_support
			days = 100
		}
	}

	option = {
		log = "[GetLogInfo]: event japfor.5 option japfor.5.b"
		name = japfor.5.b
		ai_chance = { base = 0 }
		add_political_power = 10
		set_country_flag = JAP_refused_offensive_help
	}
}

country_event = { #Providing plane licenses
	id = japfor.6
	title = japfor.6.t
	desc = japfor.6.d
	picture = GFX_report_event_JAP_troops_zero
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.6 option japfor.6.a"
		name = japfor.6.a
		if = {
			limit = {
				OR = {
					tag = FNG
					tag = ANQ
				}
			}
			add_popularity = {
				ideology = market_liberal
				popularity = 0.05
			}
		}
		if = {
			limit = { has_dlc_bba = yes }
			FROM = {
				create_production_license = {
					target = ROOT
					equipment = { type = small_plane_airframe_0 }
					cost_factor = -0.5
				}
			}
		}
		else = {
			FROM = {
				if = {
					limit = { has_tech = fighter3 }
					create_production_license = {
						target = ROOT
						equipment = { type = fighter_equipment_3 }
						cost_factor = -0.5
					}
				}
				else_if = {
					limit = { has_tech = fighter2 }
					create_production_license = {
						target = ROOT
						equipment = { type = fighter_equipment_2 }
						cost_factor = -0.5
					}
				}
				else_if = {
					limit = { has_tech = fighter1 }
					create_production_license = {
						target = ROOT
						equipment = { type = fighter_equipment_1 }
						cost_factor = -0.5
					}
				}
				else = {
					create_production_license = {
						target = ROOT
						equipment = { type = fighter_equipment_0 }
						cost_factor = -0.5
					}
				}
			}
		}
	}
}

country_event = { #Japan supports our independence
	id = japfor.7
	title = japfor.7.t
	desc = japfor.7.d
	picture = GFX_report_event_chinese_japanese_handshake
	is_triggered_only = yes

	option = { #accept
		log = "[GetLogInfo]: event japfor.7 option japfor.7.a"
		name = japfor.7.a
		army_experience = 20
		add_timed_idea = {
			idea = JAP_chinese_separatist_support
			days = 365
		}
		add_opinion_modifier = { target = JAP modifier = KR_approves_of_govt }
		set_country_flag = japanese_independence_support
	}

	option = { #refuse
		log = "[GetLogInfo]: event japfor.7 option japfor.7.b"
		name = japfor.7.b
		ai_chance = { base = 0 }
		add_political_power = 10
		set_country_flag = JAP_refused_independence_help
	}
}

country_event = { #Japan sends Abdurresid Ibrahim
	id = japfor.8
	title = japfor.8.t
	desc = japfor.8.d
	picture = GFX_report_event_chinese_japanese_handshake

	is_triggered_only = yes

	option = { #Welcome, honoured teacher
		log = "[GetLogInfo]: event japfor.8 option japfor.8.a"
		name = japfor.8.a
		add_opinion_modifier = {
			target = JAP
			modifier = large_increase
		}
	}
}

### Reserve event IDs 11-20 for more Chinese influence stuff ###

#################################################
### Tokyo Conference and Co-Prosperity Events ###
#################################################

country_event = { #The Tokyo Conference Invitation
	id = japfor.21
	title = japfor.21.t
	desc = japfor.21.d
	is_triggered_only = yes
	picture = GFX_report_event_JAP_announcement

	option = { #yes
		log = "[GetLogInfo]: event japfor.21 option japfor.21.a"
		name = japfor.21.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_indian_tag = yes
				NOT = { is_ally_with = JAP }
			}
		}
		set_country_flag = attended_tokyo_conference
		set_country_flag = attending_tokyo_conference
		hidden_effect = {
			JAP = {
				country_event = { id = japfor.22 days = 4 random_days = 4 }
			}
		}
	}

	option = { #no
		log = "[GetLogInfo]: event japfor.21 option japfor.21.b"
		name = japfor.21.b
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				is_indian_tag = yes
				NOT = { is_ally_with = JAP }
			}
		}
		set_country_flag = JAP_refused_tokyo_conference
		JAP = {
			country_event = { id = japfor.23 days = 2 random_days = 2 }
		}
	}
}

country_event = { #FROM attends the Tokyo Conference
	id = japfor.22
	title = japfor.22.t
	desc = japfor.22.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_diplomacy3

	option = { #Welcome!
		log = "[GetLogInfo]: event japfor.22 option japfor.22.a"
		name = japfor.22.a
	}
}

country_event = { #FROM Refuses to attend
	id = japfor.23
	title = japfor.23.t
	desc = japfor.23.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = { #Hell with them
		log = "[GetLogInfo]: event japfor.23 option japfor.23.a"
		name = japfor.23.a
	}
}

country_event = { #Propose a joint condemnation: denounce imperialism, colonialism and anti-Asian racism
	id = japfor.24
	title = japfor.24.t
	desc = japfor.24.d
	picture = GFX_report_event_japanese_siam_politicians

	is_triggered_only = yes

	trigger = {
		any_country = {
			is_co_prosperity_candidate = yes
			has_country_flag = attending_tokyo_conference
		}
	}

	option = { # Publish it for signing
		log = "[GetLogInfo]: event japfor.24 option japfor.24.a"
		name = japfor.24.a
		ai_chance = { base = 100 }
		custom_effect_tooltip = JAP_95_chance_of_agreeing_tt
		every_country = {
			limit = {
				is_co_prosperity_candidate = yes
				has_country_flag = attending_tokyo_conference
			}
			country_event = japfor.25
		}
		hidden_effect = {
			country_event = { id = japfor.27 days = 3 }
		}
	}
	option = { # Pressure the attendees as well
		log = "[GetLogInfo]: event japfor.24 option japfor.24.b"
		name = japfor.24.b
		ai_chance = { base = 0 }
		add_political_power = -25
		custom_effect_tooltip = JAP_100_chance_of_agreeing_tt
		set_country_flag = JAP_pressured_for_condmen
		every_country = {
			limit = {
				is_co_prosperity_candidate = yes
				has_country_flag = attending_tokyo_conference
			}
			country_event = japfor.25
		}
		hidden_effect = {
			country_event = { id = japfor.27 days = 3 }
		}
	}
}

country_event = { #The condemnation proposal
	id = japfor.25
	title = japfor.25.t
	desc = japfor.25.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = { #sign it
		log = "[GetLogInfo]: event japfor.25 option japfor.25.a"
		name = japfor.25.a
		ai_chance = { base = 95 }
		add_political_power = -10
	}

	option = { #refuse
		log = "[GetLogInfo]: event japfor.25 option japfor.25.b"
		name = japfor.25.b
		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				tag = SIA  # Siam should basically always agree
			}
			modifier = {
				factor = 0
				JAP = { is_ally_with = ROOT }
			}
			modifier = {
				factor = 0
				JAP = { has_country_flag = JAP_pressured_for_condmen }
			}
			modifier = {
				factor = 0
				OR = {
					AND = {
						tag = BRM
						has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
					}
					AND = {
						tag = HAW
						has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
					}
					AND = {
						tag = INC
						has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
					}
					AND = {
						tag = INS
						has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
					}
					AND = {
						tag = PHI
						has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
					}
					AND = {
						tag = SIA
						has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
					}
				}
			}
		}
		set_country_flag = JAP_refused_tokyo_conference
		clr_country_flag = attending_tokyo_conference
		JAP = {
			country_event = { id = japfor.26 random_hours = 18 days = 1 }
		}
	}
}

country_event = { #FROM drops out
	id = japfor.26
	title = japfor.26.t
	desc = japfor.26.d
	picture = GFX_report_event_JAP_ultimatum
	is_triggered_only = yes

	option = { #bah
		log = "[GetLogInfo]: event japfor.26 option japfor.26.a"
		name = japfor.26.a
	}
}

country_event = { #Bring forward a charter on pan-Asian trade
	id = japfor.27
	title = japfor.27.t
	desc = japfor.27.d
	picture = GFX_report_event_JAP_meeting

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		any_country = {
			is_co_prosperity_candidate = yes
			has_country_flag = attending_tokyo_conference
		}
	}

	option = { # Perfect, they must agree...
		log = "[GetLogInfo]: event japfor.27 option japfor.27.a"
		name = japfor.27.a
		ai_chance = { base = 100 }
		custom_effect_tooltip = JAP_80_chance_of_agreeing_tt
		every_country = {
			limit = {
				is_co_prosperity_candidate = yes
				has_country_flag = attending_tokyo_conference
			}
			country_event = japfor.28
		}
		hidden_effect = {
			country_event = { id = japfor.29 days = 3 }
		}
	}
	option = { # ...but maybe we can soften the terms
		log = "[GetLogInfo]: event japfor.27 option japfor.27.b"
		name = japfor.27.b
		ai_chance = { base = 0 }
		set_country_flag = JAP_pressured_for_trade
		custom_effect_tooltip = JAP_nerf_copro_bonuses_tt
		custom_effect_tooltip = JAP_100_chance_of_agreeing_tt
		every_country = {
			limit = {
				is_co_prosperity_candidate = yes
				has_country_flag = attending_tokyo_conference
			}
			country_event = japfor.28
		}
		hidden_effect = {
			country_event = { id = japfor.29 days = 3 }
		}
	}
}

country_event = { #Japan's resolution on trade
	id = japfor.28
	title = japfor.28.t
	desc = japfor.28.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_diplomacy1

	option = { #sign!
		log = "[GetLogInfo]: event japfor.28 option japfor.28.a"
		ai_chance = { base = 80 }
		name = japfor.28.a
		if = {
			limit = { country_exists = GER }
			reverse_add_opinion_modifier = { target = GER modifier = sanctions }
			add_opinion_modifier = { target = GER modifier = sanctions }
		}
	}

	option = { #no
		log = "[GetLogInfo]: event japfor.28 option japfor.28.b"
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				tag = SIA #Siam should basically always agree
			}
			modifier = {
				factor = 0
				JAP = { is_ally_with = ROOT }
			}
			modifier = {
				factor = 0
				JAP = { has_country_flag = JAP_pressured_for_trade }
			}
			modifier = {
				factor = 0
				OR = {
					AND = {
						tag = BRM
						has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
					}
					AND = {
						tag = HAW
						has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
					}
					AND = {
						tag = INC
						has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
					}
					AND = {
						tag = INS
						has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
					}
					AND = {
						tag = PHI
						has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
					}
					AND = {
						tag = SIA
						has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
					}
				}
			}
		}
		name = japfor.28.b
		add_political_power = 10
		set_country_flag = JAP_refused_tokyo_conference
		clr_country_flag = attending_tokyo_conference
		JAP = {
			country_event = { id = japfor.26 random_hours = 18 days = 1 }
		}
	}
}

country_event = { #Call for economic integration
	id = japfor.29
	title = japfor.29.t
	desc = japfor.29.d
	picture = GFX_report_event_JAP_meeting

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		any_country = {
			is_co_prosperity_candidate = yes
			has_country_flag = attending_tokyo_conference
		}
	}

	option = { # Publish it for signing
		log = "[GetLogInfo]: event japfor.29 option japfor.29.a"
		name = japfor.29.a
		ai_chance = { base = 100 }
		custom_effect_tooltip = JAP_80_chance_of_agreeing_tt
		every_country = {
			limit = {
				is_co_prosperity_candidate = yes
				has_country_flag = attending_tokyo_conference
			}
			country_event = japfor.30
		}
		hidden_effect = {
			country_event = { id = japfor.31 days = 3 }
		}
	}
	option = { # Lessen the terms of the agreement
		log = "[GetLogInfo]: event japfor.29 option japfor.29.b"
		name = japfor.29.b
		ai_chance = { base = 0 }
		add_to_variable = { JAP_eco_cost_1 = 75 }
		add_to_variable = { JAP_eco_cost_2 = 125 }
		custom_effect_tooltip = JAP_harder_eco_int_tt
		custom_effect_tooltip = JAP_100_chance_of_agreeing_tt
		every_country = {
			limit = {
				is_co_prosperity_candidate = yes
				has_country_flag = attending_tokyo_conference
			}
			country_event = japfor.30
		}
		hidden_effect = {
			country_event = { id = japfor.31 days = 3 }
		}
	}
}

country_event = { #Japan's resolution on economic integration
	id = japfor.30
	title = japfor.30.t
	desc = japfor.30.d
	is_triggered_only = yes
	picture = GFX_report_event_SIA_Treaty_signed

	option = { #sign!
		log = "[GetLogInfo]: event japfor.30 option japfor.30.a"
		trigger = {
			NOT = {
				AND = {
					tag = PRF
					NOT = { JAP = { is_ally_with = ROOT } }
					has_completed_focus = PRF_isolation
				}
			}
		}
		ai_chance = { base = 80 }
		name = japfor.30.a
		add_political_power = 25
		set_country_flag = tokyo_conference_trade_ally
	}

	option = { #no
		log = "[GetLogInfo]: event japfor.30 option japfor.30.b"
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				tag = SIA #Siam should basically always agree
			}
			modifier = {
				factor = 0
				JAP = { is_ally_with = ROOT }
			}
			modifier = {
				factor = 0
				check_variable = { JAP_eco_cost_1 > 80 }
			}
			modifier = {
				factor = 0
				OR = {
					AND = {
						tag = BRM
						has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
					}
					AND = {
						tag = HAW
						has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
					}
					AND = {
						tag = INC
						has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
					}
					AND = {
						tag = INS
						has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
					}
					AND = {
						tag = PHI
						has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
					}
					AND = {
						tag = SIA
						has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
					}
				}
			}
		}
		name = japfor.30.b
		set_country_flag = JAP_refused_tokyo_conference
		clr_country_flag = attending_tokyo_conference
		JAP = {
			country_event = { id = japfor.26 random_hours = 18 days = 1 }
		}
	}
}

country_event = { #Call for military action vs colonialists
	id = japfor.31
	title = japfor.31.t
	desc = japfor.31.d
	picture = GFX_report_event_JAP_restorationist_centralist

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		any_country = {
			is_co_prosperity_candidate = yes
			has_country_flag = attending_tokyo_conference
		}
	}

	option = { #publish it for signing
		log = "[GetLogInfo]: event japfor.31 option japfor.31.a"
		name = japfor.31.a
		ai_chance = { base = 100 }
		custom_effect_tooltip = JAP_80_chance_of_agreeing_tt
		every_country = {
			limit = {
				is_co_prosperity_candidate = yes
				has_country_flag = attending_tokyo_conference
			}
			country_event = japfor.32
		}
	}
	option = { # Pressure the attendees
		log = "[GetLogInfo]: event japfor.31 option japfor.31.b"
		name = japfor.31.b
		ai_chance = { base = 0 }
		add_political_power = -100
		set_country_flag = JAP_pressured_for_ally
		custom_effect_tooltip = JAP_100_chance_of_agreeing_tt
		every_country = {
			limit = {
				is_co_prosperity_candidate = yes
				has_country_flag = attending_tokyo_conference
			}
			country_event = japfor.32
		}
	}
}

country_event = { #Japan's resolution on military alliance
	id = japfor.32
	title = japfor.32.t
	desc = japfor.32.d
	picture = GFX_report_event_JAP_rising_sun

	is_triggered_only = yes

	option = { #sign!
		log = "[GetLogInfo]: event japfor.32 option japfor.32.a"
		trigger = {
			NOT = {
				AND = {
					tag = PRF
					NOT = { JAP = { is_ally_with = ROOT } }
					NOT = { has_completed_focus = PRF_india_united }
				}
			}
		}
		ai_chance = { base = 80 }
		name = japfor.32.a
		clr_country_flag = attending_tokyo_conference
		add_to_array = { global.JAP_possible_allies_array = ROOT }
		JAP = {
			country_event = japfor.33
		}
	}

	option = { #no
		log = "[GetLogInfo]: event japfor.32 option japfor.32.b"
		trigger = {
			NOT = { JAP = { is_ally_with = ROOT } }
		}
		ai_chance = {
			base = 20
			modifier = {
				factor = 0
				JAP = { has_country_flag = JAP_pressured_for_ally }
			}
			modifier = {
				factor = 0
				OR = {
					AND = {
						tag = BRM
						has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
					}
					AND = {
						tag = HAW
						has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
					}
					AND = {
						tag = INC
						has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
					}
					AND = {
						tag = INS
						has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
					}
					AND = {
						tag = PHI
						has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
					}
					AND = {
						tag = SIA
						has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
					}
				}
			}
		}
		name = japfor.32.b
		clr_country_flag = attending_tokyo_conference
		JAP = {
			country_event = { id = japfor.26 random_hours = 18 days = 1 }
		}
	}
}

country_event = { #FROM signs the military alliance
	id = japfor.33
	title = japfor.33.t
	desc = japfor.33.d
	picture = GFX_report_event_SIA_Treaty_signed

	is_triggered_only = yes

	option = { #excellent!
		log = "[GetLogInfo]: event japfor.33 option japfor.33.a"
		name = japfor.33.a
	}
}

country_event = { #FROM seperatist Chinese tag accepts offer
	id = japfor.340
	title = japfor.340.t
	desc = japfor.340.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_diplomacy3

	option = {
		log = "[GetLogInfo]: event japfor.340 option japfor.340.a"
		name = japfor.340.a
		add_to_faction = FROM
	}
}

country_event = { #FROM seperatist Chinese tag refuses offer
	id = japfor.341
	title = japfor.341.t
	desc = japfor.341.d
	is_triggered_only = yes
	picture = GFX_report_event_JAP_ultimatum

	option = {
		log = "[GetLogInfo]: event japfor.341 option japfor.341.a"
		name = japfor.341.a
	}
}

country_event = { #Japan offers membership in sphere / from Tokyo Conference
	id = japfor.342
	title = japfor.342.t
	desc = japfor.342.d
	is_triggered_only = yes
	picture = GFX_report_event_JAP_foreign_minister_2

	option = {
		log = "[GetLogInfo]: event japfor.342 option japfor.342.a"
		name = japfor.342.a #Accepts
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					AND = {
						tag = BRM
						NOT = {
							has_game_rule = { rule = BRM_forpol option = DEFAULT }
							has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
						}
					}
					AND = {
						tag = HAW
						NOT = {
							has_game_rule = { rule = HAW_forpol option = DEFAULT }
							has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
						}
					}
					AND = {
						tag = INC
						NOT = {
							has_game_rule = { rule = INC_forpol option = DEFAULT }
							has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
						}
					}
					AND = {
						tag = INS
						NOT = {
							has_game_rule = { rule = INS_forpol option = DEFAULT }
							has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
						}
					}
					AND = {
						tag = PHI
						NOT = {
							has_game_rule = { rule = PHI_forpol option = DEFAULT }
							has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
						}
					}
					AND = {
						tag = SIA
						NOT = {
							has_game_rule = { rule = SIA_forpol option = DEFAULT }
							has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
						}
					}
				}
			}
		}
		add_war_support = 0.10
		FROM = {
			effect_tooltip = { add_to_faction = ROOT }
			country_event = japfor.340
		}
	}
	option = {
		log = "[GetLogInfo]: event japfor.342 option japfor.342.b"
		name = japfor.342.b #Refuses
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				OR = {
					AND = {
						tag = BRM
						NOT = {
							has_game_rule = { rule = BRM_forpol option = DEFAULT }
							has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
						}
					}
					AND = {
						tag = HAW
						NOT = {
							has_game_rule = { rule = HAW_forpol option = DEFAULT }
							has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
						}
					}
					AND = {
						tag = INC
						NOT = {
							has_game_rule = { rule = INC_forpol option = DEFAULT }
							has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
						}
					}
					AND = {
						tag = INS
						NOT = {
							has_game_rule = { rule = INS_forpol option = DEFAULT }
							has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
						}
					}
					AND = {
						tag = PHI
						NOT = {
							has_game_rule = { rule = PHI_forpol option = DEFAULT }
							has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
						}
					}
					AND = {
						tag = SIA
						NOT = {
							has_game_rule = { rule = SIA_forpol option = DEFAULT }
							has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
						}
					}
				}
			}
		}
		remove_from_array = { global.JAP_possible_allies_array = ROOT }
		add_war_support = -0.10
		FROM = { country_event = japfor.341 }
	}
}

##################################
### Japan Ultimatum To Germany ###
##################################

country_event = { #Japanese ultimatum
	id = japfor.41
	title = japfor.41.t
	desc = japfor.41.d
	picture = GFX_report_event_JAP_ultimatum

	is_triggered_only = yes

	option = { #ignore
		log = "[GetLogInfo]: event japfor.41 option japfor.41.a"
		name = japfor.41.a
		ai_chance = { base = 100 }
		JAP = {
			country_event = { id = japfor.42 days = 2 }
		}
	}

	option = { #Agree
		log = "[GetLogInfo]: event japfor.41 option japfor.41.b"
		name = japfor.41.b
		ai_chance = { base = 0 }
		add_stability = -0.30
		JAP = {
			country_event = { id = japfor.43 days = 2 }
		}
	}
}

country_event = { #Germany refuses our ultimatum
	id = japfor.42
	title = japfor.42.t
	desc = japfor.42.d
	picture = GFX_report_event_GEA_coltroops

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Declare war!
		log = "[GetLogInfo]: event japfor.42 option japfor.42.a"
		name = japfor.42.a
		ai_chance = { base = 100 }
		declare_war_on = {
			target = GEA
			type = annex_everything
		}
	}
	option = { #back down
		log = "[GetLogInfo]: event japfor.42 option japfor.42.b"
		name = japfor.42.b
		ai_chance = { base = 0 }
		add_stability = -0.10
	}
}

country_event = { #GEA accepts our conditions
	id = japfor.43
	title = japfor.43.t
	desc = japfor.43.d
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event japfor.43 option japfor.43.a"
		name = japfor.43.a
		every_country = {
			limit = {
				is_subject_of = GER
				OR = {
					tag = GEA
					tag = MAL
					tag = SAR
					tag = VIN
					tag = CAM
					tag = LAO
				}
			}
			ROOT = {
				annex_country = { target = PREV }
			}
		}
		every_state = {
			limit = {
				is_owned_by = GER
				OR = {
					is_on_continent = asia
					is_on_continent = australia
				}
			}
			transfer_state_to = JAP
		}
	}
}

#####################
### Indian events ###
#####################

country_event = { #My Raja, Japan brings us news!
	id = japfor.45
	title = japfor.45.t
	desc = japfor.45.d
	picture = GFX_report_event_JAP_announcement

	is_triggered_only = yes

	option = { #Accept
		log = "[GetLogInfo]: event japfor.45 option japfor.45.a"
		name = japfor.45.a
		ai_chance = {
			base = 60
			modifier = {
				factor = 1.5
				has_war = yes
			}
			modifier = {
				factor = 1.5
				country_exists = RAJ
				country_exists = HND
			}
			modifier = {
				factor = 0
				OR = {
					has_game_rule = { rule = PRF_forpol option = PRF_FORPOL_GER }
					has_game_rule = { rule = PRF_forpol option = PRF_FORPOL_RUS }
					has_game_rule = { rule = PRF_forpol option = PRF_FORPOL_NEUT }
				}
			}
		}
		add_ideas = JAP_india_support
		JAP_add_to_economic_sphere = yes
		if = {
			limit = {
				NOT = {
					country_exists = RAJ
					country_exists = HND
					is_ally_with = FROM
					is_guaranteed_by = FROM
				}
			}
			effect_tooltip = { FROM = { give_guarantee = ROOT } }
		}
		if = {
			limit = { has_opinion_modifier = KR_disapproves_of_govt }
			remove_opinion_modifier = { target = FROM modifier = KR_disapproves_of_govt }
		}
		if = {
			limit = { has_opinion_modifier = KR_hates_govt }
			remove_opinion_modifier = { target = FROM modifier = KR_hates_govt }
		}
		if = {
			limit = { has_opinion_modifier = KR_outraged }
			remove_opinion_modifier = { target = FROM modifier = KR_outraged }
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_approves_of_govt }
			country_event = { id = japfor.46 days = 1 }
		}
	}
	option = { #Politely decline their support
		log = "[GetLogInfo]: event japfor.45 option japfor.45.b"
		name = japfor.45.b
		ai_chance = {
			base = 40
			modifier = {
				factor = 1.5
				has_cosmetic_tag = PRF_EMP
			}
			modifier = {
				factor = 5
				has_completed_focus = PRF_india_united
			}
			modifier = {
				factor = 5
				FROM = { any_owned_state = { is_claim_or_core_of_ROOT = yes } }
			}
			modifier = {
				factor = 0
				has_game_rule = { rule = PRF_forpol option = PRF_FORPOL_JAP }
			}
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			country_event = { id = japfor.47 days = 3 }
		}
	}
}

country_event = { #Offer accepted
	id = japfor.46
	title = japfor.46.t
	desc = japfor.46.d
	picture = GFX_report_event_RAJ_raj

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.46 option japfor.46.a"
		name = japfor.46.a
		add_political_power = 25
		if = {
			limit = {
				NOT = {
					country_exists = RAJ
					country_exists = HND
					is_ally_with = FROM
					has_guaranteed = FROM
				}
			}
			give_guarantee = FROM
		}
		if = {
			limit = { NOT = { has_dynamic_modifier = { modifier = JAP_asian_economic_sphere } } }
			add_dynamic_modifier = { modifier = JAP_asian_economic_sphere }
		}
	}
}

country_event = { #India declines us
	id = japfor.47
	title = japfor.47.t
	desc = japfor.47.d
	picture = GFX_report_event_JAP_ambassador_kisaburo

	is_triggered_only = yes

	option = { #Damn and blast
		log = "[GetLogInfo]: event japfor.47 option japfor.47.a"
		name = japfor.47.a
		add_political_power = -25
	}
}

#####################################
### Philippines and Hawaii Events ###
#####################################

country_event = { #Japan threatens us!
	id = japfor.55
	title = japfor.55.t
	desc = japfor.55.d
	picture = GFX_report_event_JAP_mutsu

	immediate = {
		JAP = { set_country_flag = JAP_has_threatened_philippines }
	}

	is_triggered_only = yes

	option = { #resist
		log = "[GetLogInfo]: event japfor.55 option japfor.55.a"
		name = japfor.55.a
		ai_chance = { base = 75 }
		add_stability = 0.05
		if = {
			limit = { is_subject = yes }
			overlord = { save_event_target_as = philippines_backer }
			JAP = {
				country_event = { id = japfor.57 days = 2 }
			}
		}
		else_if = {
			limit = { is_in_faction = yes }
			random_country = {
				limit = {
					is_faction_leader = yes
					is_in_faction_with = ROOT
				}
				save_event_target_as = philippines_backer
			}
			JAP = {
				country_event = { id = japfor.57 days = 2 }
			}
		}
		else_if = {
			limit = {
				has_socialist_government = no
				USA = {
					exists = yes
					is_subject = no
					has_war = no
					has_completed_focus = USA_enter_the_fray
					NOT = { is_in_faction_with = JAP }
				}
			}
			USA = {
				country_event = japfor.56
			}
		}
		else_if = {
			limit = {
				has_socialist_government = no
				CAL = {
					exists = yes
					is_subject = no
					has_war = no
					has_completed_focus = CAL_enter_the_fray
					NOT = { is_in_faction_with = JAP }
				}
			}
			CAL = {
				country_event = japfor.56
			}
		}
		else_if = {
			limit = {
				has_socialist_government = yes
				CSA = {
					exists = yes
					is_subject = no
					has_war = no
					NOT = { is_in_faction_with = JAP }
				}
			}
			CSA = {
				country_event = japfor.56
			}
		}
		else_if = {
			limit = {
				has_socialist_government = no
				country_exists = ENT
				ENT = {
					has_war = no
					is_faction_leader = yes
					has_socialist_government = no
				}
			}
			ENT = {
				country_event = japfor.56
			}
		}
		else = {
			JAP = {
				country_event = { id = japfor.58 days = 1 }
			}
		}
	}

	option = { #surrender
		log = "[GetLogInfo]: event japfor.55 option japfor.55.b"
		name = japfor.55.b
		trigger = { is_subject = no }
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				is_in_faction = yes
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = JAP ratio < 2.0 }
			}
			modifier = {
				factor = 0
				NOT = { has_game_rule = { rule = PHI_forpol option = DEFAULT } }
			}
		}
		JAP = {
			country_event = { id = japfor.59 days = 2 }
		}
	}
}

country_event = { #Philippines begs for help
	id = japfor.56
	title = japfor.56.t
	desc = japfor.56.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = { #offer help
		log = "[GetLogInfo]: event japfor.56 option japfor.56.a"
		name = japfor.56.a
		ai_chance = {
			base = 25
			modifier = {
				factor = 2
				is_faction_leader = yes
			}
		}
		if = {
			limit = { is_faction_leader = yes }
			add_to_faction = FROM
		}
		else_if = {
			limit = {
				FROM = {
					NOT = { is_guaranteed_by = ROOT }
				}
			}
			give_guarantee = FROM
		}
		save_event_target_as = philippines_backer
		JAP = {
			country_event = { id = japfor.57 days = 2 }
		}
	}

	option = { #don't
		log = "[GetLogInfo]: event japfor.56 option japfor.56.b"
		name = japfor.56.b
		trigger = {
			NOT = {
				is_in_faction_with = FROM
				FROM = { is_guaranteed_by = ROOT }
			}
		}
		ai_chance = { base = 75 }
		JAP = {
			country_event = { id = japfor.58 days = 2 }
		}
	}
}

country_event = { #Philippines resists with foreign backing
	id = japfor.57
	title = japfor.57.t
	desc = japfor.57.d
	picture = GFX_report_event_GER_ship

	is_triggered_only = yes

	trigger = {
		can_declare_war_on = PHI
	}

	option = { #war
		log = "[GetLogInfo]: event japfor.57 option japfor.57.a"
		name = japfor.57.a
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				date < 1942.1.1
			}
		}
		declare_war_on = {
			target = PHI
			type = annex_everything
		}
	}
	option = { #back down
		log = "[GetLogInfo]: event japfor.57 option japfor.57.b"
		name = japfor.57.b
		ai_chance = { base = 25 }
		add_war_support = -0.10
		event_target:philippines_backer = {
			country_event = japfor.5701
		}
		PHI = {
			country_event = japfor.5701
		}
	}
}

country_event = { #Japan has backed down
	id = japfor.5701
	title = japfor.5701.t
	desc = japfor.5701.d
	picture = GFX_report_event_JAP_foreign_minister

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.5701 option japfor.5701.a"
		name = japfor.5701.a
	}
}

country_event = { #Philippines resists without backing
	id = japfor.58
	title = japfor.58.t
	desc = japfor.58.d
	picture = GFX_report_event_JAP_battle_flag

	is_triggered_only = yes

	trigger = {
		can_declare_war_on = PHI
	}

	option = { #war
		log = "[GetLogInfo]: event japfor.58 option japfor.58.a"
		name = japfor.58.a
		declare_war_on = {
			target = PHI
			type = annex_everything
		}
	}
}

country_event = { #Philippines Surrenders!
	id = japfor.59
	title = japfor.59.t
	desc = japfor.59.d
	picture = GFX_report_event_JAP_rising_sun

	is_triggered_only = yes

	trigger = {
		can_declare_war_on = PHI
	}

	option = {
		log = "[GetLogInfo]: event japfor.59 option japfor.59.a"
		name = japfor.59.a
		if = {
			limit = { PHI = { both_socialist_or_both_not_socialist = yes } }
			set_temp_variable = { target = PHI }
			puppet_country_without_changing_government = yes
		}
		else = {
			puppet = PHI
		}
	}

	option = {
		log = "[GetLogInfo]: event japfor.59 option japfor.59.b"
		name = japfor.59.b
		trigger = {
			PHI = { is_ai = yes }
		}
		annex_country = {
			target = PHI
		}
	}
}

country_event = { #Japan threatens us!
	id = japfor.62
	title = japfor.62.t
	desc = japfor.62.d
	picture = GFX_report_event_JAP_mutsu

	is_triggered_only = yes

	trigger = {
		exists = yes
		NOT = { has_war_with = JAP }
	}

	option = { #resist
		log = "[GetLogInfo]: event japfor.62 option japfor.62.a"
		name = japfor.62.a
		ai_chance = { base = 65 }
		division_template = {
			name = "Militia"
			division_names_group = USA_GAR_01
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
				infantry = { x = 0 y = 3 }
				infantry = { x = 0 y = 4 }
			}
			template_counter = 68
		}
		random_owned_controlled_state = {
			limit = { is_in_home_area = yes }
			create_unit = {
				division = "division_template = \"Militia\""
				owner = ROOT
			}
		}
		if = {
			limit = {
				CAL = {
					owns_state = 797
					has_war = no
					is_subject = no
					NOT = { is_in_faction_with = JAP }
				}
			}
			CAL = {
				country_event = { id = japfor.64 days = 1 }
			}
		}
		else_if = {
			limit = {
				USA = {
					owns_state = 797
					has_war = no
					is_subject = no
					NOT = { is_in_faction_with = JAP }
				}
			}
			USA = {
				country_event = { id = japfor.64 days = 1 }
			}
		}
		else = {
			JAP = {
				country_event = { id = japfor.66 days = 2 }
			}
		}
	}

	option = { #surrender
		log = "[GetLogInfo]: event japfor.62 option japfor.62.b"
		name = japfor.62.b
		ai_chance = {
			base = 35
			modifier = {
				factor = 0.25
				is_in_faction = yes
			}
		}
		JAP = {
			country_event = { id = japfor.63 days = 2 }
		}
	}
}

country_event = { #Hawaii Surrenders!
	id = japfor.63
	title = japfor.63.t
	desc = japfor.63.d
	picture = GFX_report_event_CHI_ambassador_announcement

	is_triggered_only = yes

	trigger = {
		can_declare_war_on = HAW
	}

	option = {
		log = "[GetLogInfo]: event japfor.63 option japfor.63.a"
		name = japfor.63.a
		if = {
			limit = { HAW = { both_socialist_or_both_not_socialist = yes } }
			set_temp_variable = { target = HAW }
			puppet_country_without_changing_government = yes
		}
		else = {
			puppet = HAW
		}
	}

	option = {
		log = "[GetLogInfo]: event japfor.63 option japfor.63.b"
		name = japfor.63.b
		trigger = {
			HAW = { is_ai = yes }
		}
		annex_country = {
			target = HAW
		}
	}
}

country_event = { #Hawaii begs for help
	id = japfor.64
	title = japfor.64.t
	desc = japfor.64.d
	picture = GFX_report_event_JAP_mutsu

	is_triggered_only = yes

	trigger = {
		NOT = {
			HAW = { has_war_with = JAP }
		}
	}

	option = { #help
		log = "[GetLogInfo]: event japfor.64 option japfor.64.a"
		name = japfor.64.a
		ai_chance = {
			base = 25
			modifier = {
				factor = 0.1
				OR = {
					has_war_with = CSA
					has_war_with = TEX
					has_war_with = USA
				}
			}
		}
		if = {
			limit = {
				HAW = {
					NOT = {
						is_guaranteed_by = ROOT
						is_in_faction_with = ROOT
					}
				}
			}
			give_guarantee = HAW
		}
		JAP = {
			country_event = { id = japfor.65 days = 2 }
		}
	}
	option = { #Don't
		log = "[GetLogInfo]: event japfor.64 option japfor.65.b"
		name = japfor.65.b
		trigger = {
			NOT = {
				is_in_faction_with = HAW
				HAW = { is_guaranteed_by = ROOT }
				has_war_with = JAP
			}
		}
		ai_chance = { base = 75 }
		add_stability = 0.05
		JAP = {
			country_event = { id = japfor.66 days = 2 }
		}
	}
}

country_event = { #Hawaii resists with American backing
	id = japfor.65
	title = japfor.65.t
	desc = japfor.65.d
	picture = GFX_report_event_USA_soldiers_watching

	is_triggered_only = yes

	trigger = {
		can_declare_war_on = HAW
	}

	option = { #war
		log = "[GetLogInfo]: event japfor.65 option japfor.65.a"
		name = japfor.65.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				has_war = yes
			}
			modifier = {
				factor = 0.1
				OR = {
					FROM = { is_in_faction = yes }
					HAW = { is_in_faction = yes }
				}
			}
			modifier = {
				factor = 0
				date < 1942.1.1
			}
		}
		declare_war_on = {
			target = HAW
			type = annex_everything
		}
	}
	option = { #Don't
		log = "[GetLogInfo]: event japfor.65 option japfor.65.b"
		name = japfor.65.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				has_war = no
			}
		}
		add_stability = -0.05
	}
}

country_event = { #Hawaii resists without American backing
	id = japfor.66
	title = japfor.66.t
	desc = japfor.66.d
	picture = GFX_report_event_USA_soldiers1

	is_triggered_only = yes

	trigger = {
		can_declare_war_on = HAW
	}

	option = { #war
		log = "[GetLogInfo]: event japfor.66 option japfor.65.a"
		name = japfor.65.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.1
				HAW = { is_in_faction = yes }
			}
		}
		declare_war_on = {
			target = HAW
			type = annex_everything
		}
	}
	option = { #Don't
		log = "[GetLogInfo]: event japfor.66 option japfor.65.b"
		name = japfor.65.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_war = no
			}
			modifier = {
				factor = 0
				HAW = { is_in_faction = no }
			}
		}
		add_stability = -0.05
	}
}

############################
### Korea Events 		 ###
### Credit to Exitialium ###
############################

country_event = { # Kitei Son and Nan Shoryu
	id = japfor.500
	title = japfor.500.t
	desc = japfor.500.d
	picture = GFX_report_event_JAP_foreign_minister

	fire_only_once = yes
	is_triggered_only = yes

	option = { # How unfortunate.
		log = "[GetLogInfo]: event japfor.500 option japfor.500.a"
		name = japfor.500.a
	}
}

######################################
### Korean Reworked Liberal Events ###
### Credit to Exitialium		   ###
######################################

country_event = { #The Busan Negotiations
	id = japfor.510
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.510" }
	title = japfor.510.t
	desc = japfor.510.d
	picture = GFX_report_event_JAP_crowd

	fire_only_once = yes
	
	trigger = {
		tag = JAP
		date > 1936.7.8
		has_democratic_government = yes
	}

	option = {
		ai_chance = {
			factor = 50
			modifier = {
				factor = 100
				has_game_rule = {
					rule = KOR_rebellion
					option = KOR_JAP_PUPPET
				}
			}
		}
		name = japfor.510.a #Let's hear what they have to offer
		custom_effect_tooltip = JAP_KOR_PUPPET
		country_event = {
			id = japfor.511
			days = 3
		}
		add_stability = -0.05
	}

	option = {
		ai_chance = {
			factor = 50
			modifier = {
				factor = 100
				has_game_rule = {
					rule = KOR_rebellion
					option = KOR_REBELLION_GUARENTEED
				}
			}
		}
		name = japfor.510.b #Fuck em'
		custom_effect_tooltip = JAP_KOR_REBEL
		hidden_effect = {
			country_event = {
				id = japfor.501 #Start of the Rebellion chain
				days = 7
			}
		}
	}

}

country_event = { #First Negotiation; Japanization policies
	id = japfor.511
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.511" }
	title = japfor.511.t
	desc = japfor.511.d
	picture = GFX_report_event_JAP_meeting

	fire_only_once = yes
	is_triggered_only = yes

	option = { #Must have Japanization
		name = japfor.511.a
		add_to_variable = {
			var = global.KORrebel
			value = 1
		}
		country_event = {
			id = japfor.512
			days = 1
		}
	}

	option = { #Let them keep some Korean
		ai_chance = {
			factor = 50
			modifier = {
				factor = 100
				has_game_rule = {
					rule = KOR_rebellion
					option = KOR_JAP_PUPPET
				}
			}
		}
		custom_effect_tooltip = JAP_KOR_PUPPET
		name = japfor.511.b
		add_stability = -0.02
		country_event = {
			id = japfor.513 #They want more autonomy
			days = 1
		}
	}
}

country_event = { #Second Negotiation - Status of Korea in the empire
	id = japfor.512
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.512" }
	title = japfor.512.t
	desc = japfor.512.d
	picture = GFX_report_event_JAP_politician

	fire_only_once = yes
	is_triggered_only = yes

	option = { #Keep it as a colony
		name = japfor.512.a
		add_stability = -0.02
		country_event = {
			id = japfor.514 #Pick the Governor-general of Korea
			days = 1
		}
	}
	option = { #Incorporate it into the empire
		name = japfor.512.b
		add_to_variable = {
			var = global.KORrebel
			value = 1
		}
		country_event = { #Koreans serving in the government?
			id = japfor.515
			days = 1
		}
	}
}

country_event = { #Second Negotiation - Korean Culture, they wanted more autonomy
	id = japfor.513
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.513" }
	title = japfor.513.t
	desc = japfor.513.d
	picture = GFX_report_event_JAP_politician

	fire_only_once = yes
	is_triggered_only = yes

	option = { #Establish a friendly Korean regime
		ai_chance = {
			factor = 10
			modifier = {
				factor = 100
				has_game_rule = {
					rule = KOR_rebellion
					option = KOR_JAP_PUPPET
				}
			}
		}
		name = japfor.513.a
		add_political_power = -100
		puppet = KOR
		KOR = {
			transfer_state = 525
			transfer_state = 527
			country_event = japfor.82 #Puppet Korea, event for Korea
			set_popularities = {
				totalist = 2
				radical_socialist = 6 
				syndicalist = 3
				social_democrat = 12
				social_liberal = 9
				market_liberal = 5
				social_conservative = 10
				authoritarian_democrat = 8
				paternal_autocrat = 42
				national_populist = 3
			}
		
			set_party_name = {
				ideology = paternal_autocrat
				long_name = KOR_paternal_autocrat_kna_long
				name = KOR_paternal_autocrat_kna
			}
		
			set_politics = {
				ruling_party = paternal_autocrat
				elections_allowed = no
			}
			
			create_country_leader = {
				name = "Kim Suk-won"
				picture = "gfx/leaders/KOR/Portrait_KOR_Kim_Suk_won.png"
				expire = "1965.1.1"
				ideology = junta_subtype
				traits = {}
			}
		
			country_event = { id = kor.3 days = 2 } #choose your collab
		}
		set_global_flag = kor_japfree
		remove_state_claim = 525
		remove_state_claim = 527
		remove_state_core = 525
		remove_state_core = 527
		news_event = {
			id = worldnews.246
		}
	}
	
	option = { #Establish a friendly Korean regime
	    trigger = { is_ai = no }
		name = japfor.513.c
		add_political_power = -100
		puppet = KOR
		KOR = {
			transfer_state = 525
			transfer_state = 527
			country_event = japfor.82 #Puppet Korea, event for Korea
			set_popularities = {
				totalist = 2
				radical_socialist = 6 
				syndicalist = 3
				social_democrat = 12
				social_liberal = 9
				market_liberal = 5
				social_conservative = 10
				authoritarian_democrat = 8
				paternal_autocrat = 42
				national_populist = 3
			}
			
			set_party_name = {
				ideology = paternal_autocrat
				long_name = KOR_paternal_autocrat_kna_long
				name = KOR_paternal_autocrat_kna
			}
		
			set_politics = {
				ruling_party = paternal_autocrat
				elections_allowed = no
			}
			
			create_country_leader = {
				name = "Kim Suk-won"
				picture = "gfx/leaders/KOR/Portrait_KOR_Kim_Suk_won.png"
				expire = "1965.1.1"
				ideology = junta_subtype
				traits = {}
			}
						
			country_event = { id = kor.3 days = 2 } #choose your collab
		}
		set_global_flag = kor_japfree
		remove_state_claim = 525
		remove_state_claim = 527
		remove_state_core = 525
		remove_state_core = 527
		news_event = {
			id = worldnews.246
		}
		KOR = {
			change_tag_from = ROOT
		}
	}

	option = { #No autonomy for you
	    ai_chance = {
			factor = 90
		}
		name = japfor.513.b
		country_event = { #Democracy in Korea?
			id = japfor.516
			days = 1
		}
		add_to_variable = {
			var = global.KORrebel
			value = 1
		}
	}
}

country_event = { #Puppet Korea, event for Korea
	id = japfor.82
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.82" }
	title = japfor.82.t
	desc = japfor.82.d
	picture = GFX_report_event_JAP_hirohito_addressing

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = japfor.82.a
		hidden_effect = {
			load_oob = KOR_pup
		}
		custom_effect_tooltip = KOR_pup_oob_tt
		set_country_flag = KOR_weeb_nation
	}
}

country_event = { #Third Negotiation - Pick the Governor-general of Korea
	id = japfor.514
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.514" }
	title = japfor.514.t
	desc = japfor.514.d
	picture = GFX_report_event_JAP_foreign_minister_2

	fire_only_once = yes
	is_triggered_only = yes

	option = { #Korean
		name = japfor.514.a
		add_stability = -0.02
		country_event = {
			id = japfor.517
			days = 1
		}
	}

	option = { #Japanese
		name = japfor.514.b
		add_to_variable = {
			var = global.KORrebel
			value = 1
		}
		country_event = {
			id = japfor.517
			days = 1
		}
	}
}

country_event = { #Third negotiation - Koreans serving in the government?
	id = japfor.515
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.515" }
	title = japfor.515.t
	desc = japfor.515.d
	picture = GFX_report_event_JAP_diet

	fire_only_once = yes
	is_triggered_only = yes

	option = { #Sure why not
		name = japfor.515.a
		add_stability = -0.02
		country_event = {
			id = japfor.517
			days = 1
		}
	}

	option = { #No way
		name = japfor.515.b
		add_to_variable = {
			var = global.KORrebel
			value = 1
		}
		country_event = {
			id = japfor.517
			days = 1
		}
	}

}

country_event = { #Third negotiation - Democracy in Korea?
	id = japfor.516
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.516" }
	title = japfor.516.t
	desc = japfor.516.d
	picture = GFX_report_event_election_vote

	fire_only_once = yes
	is_triggered_only = yes

	option = { #Allow partial suffrage
		name = japfor.516.a
		add_stability = -0.02
		country_event = {
			id = japfor.517
			days = 1
		}
	}

	option = {#Nope
		name = japfor.516.b
		add_to_variable = {
			var = global.KORrebel
			value = 1
		}
		country_event = {
			id = japfor.517
			days = 1
		}
	}

}

country_event = { #Fourth Negotiation - Political prisoners
	id = japfor.517
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.517" }
	title = japfor.517.t
	desc = japfor.517.d
	picture = GFX_report_event_FNG_several_prisoners

	fire_only_once = yes
	is_triggered_only = yes

	option = { #Release them
		name = japfor.517.a
		add_stability = -0.02
		add_to_variable = {
			var = global.KORrebel
			value = 1
		}
		country_event = {
			id = japfor.518
			days = 1
		}
	}

	option = { #Keep them in Jail
		name = japfor.517.b
		country_event = {
			id = japfor.518
			days = 1
		}
	}

}

country_event = { #Time to check what happened
	id = japfor.518
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.518" }
	title = japfor.518.t
	desc = {
		text = japfor.518.yay
		trigger = {
			check_variable = {
				global.KORrebel < 4
			}
		}
	}
	desc = {
		text = japfor.518.nay
		trigger = {
			check_variable = {
				global.KORrebel > 3
			}
		}
	}

	fire_only_once = yes
	is_triggered_only = yes
	picture = GFX_report_event_CHI_official_announcement

	option = {
		trigger = {
			check_variable = {
				global.KORrebel < 4
			}
		}
		name = japfor.518.a
		add_stability = 0.1 #All went well, how nice
	}

	option = {
		trigger = {
			check_variable = {
				global.KORrebel > 3
			}
		}
		name = japfor.518.b
		add_stability = -0.1
		country_event = {
			id = japfor.501 #Start of the Rebellion chain
			days = 7
		}
	}

}

###############################
### Korean Rebellion Events ###
###############################

country_event = { #The Legacy of the Korean Rebellion of 1925
	id = japfor.501
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.501" }
	title = japfor.501.t
	desc = japfor.501.d
	picture = GFX_report_event_FNG_protest

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = japfor.501.a #Purge and execute the protestors
		add_stability = -0.10
		set_country_flag = JAP_ready_for_Korean_revolt
	}

	option = {
		name = japfor.501.b #Leave them alone
		add_political_power = -50
		set_country_flag = JAP_ready_for_Korean_revolt
	}

}

country_event = { #Korea exiles starting event
	id = japfor.67
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.67" }
	title = japfor.67.t
	desc = japfor.67.d
	picture = GFX_report_event_CHI_intelligence

	fire_only_once = yes

	trigger = {
		has_country_flag = JAP_ready_for_Korean_revolt
		has_war = yes
	}

	option = {
		name = japfor.67.a
		hidden_effect = {
			GER = {
				country_event = {
					id = japfor.69
					days = 3
				}
			}
			AST = {
				country_event = {
					id = japfor.69
					days = 3
				}
			}
			RUS = {
				country_event = {
					id = japfor.69
					days = 3
				}
			}
		}
	}

}

country_event = { #Korea asks for aid - Germany, Australasia, Russia
	id = japfor.69
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.69" }
	title = japfor.69.t
	desc = japfor.69.d
	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Full support
		name = japfor.69.a
		ai_chance = {
			factor = 35
			modifier = {
				factor = 100
				has_game_rule = {
					rule = KOR_rebellion
					option = KOR_REBELLION_GUARENTEED
				}
			}
		}
		hidden_effect = {
			JAP = {
				country_event = japfor.73
			}
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment_1
			amount = -3000
		}
		add_manpower = -5000
		add_to_variable = {
			var = global.KORsupport
			value = 2
		}
	}

	option = { #Light support
		name = japfor.69.a
		ai_chance = {
			factor = 35
		}
		hidden_effect = {
			JAP = {
				country_event = japfor.73
			}
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment_1
			amount = -2500
		}
		add_to_variable = {
			var = global.KORsupport
			value = 1
		}
	}

	option = { #No support
		name = japfor.69.c
		ai_chance = {
			factor = 30
		}
		hidden_effect = {
			JAP = {
				country_event = japfor.73
			}
		}
	}
}

country_event = { #The Korean Problem
	id = japfor.73
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.73" }
	title = japfor.73.t
	desc = japfor.73.d
	picture = GFX_report_event_JAP_officer_phone

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = japfor.73.a
		hidden_effect = {
			country_event = {
				id = japfor.83
				days = 120
			}
			if = {
				limit = {
					TRM = { is_guaranteed_by = JAP }
				}
				country_event = {
					id = japfor.74
					days = 3
				}
			}
		}
	}
}

country_event = { #Rise of Korean nationalism in Transamur
	id = japfor.74
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.74" }
	title = japfor.74.t
	desc = japfor.74.d
	picture = GFX_report_event_FNG_protest

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Push Transmur for a crack down
		name = japfor.74.a
		ai_chance = {
			factor = 75
		}
		reverse_add_opinion_modifier = {
			target = TRM
			modifier = TRM_crackdown
		}
		TRM = {
			country_event = {
				id = japfor.751
				days = 1
			}
		}
	}

	option = { #Don't
		name = japfor.74.b
		ai_chance = {
			factor = 25
			modifier = {
				factor = 100
				has_game_rule = {
					rule = KOR_rebellion
					option = KOR_REBELLION_GUARENTEED
				}
			}
		}
		add_to_variable = {
			var = global.KORsupport
			value = 2
		}
		reverse_add_opinion_modifier = {
			target = TRM
			modifier = TRM_no_crackdown
		}
	}
}

country_event = { #Japanese pressure
	id = japfor.751
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.751" }
	title = japfor.751.t
	desc = japfor.751.d
	picture = GFX_report_event_JAP_ultimatum

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Do it
		name = japfor.751.a
		ai_chance = {
			factor = 40
		}
		add_stability = -0.15
		reverse_add_opinion_modifier = {
			target = JAP
			modifier = TRM_no_crackdown
		}
	}

	option = { #Refuse
		name = japfor.751.c
		ai_chance = {
			factor = 20
			modifier = {
				factor = 100
				has_game_rule = {
					rule = KOR_rebellion
					option = KOR_REBELLION_GUARENTEED
				}
			}
		}
		add_stability = 0.10
		reverse_add_opinion_modifier = {
			target = JAP
			modifier = TRM_crackdown
		}
		JAP = {
			country_event = {
				id = japfor.75
				days = 1
			}
		}
	}
}

country_event = { #Transmur refuses our demand!
	id = japfor.75
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.75" }
	title = japfor.75.t
	desc = japfor.75.d
	picture = GFX_report_event_JAP_ultimatum

	is_triggered_only = yes
	fire_only_once = yes

	option = { #So be it
		name = japfor.75.a
		ai_chance = {
			factor = 30
			modifier = {
				factor = 100
				has_game_rule = {
					rule = KOR_rebellion
					option = KOR_REBELLION_GUARENTEED
				}
			}
		}
		add_to_variable = {
			var = global.KORsupport
			value = 2
		}
		reverse_add_opinion_modifier = {
			target = TRM
			modifier = TRM_no_crackdown
		}
		add_political_power = -100
	}

	option = { #We'll do it ourselves then!
		name = japfor.75.b
		ai_chance = {
			factor = 40
		}
		reverse_add_opinion_modifier = {
			target = TRM
			modifier = TRM_crackdown
		}
		add_political_power = -50
		TRM = {
			country_event = {
				id = japfor.76
				days = 1
			}
		}
	}

	option = { #How dare they, threaten them!
		name = japfor.75.c
		ai_chance = {
			factor = 30
		}
		reverse_add_opinion_modifier = {
			target = TRM
			modifier = TRM_crackdown
		}
		TRM = {
			country_event = {
				id = japfor.77
				days = 1
			}
		}
	}
}

country_event = { #Japanese troops crackdown on Koreans
	id = japfor.76
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.76" }
	title = japfor.76.t
	desc = japfor.76.d
	picture = GFX_report_event_JAP_conscription

	is_triggered_only = yes
	fire_only_once = yes

	option = { #The Japanese don't respect our lands
		ai_chance = {
			factor = 50
			modifier = {
				factor = 100
				has_game_rule = {
					rule = KOR_rebellion
					option = KOR_REBELLION_GUARENTEED
				}
			}
		}
		name = japfor.76.a
		add_to_variable = {
			var = global.KORsupport
			value = 2
		}
		reverse_add_opinion_modifier = {
			target = TRM
			modifier = TRM_crackdown
		}
		JAP = {
			end_puppet = TRM
			remove_from_faction = TRM
			country_event = {
				id = tram.1
			}
		}
	}

	option = { #Fineeee
		name = japfor.76.b
		reverse_add_opinion_modifier = {
			target = JAP
			modifier = TRM_no_crackdown
		}
		add_stability = -0.15
	}
}

country_event = { #Japan marches on Vladivostok
	id = japfor.77
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.77" }
	title = japfor.77.t
	desc = japfor.77.d
	is_triggered_only = yes
	picture = GFX_report_event_japanese_soldiers_02

	option = { #Capitulate
		name = japfor.77.a
		ai_chance = {
			factor = 80
		}
		reverse_add_opinion_modifier = {
			target = JAP
			modifier = TRM_no_crackdown
		}
		TRM = {
			country_event = {
				id = japfor.751
				days = 4
			}
		}
	}

	option = { #Fight!
		name = japfor.77.b
		ai_chance = {
			factor = 20
		}
		add_to_variable = {
			var = global.KORsupport
			value = 2
		}
		JAP = {
			end_puppet = TRM
			remove_from_faction = TRM
			country_event = {
				id = tram.1
			}
		}
	}
}

country_event = { #Rebellion time in Korea?
	id = japfor.83
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.83" }
	title = japfor.83.t
	desc = {
		text = japfor.83.yay
		trigger = {
			check_variable = {
				global.KORsupport < 3
			}
		}
	}
	desc = {
		text = japfor.83.nay
		trigger = {
			check_variable = {
				global.KORsupport > 2
			}
		}
	}
	picture = GFX_report_event_JAP_barricade

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = japfor.83.a
		trigger = {
			check_variable = {
				global.KORsupport < 3
			}
			NOT = {
				has_game_rule = {
					rule = KOR_rebellion
					option = KOR_REBELLION_GUARENTEED
				}
			}
		}
		add_manpower = -5000
		add_equipment_to_stockpile = {
			type = infantry_equipment_1
			amount = -750
		}
		add_stability = -0.05
	}

	option = {
		name = japfor.83.b
		trigger = {
			OR = {
				check_variable = {
					global.KORsupport > 2
				}
				has_game_rule = {
					rule = KOR_rebellion
					option = KOR_REBELLION_GUARENTEED
				}
			}
		}
		hidden_effect = {
			news_event = {
				id = worldnews.198
			}
		}
		add_stability = -0.15
		remove_state_core = 525
		remove_state_core = 527
		country_event = { id = japfor.86 days = 3 }
		KOR = {
			transfer_state = 525
			set_country_flag = { flag = KOR_rebellion days = 5 value = 1 }
			country_event = { id = japfor.85 days = 1 }
		}
	}

	option = {
		name = japfor.83.c
		trigger = {
			OR = {
				check_variable = {
					global.KORsupport > 2
				}
				has_game_rule = {
					rule = KOR_rebellion
					option = KOR_REBELLION_GUARENTEED
				}
			}
		}
		hidden_effect = {
			news_event = {
				id = worldnews.198
			}
		}
		add_stability = -0.15
		remove_state_core = 525
		remove_state_core = 527
		country_event = { id = japfor.86 days = 3 }
		KOR = {
			transfer_state = 525
			set_country_flag = { flag = KOR_rebellion days = 5 value = 1 }
			country_event = { id = japfor.85 days = 1 }
			change_tag_from = ROOT
		}
	}
}

country_event = { #Rebellion time for Korea
	id = japfor.85
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.85" }
	title = japfor.85.t
	desc = japfor.85.d
	picture = GFX_report_event_FNG_army1

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = japfor.85.a
		if = {
			limit = {
				check_variable = {
					global.KORsupport > 5
				}
			}
			hidden_effect = {
				load_oob = KOR_full
			}
			custom_effect_tooltip = KOR_full_oob_tt
		}
		else = {
			hidden_effect = {
				load_oob = KOR_light
			}
			custom_effect_tooltip = KOR_light_oob_tt
		}
		create_field_marshal = {
			name = "Kim Koo"
			picture = "gfx/leaders/KOR/Kim_Koo_General.png"
			traits = { }
			skill = 2
			attack_skill = 2
			defense_skill = 2
			planning_skill = 1
			logistics_skill = 2
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment_1
			amount = 7500
		}
		add_equipment_to_stockpile = {
			type = support_equipment_1
			amount = 3000
		}
		add_manpower = 200000
		set_country_flag = KOR_great_revolt_began
	}
}

country_event = { #Japan attacks Korea
	id = japfor.86
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.86" }
	title = japfor.86.t
	desc = japfor.86.d
	picture = GFX_report_event_JAP_troops_gas

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = japfor.86.a
		declare_war_on = {
			target = KOR
			type = annex_everything
		}
	}
}

country_event = { #Japan informed about Landlords
	id = japfor.111
	immediate = { log = "[GetDateText]: [Root.GetName]: event japfor.111" }
	title = japfor.111.t
	desc = japfor.111.d
	picture = japan_revolt

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = japfor.111.a
		add_political_power = 30
		add_stability = -0.02
	}

	option = {
		name = japfor.111.b
		add_manpower = -300
		add_stability = 0.05
	}
}

### JAP Sabotage in China events ###

country_event = { #Pan-Asianism
	id = japfor.604
	title = japfor.604.t
	desc = japfor.604.d
	is_triggered_only = yes

	option = { #Unfortunate
		log = "[GetLogInfo]: event japfor.604 option japfor.604.a"
		name = japfor.604.a
		add_timed_idea = {
			idea = JAP_sabotage_1
			days = 180
		}
	}
}

country_event = { #Harmony and Reconciliation
	id = japfor.605
	title = japfor.605.t
	desc = japfor.605.d
	is_triggered_only = yes

	option = { #Unfortunate
		log = "[GetLogInfo]: event japfor.605 option japfor.604.a"
		name = japfor.604.a
		add_timed_idea = {
			idea = JAP_sabotage_2
			days = 180
		}
	}
}

country_event = { #Harmony and Reconciliation
	id = japfor.606
	title = japfor.606.t
	desc = japfor.606.d
	is_triggered_only = yes

	option = { #Unfortunate
		log = "[GetLogInfo]: event japfor.606 option japfor.604.a"
		name = japfor.604.a
		add_timed_idea = {
			idea = JAP_sabotage_3
			days = 180
		}
	}
}

###################################
### Japan Targets the Legations ###
###################################

country_event = {
	id = japfor.90
	title = japfor.90.t
	desc = japfor.90.d
	picture = GFX_report_event_generic_economy_growth

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.90 option japfor.90.a"
		name = japfor.90.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_war_with = JAP
			}
			modifier = {
				factor = 0
				tag = GER
			}
		}
		LEC_remove_from_legation_council = yes
		LEC = { country_event = japfor.91 }
		if = {
			limit = { is_faction_leader = yes }
			every_other_country = {
				limit = {
					has_country_flag = legation_council_member
					has_guaranteed = LEC
					is_ally_with = ROOT
				}
				country_event = japfor.90
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event japfor.90 option japfor.90.b"
		name = japfor.90.b
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				has_war_with = JAP
			}
			modifier = {
				add = 100
				tag = GER
			}
		}
		JAP = { country_event = japfor.92 }
	}
}

country_event = {
	id = japfor.91
	title = japfor.91.t
	desc = japfor.91.d
	picture = GFX_report_event_generic_economy_growth

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.91 option japfor.91.a"
		name = japfor.91.a
	}
}

country_event = {
	id = japfor.92
	title = japfor.92.t
	desc = japfor.92.d
	picture = GFX_report_event_generic_economy_growth

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.92 option japfor.92.a"
		name = japfor.92.a
	}
}

###NEW COLONIAL PATH###
###Indonesia###
country_event = { #Japanese demands - HOL
	id = japfor.176
	title = japfor.176.t

	desc = {
		text = japfor.176.d.HOL
		trigger = { NOT = { original_tag = INS } }
	}
	desc = {
		text = japfor.176.d.INS
		trigger = { original_tag = INS }
	}

	picture = GFX_report_event_JAP_ultimatum

	is_triggered_only = yes

	option = { #Germany
		log = "[GetLogInfo]: event japfor.176 option japfor.176.a"
		name = japfor.176.a
		trigger = {
			has_socialist_government = no
			OR = {
				is_in_faction_with = GER
				AND = {
					is_in_faction = no
					GER = {
						is_faction_leader = yes
						NOT = { has_war_with = ROOT }
					}
				}
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				original_tag = HOL
				has_socialist_government = no
				has_game_rule = { rule = HOL_forpol option = HOL_FORPOL_ENT }
			}
		}
		add_political_power = -25
		GER = { country_event = { id = japfor.177 days = 1 } }
	}

	option = { #face them alone
		log = "[GetLogInfo]: event japfor.176 option japfor.176.b"
		name = japfor.176.b
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				original_tag = HOL
				has_socialist_government = no
				has_game_rule = { rule = HOL_forpol option = HOL_FORPOL_ENT }
			}
		}
		add_war_support = -0.05
		JAP = { country_event = { id = japfor.182 days = 2 } }
	}

	option = { #surrender
		log = "[GetLogInfo]: event japfor.176 option japfor.176.c"
		name = japfor.176.c
		ai_chance = {
			base = 0
			modifier = {
				factor = 0
				original_tag = HOL
				has_socialist_government = no
				has_game_rule = { rule = HOL_forpol option = HOL_FORPOL_ENT }
			}
			modifier = {
				add = 100
				is_in_faction = no
				OR = {
					has_socialist_government = yes
					GER = { is_faction_leader = no }
					has_war_with = GER
				}
			}
		}
		add_stability = -0.10
		JAP = { country_event = { id = japfor.181 days = 2 } }
	}
}

country_event = { #Dutch beg for help
	id = japfor.177
	title = japfor.177.t

	desc = {
		text = japfor.177.d.HOL
		trigger = { NOT = { FROM = { original_tag = INS } } }
	}
	desc = {
		text = japfor.177.d.INS
		trigger = { FROM = { original_tag = INS } }
	}

	picture = GFX_report_event_generic_diplomacy4

	is_triggered_only = yes

	option = { #Agree
		log = "[GetLogInfo]: event japfor.177 option japfor.177.a"
		name = japfor.177.a
		ai_chance = { base = 100 }
		add_to_faction = FROM
		JAP = { country_event = { id = japfor.178 days = 1 } }
	}

	option = { #decline
		log = "[GetLogInfo]: event japfor.177 option japfor.177.b"
		name = japfor.177.b
		trigger = {
			NOT = { has_subject = FROM }
		}
		ai_chance = { base = 0 }
		add_political_power = -25
		if = {
			limit = { is_in_faction_with = FROM }
			FROM = { leave_faction = yes }
		}
		FROM = { country_event = { id = japfor.180 days = 1 } }
	}
}

country_event = { #Germany supports the netherlands
	id = japfor.178
	title = japfor.178.t
	desc = japfor.178.d
	picture = GFX_report_event_GER_ship

	is_triggered_only = yes

	option = { #attack
		log = "[GetLogInfo]: event japfor.178 option japfor.178.a"
		name = japfor.178.a
		if = {
			limit = { DEI = { is_subject_of = FROM.FROM } }
			create_wargoal = {
				target = DEI
				type = annex_everything
			}
		}
		else = {
			create_wargoal = {
				target = FROM.FROM
				type = annex_everything
			}
		}
	}

	option = { #Pull back
		log = "[GetLogInfo]: event japfor.178 option japfor.178.b"
		name = japfor.178.b
		ai_chance = { base = 0 }
		add_stability = -0.05
		FROM = { country_event = { id = japfor.179 days = 1 } } #GER
		FROM.FROM = { country_event = { id = japfor.179 days = 1 } } #HOL/INS
	}
}

country_event = { #The Japanese back down
	id = japfor.179
	title = japfor.179.t
	desc = japfor.179.d
	picture = GFX_report_event_JAP_foreign_minister

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.179 option japfor.179.a"
		name = japfor.179.a
		add_political_power = 50
	}
}

country_event = { #The Germans refuse!
	id = japfor.180
	title = japfor.180.t
	desc = japfor.180.d
	picture = GFX_report_event_JAP_battleship_kongo

	is_triggered_only = yes

	option = { #surrender
		log = "[GetLogInfo]: event japfor.180 option japfor.180.a"
		name = japfor.180.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					JAP = { any_enemy_country = { is_major = yes } }
					JAP = { surrender_progress > 0 }
				}
			}
		}
		add_stability = -0.10
		JAP = { country_event = { id = japfor.181 days = 2 } }
	}

	option = { #fight
		log = "[GetLogInfo]: event japfor.180 option japfor.180.b"
		name = japfor.180.b
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				OR = {
					JAP = { any_enemy_country = { is_major = yes } }
					JAP = { surrender_progress > 0 }
				}
			}
		}
		add_war_support = 0.05
		JAP = { country_event = { id = japfor.182 days = 2 } }
	}
}

country_event = { #The Dutch fold!
	id = japfor.181
	title = japfor.181.t
	desc = japfor.181.d
	picture = GFX_report_event_JAP_rising_sun

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.181 option japfor.181.a"
		name = japfor.181.a
		add_stability = 0.10
		if = {
			limit = { FROM = { original_tag = INS } }
			annex_country = { target = FROM }
		}
		else = {
			if = {
				limit = { is_ally_with = INS }
				set_temp_variable = { indonesia_target = INS }
			}
			else = {
				set_temp_variable = { indonesia_target = ROOT }
			}
			every_state = {
				limit = {
					owner = { is_ally_with = FROM }
					is_indonesia = yes
				}
				transfer_state_to = var:indonesia_target
			}
		}
	}
}

country_event = { #The Dutch resist!
	id = japfor.182
	title = japfor.182.t
	desc = japfor.182.d
	picture = GFX_report_event_HOL_dutch_army5

	is_triggered_only = yes

	option = { #war
		log = "[GetLogInfo]: event japfor.182 option japfor.182.a"
		name = japfor.182.a
		ai_chance = { base = 100 }
		create_wargoal = {
			target = FROM
			type = annex_everything
		}
	}

	option = { #back down
		log = "[GetLogInfo]: event japfor.182 option japfor.182.b"
		name = japfor.182.b
		ai_chance = { base = 0 }
		add_stability = -0.10
		FROM = { country_event = { id = japfor.183 days = 2 } }
	}
}

country_event = { #The Japanese back down!
	id = japfor.183
	title = japfor.183.t
	desc = japfor.183.d
	picture = GFX_report_event_japanese_reply

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.183 option japfor.183.a"
		name = japfor.183.a
		add_political_power = 50
	}
}

##########################################
### Fengtian Silver Crisis (Flamefang) ###
##########################################

country_event = { #Fengtian Requests a Bailout
	id = japfor.202
	title = japfor.202.t
	desc = japfor.202.d
	picture = GFX_report_event_CHI_official_announcement

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Accept
		log = "[GetLogInfo]: event japfor.202 option japfor.202.a"
		name = japfor.202.a
		add_political_power = 25
		add_timed_idea = {
			idea = JAP_fengtian_bailout
			days = 60
		}
		FNG = {
			country_event = fengtian.73
		}
		ai_chance = { base = 60 }
	}

	option = { #Refuse
		log = "[GetLogInfo]: event japfor.202 option japfor.202.b"
		name = japfor.202.b
		add_stability = -0.05
		FNG = {
			country_event = fengtian.74
		}
		ai_chance = { base = 40 }
	}
}

country_event = { #Fengtian blames Japan for the crisis
	id = japfor.203
	title = japfor.203.t
	desc = japfor.203.d
	picture = GFX_report_event_CHI_official_announcement

	fire_only_once = yes

	is_triggered_only = yes

	option = { #False accusations!
		log = "[GetLogInfo]: event japfor.203 option japfor.203.a"
		name = japfor.203.a
		add_political_power = -25
		FNG = {
			country_event = fengtian.75
		}
		ai_chance = { base = 80 }
	}

	option = { #Punish this insolence!
		log = "[GetLogInfo]: event japfor.203 option japfor.203.b"
		name = japfor.203.b
		add_stability = 0.02
		set_global_flag = fengtian_blames_japan
		FNG = {
			country_event = fengtian.22
		}
		ai_chance = { base = 20 }
	}
}

#Fengtian Expels the Japanese Military Mission

country_event = { #Fengtian Diplomatic
	id = japfor.204
	title = japfor.204.t
	desc = {
		text = japfor.204.d
		trigger = {
			FNG = {
				NOT = {
					FNG_mantetsu_level_very_high = yes
					FNG_mantetsu_level_high = yes
				}
			}
		}
	}
	desc = {
		text = japfor.204.d_mantetsu
		trigger = {
			FNG = {
				OR = {
					FNG_mantetsu_level_very_high = yes
					FNG_mantetsu_level_high = yes
				}
			}
		}
	}
	picture = GFX_report_event_CHI_official_announcement

	fire_only_once = yes

	is_triggered_only = yes

	immediate = {
		clear_JAP_FNG_hostile_AI = yes
	}

	option = { #Declare war
		log = "[GetLogInfo]: event japfor.204 option japfor.204.a"
		name = japfor.204.a
		ai_chance = { base = 30 }
		if = {
			limit = { has_subject = FNG }
			set_autonomy = {
				target = FNG
				autonomy_state = autonomy_free
			}
		}
		if = {
			limit = { is_in_faction_with = FNG }
			remove_from_faction = FNG
		}
		FNG = {
			hidden_effect = {
				every_owned_state = {
					teleport_armies = {
						limit = { is_ally_with = ROOT }
						to_state_array = owned_controlled_states
					}
				}
			}
			country_event = fengtian.77
		}
	}

	option = { #Force Fengtian
		log = "[GetLogInfo]: event japfor.204 option japfor.204.b"
		name = japfor.204.b
		trigger = {
			FNG = {
				OR = {
					FNG_mantetsu_level_very_high = yes
					FNG_mantetsu_level_high = yes
				}
			}
		}
		ai_chance = { base = 1000 }
		add_political_power = 25
		FNG = {
			country_event = fengtian.78
		}
	}

	option = { #Punish Fengtian
		log = "[GetLogInfo]: event japfor.204 option japfor.204.c"
		name = japfor.204.c
		ai_chance = { base = 70 }
		add_stability = -0.03
		FNG = {
			country_event = fengtian.22
		}
	}

	option = { #Do Nothing
		log = "[GetLogInfo]: event japfor.204 option japfor.204.e"
		name = japfor.204.e
		ai_chance = { base = 0 }
		add_stability = -0.10
	}
}

country_event = { #Fengtian non-diplomatic
	id = japfor.205
	title = japfor.205.t
	desc = japfor.205.d
	picture = GFX_report_event_CHI_official_announcement

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Send an ultimatum
		log = "[GetLogInfo]: event japfor.205 option japfor.205.a"
		name = japfor.205.a
		ai_chance = { base = 100 }
		set_global_flag = jap_fengtian_ultimatum
		FNG = {
			country_event = { id = fengtian.78 days = 2 }
		}
		add_political_power = 25
	}

	option = { #Do Nothing
		log = "[GetLogInfo]: event japfor.205 option japfor.205.b"
		name = japfor.205.b
		ai_chance = { base = 0 }
		add_stability = -0.10
	}
}

#The Anshan Incident

country_event = {
	id = japfor.206
	title = japfor.206.t
	desc = japfor.206.d
	picture = GFX_report_event_CHI_official_announcement

	fire_only_once = yes

	is_triggered_only = yes

	option = { #Punish this insolence!
		log = "[GetLogInfo]: event japfor.206 option japfor.206.a"
		name = japfor.206.a
		add_political_power = 50
		FNG = {
			country_event = fengtian.22
		}
		ai_chance = { base = 40 }
	}

	option = { #Denounce Fengtian
		log = "[GetLogInfo]: event japfor.206 option japfor.206.b"
		name = japfor.206.b
		add_political_power = 10
		FNG = {
			country_event = fengtian.113
		}
		ai_chance = { base = 40 }
	}

	option = { #Stay silent
		log = "[GetLogInfo]: event japfor.206 option japfor.206.c"
		name = japfor.206.c
		add_political_power = -50
		ai_chance = { base = 20 }
	}
}

###########################
### Russia Is Defeated  ###
###########################

country_event = { #Russia bear is dying
	id = japfor.213
	title = japfor.213.t
	desc = japfor.213.d
	picture = GFX_report_event_soviet_soldiers

	fire_only_once = yes

	trigger = {
		tag = RUS
		has_war_with = JAP
		is_valid_peace_target = yes
		JAP = {
			is_valid_peace_target = yes
			is_ally_with = 562.controller #Okhotsk
			is_ally_with = 568.controller #Krasnoyarsk
			is_ally_with = 653.controller #Yekaterinburg
		}
	}

	option = {
		log = "[GetLogInfo]: event japfor.213 option japfor.213.a"
		name = japfor.213.a
		ai_chance = { base = 100 }
		JAP = {
			country_event = japfor.214
		}
	}

	option = {
		log = "[GetLogInfo]: event japfor.213 option japfor.213.b"
		name = japfor.213.b
		ai_chance = { base = 0 }
		add_stability = -0.25
		add_war_support = -0.25
	}
}

country_event = { #Russia offers us peace
	id = japfor.214
	title = japfor.214.t
	desc = japfor.214.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes

	fire_only_once = yes

	option = { #Peace
		log = "[GetLogInfo]: event japfor.214 option japfor.214.a"
		name = japfor.214.a
		ai_chance = { base = 100 }
		add_stability = 0.10
		RUS = {
			white_peace_with_ROOT = yes
			every_owned_state = {
				limit = {
					OR = {
						state = 537 #Sakhalin
						state = 555 #Kuril Islands
						is_siberia = yes
						is_russian_far_east = yes
					}
				}
				transfer_state_to = ROOT
			}
			diplomatic_relation = {
				country = FROM
				relation = non_aggression_pact
			}
			if = {
				limit = {
					TRM = {
						OR = {
							is_ally_with = ROOT
							is_guaranteed_by = ROOT
						}
					}
				}
				diplomatic_relation = {
					country = TRM
					relation = non_aggression_pact
				}
			}
		}
	}
	option = { #Fight on
		log = "[GetLogInfo]: event japfor.214 option japfor.214.b"
		name = japfor.214.b
		ai_chance = { base = 0 }
		add_stability = -0.15
		add_war_support = -0.15
	}
}

country_event = { #Hawaii accepted our offer
	id = japfor.218
	title = japfor.218.t
	desc = japfor.218.d
	picture = GFX_report_event_chinese_japanese_handshake
	is_triggered_only = yes
	option = {
		log = "[GetLogInfo]: event japfor.218 option japfor.218.a"
		name = japfor.218.a
		add_to_faction = HAW
	}
}

#########################
### Japan Seizes Guam ###
#########################

country_event = { # Japan seizes Guam
	id = japfor.225
	title = japfor.225.t
	desc = japfor.225.d
	picture = GFX_report_event_USA_guamtake

	is_triggered_only = yes

	trigger = {
		NOT = { owns_state = 638 }
	}

	option = {
		log = "[GetLogInfo]: event japfor.225 option japfor.225.a"
		name = japfor.225.a
		ai_chance = { base = 100 }
		random_country = {
			limit = { owns_state = 638 }
			add_opinion_modifier = { target = ROOT modifier = KR_outraged }
			country_event = japfor.226
		}
		add_state_claim = 631 #Midway Island
		add_state_claim = 632 #Wake Island
	}

	option = {
		log = "[GetLogInfo]: event japfor.225 option japfor.225.b"
		name = japfor.225.b
		ai_chance = { base = 0 }
		random_country = {
			limit = { owns_state = 638 }
			add_opinion_modifier = { target = ROOT modifier = KR_outraged }
			country_event = japfor.226
		}
	}

	option = {
		log = "[GetLogInfo]: event japfor.225 option japfor.225.c"
		name = japfor.225.c
		ai_chance = { base = 0 }
		add_stability = -0.02
	}
}

country_event = { # Japan seizes Guam
	id = japfor.226
	title = japfor.226.t
	desc = japfor.226.d
	picture = GFX_report_event_USA_guamtake

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.226 option japfor.226.a"
		name = japfor.226.a
		FROM = { transfer_state = 638 }
		remove_state_core = 638
		add_state_claim = 638
	}
}

####################################
### Japan Seizes Motor Companies ###
####################################

country_event = {
	id = japfor.227
	title = japfor.227.t
	desc = japfor.227.d
	picture = GFX_report_event_generic_economy_growth

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.227 option japfor.227.a"
		name = japfor.227.a
		add_political_power = -25
		add_opinion_modifier = {
			target = JAP
			modifier = JAP_motor_1
		}
	}
}

###################
### Peace Deals ###
###################

country_event = { #hidden event to fire the peace mission
	id = japfor.229

	hidden = yes

	trigger = {
		original_tag = JAP
		has_war = yes
		is_valid_peace_target = yes
		NOT = { surrender_progress > 0.15 }
		NOT = { has_active_mission = JAP_fading_sun_timer }
		OR = {
			is_ai = no
			NOT = { has_global_flag = JAP_will_surrender }
		}
		KOR = {
			any_core_state = { is_owned_by_ROOT_or_ally = yes }
			all_core_state = {
				OR = {
					is_owned_by_ROOT_or_ally = no
					is_controlled_by_ROOT_or_ally = no
				}
			}
		}
		OR = {
			AND = {
				any_enemy_country = {
					is_chinese_tag = yes
					OR = {
						china_is_potential_government = yes
						is_faction_leader = yes #United Front
					}
					is_valid_peace_target = yes
				}
				if = {
					limit = { is_ally_with = MAN }
					MAN = { has_capitulated = yes }
				}
				else_if = {
					limit = { NOT = { has_war_with = FNG } }
					OR = {
						NOT = { country_exists = FNG }
						FNG = { has_capitulated = yes }
					}
				}
				if = {
					limit = { is_ally_with = LEC }
					LEC = { has_capitulated = yes }
				}
				NOT = {
					any_allied_country = {
						is_tag_in_china_area = yes
						has_capitulated = no
					}
					any_owned_state = {
						is_china_claim_area = yes
						NOT = { state = 524 } #Taiwan
						NOT = { state = 745 } #Kwantung
						is_controlled_by = ROOT
					}
				}
			}
			AND = {
				OR = {
					RUS = {
						has_war_with = ROOT
						is_valid_peace_target = yes
					}
					SOV = {
						has_war_with = ROOT
						is_valid_peace_target = yes
					}
				}
				if = {
					limit = {
						country_exists = MAN
						is_ally_with = MAN
					}
					MAN = { has_capitulated = yes }
				}
				if = {
					limit = {
						OR = {
							RUS = { has_war_with = FNG }
							SOV = { has_war_with = FNG }
						}
						FNG = { has_capitulated = yes }
					}
				}
				OR = {
					NOT = { country_exists = TRM }
					TRM = { has_capitulated = yes }
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 10
	}

	option = {
		log = "[GetLogInfo]: event japfor.229 option 1"
		activate_mission = JAP_fading_sun_timer
		every_enemy_country = {
			limit = {
				is_ai = no
				OR = {
					is_tag_in_china_area = yes
					is_russian_tag = yes
				}
			}
			activate_mission = JAP_fading_sun_timer_enemy
		}
	}
}

### China ###
country_event = { #Japan Offers Peace
	id = japfor.230
	title = japfor.230.t

	desc = {
		text = japfor.230.d.taiwan_kept
		trigger = {
			JAP = {
				owns_state = 524
				NOT = {
					enemies_naval_strength_ratio > 4
					AND = {
						surrender_progress > 0.15
						any_home_area_neighbor_country = { is_ally_with = ROOT }
					}
				}
			}
			NOT = {
				var:524.controller = {
					is_tag_in_china_area = yes
					has_war_with = event_target:japan
				}
			}
		}
	}
	desc = {
		text = japfor.230.d.taiwan_handed_over
		trigger = {
			JAP = {
				owns_state = 524
				OR = {
					enemies_naval_strength_ratio > 4
					AND = {
						surrender_progress > 0.15
						any_home_area_neighbor_country = { is_ally_with = ROOT }
					}
				}
			}
			NOT = {
				var:524.controller = {
					is_tag_in_china_area = yes
					has_war_with = event_target:japan
				}
			}
		}
	}
	desc = {
		text = japfor.230.d.taiwan_occupied
		trigger = {
			JAP = {
				owns_state = 524
				var:524.controller = {
					is_tag_in_china_area = yes
					has_war_with = event_target:japan
				}
			}
		}
	}
	desc = {
		text = japfor.230.d.no_taiwan
		trigger = {
			NOT = { JAP = { owns_state = 524 } } #Taiwan
		}
	}

	picture = GFX_report_event_JAP_meeting

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.230 option japfor.230.a"
		name = japfor.230.a
		ai_chance = { base = 100 }
		set_country_flag = JAP_accepted_peace
		hidden_effect = {
			every_subject_country = { set_country_flag = JAP_accepted_peace }
			every_other_country = {
				limit = { is_in_faction_with = ROOT }
				set_country_flag = JAP_accepted_peace
			}
		}
		effect_tooltip = {
			### Free Korea and all Chinese subjects
			every_other_country = {
				limit = {
					is_subject_of = event_target:japan
					OR = {
						original_tag = KOR
						is_tag_in_china_area = yes
						AND = {
							has_capitulated = yes
							capital_scope = { controller = { is_ally_with = ROOT } }
						}
					}
				}
				overlord = {
					set_autonomy = {
						target = PREV
						autonomy_state = autonomy_free
					}
				}
			}

			### Remove Korea and all Chinese allies from the CPS
			every_other_country = {
				limit = {
					is_in_faction_with = event_target:japan
					OR = {
						original_tag = KOR
						is_tag_in_china_area = yes
						AND = {
							has_capitulated = yes
							capital_scope = { controller = { is_ally_with = ROOT } }
						}
					}
				}
				leave_faction = yes
			}

			### Give all mainland Chinese states to the controller or CHN
			every_state = {
				limit = {
					owner = {
						is_ally_with = event_target:japan
						NOT = {
							original_tag = KOR
							is_tag_in_china_area = yes
							AND = {
								has_capitulated = yes
								capital_scope = { controller = { is_ally_with = ROOT } }
							}
						}
					}
					is_china_claim_area = yes
					NOT = { state = 524 } #Taiwan
					controller = { is_tag_in_china_area = yes }
				}
				controller = {
					if = {
						limit = { is_subject = yes }
						overlord = { transfer_state = PREV.PREV }
					}
					else = {
						transfer_state = PREV
					}
				}
			}
			every_state = {
				limit = {
					owner = {
						is_ally_with = event_target:japan
						NOT = {
							original_tag = KOR
							is_tag_in_china_area = yes
							AND = {
								has_capitulated = yes
								capital_scope = { controller = { is_ally_with = ROOT } }
							}
						}
					}
					is_china_claim_area = yes
					NOT = { state = 524 } #Taiwan
					controller = { is_tag_in_china_area = no }
				}
				transfer_state_to = CHN
			}

			### Handle Taiwan
			if = {
				limit = {
					JAP = {
						owns_state = 524
						OR = {
							enemies_naval_strength_ratio > 4
							AND = {
								surrender_progress > 0.15
								any_home_area_neighbor_country = { is_ally_with = ROOT }
							}
							var:524.controller = {
								is_tag_in_china_area = yes
								has_war_with = event_target:japan
							}
						}
					}
				}
				event_target:japan = { remove_state_claim = 524 }
				if = {
					limit = {
						var:524.controller = {
							is_tag_in_china_area = yes
							has_war_with = event_target:japan
						}
					}
					var:524.controller = {
						if = {
							limit = {
								is_subject = yes
								is_chinese_tag = no
							}
							overlord = { transfer_state = 524 }
						}
						else = {
							transfer_state = 524
						}
					}
				}
				else = {
					CHN = { transfer_state = 524 }
				}
			}

			### Handle Korea
			every_state = {
				limit = { is_core_of = KOR }
				remove_claim_by = event_target:japan
				if = {
					limit = {
						is_owned_by = event_target:japan
						controller = { is_tag_in_china_area = yes }
					}
					controller = {
						if = {
							limit = { is_subject = yes }
							overlord = { transfer_state = PREV.PREV }
						}
						else = {
							transfer_state = PREV
						}
					}
				}
			}
		}
		JAP_china_peace_next_country = yes
	}

	option = {
		log = "[GetLogInfo]: event japfor.230 option japfor.230.b"
		name = japfor.230.b
		ai_chance = { base = 0 }
		set_country_flag = JAP_refused_peace
		hidden_effect = {
			every_subject_country = { set_country_flag = JAP_refused_peace }
			every_other_country = {
				limit = { is_in_faction_with = ROOT }
				set_country_flag = JAP_refused_peace
			}
		}
		add_political_power = -100
		add_war_support = -0.1
		event_target:japan = { country_event = japfor.233 }
		JAP_china_peace_next_country = yes
	}
}

country_event = { #Peace Goes Into Effect
	id = japfor.231

	title = {
		text = japfor.231.t.peace
		trigger = {
			has_event_target = JAP_peace_with_china
		}
	}
	title = {
		text = japfor.231.t.no_peace
		trigger = {
			NOT = { has_event_target = JAP_peace_with_china }
		}
	}

	desc = {
		text = japfor.231.d.peace_taiwan_kept
		trigger = {
			has_event_target = JAP_peace_with_china
			owns_state = 524 #Taiwan
			controls_state = 524 #Taiwan
			NOT = {
				enemies_naval_strength_ratio > 4
				AND = {
					surrender_progress > 0.15
					any_home_area_neighbor_country = { is_ally_with = ROOT }
				}
			}
		}
	}
	desc = {
		text = japfor.231.d.peace_taiwan_handed_over
		trigger = {
			has_event_target = JAP_peace_with_china
			owns_state = 524 #Taiwan
			controls_state = 524 #Taiwan
			OR = {
				enemies_naval_strength_ratio > 4
				AND = {
					surrender_progress > 0.15
					any_home_area_neighbor_country = { is_ally_with = ROOT }
				}
			}
		}
	}
	desc = {
		text = japfor.231.d.peace_taiwan_occupied
		trigger = {
			has_event_target = JAP_peace_with_china
			owns_state = 524 #Taiwan
			var:524.controller = {
				has_war_with = ROOT
				has_country_flag = JAP_accepted_peace
			}
		}
	}
	desc = {
		text = japfor.231.d.peace_no_taiwan
		trigger = {
			has_event_target = JAP_peace_with_china
			OR = {
				NOT = { owns_state = 524 } #Taiwan
				var:524.controller = {
					has_war_with = ROOT
					NOT = { has_country_flag = JAP_accepted_peace }
				}
			}
		}
	}
	desc = {
		text = japfor.231.d.no_peace
		trigger = {
			NOT = { has_event_target = JAP_peace_with_china }
		}
	}
	picture = GFX_report_event_JAP_hirohito_addressing

	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				any_enemy_country = {
					is_tag_in_china_area = yes
					is_valid_peace_target = yes
					has_country_flag = JAP_accepted_peace
				}
			}
			save_event_target_as = JAP_peace_with_china
		}
	}

	option = {
		log = "[GetLogInfo]: event japfor.231 option japfor.231.a"
		name = japfor.231.a
		trigger = {
			has_event_target = JAP_peace_with_china
		}
		set_global_flag = JAP_defeated_by_china
		clr_global_flag = JAP_will_surrender

		### Free Korea and all Chinese subjects
		every_subject_country = {
			limit = {
				OR = {
					original_tag = KOR
					is_tag_in_china_area = yes
					AND = {
						has_capitulated = yes
						capital_scope = { controller = { has_country_flag = JAP_accepted_peace } }
					}
				}
			}
			overlord = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_free
				}
			}
		}

		### Remove Korea and all Chinese allies from the CPS
		every_other_country = {
			limit = {
				is_in_faction_with = ROOT
				OR = {
					original_tag = KOR
					is_tag_in_china_area = yes
					AND = {
						has_capitulated = yes
						capital_scope = { controller = { has_country_flag = JAP_accepted_peace } }
					}
				}
			}
			leave_faction = yes
		}

		### Give all mainland Chinese states to the controller or CHN
		every_state = {
			limit = {
				owner = { is_ally_with = ROOT }
				is_china_claim_area = yes
				NOT = { state = 524 } #Taiwan
				controller = {
					is_tag_in_china_area = yes
					has_war_with = ROOT
				}
			}
			controller = {
				if = {
					limit = { is_subject = yes }
					overlord = { transfer_state = PREV.PREV }
				}
				else = {
					transfer_state = PREV
				}
			}
		}
		every_state = {
			limit = {
				owner = { is_ally_with = ROOT }
				is_china_claim_area = yes
				NOT = { state = 524 } #Taiwan
			}
			transfer_state_to = CHN
		}

		### Handle Taiwan
		if = {
			limit = {
				owns_state = 524
				OR = {
					var:524.controller = {
						has_war_with = ROOT
						has_country_flag = JAP_accepted_peace
					}
					AND = {
						controls_state = 524
						OR = {
							enemies_naval_strength_ratio > 4
							AND = {
								surrender_progress > 0.15
								any_home_area_neighbor_country = { is_ally_with = ROOT }
							}
						}
					}
				}
			}
			remove_state_core = 524
			remove_state_claim = 524
			if = {
				limit = {
					var:524.controller = {
						has_war_with = ROOT
						has_country_flag = JAP_accepted_peace
					}
				}
				var:524.controller = {
					if = {
						limit = {
							is_subject = yes
							is_chinese_tag = no
						}
						overlord = { transfer_state = 524 }
					}
					else = {
						transfer_state = 524
					}
				}
			}
		}

		### Handle Korea
		KOR = {
			every_core_state = {
				remove_core_of = ROOT
				remove_claim_by = ROOT
				if = {
					limit = {
						is_owned_by = ROOT
						controller = {
							is_tag_in_china_area = yes
							has_country_flag = JAP_accepted_peace
						}
					}
					controller = {
						if = {
							limit = { is_subject = yes }
							overlord = { transfer_state = PREV.PREV }
						}
						else = {
							transfer_state = PREV
						}
					}
				}
			}
		}

		### Remove LEC's Japanese influence
		if = {
			limit = { country_exists = LEC }
			LEC = {
				if = {
					limit = { is_subject = no }
					country_event = { id = lec.130 hours = 12 }
				}
				if = {
					limit = { has_war_with = JAP }
					set_country_flag = LEC_had_war_with_JAP
				}
			}
			LEC_remove_from_legation_council = yes
		}

		### Disable Fengtian Mantetsu mechanic
		FNG_break_with_japan = yes

		### Disable Japanese ambitions towards China
		every_state = {
			limit = {
				is_china_claim_area = yes
				NOT = { state = 524 } #Taiwan
			}
			remove_core_of = JAP
			remove_claim_by = JAP
			clear_variable = ambition_area_JAP
		}

		### Peace everyone out
		every_enemy_country = {
			limit = {
				is_tag_in_china_area = yes
				has_country_flag = JAP_accepted_peace
			}
			white_peace_with_ROOT = yes
			hidden_effect = { country_event = japfor.232 }
		}

		### Remove guarantees and wargoals, create NAPs and truces
		every_country = {
			limit = {
				is_tag_in_china_area = yes
				NOT = {
					is_ally_with = ROOT
					has_war_with = ROOT
				}
			}
			if = {
				limit = { is_guaranteed_by = ROOT }
				ROOT = {
					diplomatic_relation = {
						country = PREV
						relation = guarantee
						active = no
					}
				}
			}
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
			}
			set_truce = { target = ROOT days = 730 }
		}

		### Clear flags
		hidden_effect = {
			every_country = {
				clr_country_flag = JAP_accepted_peace
				clr_country_flag = JAP_refused_peace
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event japfor.231 option japfor.231.b"
		name = japfor.231.b
		trigger = {
			NOT = { has_event_target = JAP_peace_with_china }
		}
		clr_global_flag = JAP_will_surrender

		### Clear flags
		hidden_effect = {
			every_country = {
				clr_country_flag = JAP_accepted_peace
				clr_country_flag = JAP_refused_peace
			}
		}
	}
}

country_event = { #End of the Sino-Japanese War
	id = japfor.232
	title = japfor.232.t
	desc = japfor.232.d
	picture = GFX_report_event_CHI_victory2

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_truce = { target = FROM days = 730 }
			scoped_play_song = "song_of_victory"
		}
	}

	option = {
		log = "[GetLogInfo]: event japfor.232 option japfor.232.a"
		name = japfor.232.a
		effect_tooltip = {
			set_truce = { target = FROM days = 730 }
		}
	}
}

country_event = { #FROM Refuses Peace
	id = japfor.233
	title = japfor.233.t
	desc = japfor.233.d
	picture = GFX_report_event_japanese_reply

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.233 option japfor.233.a"
		name = japfor.233.a
	}
}

### Russia ###
country_event = { #Japan Offers Peace
	id = japfor.238
	title = japfor.238.t
	desc = japfor.238.d
	picture = GFX_report_event_JAP_meeting

	is_triggered_only = yes
	timeout_days = 4

	option = {
		log = "[GetLogInfo]: event japfor.238 option japfor.238.a"
		name = japfor.238.a
		ai_chance = {
			base = 100
			modifier = {
				add = -30
				FROM = { has_war_with = 361.owner } #USA
				NOT = { has_war_with = 361.owner }
			}
			modifier = {
				add = -20
				FROM = { has_war_with = CAN }
				NOT = { has_war_with = CAN }
			}
			modifier = {
				add = -20
				FROM = { has_war_with = ENG }
				NOT = { has_war_with = ENG }
			}
			modifier = {
				add = -15
				FROM = { has_war_with = AST }
				NOT = { has_war_with = AST }
			}
			modifier = {
				add = -15
				FROM = { has_war_with = GER }
				NOT = { has_war_with = GER }
			}
			modifier = {
				add = -10
				FROM = { has_war_with = HOL }
				NOT = { has_war_with = HOL }
			}
		}
		effect_tooltip = {
			every_state = {
				limit = {
					is_owned_by = FROM
					OR = {
						state = 537 #Sakhalin
						AND = {
							state = 555 #Kuril Islands
							OR = {
								is_claim_or_core_of_ROOT = yes
								controller = { is_ally_with = ROOT }
							}
						}
						AND = {
							is_core_of = KOR
							controller = { is_ally_with = ROOT }
						}
						AND = {
							is_manchuria = yes
							OR = {
								controller = { is_ally_with = ROOT }
								var:716.controller = { is_ally_with = ROOT } #Shenyang
								MAN = { is_subject_of = ROOT }
							}
						}
						AND = {
							is_china_proper = yes
							OR = {
								controller = { is_ally_with = ROOT }
								var:608.controller = { is_ally_with = ROOT } #Beijing
								FNG = { is_ally_with = ROOT }
							}
						}
						is_claim_or_core_of_ROOT = yes
						ROOT = {
							any_allied_country = {
								PREV.PREV = { is_claim_or_core_of_PREV = yes }
							}
						}
						ROOT = {
							any_subject_country = {
								PREV.PREV = { is_claim_or_core_of_PREV = yes }
							}
						}
					}
				}
				transfer_state_to = ROOT
			}
			every_other_country = {
				limit = {
					is_subject_of = FROM
					OR = {
						is_tag_in_china_area = yes
						original_tag = TRM
						original_tag = SIB
						original_tag = KOR
					}
				}
				overlord = {
					set_autonomy = {
						target = PREV
						autonomy_state = autonomy_free
					}
				}
			}
			every_other_country = {
				limit = {
					is_in_faction_with = FROM
					OR = {
						is_tag_in_china_area = yes
						original_tag = TRM
						original_tag = SIB
						original_tag = KOR
					}
				}
				leave_faction = yes
			}
			FROM = { white_peace_with_ROOT = yes }
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
			}
			set_truce = { target = ROOT days = 730 }
		}
		FROM = { country_event = japfor.239 }
	}

	option = {
		log = "[GetLogInfo]: event japfor.238 option japfor.238.b"
		name = japfor.238.b
		ai_chance = {
			base = 0
			modifier = {
				add = 30
				FROM = { has_war_with = 361.owner } #USA
				NOT = { has_war_with = 361.owner }
			}
			modifier = {
				add = 20
				FROM = { has_war_with = CAN }
				NOT = { has_war_with = CAN }
			}
			modifier = {
				add = 20
				FROM = { has_war_with = ENG }
				NOT = { has_war_with = ENG }
			}
			modifier = {
				add = 15
				FROM = { has_war_with = AST }
				NOT = { has_war_with = AST }
			}
			modifier = {
				add = 15
				FROM = { has_war_with = GER }
				NOT = { has_war_with = GER }
			}
			modifier = {
				add = 10
				FROM = { has_war_with = HOL }
				NOT = { has_war_with = HOL }
			}
			modifier = {
				factor = 0
				FROM = { is_ai = no }
			}
		}
		set_country_flag = JAP_refused_peace
		add_political_power = -100
		add_war_support = -0.1
		FROM = { country_event = japfor.241 }
	}
}

country_event = { #Russia Accepts Peace
	id = japfor.239
	title = japfor.239.t
	desc = japfor.239.d
	picture = GFX_report_event_JAP_hirohito_addressing

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.239 option japfor.239.a"
		name = japfor.239.a
		clr_global_flag = JAP_will_surrender

		### Hand over Sakhalin, the Kurils and all claims of RUS/SOV and its allies
		every_owned_state = {
			limit = {
				set_temp_variable = { current_state = THIS }
				OR = {
					state = 537 #Sakhalin
					AND = {
						state = 555 #Kuril Islands
						OR = {
							is_claim_or_core_of_FROM = yes
							controller = { is_ally_with = FROM }
						}
					}
					AND = {
						is_core_of = KOR
						controller = { is_ally_with = FROM }
					}
					AND = {
						is_manchuria = yes
						OR = {
							controller = { is_ally_with = FROM }
							var:716.controller = { is_ally_with = FROM }
							MAN = { is_subject_of = FROM }
						}
					}
					AND = {
						is_china_proper = yes
						OR = {
							controller = { is_ally_with = FROM }
							var:608.controller = { is_ally_with = FROM }
							FNG = { is_ally_with = FROM }
						}
					}
					ROOT = {
						any_enemy_country = {
							is_ally_with = FROM
							var:current_state = { is_claim_or_core_of_PREV = yes }
						}
					}
				}
			}
			transfer_state_to = FROM
		}

		### Remove all Russian ambition areas from the CPS
		every_subject_country = {
			limit = {
				OR = {
					is_tag_in_china_area = yes
					original_tag = TRM
					original_tag = SIB
					original_tag = KOR
				}
			}
			overlord = {
				set_autonomy = {
					target = PREV
					autonomy_state = autonomy_free
				}
			}
		}
		every_other_country = {
			limit = {
				is_in_faction_with = ROOT
				OR = {
					is_tag_in_china_area = yes
					original_tag = TRM
					original_tag = SIB
					original_tag = KOR
				}
			}
			leave_faction = yes
		}

		### Peace everyone out
		FROM = {
			white_peace_with_ROOT = yes
			country_event = japfor.240
		}

		### Remove guarantees and wargoals, create NAPs and truces
		every_country = {
			limit = {
				is_ally_with = FROM
				NOT = { has_war_with = ROOT }
			}
			diplomatic_relation = {
				country = ROOT
				relation = non_aggression_pact
			}
			set_truce = { target = ROOT days = 730 }
		}
	}
}

country_event = { #Peace with Japan
	id = japfor.240
	title = japfor.240.t
	desc = japfor.240.d
	picture = GFX_report_event_japanese_reply

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.240 option japfor.240.a"
		name = japfor.240.a
	}
}

country_event = { #FROM Refuses Peace
	id = japfor.241
	title = japfor.241.t
	desc = japfor.241.d
	picture = GFX_report_event_japanese_reply

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.241 option japfor.241.a"
		name = japfor.241.a
	}
}

### Japan capitulates ###
country_event = { #Inform former faction members of peace
	id = japfor.251
	title = japfor.251.t
	desc = japfor.251.d
	picture = GFX_report_event_japanese_chinese_surrender

	trigger = { is_ai = no }

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.251 option japfor.251.a"
		name = japfor.251.a
	}
}

# The Fading Sun
news_event = {
	id = japfor.252
	immediate = { log = "[GetLogInfo]: event japfor.252" }
	title = japfor.252.t
	desc = japfor.252.d
	picture = GFX_news_event_JAP_coup

	trigger = {
		wants_world_news = yes
	}

	major = yes
	show_major = {
		regional_asia_news = yes
	}

	fire_for_sender = no
	is_triggered_only = yes

	option = {
		name = japfor.251.a
	}
}

#Involving Anqing

country_event = { #aid anqing?
	id = japfor.257
	title = japfor.257.t
	desc = japfor.257.d
	picture = GFX_report_event_ANQ_chen_tiaoyuan

	is_triggered_only = yes

	option = { #yes reconstruction
		log = "[GetLogInfo]: event japfor.257 option japfor.257.a"
		name = japfor.257.a
		ai_chance = { base = 60 }
		ANQ = { set_country_flag = ANQ_fengjapan_aids_reconstruction }
		FNG = {
			country_event = { id = fengtian.242 days = 1 } #Japan yes
		}
	}

	option = { #not worth it
		log = "[GetLogInfo]: event japfor.257 option japfor.257.b"
		name = japfor.257.b
		ai_chance = { base = 40 }
		hidden_effect = {
			FNG = {
				country_event = { id = fengtian.242 days = 1 } #Japan no
			}
		}
	}
}

country_event = { #start reconstruction
	id = japfor.258
	title = japfor.258.t
	desc = japfor.258.d
	picture = GFX_report_event_CHI_economic

	is_triggered_only = yes

	option = { #okay
		log = "[GetLogInfo]: event japfor.258 option japfor.258.a"
		name = japfor.258.a
		add_timed_idea = {
			idea = JAP_ANQ_Reconstruction_Plan
			days = 270
		}
	}
}

country_event = { #anq abandons reclamtion - feng cuts out
	id = japfor.259
	title = japfor.259.t
	desc = japfor.259.d
	picture = GFX_report_event_CHI_ambassador_announcement

	is_triggered_only = yes

	option = { #okay
		log = "[GetLogInfo]: event japfor.259 option japfor.259.a"
		name = japfor.259.a
	}
}

country_event = { #anq abandons reclamtion - feng tolerates
	id = japfor.260
	title = japfor.260.t
	desc = japfor.260.d
	picture = GFX_report_event_CHI_official_announcement

	is_triggered_only = yes

	option = { #okay
		log = "[GetLogInfo]: event japfor.260 option japfor.260.a"
		name = japfor.260.a
	}
}

country_event = { #anq cuts ties fully itself
	id = japfor.261
	title = japfor.261.t
	desc = japfor.261.d
	picture = GFX_report_event_ANQ_chen_tiaoyuan

	is_triggered_only = yes

	option = { #okay
		log = "[GetLogInfo]: event japfor.261 option japfor.261.a"
		name = japfor.261.a
		if = {
			limit = {
				has_idea = JAP_ANQ_Reconstruction_Plan
			}
			remove_ideas = JAP_ANQ_Reconstruction_Plan
		}
	}
}

########################
###New Foreign Policy###
########################

country_event = { #Japan lays claim to the American Pacific
	id = japfor.316
	title = japfor.316.t
	desc = japfor.316.d
	picture = GFX_report_event_USA_guamtake

	is_triggered_only = yes

	option = { #Let them have the islands, we have more pressing issues
		log = "[GetLogInfo]: event japfor.316 option japfor.316.a"
		name = japfor.316.a
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				is_american_tag = yes
				OR = {
					NOT = { has_global_flag = USA_civil_war_over_flag }
					AND = {
						tag = CAL
						OR = {
							FROM = { has_country_flag = ACW_supported_CAL }
							has_game_rule = { rule = CAL_forpol option = CAL_FORPOL_JAP }
						}
					}
				}
			}
		}
		FROM = { country_event = japfor.317 }
	}

	option = { #This is an act of war!
		log = "[GetLogInfo]: event japfor.316 option japfor.316.b"
		name = japfor.316.b
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				is_american_tag = yes
				NOT = {
					has_global_flag = USA_civil_war_over_flag
					AND = {
						tag = CAL
						OR = {
							FROM = { has_country_flag = ACW_supported_CAL }
							has_game_rule = { rule = CAL_forpol option = CAL_FORPOL_JAP }
						}
					}
				}
			}
		}
		FROM = { country_event = japfor.318 }
	}
}

country_event = { #The American islands are ours!
	id = japfor.317
	title = japfor.317.t
	desc = japfor.317.d
	picture = GFX_report_event_japanese_soldiers_03

	is_triggered_only = yes

	option = { #Subarashi!
		log = "[GetLogInfo]: event japfor.317 option japfor.317.a"
		name = japfor.317.a
		add_stability = 0.05
		FROM = {
			every_owned_state = {
				limit = { is_american_pacific_islands = yes }
				transfer_state_to = FROM
			}
		}
	}
}

country_event = { #The Americans object
	id = japfor.318
	title = japfor.318.t
	desc = japfor.318.d
	picture = GFX_report_event_usa_heavy_cruiser

	is_triggered_only = yes

	option = { #Prepare the invasion forces!
		log = "[GetLogInfo]: event japfor.318 option japfor.318.a"
		name = japfor.318.a
		ai_chance = {
			base = 100
			modifier = {
				add = -40
				has_global_flag = USA_civil_war_over_flag
			}
			modifier = {
				factor = 0
				FROM = { tag = CAL }
				OR = {
					has_country_flag = ACW_supported_CAL
					has_game_rule = { rule = CAL_forpol option = CAL_FORPOL_JAP }
				}
			}
			modifier = {
				factor = 0
				strength_ratio = { tag = FROM ratio < 1 }
				FROM = { enemies_strength_ratio < 1 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 1.5 }
				FROM = { enemies_strength_ratio < 1 }
			}
			modifier = {
				factor = 2
				strength_ratio = { tag = FROM ratio > 2 }
			}
		}
		create_wargoal = {
			target = FROM
			type = take_claimed_state
			generator = { 629 630 631 632 642 726 727 }
		}
	}
	option = { #We will back down...
		log = "[GetLogInfo]: event japfor.318 option japfor.318.b"
		name = japfor.318.b
		ai_chance = {
			base = 0
			modifier = {
				add = 40
				has_global_flag = USA_civil_war_over_flag
			}
			modifier = {
				add = 100
				FROM = { tag = CAL }
				OR = {
					has_country_flag = ACW_supported_CAL
					has_game_rule = { rule = CAL_forpol option = CAL_FORPOL_JAP }
				}
			}
		}
		set_country_flag = JAP_backed_down_pacific
		add_stability = -0.05
		every_state = {
			limit = {
				NOT = { ROOT = { has_country_flag = JAP_demanding_hawaii_flag } }
				is_claimed_by = ROOT
				is_american_pacific_islands = yes
			}
			remove_claim_by = ROOT
		}
		clr_country_flag = JAP_demanding_hawaii_flag
	}
}

#########################
### Crushing Fengtian ###
#########################

country_event = { #Explain to Japan what the Concordia Association is and how it works.
	id = japfeng.1
	title = japfeng.1.t
	desc = japfeng.1.d
	fire_only_once = yes
	is_triggered_only = yes
	picture = GFX_report_event_JAP_kwantung

	option = { #If the bird will not sing...
		log = "[GetLogInfo]: event japfeng.1 option japfeng.1.a"
		name = japfeng.1.a
		FNG = {
			country_event = japfeng.2
		}
	}
}

country_event = { #Explain to Fengtian that Japan is about to come down like a tonne of bricks
	id = japfeng.2
	title = japfeng.2.t
	desc = japfeng.2.d
	fire_only_once = yes
	is_triggered_only = yes
	picture = GFX_report_event_JAP_soldiers

	option = { #Yikes
		log = "[GetLogInfo]: event japfeng.2 option japfeng.2.a"
		name = japfeng.2.a
		FNG = {
			country_event = japfeng.2
		}
	}
}

country_event = { #Japan makes its decision
	id = japfeng.3
	title = japfeng.1.t
	desc = japfeng.1.d
	picture = GFX_report_event_JAP_officer_phone
	fire_only_once = yes
	is_triggered_only = yes

	option = { #Kill it
		log = "[GetLogInfo]: event japfeng.3 option japfeng.3.a"
		name = japfeng.3.a
		ai_chance = {
			base = 40
			modifier = {
				has_government = national_populist
				factor = 2
			}
			modifier = {
				has_completed_focus = JAP_military_centralism
				factor = 5
			}
		}
		FNG = {
			country_event = japfeng.2
		}
		declare_war_on = {
			type = annex_everything
			target = FNG
		}
	}

	option = { #Coax it
		log = "[GetLogInfo]: event japfeng.3 option japfeng.3.b"
		name = japfeng.3.b
		ai_chance = {
			base = 60
			modifier = {
				FNG = {
					market_liberal < 50
				}
				factor = 0.5
			}
			modifier = {
				FNG = {
					market_liberal < 40
				}
				factor = 0.5
			}
			modifier = {
				FNG = {
					market_liberal < 30
				}
				factor = 0.5
			}
			modifier = {
				FNG = {
					market_liberal < 20
				}
				factor = 0.5
			}
		}
	}

	option = { #Wait for it
		log = "[GetLogInfo]: event japfeng.3 option japfeng.3.c"
		name = japfeng.3.c
		ai_chance = { base = 0 }
	}
}

country_event = { #Fengtian: Japan Launches Operation Ichi-Gou
	id = japfeng.4
	title = japfeng.4.t
	desc = japfeng.4.d
	picture = GFX_report_event_CHI_warlord_battle

	is_triggered_only = yes

	immediate = {
		hidden_effect = { FROM = { add_to_faction = ROOT } }
	}

	option = {
		log = "[GetLogInfo]: event japfeng.4 option japfeng.4.a"
		name = japfeng.4.a
		effect_tooltip = { FROM = { add_to_faction = ROOT } }
	}
}

country_event = { #Notify Japan about Prince Kan'in's visit to Fengtian
	id = japfeng.5
	title = japfeng.5.t
	desc = japfeng.5.d
	picture = GFX_report_event_FNG_prince_kanin_kotohito

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfeng.5 option japfeng.5.a"
		name = japfeng.5.a
	}
}

country_event = { #Fengtian cancels the visit over security concerns
	id = japfeng.6
	title = japfeng.6.t
	desc = japfeng.6.d
	picture = GFX_report_event_JAP_motorized

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfeng.6 option japfeng.6.a"
		name = japfeng.6.a
	}
}

country_event = { #War forces the visit to be cancelled
	id = japfeng.7
	title = japfeng.7.t
	desc = japfeng.7.d
	picture = GFX_report_event_FNG_army1

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfeng.7 option japfeng.7.a"
		name = japfeng.7.a
	}
}

country_event = { #Prince returns, mundane visit
	id = japfeng.8
	title = japfeng.8.t
	desc = japfeng.8.d
	picture = GFX_report_event_FNG_ministry

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfeng.8 option japfeng.8.a"
		name = japfeng.8.a
	}
}

country_event = { #Prince returns, very impressed
	id = japfeng.9
	title = japfeng.9.t
	desc = japfeng.9.d
	picture = GFX_report_event_FNG_ministry

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfeng.9 option japfeng.9.a"
		name = japfeng.9.a
		FNG = { country_event = { id = fengtian.1477 days = 32 random_days = 6 } }
	}
}

country_event = { #Failed assassination attempt against the Prince
	id = japfeng.10
	title = japfeng.10.t
	desc = japfeng.10.d
	picture = GFX_report_event_JAP_officer_phone

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfeng.10 option japfeng.10.a"
		name = japfeng.10.a
		FNG = { country_event = { id = fengtian.22 days = 1 } }
	}
	option = {
		log = "[GetLogInfo]: event japfeng.10 option japfeng.10.b"
		name = japfeng.10.b
		add_political_power = -10
	}
}

#####################################
###  Co-Prosperity Sphere Events  ###
#####################################

country_event = { #Setup and monthly checking
	id = japfor.400

	hidden = yes
	is_triggered_only = yes

	trigger = {
		is_faction_leader = yes
	}

	immediate = {
		JAP_recalculate_economic_integration = yes
		country_event = { id = japfor.400 days = 30 }
	}
}

country_event = { #Invited into economic sphere (via decision)
	id = japfor.401
	title = japfor.401.t
	picture = GFX_report_event_JAP_announcement

	desc = {
		text = japfor.401.d.conf
		trigger = { has_country_flag = tokyo_conference_trade_ally }
	}
	desc = {
		text = japfor.401.d.noconf
		trigger = { NOT = { has_country_flag = tokyo_conference_trade_ally } }
	}

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.401 option japfor.401.a"
		name = japfor.401.a #Agree
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				OR = {
					has_government = national_populist
					tag = PHI
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					any_owned_state = { is_claim_or_core_of_ROOT = yes }
				}
			}
			modifier = {
				factor = 1.2
				has_opinion = { target = FROM value > 50 }
			}
			modifier = {
				factor = 1.5
				has_opinion = { target = FROM value > 100 }
			}
			modifier = {
				factor = 1.5
				has_opinion = { target = FROM value > 150 }
			}
			modifier = {
				factor = 0
				OR = {
					AND = {
						tag = BRM
						NOT = {
							has_game_rule = { rule = BRM_forpol option = DEFAULT }
							has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
						}
					}
					AND = {
						tag = HAW
						NOT = {
							has_game_rule = { rule = HAW_forpol option = DEFAULT }
							has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
						}
					}
					AND = {
						tag = INC
						NOT = {
							has_game_rule = { rule = INC_forpol option = DEFAULT }
							has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
						}
					}
					AND = {
						tag = INS
						NOT = {
							has_game_rule = { rule = INS_forpol option = DEFAULT }
							has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
						}
					}
					AND = {
						tag = PHI
						NOT = {
							has_game_rule = { rule = PHI_forpol option = DEFAULT }
							has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
						}
					}
					AND = {
						tag = PRF
						NOT = {
							has_game_rule = { rule = PRF_forpol option = DEFAULT }
							has_game_rule = { rule = PRF_forpol option = PRF_FORPOL_JAP }
						}
					}
					AND = {
						tag = SIA
						NOT = {
							has_game_rule = { rule = SIA_forpol option = DEFAULT }
							has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
						}
					}
					AND = {
						tag = TRM
						NOT = { has_game_rule = { rule = TRM_forpol option = DEFAULT } }
					}
				}
			}
		}
		clr_country_flag = JAP_was_invited_into_sphere
		JAP_add_to_economic_sphere = yes
		if = {
			limit = {
				NOT = {
					is_ally_with = FROM
					is_guaranteed_by = FROM
				}
			}
			effect_tooltip = { FROM = { give_guarantee = ROOT } }
		}
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_approves_of_govt }
			country_event = japfor.402
		}
	}
	option = {
		log = "[GetLogInfo]: event japfor.401 option japfor.401.b"
		name = japfor.401.b #Refuse
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				OR = {
					has_government = national_populist
					tag = PHI
				}
			}
			modifier = {
				factor = 0.2
				tag = SIA
			}
			modifier = {
				factor = 0
				OR = {
					is_ally_with = FROM
					has_country_flag = tokyo_conference_trade_ally
				}
				NOT = {
					AND = {
						tag = BRM
						NOT = {
							has_game_rule = { rule = BRM_forpol option = DEFAULT }
							has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
						}
					}
					AND = {
						tag = HAW
						NOT = {
							has_game_rule = { rule = HAW_forpol option = DEFAULT }
							has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
						}
					}
					AND = {
						tag = INC
						NOT = {
							has_game_rule = { rule = INC_forpol option = DEFAULT }
							has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
						}
					}
					AND = {
						tag = INS
						NOT = {
							has_game_rule = { rule = INS_forpol option = DEFAULT }
							has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
						}
					}
					AND = {
						tag = PHI
						NOT = {
							has_game_rule = { rule = PHI_forpol option = DEFAULT }
							has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
						}
					}
					AND = {
						tag = PRF
						NOT = {
							has_game_rule = { rule = PRF_forpol option = DEFAULT }
							has_game_rule = { rule = PRF_forpol option = PRF_FORPOL_JAP }
						}
					}
					AND = {
						tag = SIA
						NOT = {
							has_game_rule = { rule = SIA_forpol option = DEFAULT }
							has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
						}
					}
					AND = {
						tag = TRM
						NOT = { has_game_rule = { rule = TRM_forpol option = DEFAULT } }
					}
				}
			}
			modifier = {
				factor = 0.8
				has_opinion = { target = FROM value < 0 }
			}
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value < -50 }
			}
			modifier = {
				factor = 0.5
				has_opinion = { target = FROM value < -100 }
			}
			modifier = {
				factor = 0
				OR = {
					AND = {
						tag = BRM
						NOT = {
							has_game_rule = { rule = BRM_forpol option = DEFAULT }
							has_game_rule = { rule = BRM_forpol option = BRM_FORPOL_JAP }
						}
					}
					AND = {
						tag = HAW
						NOT = {
							has_game_rule = { rule = HAW_forpol option = DEFAULT }
							has_game_rule = { rule = HAW_forpol option = HAW_FORPOL_JAP }
						}
					}
					AND = {
						tag = INC
						NOT = {
							has_game_rule = { rule = INC_forpol option = DEFAULT }
							has_game_rule = { rule = INC_forpol option = INC_FORPOL_JAP }
						}
					}
					AND = {
						tag = INS
						NOT = {
							has_game_rule = { rule = INS_forpol option = DEFAULT }
							has_game_rule = { rule = INS_forpol option = INS_FORPOL_JAP }
						}
					}
					AND = {
						tag = PHI
						NOT = {
							has_game_rule = { rule = PHI_forpol option = DEFAULT }
							has_game_rule = { rule = PHI_forpol option = PHI_FORPOL_JAP }
						}
					}
					AND = {
						tag = PRF
						NOT = {
							has_game_rule = { rule = PRF_forpol option = DEFAULT }
							has_game_rule = { rule = PRF_forpol option = PRF_FORPOL_JAP }
						}
					}
					AND = {
						tag = SIA
						NOT = {
							has_game_rule = { rule = SIA_forpol option = DEFAULT }
							has_game_rule = { rule = SIA_forpol option = SIA_FORPOL_JAP }
						}
					}
					AND = {
						tag = TRM
						NOT = { has_game_rule = { rule = TRM_forpol option = DEFAULT } }
					}
				}
			}
		}
		clr_country_flag = JAP_was_invited_into_sphere
		set_country_flag = JAP_refused_sphere_invitation
		FROM = {
			add_opinion_modifier = { target = ROOT modifier = KR_disapproves_of_govt }
			country_event = japfor.403
		}
	}
}

country_event = { #Accepted
	id = japfor.402
	title = japfor.402.t
	desc = japfor.402.d
	picture = GFX_report_event_chinese_japanese_handshake

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.402 option japfor.402.a"
		name = japfor.402.a
		add_political_power = 25
		if = {
			limit = {
				NOT = { is_ally_with = FROM }
				NOT = { has_guaranteed = FROM }
				NOT = { FROM = { tag = FNG } }
			}
			give_guarantee = FROM
		}
		if = {
			limit = { NOT = { has_dynamic_modifier = { modifier = JAP_asian_economic_sphere } } }
			add_dynamic_modifier = { modifier = JAP_asian_economic_sphere }
		}
	}
}

country_event = { #Refused
	id = japfor.403
	title = japfor.403.t
	desc = japfor.403.d
	picture = GFX_report_event_JAP_ambassador_kisaburo

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.403 option japfor.403.a"
		name = japfor.403.a
		add_political_power = -25
		reverse_add_opinion_modifier = { target = FROM modifier = KR_hates_govt }
	}
}

country_event = { #Removing a country from the economic sphere
	id = japfor.404

	hidden = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { has_war_with = JAP }
			set_country_flag = JAP_refused_sphere_invitation
		}
		JAP_remove_from_economic_sphere = yes
	}
}

country_event = { #Japan promotes investment
	id = japfor.405
	title = japfor.405.t
	desc = japfor.405.d
	picture = GFX_report_event_JAP_economy_building

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.405 option japfor.405.a"
		name = japfor.405.a
		add_stability = 0.03
		if = {
			limit = { has_idea = JAP_member_integration_1 }
			set_variable = { JAP_investment_buyout = 250 }
			swap_ideas = {
				remove_idea = JAP_member_integration_1
				add_idea = JAP_member_integration_2
			}
		}
		else_if = {
			limit = { has_idea = JAP_member_integration_2 }
			set_variable = { JAP_investment_buyout = 400 }
			swap_ideas = {
				remove_idea = JAP_member_integration_2
				add_idea = JAP_member_integration_3
			}
		}
		else = {
			set_variable = { JAP_investment_buyout = 100 }
			add_ideas = JAP_member_integration_1
		}
		hidden_effect = {
			country_event = { id = japfor.406 days = 120 random_days = 60 }
		}
	}
}

country_event = { #Japanese investment builds a factory
	id = japfor.406
	title = japfor.406.t
	desc = japfor.406.d
	picture = GFX_report_event_generic_economic_policy

	is_triggered_only = yes

	trigger = {
		has_country_flag = JAP_economic_sphere_member
		country_exists = JAP
		any_owned_state = {
			is_core_of = ROOT
			is_controlled_by = ROOT
			industrial_complex > 0
		}
	}

	option = {
		log = "[GetLogInfo]: event japfor.406 option japfor.406.a"
		name = japfor.406.a
		add_one_random_civilian_factory = yes
	}
}

country_event = { #Japanese economic takeover
	id = japfor.407
	title = japfor.407.t
	desc = japfor.407.d
	picture = GFX_report_event_JAP_announcement

	is_triggered_only = yes

	trigger = {
		has_country_flag = JAP_economic_sphere_member
		country_exists = JAP
		is_subject = no
		has_idea = JAP_member_integration_3
	}

	option = {
		log = "[GetLogInfo]: event japfor.407 option japfor.407.a"
		name = japfor.407.a
		remove_ideas = JAP_member_integration_3
		get_current_government_type = yes
		JAP = {
			set_autonomy = {
				target = ROOT
				autonomy_state = kr_special_autonomous_dependency
				end_wars = no
			}
		}
		restore_previous_government_type = yes
	}
}

country_event = { #country withdraws from alliance
	id = japfor.408
	title = japfor.408.t
	desc = japfor.408.d
	picture = GFX_report_event_JAP_foreign_minister

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.408 option japfor.408.a"
		name = japfor.408.a
		remove_from_faction = FROM
	}
}

country_event = { #country withdraws from economic sphere
	id = japfor.409
	title = japfor.409.t
	desc = japfor.409.d
	picture = GFX_report_event_JAP_foreign_minister_2

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.409 option japfor.409.a"
		name = japfor.409.a
		add_political_power = -25
	}
}

country_event = { #country nationalizes Japanese investments
	id = japfor.410
	title = japfor.410.t
	desc = japfor.410.d
	picture = GFX_report_event_FNG_industry

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.410 option japfor.410.a"
		name = japfor.410.a #Let them go
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.2
				has_war = no
				strength_ratio = { tag = FROM ratio > 2.0 }
			}
		}
		add_political_power = -50
		add_stability = -0.03
	}
	option = {
		log = "[GetLogInfo]: event japfor.410 option japfor.410.b"
		name = japfor.410.b #They have no right!
		trigger = { NOT = { has_capitulated = yes } }
		ai_chance = {
			base = 50
			modifier = {
				factor = 1.5
				strength_ratio = { tag = FROM ratio > 2.0 }
			}
			modifier = {
				factor = 2.0
				strength_ratio = { tag = FROM ratio > 3.0 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 1.5 }
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio < 1.0 }
			}
			modifier = {
				factor = 0
				surrender_progress > 0.20
			}
			modifier = {
				factor = 0
				has_war = yes
				FROM = {
					is_in_faction = yes
					NOT = { is_in_faction_with = ROOT }
				}
			}
		}
		if = {
			limit = {
				is_faction_leader = yes
				is_in_faction_with = FROM
			}
			remove_from_faction = FROM
		}
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
}

country_event = { #sphere member joins another faction
	id = japfor.411
	title = japfor.411.t
	desc = japfor.411.d
	picture = GFX_report_event_generic_conference1

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.411 option japfor.411.a"
		name = japfor.411.a
		event_target:withdraw_country = {
			custom_effect_tooltip = JAP_THIS_withdraws_from_sphere
			hidden_effect = { country_event = japfor.412 }
		}
	}
}

country_event = { #sphere member removed
	id = japfor.412
	title = japfor.412.t
	desc = japfor.412.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			set_country_flag = JAP_refused_sphere_invitation
			country_event = japfor.404
		}
	}

	option = {
		log = "[GetLogInfo]: event japfor.412 option japfor.412.a"
		name = japfor.412.a
		custom_effect_tooltip = JAP_withdraws_from_sphere
		reverse_add_opinion_modifier = { target = JAP modifier = KR_disapproves_of_govt }
	}
}

country_event = { #Japan builds dockyards
	id = japfor.420
	title = japfor.420.t
	desc = japfor.420.d
	picture = GFX_report_event_JAP_economy_building

	is_triggered_only = yes

	trigger = {
		has_country_flag = JAP_economic_sphere_member
		country_exists = JAP
		any_owned_state = {
			is_core_of = ROOT
			is_controlled_by = ROOT
			industrial_complex > 0
			is_coastal = yes
		}
	}

	option = {
		log = "[GetLogInfo]: event japfor.420 option japfor.420.a"
		name = japfor.420.a
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				industrial_complex > 0
				is_coastal = yes
			}
			add_extra_state_shared_building_slots = 3
			add_building_construction = {
				type = dockyard
				level = 3
				instant_build = yes
			}
		}
	}
}

country_event = { #Japan send naval advisors
	id = japfor.421
	title = japfor.421.t
	desc = japfor.421.d
	picture = GFX_report_event_JAP_economy_building

	is_triggered_only = yes

	trigger = {
		has_country_flag = JAP_economic_sphere_member
		country_exists = JAP
		num_of_naval_factories > 0
	}

	option = {
		log = "[GetLogInfo]: event japfor.421 option japfor.421.a"
		name = japfor.421.a
		add_political_power = -20
		add_tech_bonus = {
			name = "Japanese Naval Advisors"
			bonus = 1
			uses = 1
			category = naval_equipment
		}
	}

	option = {
		log = "[GetLogInfo]: event japfor.421 option japfor.421.b"
		name = japfor.421.b
		add_political_power = -20
		add_doctrine_cost_reduction = {
			name = "Japanese Naval Advisors"
			cost_reduction = 0.5
			uses = 1
			category = naval_doctrine
		}
	}

	option = {
		log = "[GetLogInfo]: event japfor.421 option japfor.421.c"
		name = japfor.421.c
		add_political_power = -20
		navy_experience = 30
	}
}

country_event = { #prosperity ships shared
	id = japfor.422
	title = japfor.422.t
	desc = japfor.422.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.422 option japfor.422.a"
		name = japfor.422.a
		add_ideas = JAP_nav_tra_idea
		add_equipment_to_stockpile = {
			type = convoy
			amount = 50
		}
	}
}

country_event = { #Japan wants to take over our dockyards
	id = japfor.423
	title = japfor.423.t
	desc = japfor.423.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.423 option japfor.423.a"
		name = japfor.423.a
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.5
				has_navy_size = { size > 75 }
			}
			modifier = {
				factor = 0
				has_navy_size = { size > 150 }
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				dockyard > 0
			}
			add_to_variable = { JAP_dockyards_under_japanese_control = 1 }
			remove_building = {
				type = dockyard
				level = 1
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				dockyard > 0
			}
			add_to_variable = { JAP_dockyards_under_japanese_control = 1 }
			remove_building = {
				type = dockyard
				level = 1
			}
		}
		random_owned_controlled_state = {
			limit = {
				is_core_of = ROOT
				dockyard > 0
			}
			add_to_variable = { JAP_dockyards_under_japanese_control = 1 }
			remove_building = {
				type = dockyard
				level = 1
			}
		}
	}

	option = {
		log = "[GetLogInfo]: event japfor.423 option japfor.423.b"
		name = japfor.423.b
		trigger = { is_subject = no }
		ai_chance = {
			base = 0
			modifier = {
				add = 50
				has_navy_size = { size > 75 }
			}
			modifier = {
				add = 100
				has_navy_size = { size > 150 }
			}
		}
		FROM = { country_event = japfor.427 }
		set_country_flag = { flag = JAP_refused_dockyards days = 180 value = 1 }
	}
}

country_event = { #Japan return our dockyards
	id = japfor.424
	title = japfor.424.t
	desc = japfor.424.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.424 option japfor.424.a"
		name = japfor.424.a
		every_owned_state = {
			limit = { has_variable = JAP_dockyards_under_japanese_control }
			add_building_construction = {
				type = dockyard
				level = var:JAP_dockyards_under_japanese_control
				instant_build = yes
			}
			clear_variable = JAP_dockyards_under_japanese_control
		}
	}
}

country_event = { #member ask japan for advisor group
	id = japfor.425
	title = japfor.425.t
	desc = japfor.425.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.425 option japfor.425.a"
		name = japfor.425.a
		ai_chance = { base = 40 }
		add_political_power = 10
		FROM = {
			country_event = japfor.421
		}
	}

	option = {
		log = "[GetLogInfo]: event japfor.425 option japfor.425.b"
		name = japfor.425.b
		ai_chance = { base = 10 }
		add_political_power = -10
		FROM = {
			country_event = japfor.426
		}
	}
}

country_event = { #Japan send as to the non-named black hole
	id = japfor.426
	title = japfor.426.t
	desc = japfor.426.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.426 option japfor.426.a"
		name = japfor.426.a
		add_political_power = 20
	}
}

country_event = { #Member refuses to cede control of dockyards
	id = japfor.427
	title = japfor.427.t
	desc = japfor.427.d
	picture = GFX_report_event_JAP_politician

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.427 option japfor.427.a"
		name = japfor.427.a
		add_political_power = 50
		remove_targeted_decision = { decision = JAP_invest_in_sphere_take_dockyards target = FROM }
	}
}

####################################################################
### Australasia/Australia/New Zealand: Japan strangles our trade ###
####################################################################

country_event = { #Japan and the Asian Economic Sphere embargo us!
	id = japfor.450
	title = japfor.450.t
	desc = japfor.450.d
	picture = GFX_report_event_JAP_ultimatum

	is_triggered_only = yes

	option = { #We can endure this
		log = "[GetLogInfo]: event japfor.450 option japfor.450.a"
		name = japfor.450.a
		ai_chance = {
			base = 55
			modifier = {
				NOT = { has_government = national_populist }
				factor = 1.2
			}
			modifier = {
				has_government = paternal_autocrat
				factor = 1.2
			}
		}
		add_ideas = JAP_trade_embargoed
		JAP = {
			country_event = { id = japfor.453 days = 1 }
		}
	}

	option = { #Seek closer economic ties with the Japanese
		log = "[GetLogInfo]: event japfor.450 option japfor.450.c"
		name = japfor.450.c
		trigger = {
			tag = AST
			has_government = paternal_autocrat
			NOT = { has_completed_focus = AST_ties_with_japan }
		}
		ai_chance = { base = 100 }
		set_country_flag = AST_has_ties_with_japan
		add_ideas = JAP_trade_embargoed
		JAP = {
			country_event = { id = japfor.452 days = 1 }
		}
	}
	option = { #Impose our own tarrifs
		log = "[GetLogInfo]: event japfor.450 option japfor.450.b"
		name = japfor.450.b
		ai_chance = {
			base = 45
			modifier = {
				is_in_faction = no
				factor = 0.2
			}
			modifier = {
				has_completed_focus = AST_anderson_doctrine
				factor = 5
			}
			modifier = {
				has_government = paternal_autocrat
				factor = 0
			}
		}
		add_ideas = JAP_trade_embargoed
		JAP = {
			embargo_ROOT = yes
			country_event = { id = japfor.451 days = 1 }
		}
	}
}

country_event = { #Japan and the Asian Economic Sphere embargo us!
	id = japfor.451
	title = japfor.451.t
	desc = japfor.451.d
	picture = GFX_report_event_BEL_Cruiser

	is_triggered_only = yes

	option = { #We can endure this
		log = "[GetLogInfo]: event japfor.451 option japfor.451.a"
		name = japfor.451.a
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				has_war = no
			}
		}
		add_war_support = 0.05
	}
	option = { #War!
		log = "[GetLogInfo]: event japfor.451 option japfor.451.b"
		name = japfor.451.b
		ai_chance = { base = 75 }
		add_war_support = 0.05
		create_wargoal = {
			target = FROM
			type = annex_everything
		}
	}
}

country_event = { #Australia wants closer ties
	id = japfor.452
	title = japfor.452.t
	desc = japfor.452.d
	picture = GFX_report_event_AST_stephenson

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.452 option japfor.452.a"
		name = japfor.452.a
		add_political_power = 50
		custom_effect_tooltip = JAP_AST_joins_sphere
		AST = {
			country_event = austral.133
			clear_embargo_ROOT = yes
			for_each_scope_loop = {
				array = global.asian_economic_sphere
				clear_embargo_PREV = yes
			}
		}
	}
}

country_event = { #Australia/NZ choose to endure the embargo
	id = japfor.453
	title = japfor.453.t
	desc = japfor.453.d

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.453 option japfor.453.a"
		name = japfor.453.a
	}
}

country_event = { #Warning Japan is going to attack you
	id = japfor.454
	title = japfor.454.t
	desc = japfor.454.d
	picture = GFX_report_event_GXC_federalist_troops_rally

	is_triggered_only = yes

	option = {
		log = "[GetLogInfo]: event japfor.454 option japfor.454.a"
		name = japfor.454.a
	}
}

country_event = { #Japan is ramping up pressure against the Indies
	id = japfor.455
	title = japfor.455.t
	desc = japfor.455.d

	picture = GFX_report_event_JAP_mutsu

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Beg the kaiser for help
		log = "[GetLogInfo]: event japfor.455 option japfor.455.a"
		name = japfor.455.a
		trigger = {
			1020 = {
				OR = {
					is_owned_by = DEI
					is_owned_by = HOL
				}
			}
			country_exists = GEA
			is_in_faction = no
			is_subject = no
			GER = {
				is_faction_leader = yes
			}
			var:1020.owner = {
				OR = {
					has_war = no
					all_enemy_country = {
						OR = {
							tag = INS
							has_war_with = GER
						}
					}
				}
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				OR = {
					AND = {
						tag = HOL
						OR = {
							has_game_rule = { rule = HOL_forpol option = HOL_FORPOL_ENT }
							has_game_rule = { rule = HOL_forpol option = HOL_FORPOL_BEL }
						}
					}
					AND = {
						tag = INS
						NOT = { has_game_rule = { rule = INS_forpol option = DEFAULT } }
						NOT = { has_game_rule = { rule = INS_forpol option = INS_FORPOL_GER } }
					}
				}
			}
		}
		GER = {
			country_event = { id = japfor.456 days = 1 }
		}
	}

	option = { #Surely they won't attack?!
		log = "[GetLogInfo]: event japfor.455 option japfor.455.b"
		name = japfor.455.b
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				tag = HOL
				OR = {
					has_game_rule = { rule = HOL_forpol option = HOL_FORPOL_ENT }
					has_game_rule = { rule = HOL_forpol option = HOL_FORPOL_BEL }
				}
			}
		}
		JAP = {
			country_event = { id = japfor.459 days = 1 }
		}
	}
}

country_event = { #Japan is planning an attack against the Dutch East Indies, who ask for our (Germany) help
	id = japfor.456
	title = japfor.456.t
	desc = japfor.456.d

	picture = GFX_report_event_JAP_battleship_kongo

	is_triggered_only = yes
	fire_only_once = yes

	option = { #If the indies fall, it threatens our possessions too, we're here!
		log = "[GetLogInfo]: event japfor.456 option japfor.456.a"
		name = japfor.456.a
		ai_chance = {
			base = 100
			modifier = {
				add = -50
				surrender_progress > 0.20
			}
			modifier = {
				add = 100
				tag = INS
				has_game_rule = { rule = INS_forpol option = INS_FORPOL_GER }
			}
		}
		add_to_faction = FROM
		FROM = {
			country_event = japfor.457
		}
	}

	option = { #Surely they won't attack?!
		log = "[GetLogInfo]: event japfor.456 option japfor.456.b"
		name = japfor.456.b
		ai_chance = {
			base = 0
			modifier = {
				add = 50
				surrender_progress > 0.20
			}
		}
		FROM = {
			country_event = japfor.458
		}
	}
}

country_event = { #Germany helps out...
	id = japfor.457
	title = japfor.457.t
	desc = japfor.457.d

	picture = GFX_report_event_GER_ship

	is_triggered_only = yes
	fire_only_once = yes

	option = { #If the indies fall, it threatens our possessions too, we're here!
		log = "[GetLogInfo]: event japfor.457 option japfor.457.a"
		name = japfor.457.a
		effect_tooltip = {
			GER = {
				add_to_faction = ROOT
			}
		}
		JAP = {
			country_event = { id = japfor.460 days = 1 }
		}
	}
}

country_event = { #Tyfusmoffen willen niet helpen
	id = japfor.458
	title = japfor.458.t
	desc = japfor.458.d

	picture = GFX_report_event_HOL_dutch_army5

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Damn boii
		log = "[GetLogInfo]: event japfor.458 option japfor.458.a"
		name = japfor.458.a
		JAP = {
			country_event = { id = japfor.459 days = 1 }
		}
	}
}

country_event = { #Indonesia is unprotected
	id = japfor.459
	title = japfor.459.t
	desc = japfor.459.d

	picture = GFX_report_event_JAP_rising_sun

	is_triggered_only = yes
	fire_only_once = yes

	option = { #Hell yeah
		log = "[GetLogInfo]: event japfor.459 option japfor.459.a"
		name = japfor.459.a
		if = {
			limit = {
				country_exists = DEI
				country_exists = INS
				NOT = {
					INS = { has_country_flag = JAP_economic_sphere_member }
					INS = { is_in_faction_with = JAP }
				}
			}
			create_wargoal = { type = annex_everything target = DEI }
			create_wargoal = { type = annex_everything target = INS }
		}
		else_if = {
			limit = {
				OR = {
					AND = {
						country_exists = DEI
						country_exists = INS
						OR = {
							INS = { has_country_flag = JAP_economic_sphere_member }
							INS = { is_in_faction_with = JAP }
						}
					}
					1020 = { is_owned_by = DEI }
				}
			}
			create_wargoal = { type = annex_everything target = DEI }
		}
		else = {
			create_wargoal = { type = annex_everything target = 1020.owner }
		}
	}
}

country_event = { #Indonesia resists with German backing
	id = japfor.460
	title = japfor.460.t
	desc = japfor.460.d
	picture = GFX_report_event_GEA_coltroops

	is_triggered_only = yes
	fire_only_once = yes

	option = { #war
		log = "[GetLogInfo]: event japfor.460 option japfor.460.a"
		name = japfor.460.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				has_war = yes
			}
			modifier = {
				factor = 0.1
				FROM = { is_in_faction = yes }
			}
			modifier = {
				factor = 0
				date < 1942.1.1
			}
		}
		if = {
			limit = {
				country_exists = DEI
				country_exists = INS
				NOT = {
					INS = { is_in_faction_with = JAP }
					INS = { has_country_flag = JAP_economic_sphere_member }
				}
			}
			create_wargoal = { type = annex_everything target = DEI }
			create_wargoal = { type = annex_everything target = INS }
		}
		else_if = {
			limit = {
				OR = {
					AND = {
						country_exists = DEI
						country_exists = INS
						OR = {
							INS = { has_country_flag = JAP_economic_sphere_member }
							INS = { is_in_faction_with = JAP }
						}
					}
					1020 = { is_owned_by = DEI }
				}
			}
			create_wargoal = { type = annex_everything target = DEI }
		}
		else = {
			create_wargoal = { type = annex_everything target = var:1020.owner }
		}
	}

	option = { #Don't
		log = "[GetLogInfo]: event japfor.460 option japfor.460.b"
		name = japfor.460.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_war = no
			}
		}
		add_stability = -0.05
	}
}

country_event = { #Japan Pursues Divide and Conquer Strategy
	id = japfor.461
	title = japfor.461.t
	desc = japfor.461.d

	picture = GFX_report_event_JAP_officer_phone

	is_triggered_only = yes
	fire_only_once = yes

	option = { #
		log = "[GetLogInfo]: event japfor.461 option japfor.461.a"
		name = japfor.461.a
		set_temp_variable = { ZCPOP = 5 }
		FNG_ZCPOP = yes
		set_temp_variable = { CAPOP = -5 }
		FNG_CAPOP = yes
	}
}

country_event = { #Japan Pursues Burn to Ash Strategy
	id = japfor.462
	title = japfor.462.t
	desc = japfor.462.d

	picture = GFX_report_event_JAP_troops_gas

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event japfor.462 option japfor.462.a"
		name = japfor.462.a
		set_temp_variable = { ZCPOP = 5 }
		FNG_ZCPOP = yes
		set_temp_variable = { CAPOP = -5 }
		FNG_CAPOP = yes
	}
}

country_event = { #Japan Rewards Our Loyalty
	id = japfor.464
	title = japfor.464.t
	desc = japfor.464.d

	picture = GFX_report_event_JAP_foreign_minister

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event japfor.464 option japfor.464.a"
		name = japfor.464.a
		set_temp_variable = { ZCPOP = -10 }
		FNG_ZCPOP = yes
		set_temp_variable = { CAPOP = 10 }
		FNG_CAPOP = yes
		custom_effect_tooltip = JAP_returns_land
	}
}

### Japan is losing really bad so it's time to speed up the collapse ###

#country_event = { #Event for Japan
#	id = japfor.465
#	title = japfor.465.t
#	desc = japfor.465.d
#
#	picture = GFX_report_event_JAP_troops_gas
#
#	trigger = {
#		tag = JAP
#		has_active_mission = JAP_fading_sun_mission
#		NOT = {
#			has_global_flag = JAP_speed_up_collapse
#		}
#		OR = {
#			alliance_strength_ratio < 0.25
#			alliance_naval_strength_ratio < 0.25
#		}
#	}
#
#	mean_time_to_happen = {
#		days = 10
#	}
#
#	immediate = {
#		set_global_flag = JAP_speed_up_collapse
#	}
#
#	option = {
#		name = japfor.465.a
#		custom_effect_tooltip = JAP_speed_up_collapse_bad_tooltip
#		set_temp_variable = {
#			JAP_mission_timeout = JAP.days_mission_timeout@JAP_fading_sun_mission
#		}
#		divide_temp_variable = {
#			JAP_mission_timeout = -2
#		}
#		round_temp_variable = JAP_mission_timeout
#		add_days_mission_timeout = {
#			mission = JAP_fading_sun_mission
#			days = JAP_mission_timeout
#		}
#		every_enemy_country = {
#			limit = { has_active_mission = JAP_fading_sun_mission }
#			hidden_effect = {
#				add_days_mission_timeout = {
#					mission = JAP_fading_sun_mission
#					days = JAP_mission_timeout
#				}
#				country_event = japfor.466
#			}
#		}
#	}
#}
#
#country_event = { #Event for people at war with Japan
#	id = japfor.466
#	title = japfor.466.t
#	desc = japfor.466.d
#
#	picture = GFX_report_event_JAP_troops_gas
#
#	is_triggered_only = yes
#
#	option = {
#		name = japfor.466.a
#		custom_effect_tooltip = JAP_speed_up_collapse_good_tooltip
#	}
#}

country_event = { # Japan Expands Propaganda Operations; triggered by focus JAP_national_mobilisation_law
	id = japfor.467
	immediate = { log = "[GetLogInfo]: event japfor.467" }
	title = japfor.467.t
	desc = japfor.467.d
	picture = GFX_report_event_JAP_troops_train

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event japfor.467 option japfor.467.a"
		name = japfor.467.a
		set_temp_variable = { ZCPOP = -10 }
		FNG_ZCPOP = yes
		set_temp_variable = { CAPOP = 10 }
		FNG_CAPOP = yes
	}
}

news_event = {
	id = japfor.470
	immediate = { log = "[GetLogInfo]: event japfor.470" }
	title = japfor.470.t
	desc = japfor.470.d
	picture = news_event_NFA_shell_algiers

	major = yes
	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	option = {
		name = "[THIS.worldnews_japan_vs_america]"
	}
}

news_event = { #The Rising Sun
	id = japfor.471
	immediate = { log = "[GetLogInfo]: event japfor.471" }
	title = japfor.471.t

	desc = {
		text = japfor.471.d.default
		trigger = { NOT = { has_global_flag = JAP_defeated_by_china } }
	}
	desc = {
		text = japfor.471.d.defeated_in_china
		trigger = { has_global_flag = JAP_defeated_by_china }
	}

	picture = GFX_news_event_japanese_parade

	major = yes
	fire_for_sender = no
	is_triggered_only = yes

	trigger = {
		wants_world_news = yes
	}

	show_major = {
		regional_asia_news = yes
	}

	option = {
		name = japfor.471.a
		effect_tooltip = {
			add_named_threat = {
				threat = 6
				name = JAP_rising_sun_threat
			}
		}
	}
}

country_event = { #Puppet Military Exercise Event
	id = japfor.550
	immediate = { log = "[GetLogInfo]: event japfor.550" }
	title = japfor.550.t
	desc = japfor.550.d
	picture = GFX_report_event_JAP_officers

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		log = "[GetLogInfo]: event japfor.550 option japfor.550.a"
		name = japfor.550.a
		army_experience = 10
		navy_experience = 10
		add_ideas = JAP_overlord_military_excercise_idea
	}
}

country_event = {
	id = japdom.3050
	immediate = { log = "[GetDateText]: [Root.GetName]: event japdom.3050" }
	title = japdom.3050.t
	desc = japdom.3050.d
	picture = GFX_report_event_KSV_helicopters

	trigger = {
		tag = JAP
		has_global_flag = heli_time_worldwide
	}
	
	fire_only_once = yes	

	option = {
		name = japdom.3050.a
		set_technology = {
			helicopter = 1
		}
		add_equipment_to_stockpile = { type = helicopter_1 amount = 100 }
		hidden_effect = {
			every_country = {
				limit = {
					is_in_faction_with = JAP
				}
			}
			country_event = {
				id = japdom.306
				days = 15
			}
		}
	}
}

country_event = {
	id = japdom.3051
	immediate = { log = "[GetDateText]: [Root.GetName]: event japdom.3051" }
	title = japdom.3051.t
	desc = japdom.3051.d
	picture = GFX_report_event_KSV_helicopters

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = japdom.3051.a
		set_technology = {
			helicopter = 1
		}
		add_equipment_to_stockpile = { type = helicopter_1 amount = 25 }
	}
}	